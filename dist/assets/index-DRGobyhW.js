var DR=e=>{throw TypeError(e)};var rJ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var J1=(e,t,n)=>t.has(e)||DR("Cannot "+n);var Ee=(e,t,n)=>(J1(e,t,"read from private field"),n?n.call(e):t.get(e)),xn=(e,t,n)=>t.has(e)?DR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Vt=(e,t,n,s)=>(J1(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),qn=(e,t,n)=>(J1(e,t,"access private method"),n);var S8e=rJ((K8e,Zv)=>{function sJ(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e_={exports:{}},zp={},t_={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function aJ(){if(IR)return Ht;IR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=f&&K[f]||K["@@iterator"],typeof K=="function"?K:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function y(K,te,H){this.props=K,this.context=te,this.refs=v,this.updater=H||x}y.prototype.isReactComponent={},y.prototype.setState=function(K,te){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,te,"setState")},y.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function N(){}N.prototype=y.prototype;function _(K,te,H){this.props=K,this.context=te,this.refs=v,this.updater=H||x}var S=_.prototype=new N;S.constructor=_,b(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,k={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(K,te,H){var xe,ne={},pe=null,re=null;if(te!=null)for(xe in te.ref!==void 0&&(re=te.ref),te.key!==void 0&&(pe=""+te.key),te)A.call(te,xe)&&!P.hasOwnProperty(xe)&&(ne[xe]=te[xe]);var ce=arguments.length-2;if(ce===1)ne.children=H;else if(1<ce){for(var he=Array(ce),ue=0;ue<ce;ue++)he[ue]=arguments[ue+2];ne.children=he}if(K&&K.defaultProps)for(xe in ce=K.defaultProps,ce)ne[xe]===void 0&&(ne[xe]=ce[xe]);return{$$typeof:e,type:K,key:pe,ref:re,props:ne,_owner:k.current}}function $(K,te){return{$$typeof:e,type:K.type,key:te,ref:K.ref,props:K.props,_owner:K._owner}}function D(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function M(K){var te={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(H){return te[H]})}var B=/\/+/g;function J(K,te){return typeof K=="object"&&K!==null&&K.key!=null?M(""+K.key):te.toString(36)}function Y(K,te,H,xe,ne){var pe=typeof K;(pe==="undefined"||pe==="boolean")&&(K=null);var re=!1;if(K===null)re=!0;else switch(pe){case"string":case"number":re=!0;break;case"object":switch(K.$$typeof){case e:case t:re=!0}}if(re)return re=K,ne=ne(re),K=xe===""?"."+J(re,0):xe,E(ne)?(H="",K!=null&&(H=K.replace(B,"$&/")+"/"),Y(ne,te,H,"",function(ue){return ue})):ne!=null&&(D(ne)&&(ne=$(ne,H+(!ne.key||re&&re.key===ne.key?"":(""+ne.key).replace(B,"$&/")+"/")+K)),te.push(ne)),1;if(re=0,xe=xe===""?".":xe+":",E(K))for(var ce=0;ce<K.length;ce++){pe=K[ce];var he=xe+J(pe,ce);re+=Y(pe,te,H,he,ne)}else if(he=p(K),typeof he=="function")for(K=he.call(K),ce=0;!(pe=K.next()).done;)pe=pe.value,he=xe+J(pe,ce++),re+=Y(pe,te,H,he,ne);else if(pe==="object")throw te=String(K),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return re}function W(K,te,H){if(K==null)return K;var xe=[],ne=0;return Y(K,xe,"","",function(pe){return te.call(H,pe,ne++)}),xe}function se(K){if(K._status===-1){var te=K._result;te=te(),te.then(function(H){(K._status===0||K._status===-1)&&(K._status=1,K._result=H)},function(H){(K._status===0||K._status===-1)&&(K._status=2,K._result=H)}),K._status===-1&&(K._status=0,K._result=te)}if(K._status===1)return K._result.default;throw K._result}var q={current:null},V={transition:null},U={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:V,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:W,forEach:function(K,te,H){W(K,function(){te.apply(this,arguments)},H)},count:function(K){var te=0;return W(K,function(){te++}),te},toArray:function(K){return W(K,function(te){return te})||[]},only:function(K){if(!D(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ht.Component=y,Ht.Fragment=n,Ht.Profiler=a,Ht.PureComponent=_,Ht.StrictMode=s,Ht.Suspense=c,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ht.act=F,Ht.cloneElement=function(K,te,H){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var xe=b({},K.props),ne=K.key,pe=K.ref,re=K._owner;if(te!=null){if(te.ref!==void 0&&(pe=te.ref,re=k.current),te.key!==void 0&&(ne=""+te.key),K.type&&K.type.defaultProps)var ce=K.type.defaultProps;for(he in te)A.call(te,he)&&!P.hasOwnProperty(he)&&(xe[he]=te[he]===void 0&&ce!==void 0?ce[he]:te[he])}var he=arguments.length-2;if(he===1)xe.children=H;else if(1<he){ce=Array(he);for(var ue=0;ue<he;ue++)ce[ue]=arguments[ue+2];xe.children=ce}return{$$typeof:e,type:K.type,key:ne,ref:pe,props:xe,_owner:re}},Ht.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},Ht.createElement=R,Ht.createFactory=function(K){var te=R.bind(null,K);return te.type=K,te},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(K){return{$$typeof:l,render:K}},Ht.isValidElement=D,Ht.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:se}},Ht.memo=function(K,te){return{$$typeof:u,type:K,compare:te===void 0?null:te}},Ht.startTransition=function(K){var te=V.transition;V.transition={};try{K()}finally{V.transition=te}},Ht.unstable_act=F,Ht.useCallback=function(K,te){return q.current.useCallback(K,te)},Ht.useContext=function(K){return q.current.useContext(K)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(K){return q.current.useDeferredValue(K)},Ht.useEffect=function(K,te){return q.current.useEffect(K,te)},Ht.useId=function(){return q.current.useId()},Ht.useImperativeHandle=function(K,te,H){return q.current.useImperativeHandle(K,te,H)},Ht.useInsertionEffect=function(K,te){return q.current.useInsertionEffect(K,te)},Ht.useLayoutEffect=function(K,te){return q.current.useLayoutEffect(K,te)},Ht.useMemo=function(K,te){return q.current.useMemo(K,te)},Ht.useReducer=function(K,te,H){return q.current.useReducer(K,te,H)},Ht.useRef=function(K){return q.current.useRef(K)},Ht.useState=function(K){return q.current.useState(K)},Ht.useSyncExternalStore=function(K,te,H){return q.current.useSyncExternalStore(K,te,H)},Ht.useTransition=function(){return q.current.useTransition()},Ht.version="18.3.1",Ht}var LR;function sO(){return LR||(LR=1,t_.exports=aJ()),t_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function iJ(){if(FR)return zp;FR=1;var e=sO(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,f={},p=null,x=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)s.call(c,h)&&!i.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:t,type:l,key:p,ref:x,props:f,_owner:a.current}}return zp.Fragment=n,zp.jsx=o,zp.jsxs=o,zp}var zR;function oJ(){return zR||(zR=1,e_.exports=iJ()),e_.exports}var r=oJ(),j=sO();const oe=sn(j),aO=sJ({__proto__:null,default:oe},[j]);var Hy={},n_={exports:{}},Xs={},r_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R;function lJ(){return $R||($R=1,(function(e){function t(V,U){var F=V.length;V.push(U);e:for(;0<F;){var K=F-1>>>1,te=V[K];if(0<a(te,U))V[K]=U,V[F]=te,F=K;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var U=V[0],F=V.pop();if(F!==U){V[0]=F;e:for(var K=0,te=V.length,H=te>>>1;K<H;){var xe=2*(K+1)-1,ne=V[xe],pe=xe+1,re=V[pe];if(0>a(ne,F))pe<te&&0>a(re,ne)?(V[K]=re,V[pe]=F,K=pe):(V[K]=ne,V[xe]=F,K=xe);else if(pe<te&&0>a(re,F))V[K]=re,V[pe]=F,K=pe;else break e}}return U}function a(V,U){var F=V.sortIndex-U.sortIndex;return F!==0?F:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,p=3,x=!1,b=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=V)s(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function E(V){if(v=!1,S(V),!b)if(n(c)!==null)b=!0,se(A);else{var U=n(u);U!==null&&q(E,U.startTime-V)}}function A(V,U){b=!1,v&&(v=!1,N(R),R=-1),x=!0;var F=p;try{for(S(U),f=n(c);f!==null&&(!(f.expirationTime>U)||V&&!M());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var te=K(f.expirationTime<=U);U=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&s(c),S(U)}else s(c);f=n(c)}if(f!==null)var H=!0;else{var xe=n(u);xe!==null&&q(E,xe.startTime-U),H=!1}return H}finally{f=null,p=F,x=!1}}var k=!1,P=null,R=-1,$=5,D=-1;function M(){return!(e.unstable_now()-D<$)}function B(){if(P!==null){var V=e.unstable_now();D=V;var U=!0;try{U=P(!0,V)}finally{U?J():(k=!1,P=null)}}else k=!1}var J;if(typeof _=="function")J=function(){_(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,W=Y.port2;Y.port1.onmessage=B,J=function(){W.postMessage(null)}}else J=function(){y(B,0)};function se(V){P=V,k||(k=!0,J())}function q(V,U){R=y(function(){V(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,se(A))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var F=p;p=U;try{return V()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=p;p=V;try{return U()}finally{p=F}},e.unstable_scheduleCallback=function(V,U,F){var K=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,V={id:h++,callback:U,priorityLevel:V,startTime:F,expirationTime:te,sortIndex:-1},F>K?(V.sortIndex=F,t(u,V),n(c)===null&&V===n(u)&&(v?(N(R),R=-1):v=!0,q(E,F-K))):(V.sortIndex=te,t(c,V),b||x||(b=!0,se(A))),V},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(V){var U=p;return function(){var F=p;p=U;try{return V.apply(this,arguments)}finally{p=F}}}})(s_)),s_}var BR;function cJ(){return BR||(BR=1,r_.exports=lJ()),r_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function uJ(){if(VR)return Xs;VR=1;var e=sO(),t=cJ();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,g=1;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(a[d]=m,d=0;d<m.length;d++)s.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function x(d,m,g,C){if(g!==null&&g.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return C?!1:g!==null?!g.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,m,g,C){if(m===null||typeof m>"u"||x(d,m,g,C))return!0;if(C)return!1;if(g!==null)switch(g.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(d,m,g,C,T,L,G){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=C,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=d,this.type=m,this.sanitizeURL=L,this.removeEmptyString=G}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){y[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];y[m]=new v(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){y[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){y[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){y[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){y[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){y[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){y[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){y[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function _(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(N,_);y[m]=new v(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(N,_);y[m]=new v(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(N,_);y[m]=new v(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function S(d,m,g,C){var T=y.hasOwnProperty(m)?y[m]:null;(T!==null?T.type!==0:C||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(b(m,g,T,C)&&(g=null),C||T===null?p(m)&&(g===null?d.removeAttribute(m):d.setAttribute(m,""+g)):T.mustUseProperty?d[T.propertyName]=g===null?T.type===3?!1:"":g:(m=T.attributeName,C=T.attributeNamespace,g===null?d.removeAttribute(m):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,C?d.setAttributeNS(C,m,g):d.setAttribute(m,g))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),V=Symbol.iterator;function U(d){return d===null||typeof d!="object"?null:(d=V&&d[V]||d["@@iterator"],typeof d=="function"?d:null)}var F=Object.assign,K;function te(d){if(K===void 0)try{throw Error()}catch(g){var m=g.stack.trim().match(/\n( *(at )?)/);K=m&&m[1]||""}return`
`+K+d}var H=!1;function xe(d,m){if(!d||H)return"";H=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(we){var C=we}Reflect.construct(d,[],m)}else{try{m.call()}catch(we){C=we}d.call(m.prototype)}else{try{throw Error()}catch(we){C=we}d()}}catch(we){if(we&&C&&typeof we.stack=="string"){for(var T=we.stack.split(`
`),L=C.stack.split(`
`),G=T.length-1,ie=L.length-1;1<=G&&0<=ie&&T[G]!==L[ie];)ie--;for(;1<=G&&0<=ie;G--,ie--)if(T[G]!==L[ie]){if(G!==1||ie!==1)do if(G--,ie--,0>ie||T[G]!==L[ie]){var de=`
`+T[G].replace(" at new "," at ");return d.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",d.displayName)),de}while(1<=G&&0<=ie);break}}}finally{H=!1,Error.prepareStackTrace=g}return(d=d?d.displayName||d.name:"")?te(d):""}function ne(d){switch(d.tag){case 5:return te(d.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return d=xe(d.type,!1),d;case 11:return d=xe(d.type.render,!1),d;case 1:return d=xe(d.type,!0),d;default:return""}}function pe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case P:return"Fragment";case k:return"Portal";case $:return"Profiler";case R:return"StrictMode";case J:return"Suspense";case Y:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case M:return(d.displayName||"Context")+".Consumer";case D:return(d._context.displayName||"Context")+".Provider";case B:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case W:return m=d.displayName||null,m!==null?m:pe(d.type)||"Memo";case se:m=d._payload,d=d._init;try{return pe(d(m))}catch{}}return null}function re(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(m);case 8:return m===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ce(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ue(d){var m=he(d)?"checked":"value",g=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),C=""+d[m];if(!d.hasOwnProperty(m)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,L=g.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return T.call(this)},set:function(G){C=""+G,L.call(this,G)}}),Object.defineProperty(d,m,{enumerable:g.enumerable}),{getValue:function(){return C},setValue:function(G){C=""+G},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Oe(d){d._valueTracker||(d._valueTracker=ue(d))}function ge(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var g=m.getValue(),C="";return d&&(C=he(d)?d.checked?"true":"false":d.value),d=C,d!==g?(m.setValue(d),!0):!1}function qe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ce(d,m){var g=m.checked;return F({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??d._wrapperState.initialChecked})}function yt(d,m){var g=m.defaultValue==null?"":m.defaultValue,C=m.checked!=null?m.checked:m.defaultChecked;g=ce(m.value!=null?m.value:g),d._wrapperState={initialChecked:C,initialValue:g,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function st(d,m){m=m.checked,m!=null&&S(d,"checked",m,!1)}function xt(d,m){st(d,m);var g=ce(m.value),C=m.type;if(g!=null)C==="number"?(g===0&&d.value===""||d.value!=g)&&(d.value=""+g):d.value!==""+g&&(d.value=""+g);else if(C==="submit"||C==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?qt(d,m.type,g):m.hasOwnProperty("defaultValue")&&qt(d,m.type,ce(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function Jt(d,m,g){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var C=m.type;if(!(C!=="submit"&&C!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,g||m===d.value||(d.value=m),d.defaultValue=m}g=d.name,g!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,g!==""&&(d.name=g)}function qt(d,m,g){(m!=="number"||qe(d.ownerDocument)!==d)&&(g==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+g&&(d.defaultValue=""+g))}var zn=Array.isArray;function Yt(d,m,g,C){if(d=d.options,m){m={};for(var T=0;T<g.length;T++)m["$"+g[T]]=!0;for(g=0;g<d.length;g++)T=m.hasOwnProperty("$"+d[g].value),d[g].selected!==T&&(d[g].selected=T),T&&C&&(d[g].defaultSelected=!0)}else{for(g=""+ce(g),m=null,T=0;T<d.length;T++){if(d[T].value===g){d[T].selected=!0,C&&(d[T].defaultSelected=!0);return}m!==null||d[T].disabled||(m=d[T])}m!==null&&(m.selected=!0)}}function mr(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function io(d,m){var g=m.value;if(g==null){if(g=m.children,m=m.defaultValue,g!=null){if(m!=null)throw Error(n(92));if(zn(g)){if(1<g.length)throw Error(n(93));g=g[0]}m=g}m==null&&(m=""),g=m}d._wrapperState={initialValue:ce(g)}}function cl(d,m){var g=ce(m.value),C=ce(m.defaultValue);g!=null&&(g=""+g,g!==d.value&&(d.value=g),m.defaultValue==null&&d.defaultValue!==g&&(d.defaultValue=g)),C!=null&&(d.defaultValue=""+C)}function oo(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Ne(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Ne(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var wt,Tt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,g,C,T){MSApp.execUnsafeLocalFunction(function(){return d(m,g,C,T)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=wt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function pt(d,m){if(m){var g=d.firstChild;if(g&&g===d.lastChild&&g.nodeType===3){g.nodeValue=m;return}}d.textContent=m}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$a=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(d){$a.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),Cr[m]=Cr[d]})});function ns(d,m,g){return m==null||typeof m=="boolean"||m===""?"":g||typeof m!="number"||m===0||Cr.hasOwnProperty(d)&&Cr[d]?(""+m).trim():m+"px"}function Ba(d,m){d=d.style;for(var g in m)if(m.hasOwnProperty(g)){var C=g.indexOf("--")===0,T=ns(g,m[g],C);g==="float"&&(g="cssFloat"),C?d.setProperty(g,T):d[g]=T}}var Va=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(d,m){if(m){if(Va[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Es(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function dc(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var zm=null,Ua=null,ha=null;function ah(d){if(d=Qu(d)){if(typeof zm!="function")throw Error(n(280));var m=d.stateNode;m&&(m=jh(m),zm(d.stateNode,d.type,m))}}function _u(d){Ua?ha?ha.push(d):ha=[d]:Ua=d}function Je(){if(Ua){var d=Ua,m=ha;if(ha=Ua=null,ah(d),m)for(d=0;d<m.length;d++)ah(m[d])}}function jg(d,m){return d(m)}function Ng(){}var fa=!1;function As(d,m,g){if(fa)return d(m,g);fa=!0;try{return jg(d,m,g)}finally{fa=!1,(Ua!==null||ha!==null)&&(Ng(),Je())}}function Rt(d,m){var g=d.stateNode;if(g===null)return null;var C=jh(g);if(C===null)return null;g=C[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(d=d.type,C=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!C;break e;default:d=!1}if(d)return null;if(g&&typeof g!="function")throw Error(n(231,m,typeof g));return g}var Su=!1;if(l)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Su=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Su=!1}function Cu(d,m,g,C,T,L,G,ie,de){var we=Array.prototype.slice.call(arguments,3);try{m.apply(g,we)}catch(Re){this.onError(Re)}}var ku=!1,ul=null,br=!1,ma=null,Wa={onError:function(d){ku=!0,ul=d}};function wr(d,m,g,C,T,L,G,ie,de){ku=!1,ul=null,Cu.apply(Wa,arguments)}function pa(d,m,g,C,T,L,G,ie,de){if(wr.apply(this,arguments),ku){if(ku){var we=ul;ku=!1,ul=null}else throw Error(n(198));br||(br=!0,ma=we)}}function rs(d){var m=d,g=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(g=m.return),d=m.return;while(d)}return m.tag===3?g:null}function lo(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function _g(d){if(rs(d)!==d)throw Error(n(188))}function vN(d){var m=d.alternate;if(!m){if(m=rs(d),m===null)throw Error(n(188));return m!==d?null:d}for(var g=d,C=m;;){var T=g.return;if(T===null)break;var L=T.alternate;if(L===null){if(C=T.return,C!==null){g=C;continue}break}if(T.child===L.child){for(L=T.child;L;){if(L===g)return _g(T),d;if(L===C)return _g(T),m;L=L.sibling}throw Error(n(188))}if(g.return!==C.return)g=T,C=L;else{for(var G=!1,ie=T.child;ie;){if(ie===g){G=!0,g=T,C=L;break}if(ie===C){G=!0,C=T,g=L;break}ie=ie.sibling}if(!G){for(ie=L.child;ie;){if(ie===g){G=!0,g=L,C=T;break}if(ie===C){G=!0,C=L,g=T;break}ie=ie.sibling}if(!G)throw Error(n(189))}}if(g.alternate!==C)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?d:m}function hc(d){return d=vN(d),d!==null?$m(d):null}function $m(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=$m(d);if(m!==null)return m;d=d.sibling}return null}var Sg=t.unstable_scheduleCallback,dl=t.unstable_cancelCallback,Eu=t.unstable_shouldYield,Cg=t.unstable_requestPaint,ir=t.unstable_now,bN=t.unstable_getCurrentPriorityLevel,Bm=t.unstable_ImmediatePriority,er=t.unstable_UserBlockingPriority,fc=t.unstable_NormalPriority,wN=t.unstable_LowPriority,Vm=t.unstable_IdlePriority,Pu=null,qa=null;function jN(d){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(Pu,d,void 0,(d.current.flags&128)===128)}catch{}}var xa=Math.clz32?Math.clz32:SN,NN=Math.log,_N=Math.LN2;function SN(d){return d>>>=0,d===0?32:31-(NN(d)/_N|0)|0}var Au=64,Ou=4194304;function Tu(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function ih(d,m){var g=d.pendingLanes;if(g===0)return 0;var C=0,T=d.suspendedLanes,L=d.pingedLanes,G=g&268435455;if(G!==0){var ie=G&~T;ie!==0?C=Tu(ie):(L&=G,L!==0&&(C=Tu(L)))}else G=g&~T,G!==0?C=Tu(G):L!==0&&(C=Tu(L));if(C===0)return 0;if(m!==0&&m!==C&&(m&T)===0&&(T=C&-C,L=m&-m,T>=L||T===16&&(L&4194240)!==0))return m;if((C&4)!==0&&(C|=g&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=C;0<m;)g=31-xa(m),T=1<<g,C|=d[g],m&=~T;return C}function CN(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kg(d,m){for(var g=d.suspendedLanes,C=d.pingedLanes,T=d.expirationTimes,L=d.pendingLanes;0<L;){var G=31-xa(L),ie=1<<G,de=T[G];de===-1?((ie&g)===0||(ie&C)!==0)&&(T[G]=CN(ie,m)):de<=m&&(d.expiredLanes|=ie),L&=~ie}}function Um(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function mc(){var d=Au;return Au<<=1,(Au&4194240)===0&&(Au=64),d}function pc(d){for(var m=[],g=0;31>g;g++)m.push(d);return m}function xc(d,m,g){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-xa(m),d[m]=g}function Mu(d,m){var g=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var C=d.eventTimes;for(d=d.expirationTimes;0<g;){var T=31-xa(g),L=1<<T;m[T]=0,C[T]=-1,d[T]=-1,g&=~L}}function ga(d,m){var g=d.entangledLanes|=m;for(d=d.entanglements;g;){var C=31-xa(g),T=1<<C;T&m|d[C]&m&&(d[C]|=m),g&=~T}}var hn=0;function Eg(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Pg,Wm,Ag,Og,Tg,qm=!1,gc=[],co=null,bi=null,uo=null,Ru=new Map,Du=new Map,ho=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(d,m){switch(d){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":Ru.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(m.pointerId)}}function Iu(d,m,g,C,T,L){return d===null||d.nativeEvent!==L?(d={blockedOn:m,domEventName:g,eventSystemFlags:C,nativeEvent:L,targetContainers:[T]},m!==null&&(m=Qu(m),m!==null&&Wm(m)),d):(d.eventSystemFlags|=C,m=d.targetContainers,T!==null&&m.indexOf(T)===-1&&m.push(T),d)}function EN(d,m,g,C,T){switch(m){case"focusin":return co=Iu(co,d,m,g,C,T),!0;case"dragenter":return bi=Iu(bi,d,m,g,C,T),!0;case"mouseover":return uo=Iu(uo,d,m,g,C,T),!0;case"pointerover":var L=T.pointerId;return Ru.set(L,Iu(Ru.get(L)||null,d,m,g,C,T)),!0;case"gotpointercapture":return L=T.pointerId,Du.set(L,Iu(Du.get(L)||null,d,m,g,C,T)),!0}return!1}function Rg(d){var m=ml(d.target);if(m!==null){var g=rs(m);if(g!==null){if(m=g.tag,m===13){if(m=lo(g),m!==null){d.blockedOn=m,Tg(d.priority,function(){Ag(g)});return}}else if(m===3&&g.stateNode.current.memoizedState.isDehydrated){d.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}d.blockedOn=null}function oh(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var g=Ym(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(g===null){g=d.nativeEvent;var C=new g.constructor(g.type,g);Ps=C,g.target.dispatchEvent(C),Ps=null}else return m=Qu(g),m!==null&&Wm(m),d.blockedOn=g,!1;m.shift()}return!0}function Dg(d,m,g){oh(d)&&g.delete(m)}function PN(){qm=!1,co!==null&&oh(co)&&(co=null),bi!==null&&oh(bi)&&(bi=null),uo!==null&&oh(uo)&&(uo=null),Ru.forEach(Dg),Du.forEach(Dg)}function Lu(d,m){d.blockedOn===m&&(d.blockedOn=null,qm||(qm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PN)))}function Fu(d){function m(T){return Lu(T,d)}if(0<gc.length){Lu(gc[0],d);for(var g=1;g<gc.length;g++){var C=gc[g];C.blockedOn===d&&(C.blockedOn=null)}}for(co!==null&&Lu(co,d),bi!==null&&Lu(bi,d),uo!==null&&Lu(uo,d),Ru.forEach(m),Du.forEach(m),g=0;g<ho.length;g++)C=ho[g],C.blockedOn===d&&(C.blockedOn=null);for(;0<ho.length&&(g=ho[0],g.blockedOn===null);)Rg(g),g.blockedOn===null&&ho.shift()}var yc=E.ReactCurrentBatchConfig,vc=!0;function Hm(d,m,g,C){var T=hn,L=yc.transition;yc.transition=null;try{hn=1,lh(d,m,g,C)}finally{hn=T,yc.transition=L}}function AN(d,m,g,C){var T=hn,L=yc.transition;yc.transition=null;try{hn=4,lh(d,m,g,C)}finally{hn=T,yc.transition=L}}function lh(d,m,g,C){if(vc){var T=Ym(d,m,g,C);if(T===null)vh(d,m,C,zu,g),Mg(d,C);else if(EN(T,d,m,g,C))C.stopPropagation();else if(Mg(d,C),m&4&&-1<kN.indexOf(d)){for(;T!==null;){var L=Qu(T);if(L!==null&&Pg(L),L=Ym(d,m,g,C),L===null&&vh(d,m,C,zu,g),L===T)break;T=L}T!==null&&C.stopPropagation()}else vh(d,m,C,null,g)}}var zu=null;function Ym(d,m,g,C){if(zu=null,d=dc(C),d=ml(d),d!==null)if(m=rs(d),m===null)d=null;else if(g=m.tag,g===13){if(d=lo(m),d!==null)return d;d=null}else if(g===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return zu=d,null}function Ig(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bN()){case Bm:return 1;case er:return 4;case fc:case wN:return 16;case Vm:return 536870912;default:return 16}default:return 16}}var fo=null,Gm=null,$u=null;function Mn(){if($u)return $u;var d,m=Gm,g=m.length,C,T="value"in fo?fo.value:fo.textContent,L=T.length;for(d=0;d<g&&m[d]===T[d];d++);var G=g-d;for(C=1;C<=G&&m[g-C]===T[L-C];C++);return $u=T.slice(d,1<C?1-C:void 0)}function mo(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function po(){return!0}function Lg(){return!1}function ms(d){function m(g,C,T,L,G){this._reactName=g,this._targetInst=T,this.type=C,this.nativeEvent=L,this.target=G,this.currentTarget=null;for(var ie in d)d.hasOwnProperty(ie)&&(g=d[ie],this[ie]=g?g(L):L[ie]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?po:Lg,this.isPropagationStopped=Lg,this}return F(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),m}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=ms(bc),xo=F({},bc,{view:0,detail:0}),go=ms(xo),Bu,Xm,Os,ch=F({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Os&&(Os&&d.type==="mousemove"?(Bu=d.screenX-Os.screenX,Xm=d.screenY-Os.screenY):Xm=Bu=0,Os=d),Bu)},movementY:function(d){return"movementY"in d?d.movementY:Xm}}),uh=ms(ch),ON=F({},ch,{dataTransfer:0}),TN=ms(ON),MN=F({},xo,{relatedTarget:0}),wc=ms(MN),Qm=F({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),RN=ms(Qm),DN=F({},bc,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),IN=ms(DN),Fg=F({},bc,{data:0}),zg=ms(Fg),LN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $N(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=zN[d])?!!m[d]:!1}function dh(){return $N}var BN=F({},xo,{key:function(d){if(d.key){var m=LN[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=mo(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?FN[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(d){return d.type==="keypress"?mo(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?mo(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),jc=ms(BN),VN=F({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=ms(VN),UN=F({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),Zm=ms(UN),WN=F({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),qN=ms(WN),HN=F({},ch,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),YN=ms(HN),$g=[9,13,27,32],Jm=l&&"CompositionEvent"in window,Nc=null;l&&"documentMode"in document&&(Nc=document.documentMode);var Rn=l&&"TextEvent"in window&&!Nc,Bg=l&&(!Jm||Nc&&8<Nc&&11>=Nc),Vg=" ",ep=!1;function Ug(d,m){switch(d){case"keyup":return $g.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var _c=!1;function Vu(d,m){switch(d){case"compositionend":return Wg(m);case"keypress":return m.which!==32?null:(ep=!0,Vg);case"textInput":return d=m.data,d===Vg&&ep?null:d;default:return null}}function GN(d,m){if(_c)return d==="compositionend"||!Jm&&Ug(d,m)?(d=Mn(),$u=Gm=fo=null,_c=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Bg&&m.locale!=="ko"?null:m.data;default:return null}}var KN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!KN[d.type]:m==="textarea"}function Uu(d,m,g,C){_u(C),m=ji(m,"onChange"),0<m.length&&(g=new Km("onChange","change",null,g,C),d.push({event:g,listeners:m}))}var yo=null,hl=null;function XN(d){iy(d,0)}function Wu(d){var m=jo(d);if(ge(m))return d}function QN(d,m){if(d==="change")return m}var fh=!1;if(l){var qu;if(l){var Hu="oninput"in document;if(!Hu){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Hu=typeof Hg.oninput=="function"}qu=Hu}else qu=!1;fh=qu&&(!document.documentMode||9<document.documentMode)}function Yg(){yo&&(yo.detachEvent("onpropertychange",Gg),hl=yo=null)}function Gg(d){if(d.propertyName==="value"&&Wu(hl)){var m=[];Uu(m,hl,d,dc(d)),As(XN,m)}}function ZN(d,m,g){d==="focusin"?(Yg(),yo=m,hl=g,yo.attachEvent("onpropertychange",Gg)):d==="focusout"&&Yg()}function JN(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Wu(hl)}function e1(d,m){if(d==="click")return Wu(m)}function t1(d,m){if(d==="input"||d==="change")return Wu(m)}function n1(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ya=typeof Object.is=="function"?Object.is:n1;function Yu(d,m){if(ya(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var g=Object.keys(d),C=Object.keys(m);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var T=g[C];if(!c.call(m,T)||!ya(d[T],m[T]))return!1}return!0}function tp(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Kg(d,m){var g=tp(d);d=0;for(var C;g;){if(g.nodeType===3){if(C=d+g.textContent.length,d<=m&&C>=m)return{node:g,offset:m-d};d=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=tp(g)}}function Xg(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Xg(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function qs(){for(var d=window,m=qe();m instanceof d.HTMLIFrameElement;){try{var g=typeof m.contentWindow.location.href=="string"}catch{g=!1}if(g)d=m.contentWindow;else break;m=qe(d.document)}return m}function wi(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Qg(d){var m=qs(),g=d.focusedElem,C=d.selectionRange;if(m!==g&&g&&g.ownerDocument&&Xg(g.ownerDocument.documentElement,g)){if(C!==null&&wi(g)){if(m=C.start,d=C.end,d===void 0&&(d=m),"selectionStart"in g)g.selectionStart=m,g.selectionEnd=Math.min(d,g.value.length);else if(d=(m=g.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var T=g.textContent.length,L=Math.min(C.start,T);C=C.end===void 0?L:Math.min(C.end,T),!d.extend&&L>C&&(T=C,C=L,L=T),T=Kg(g,L);var G=Kg(g,C);T&&G&&(d.rangeCount!==1||d.anchorNode!==T.node||d.anchorOffset!==T.offset||d.focusNode!==G.node||d.focusOffset!==G.offset)&&(m=m.createRange(),m.setStart(T.node,T.offset),d.removeAllRanges(),L>C?(d.addRange(m),d.extend(G.node,G.offset)):(m.setEnd(G.node,G.offset),d.addRange(m)))}}for(m=[],d=g;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<m.length;g++)d=m[g],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var r1=l&&"documentMode"in document&&11>=document.documentMode,fl=null,mh=null,Gu=null,np=!1;function rp(d,m,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;np||fl==null||fl!==qe(C)||(C=fl,"selectionStart"in C&&wi(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Gu&&Yu(Gu,C)||(Gu=C,C=ji(mh,"onSelect"),0<C.length&&(m=new Km("onSelect","select",null,m,g),d.push({event:m,listeners:C}),m.target=fl)))}function ph(d,m){var g={};return g[d.toLowerCase()]=m.toLowerCase(),g["Webkit"+d]="webkit"+m,g["Moz"+d]="moz"+m,g}var Sc={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},sp={},Zg={};l&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function xh(d){if(sp[d])return sp[d];if(!Sc[d])return d;var m=Sc[d],g;for(g in m)if(m.hasOwnProperty(g)&&g in Zg)return sp[d]=m[g];return d}var Jg=xh("animationend"),ey=xh("animationiteration"),ty=xh("animationstart"),ny=xh("transitionend"),ry=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(d,m){ry.set(d,m),i(m,[d])}for(var ap=0;ap<sy.length;ap++){var ip=sy[ap],gh=ip.toLowerCase(),s1=ip[0].toUpperCase()+ip.slice(1);vo(gh,"on"+s1)}vo(Jg,"onAnimationEnd"),vo(ey,"onAnimationIteration"),vo(ty,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(ny,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ku));function ay(d,m,g){var C=d.type||"unknown-event";d.currentTarget=g,pa(C,m,void 0,d),d.currentTarget=null}function iy(d,m){m=(m&4)!==0;for(var g=0;g<d.length;g++){var C=d[g],T=C.event;C=C.listeners;e:{var L=void 0;if(m)for(var G=C.length-1;0<=G;G--){var ie=C[G],de=ie.instance,we=ie.currentTarget;if(ie=ie.listener,de!==L&&T.isPropagationStopped())break e;ay(T,ie,we),L=de}else for(G=0;G<C.length;G++){if(ie=C[G],de=ie.instance,we=ie.currentTarget,ie=ie.listener,de!==L&&T.isPropagationStopped())break e;ay(T,ie,we),L=de}}}if(br)throw d=ma,br=!1,ma=null,d}function Dn(d,m){var g=m[xp];g===void 0&&(g=m[xp]=new Set);var C=d+"__bubble";g.has(C)||(lp(m,d,2,!1),g.add(C))}function op(d,m,g){var C=0;m&&(C|=4),lp(g,d,C,m)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Cc(d){if(!d[yh]){d[yh]=!0,s.forEach(function(g){g!=="selectionchange"&&(a1.has(g)||op(g,!1,d),op(g,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[yh]||(m[yh]=!0,op("selectionchange",!1,m))}}function lp(d,m,g,C){switch(Ig(m)){case 1:var T=Hm;break;case 4:T=AN;break;default:T=lh}g=T.bind(null,m,g,d),T=void 0,!Su||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(T=!0),C?T!==void 0?d.addEventListener(m,g,{capture:!0,passive:T}):d.addEventListener(m,g,!0):T!==void 0?d.addEventListener(m,g,{passive:T}):d.addEventListener(m,g,!1)}function vh(d,m,g,C,T){var L=C;if((m&1)===0&&(m&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var ie=C.stateNode.containerInfo;if(ie===T||ie.nodeType===8&&ie.parentNode===T)break;if(G===4)for(G=C.return;G!==null;){var de=G.tag;if((de===3||de===4)&&(de=G.stateNode.containerInfo,de===T||de.nodeType===8&&de.parentNode===T))return;G=G.return}for(;ie!==null;){if(G=ml(ie),G===null)return;if(de=G.tag,de===5||de===6){C=L=G;continue e}ie=ie.parentNode}}C=C.return}As(function(){var we=L,Re=dc(g),Le=[];e:{var Me=ry.get(d);if(Me!==void 0){var tt=Km,ot=d;switch(d){case"keypress":if(mo(g)===0)break e;case"keydown":case"keyup":tt=jc;break;case"focusin":ot="focus",tt=wc;break;case"focusout":ot="blur",tt=wc;break;case"beforeblur":case"afterblur":tt=wc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=TN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Zm;break;case Jg:case ey:case ty:tt=RN;break;case ny:tt=qN;break;case"scroll":tt=go;break;case"wheel":tt=YN;break;case"copy":case"cut":case"paste":tt=IN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=hh}var ht=(m&4)!==0,jr=!ht&&d==="scroll",ye=ht?Me!==null?Me+"Capture":null:Me;ht=[];for(var me=we,ve;me!==null;){ve=me;var Ve=ve.stateNode;if(ve.tag===5&&Ve!==null&&(ve=Ve,ye!==null&&(Ve=Rt(me,ye),Ve!=null&&ht.push(bo(me,Ve,ve)))),jr)break;me=me.return}0<ht.length&&(Me=new tt(Me,ot,null,g,Re),Le.push({event:Me,listeners:ht}))}}if((m&7)===0){e:{if(Me=d==="mouseover"||d==="pointerover",tt=d==="mouseout"||d==="pointerout",Me&&g!==Ps&&(ot=g.relatedTarget||g.fromElement)&&(ml(ot)||ot[_i]))break e;if((tt||Me)&&(Me=Re.window===Re?Re:(Me=Re.ownerDocument)?Me.defaultView||Me.parentWindow:window,tt?(ot=g.relatedTarget||g.toElement,tt=we,ot=ot?ml(ot):null,ot!==null&&(jr=rs(ot),ot!==jr||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=we),tt!==ot)){if(ht=uh,Ve="onMouseLeave",ye="onMouseEnter",me="mouse",(d==="pointerout"||d==="pointerover")&&(ht=hh,Ve="onPointerLeave",ye="onPointerEnter",me="pointer"),jr=tt==null?Me:jo(tt),ve=ot==null?Me:jo(ot),Me=new ht(Ve,me+"leave",tt,g,Re),Me.target=jr,Me.relatedTarget=ve,Ve=null,ml(Re)===we&&(ht=new ht(ye,me+"enter",ot,g,Re),ht.target=ve,ht.relatedTarget=jr,Ve=ht),jr=Ve,tt&&ot)t:{for(ht=tt,ye=ot,me=0,ve=ht;ve;ve=Ni(ve))me++;for(ve=0,Ve=ye;Ve;Ve=Ni(Ve))ve++;for(;0<me-ve;)ht=Ni(ht),me--;for(;0<ve-me;)ye=Ni(ye),ve--;for(;me--;){if(ht===ye||ye!==null&&ht===ye.alternate)break t;ht=Ni(ht),ye=Ni(ye)}ht=null}else ht=null;tt!==null&&cp(Le,Me,tt,ht,!1),ot!==null&&jr!==null&&cp(Le,jr,ot,ht,!0)}}e:{if(Me=we?jo(we):window,tt=Me.nodeName&&Me.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Me.type==="file")var mt=QN;else if(qg(Me))if(fh)mt=t1;else{mt=JN;var jt=ZN}else(tt=Me.nodeName)&&tt.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(mt=e1);if(mt&&(mt=mt(d,we))){Uu(Le,mt,g,Re);break e}jt&&jt(d,Me,we),d==="focusout"&&(jt=Me._wrapperState)&&jt.controlled&&Me.type==="number"&&qt(Me,"number",Me.value)}switch(jt=we?jo(we):window,d){case"focusin":(qg(jt)||jt.contentEditable==="true")&&(fl=jt,mh=we,Gu=null);break;case"focusout":Gu=mh=fl=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,rp(Le,g,Re);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":rp(Le,g,Re)}var Nt;if(Jm)e:{switch(d){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else _c?Ug(d,g)&&(kt="onCompositionEnd"):d==="keydown"&&g.keyCode===229&&(kt="onCompositionStart");kt&&(Bg&&g.locale!=="ko"&&(_c||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&_c&&(Nt=Mn()):(fo=Re,Gm="value"in fo?fo.value:fo.textContent,_c=!0)),jt=ji(we,kt),0<jt.length&&(kt=new zg(kt,d,null,g,Re),Le.push({event:kt,listeners:jt}),Nt?kt.data=Nt:(Nt=Wg(g),Nt!==null&&(kt.data=Nt)))),(Nt=Rn?Vu(d,g):GN(d,g))&&(we=ji(we,"onBeforeInput"),0<we.length&&(Re=new zg("onBeforeInput","beforeinput",null,g,Re),Le.push({event:Re,listeners:we}),Re.data=Nt))}iy(Le,m)})}function bo(d,m,g){return{instance:d,listener:m,currentTarget:g}}function ji(d,m){for(var g=m+"Capture",C=[];d!==null;){var T=d,L=T.stateNode;T.tag===5&&L!==null&&(T=L,L=Rt(d,g),L!=null&&C.unshift(bo(d,L,T)),L=Rt(d,m),L!=null&&C.push(bo(d,L,T))),d=d.return}return C}function Ni(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function cp(d,m,g,C,T){for(var L=m._reactName,G=[];g!==null&&g!==C;){var ie=g,de=ie.alternate,we=ie.stateNode;if(de!==null&&de===C)break;ie.tag===5&&we!==null&&(ie=we,T?(de=Rt(g,L),de!=null&&G.unshift(bo(g,de,ie))):T||(de=Rt(g,L),de!=null&&G.push(bo(g,de,ie)))),g=g.return}G.length!==0&&d.push({event:m,listeners:G})}var kc=/\r\n?/g,oy=/\u0000|\uFFFD/g;function up(d){return(typeof d=="string"?d:""+d).replace(kc,`
`).replace(oy,"")}function bh(d,m,g){if(m=up(m),up(d)!==m&&g)throw Error(n(425))}function wh(){}var dp=null,hp=null;function fp(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(d){return ly.resolve(null).then(d).catch(l1)}:mp;function l1(d){setTimeout(function(){throw d})}function pp(d,m){var g=m,C=0;do{var T=g.nextSibling;if(d.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(C===0){d.removeChild(T),Fu(m);return}C--}else g!=="$"&&g!=="$?"&&g!=="$!"||C++;g=T}while(g);Fu(m)}function wo(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function cy(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var g=d.data;if(g==="$"||g==="$!"||g==="$?"){if(m===0)return d;m--}else g==="/$"&&m++}d=d.previousSibling}return null}var Ec=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Ec,Xu="__reactProps$"+Ec,_i="__reactContainer$"+Ec,xp="__reactEvents$"+Ec,c1="__reactListeners$"+Ec,u1="__reactHandles$"+Ec;function ml(d){var m=d[Ha];if(m)return m;for(var g=d.parentNode;g;){if(m=g[_i]||g[Ha]){if(g=m.alternate,m.child!==null||g!==null&&g.child!==null)for(d=cy(d);d!==null;){if(g=d[Ha])return g;d=cy(d)}return m}d=g,g=d.parentNode}return null}function Qu(d){return d=d[Ha]||d[_i],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function jo(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function jh(d){return d[Xu]||null}var gp=[],Pc=-1;function Ya(d){return{current:d}}function pn(d){0>Pc||(d.current=gp[Pc],gp[Pc]=null,Pc--)}function Cn(d,m){Pc++,gp[Pc]=d.current,d.current=m}var No={},Gr=Ya(No),ps=Ya(!1),pl=No;function Ac(d,m){var g=d.type.contextTypes;if(!g)return No;var C=d.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===m)return C.__reactInternalMemoizedMaskedChildContext;var T={},L;for(L in g)T[L]=m[L];return C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=T),T}function ss(d){return d=d.childContextTypes,d!=null}function Nh(){pn(ps),pn(Gr)}function uy(d,m,g){if(Gr.current!==No)throw Error(n(168));Cn(Gr,m),Cn(ps,g)}function yp(d,m,g){var C=d.stateNode;if(m=m.childContextTypes,typeof C.getChildContext!="function")return g;C=C.getChildContext();for(var T in C)if(!(T in m))throw Error(n(108,re(d)||"Unknown",T));return F({},g,C)}function _h(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||No,pl=Gr.current,Cn(Gr,d),Cn(ps,ps.current),!0}function dy(d,m,g){var C=d.stateNode;if(!C)throw Error(n(169));g?(d=yp(d,m,pl),C.__reactInternalMemoizedMergedChildContext=d,pn(ps),pn(Gr),Cn(Gr,d)):pn(ps),Cn(ps,g)}var Si=null,va=!1,Sh=!1;function hy(d){Si===null?Si=[d]:Si.push(d)}function d1(d){va=!0,hy(d)}function _o(){if(!Sh&&Si!==null){Sh=!0;var d=0,m=hn;try{var g=Si;for(hn=1;d<g.length;d++){var C=g[d];do C=C(!0);while(C!==null)}Si=null,va=!1}catch(T){throw Si!==null&&(Si=Si.slice(d+1)),Sg(Bm,_o),T}finally{hn=m,Sh=!1}}return null}var Ie=[],Oc=0,Ch=null,Zu=0,At=[],as=0,So=null,ba=1,Ci="";function xl(d,m){Ie[Oc++]=Zu,Ie[Oc++]=Ch,Ch=d,Zu=m}function fy(d,m,g){At[as++]=ba,At[as++]=Ci,At[as++]=So,So=d;var C=ba;d=Ci;var T=32-xa(C)-1;C&=~(1<<T),g+=1;var L=32-xa(m)+T;if(30<L){var G=T-T%5;L=(C&(1<<G)-1).toString(32),C>>=G,T-=G,ba=1<<32-xa(m)+T|g<<T|C,Ci=L+d}else ba=1<<L|g<<T|C,Ci=d}function vp(d){d.return!==null&&(xl(d,1),fy(d,1,0))}function bp(d){for(;d===Ch;)Ch=Ie[--Oc],Ie[Oc]=null,Zu=Ie[--Oc],Ie[Oc]=null;for(;d===So;)So=At[--as],At[as]=null,Ci=At[--as],At[as]=null,ba=At[--as],At[as]=null}var or=null,Ts=null,In=!1,wa=null;function my(d,m){var g=Qa(5,null,null,0);g.elementType="DELETED",g.stateNode=m,g.return=d,m=d.deletions,m===null?(d.deletions=[g],d.flags|=16):m.push(g)}function wp(d,m){switch(d.tag){case 5:var g=d.type;return m=m.nodeType!==1||g.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,or=d,Ts=wo(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,or=d,Ts=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(g=So!==null?{id:ba,overflow:Ci}:null,d.memoizedState={dehydrated:m,treeContext:g,retryLane:1073741824},g=Qa(18,null,null,0),g.stateNode=m,g.return=d,d.child=g,or=d,Ts=null,!0):!1;default:return!1}}function jp(d){return(d.mode&1)!==0&&(d.flags&128)===0}function kh(d){if(In){var m=Ts;if(m){var g=m;if(!wp(d,m)){if(jp(d))throw Error(n(418));m=wo(g.nextSibling);var C=or;m&&wp(d,m)?my(C,g):(d.flags=d.flags&-4097|2,In=!1,or=d)}}else{if(jp(d))throw Error(n(418));d.flags=d.flags&-4097|2,In=!1,or=d}}}function Eh(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;or=d}function Ph(d){if(d!==or)return!1;if(!In)return Eh(d),In=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!fp(d.type,d.memoizedProps)),m&&(m=Ts)){if(jp(d))throw Ga(),Error(n(418));for(;m;)my(d,m),m=wo(m.nextSibling)}if(Eh(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var g=d.data;if(g==="/$"){if(m===0){Ts=wo(d.nextSibling);break e}m--}else g!=="$"&&g!=="$!"&&g!=="$?"||m++}d=d.nextSibling}Ts=null}}else Ts=or?wo(d.stateNode.nextSibling):null;return!0}function Ga(){for(var d=Ts;d;)d=wo(d.nextSibling)}function gl(){Ts=or=null,In=!1}function Np(d){wa===null?wa=[d]:wa.push(d)}var h1=E.ReactCurrentBatchConfig;function Ju(d,m,g){if(d=g.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var C=g.stateNode}if(!C)throw Error(n(147,d));var T=C,L=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===L?m.ref:(m=function(G){var ie=T.refs;G===null?delete ie[L]:ie[L]=G},m._stringRef=L,m)}if(typeof d!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,d))}return d}function Ah(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function py(d){var m=d._init;return m(d._payload)}function xy(d){function m(ye,me){if(d){var ve=ye.deletions;ve===null?(ye.deletions=[me],ye.flags|=16):ve.push(me)}}function g(ye,me){if(!d)return null;for(;me!==null;)m(ye,me),me=me.sibling;return null}function C(ye,me){for(ye=new Map;me!==null;)me.key!==null?ye.set(me.key,me):ye.set(me.index,me),me=me.sibling;return ye}function T(ye,me){return ye=$c(ye,me),ye.index=0,ye.sibling=null,ye}function L(ye,me,ve){return ye.index=ve,d?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<me?(ye.flags|=2,me):ve):(ye.flags|=2,me)):(ye.flags|=1048576,me)}function G(ye){return d&&ye.alternate===null&&(ye.flags|=2),ye}function ie(ye,me,ve,Ve){return me===null||me.tag!==6?(me=Y1(ve,ye.mode,Ve),me.return=ye,me):(me=T(me,ve),me.return=ye,me)}function de(ye,me,ve,Ve){var mt=ve.type;return mt===P?Re(ye,me,ve.props.children,Ve,ve.key):me!==null&&(me.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===se&&py(mt)===me.type)?(Ve=T(me,ve.props),Ve.ref=Ju(ye,me,ve),Ve.return=ye,Ve):(Ve=Ly(ve.type,ve.key,ve.props,null,ye.mode,Ve),Ve.ref=Ju(ye,me,ve),Ve.return=ye,Ve)}function we(ye,me,ve,Ve){return me===null||me.tag!==4||me.stateNode.containerInfo!==ve.containerInfo||me.stateNode.implementation!==ve.implementation?(me=G1(ve,ye.mode,Ve),me.return=ye,me):(me=T(me,ve.children||[]),me.return=ye,me)}function Re(ye,me,ve,Ve,mt){return me===null||me.tag!==7?(me=id(ve,ye.mode,Ve,mt),me.return=ye,me):(me=T(me,ve),me.return=ye,me)}function Le(ye,me,ve){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Y1(""+me,ye.mode,ve),me.return=ye,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return ve=Ly(me.type,me.key,me.props,null,ye.mode,ve),ve.ref=Ju(ye,null,me),ve.return=ye,ve;case k:return me=G1(me,ye.mode,ve),me.return=ye,me;case se:var Ve=me._init;return Le(ye,Ve(me._payload),ve)}if(zn(me)||U(me))return me=id(me,ye.mode,ve,null),me.return=ye,me;Ah(ye,me)}return null}function Me(ye,me,ve,Ve){var mt=me!==null?me.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return mt!==null?null:ie(ye,me,""+ve,Ve);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case A:return ve.key===mt?de(ye,me,ve,Ve):null;case k:return ve.key===mt?we(ye,me,ve,Ve):null;case se:return mt=ve._init,Me(ye,me,mt(ve._payload),Ve)}if(zn(ve)||U(ve))return mt!==null?null:Re(ye,me,ve,Ve,null);Ah(ye,ve)}return null}function tt(ye,me,ve,Ve,mt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return ye=ye.get(ve)||null,ie(me,ye,""+Ve,mt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case A:return ye=ye.get(Ve.key===null?ve:Ve.key)||null,de(me,ye,Ve,mt);case k:return ye=ye.get(Ve.key===null?ve:Ve.key)||null,we(me,ye,Ve,mt);case se:var jt=Ve._init;return tt(ye,me,ve,jt(Ve._payload),mt)}if(zn(Ve)||U(Ve))return ye=ye.get(ve)||null,Re(me,ye,Ve,mt,null);Ah(me,Ve)}return null}function ot(ye,me,ve,Ve){for(var mt=null,jt=null,Nt=me,kt=me=0,Qr=null;Nt!==null&&kt<ve.length;kt++){Nt.index>kt?(Qr=Nt,Nt=null):Qr=Nt.sibling;var an=Me(ye,Nt,ve[kt],Ve);if(an===null){Nt===null&&(Nt=Qr);break}d&&Nt&&an.alternate===null&&m(ye,Nt),me=L(an,me,kt),jt===null?mt=an:jt.sibling=an,jt=an,Nt=Qr}if(kt===ve.length)return g(ye,Nt),In&&xl(ye,kt),mt;if(Nt===null){for(;kt<ve.length;kt++)Nt=Le(ye,ve[kt],Ve),Nt!==null&&(me=L(Nt,me,kt),jt===null?mt=Nt:jt.sibling=Nt,jt=Nt);return In&&xl(ye,kt),mt}for(Nt=C(ye,Nt);kt<ve.length;kt++)Qr=tt(Nt,ye,kt,ve[kt],Ve),Qr!==null&&(d&&Qr.alternate!==null&&Nt.delete(Qr.key===null?kt:Qr.key),me=L(Qr,me,kt),jt===null?mt=Qr:jt.sibling=Qr,jt=Qr);return d&&Nt.forEach(function(Bc){return m(ye,Bc)}),In&&xl(ye,kt),mt}function ht(ye,me,ve,Ve){var mt=U(ve);if(typeof mt!="function")throw Error(n(150));if(ve=mt.call(ve),ve==null)throw Error(n(151));for(var jt=mt=null,Nt=me,kt=me=0,Qr=null,an=ve.next();Nt!==null&&!an.done;kt++,an=ve.next()){Nt.index>kt?(Qr=Nt,Nt=null):Qr=Nt.sibling;var Bc=Me(ye,Nt,an.value,Ve);if(Bc===null){Nt===null&&(Nt=Qr);break}d&&Nt&&Bc.alternate===null&&m(ye,Nt),me=L(Bc,me,kt),jt===null?mt=Bc:jt.sibling=Bc,jt=Bc,Nt=Qr}if(an.done)return g(ye,Nt),In&&xl(ye,kt),mt;if(Nt===null){for(;!an.done;kt++,an=ve.next())an=Le(ye,an.value,Ve),an!==null&&(me=L(an,me,kt),jt===null?mt=an:jt.sibling=an,jt=an);return In&&xl(ye,kt),mt}for(Nt=C(ye,Nt);!an.done;kt++,an=ve.next())an=tt(Nt,ye,kt,an.value,Ve),an!==null&&(d&&an.alternate!==null&&Nt.delete(an.key===null?kt:an.key),me=L(an,me,kt),jt===null?mt=an:jt.sibling=an,jt=an);return d&&Nt.forEach(function(nJ){return m(ye,nJ)}),In&&xl(ye,kt),mt}function jr(ye,me,ve,Ve){if(typeof ve=="object"&&ve!==null&&ve.type===P&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case A:e:{for(var mt=ve.key,jt=me;jt!==null;){if(jt.key===mt){if(mt=ve.type,mt===P){if(jt.tag===7){g(ye,jt.sibling),me=T(jt,ve.props.children),me.return=ye,ye=me;break e}}else if(jt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===se&&py(mt)===jt.type){g(ye,jt.sibling),me=T(jt,ve.props),me.ref=Ju(ye,jt,ve),me.return=ye,ye=me;break e}g(ye,jt);break}else m(ye,jt);jt=jt.sibling}ve.type===P?(me=id(ve.props.children,ye.mode,Ve,ve.key),me.return=ye,ye=me):(Ve=Ly(ve.type,ve.key,ve.props,null,ye.mode,Ve),Ve.ref=Ju(ye,me,ve),Ve.return=ye,ye=Ve)}return G(ye);case k:e:{for(jt=ve.key;me!==null;){if(me.key===jt)if(me.tag===4&&me.stateNode.containerInfo===ve.containerInfo&&me.stateNode.implementation===ve.implementation){g(ye,me.sibling),me=T(me,ve.children||[]),me.return=ye,ye=me;break e}else{g(ye,me);break}else m(ye,me);me=me.sibling}me=G1(ve,ye.mode,Ve),me.return=ye,ye=me}return G(ye);case se:return jt=ve._init,jr(ye,me,jt(ve._payload),Ve)}if(zn(ve))return ot(ye,me,ve,Ve);if(U(ve))return ht(ye,me,ve,Ve);Ah(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,me!==null&&me.tag===6?(g(ye,me.sibling),me=T(me,ve),me.return=ye,ye=me):(g(ye,me),me=Y1(ve,ye.mode,Ve),me.return=ye,ye=me),G(ye)):g(ye,me)}return jr}var Tc=xy(!0),gy=xy(!1),Oh=Ya(null),Th=null,Mc=null,ki=null;function _p(){ki=Mc=Th=null}function Sp(d){var m=Oh.current;pn(Oh),d._currentValue=m}function Cp(d,m,g){for(;d!==null;){var C=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),d===g)break;d=d.return}}function Rc(d,m){Th=d,ki=Mc=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Ys=!0),d.firstContext=null)}function Hs(d){var m=d._currentValue;if(ki!==d)if(d={context:d,memoizedValue:m,next:null},Mc===null){if(Th===null)throw Error(n(308));Mc=d,Th.dependencies={lanes:0,firstContext:d}}else Mc=Mc.next=d;return m}var yl=null;function kp(d){yl===null?yl=[d]:yl.push(d)}function yy(d,m,g,C){var T=m.interleaved;return T===null?(g.next=g,kp(m)):(g.next=T.next,T.next=g),m.interleaved=g,Mr(d,C)}function Mr(d,m){d.lanes|=m;var g=d.alternate;for(g!==null&&(g.lanes|=m),g=d,d=d.return;d!==null;)d.childLanes|=m,g=d.alternate,g!==null&&(g.childLanes|=m),g=d,d=d.return;return g.tag===3?g.stateNode:null}var Ms=!1;function Ep(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ei(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Co(d,m,g){var C=d.updateQueue;if(C===null)return null;if(C=C.shared,(en&2)!==0){var T=C.pending;return T===null?m.next=m:(m.next=T.next,T.next=m),C.pending=m,Mr(d,g)}return T=C.interleaved,T===null?(m.next=m,kp(C)):(m.next=T.next,T.next=m),C.interleaved=m,Mr(d,g)}function Mh(d,m,g){if(m=m.updateQueue,m!==null&&(m=m.shared,(g&4194240)!==0)){var C=m.lanes;C&=d.pendingLanes,g|=C,m.lanes=g,ga(d,g)}}function Rh(d,m){var g=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var T=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var G={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};L===null?T=L=G:L=L.next=G,g=g.next}while(g!==null);L===null?T=L=m:L=L.next=m}else T=L=m;g={baseState:C.baseState,firstBaseUpdate:T,lastBaseUpdate:L,shared:C.shared,effects:C.effects},d.updateQueue=g;return}d=g.lastBaseUpdate,d===null?g.firstBaseUpdate=m:d.next=m,g.lastBaseUpdate=m}function Pi(d,m,g,C){var T=d.updateQueue;Ms=!1;var L=T.firstBaseUpdate,G=T.lastBaseUpdate,ie=T.shared.pending;if(ie!==null){T.shared.pending=null;var de=ie,we=de.next;de.next=null,G===null?L=we:G.next=we,G=de;var Re=d.alternate;Re!==null&&(Re=Re.updateQueue,ie=Re.lastBaseUpdate,ie!==G&&(ie===null?Re.firstBaseUpdate=we:ie.next=we,Re.lastBaseUpdate=de))}if(L!==null){var Le=T.baseState;G=0,Re=we=de=null,ie=L;do{var Me=ie.lane,tt=ie.eventTime;if((C&Me)===Me){Re!==null&&(Re=Re.next={eventTime:tt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var ot=d,ht=ie;switch(Me=m,tt=g,ht.tag){case 1:if(ot=ht.payload,typeof ot=="function"){Le=ot.call(tt,Le,Me);break e}Le=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ht.payload,Me=typeof ot=="function"?ot.call(tt,Le,Me):ot,Me==null)break e;Le=F({},Le,Me);break e;case 2:Ms=!0}}ie.callback!==null&&ie.lane!==0&&(d.flags|=64,Me=T.effects,Me===null?T.effects=[ie]:Me.push(ie))}else tt={eventTime:tt,lane:Me,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Re===null?(we=Re=tt,de=Le):Re=Re.next=tt,G|=Me;if(ie=ie.next,ie===null){if(ie=T.shared.pending,ie===null)break;Me=ie,ie=Me.next,Me.next=null,T.lastBaseUpdate=Me,T.shared.pending=null}}while(!0);if(Re===null&&(de=Le),T.baseState=de,T.firstBaseUpdate=we,T.lastBaseUpdate=Re,m=T.shared.interleaved,m!==null){T=m;do G|=T.lane,T=T.next;while(T!==m)}else L===null&&(T.shared.lanes=0);nd|=G,d.lanes=G,d.memoizedState=Le}}function ed(d,m,g){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var C=d[m],T=C.callback;if(T!==null){if(C.callback=null,C=g,typeof T!="function")throw Error(n(191,T));T.call(C)}}}var Ft={},w=Ya(Ft),O=Ya(Ft),I=Ya(Ft);function z(d){if(d===Ft)throw Error(n(174));return d}function Z(d,m){switch(Cn(I,m),Cn(O,d),Cn(w,Ft),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:We(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=We(m,d)}pn(w),Cn(w,m)}function le(){pn(w),pn(O),pn(I)}function _e(d){z(I.current);var m=z(w.current),g=We(m,d.type);m!==g&&(Cn(O,d),Cn(w,g))}function Ze(d){O.current===d&&(pn(w),pn(O))}var et=Ya(0);function zt(d){for(var m=d;m!==null;){if(m.tag===13){var g=m.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Rr=[];function ja(){for(var d=0;d<Rr.length;d++)Rr[d]._workInProgressVersionPrimary=null;Rr.length=0}var Na=E.ReactCurrentDispatcher,f1=E.ReactCurrentBatchConfig,td=0,lr=null,Dr=null,Kr=null,by=!1,Pp=!1,Ap=0,_Z=0;function xs(){throw Error(n(321))}function m1(d,m){if(m===null)return!1;for(var g=0;g<m.length&&g<d.length;g++)if(!ya(d[g],m[g]))return!1;return!0}function p1(d,m,g,C,T,L){if(td=L,lr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Na.current=d===null||d.memoizedState===null?EZ:PZ,d=g(C,T),Pp){L=0;do{if(Pp=!1,Ap=0,25<=L)throw Error(n(301));L+=1,Kr=Dr=null,m.updateQueue=null,Na.current=AZ,d=g(C,T)}while(Pp)}if(Na.current=Ny,m=Dr!==null&&Dr.next!==null,td=0,Kr=Dr=lr=null,by=!1,m)throw Error(n(300));return d}function x1(){var d=Ap!==0;return Ap=0,d}function ko(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?lr.memoizedState=Kr=d:Kr=Kr.next=d,Kr}function Ka(){if(Dr===null){var d=lr.alternate;d=d!==null?d.memoizedState:null}else d=Dr.next;var m=Kr===null?lr.memoizedState:Kr.next;if(m!==null)Kr=m,Dr=d;else{if(d===null)throw Error(n(310));Dr=d,d={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Kr===null?lr.memoizedState=Kr=d:Kr=Kr.next=d}return Kr}function Op(d,m){return typeof m=="function"?m(d):m}function g1(d){var m=Ka(),g=m.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var C=Dr,T=C.baseQueue,L=g.pending;if(L!==null){if(T!==null){var G=T.next;T.next=L.next,L.next=G}C.baseQueue=T=L,g.pending=null}if(T!==null){L=T.next,C=C.baseState;var ie=G=null,de=null,we=L;do{var Re=we.lane;if((td&Re)===Re)de!==null&&(de=de.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),C=we.hasEagerState?we.eagerState:d(C,we.action);else{var Le={lane:Re,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};de===null?(ie=de=Le,G=C):de=de.next=Le,lr.lanes|=Re,nd|=Re}we=we.next}while(we!==null&&we!==L);de===null?G=C:de.next=ie,ya(C,m.memoizedState)||(Ys=!0),m.memoizedState=C,m.baseState=G,m.baseQueue=de,g.lastRenderedState=C}if(d=g.interleaved,d!==null){T=d;do L=T.lane,lr.lanes|=L,nd|=L,T=T.next;while(T!==d)}else T===null&&(g.lanes=0);return[m.memoizedState,g.dispatch]}function y1(d){var m=Ka(),g=m.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var C=g.dispatch,T=g.pending,L=m.memoizedState;if(T!==null){g.pending=null;var G=T=T.next;do L=d(L,G.action),G=G.next;while(G!==T);ya(L,m.memoizedState)||(Ys=!0),m.memoizedState=L,m.baseQueue===null&&(m.baseState=L),g.lastRenderedState=L}return[L,C]}function bM(){}function wM(d,m){var g=lr,C=Ka(),T=m(),L=!ya(C.memoizedState,T);if(L&&(C.memoizedState=T,Ys=!0),C=C.queue,v1(_M.bind(null,g,C,d),[d]),C.getSnapshot!==m||L||Kr!==null&&Kr.memoizedState.tag&1){if(g.flags|=2048,Tp(9,NM.bind(null,g,C,T,m),void 0,null),Xr===null)throw Error(n(349));(td&30)!==0||jM(g,m,T)}return T}function jM(d,m,g){d.flags|=16384,d={getSnapshot:m,value:g},m=lr.updateQueue,m===null?(m={lastEffect:null,stores:null},lr.updateQueue=m,m.stores=[d]):(g=m.stores,g===null?m.stores=[d]:g.push(d))}function NM(d,m,g,C){m.value=g,m.getSnapshot=C,SM(m)&&CM(d)}function _M(d,m,g){return g(function(){SM(m)&&CM(d)})}function SM(d){var m=d.getSnapshot;d=d.value;try{var g=m();return!ya(d,g)}catch{return!0}}function CM(d){var m=Mr(d,1);m!==null&&Mi(m,d,1,-1)}function kM(d){var m=ko();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:d},m.queue=d,d=d.dispatch=kZ.bind(null,lr,d),[m.memoizedState,d]}function Tp(d,m,g,C){return d={tag:d,create:m,destroy:g,deps:C,next:null},m=lr.updateQueue,m===null?(m={lastEffect:null,stores:null},lr.updateQueue=m,m.lastEffect=d.next=d):(g=m.lastEffect,g===null?m.lastEffect=d.next=d:(C=g.next,g.next=d,d.next=C,m.lastEffect=d)),d}function EM(){return Ka().memoizedState}function wy(d,m,g,C){var T=ko();lr.flags|=d,T.memoizedState=Tp(1|m,g,void 0,C===void 0?null:C)}function jy(d,m,g,C){var T=Ka();C=C===void 0?null:C;var L=void 0;if(Dr!==null){var G=Dr.memoizedState;if(L=G.destroy,C!==null&&m1(C,G.deps)){T.memoizedState=Tp(m,g,L,C);return}}lr.flags|=d,T.memoizedState=Tp(1|m,g,L,C)}function PM(d,m){return wy(8390656,8,d,m)}function v1(d,m){return jy(2048,8,d,m)}function AM(d,m){return jy(4,2,d,m)}function OM(d,m){return jy(4,4,d,m)}function TM(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function MM(d,m,g){return g=g!=null?g.concat([d]):null,jy(4,4,TM.bind(null,m,d),g)}function b1(){}function RM(d,m){var g=Ka();m=m===void 0?null:m;var C=g.memoizedState;return C!==null&&m!==null&&m1(m,C[1])?C[0]:(g.memoizedState=[d,m],d)}function DM(d,m){var g=Ka();m=m===void 0?null:m;var C=g.memoizedState;return C!==null&&m!==null&&m1(m,C[1])?C[0]:(d=d(),g.memoizedState=[d,m],d)}function IM(d,m,g){return(td&21)===0?(d.baseState&&(d.baseState=!1,Ys=!0),d.memoizedState=g):(ya(g,m)||(g=mc(),lr.lanes|=g,nd|=g,d.baseState=!0),m)}function SZ(d,m){var g=hn;hn=g!==0&&4>g?g:4,d(!0);var C=f1.transition;f1.transition={};try{d(!1),m()}finally{hn=g,f1.transition=C}}function LM(){return Ka().memoizedState}function CZ(d,m,g){var C=Fc(d);if(g={lane:C,action:g,hasEagerState:!1,eagerState:null,next:null},FM(d))zM(m,g);else if(g=yy(d,m,g,C),g!==null){var T=Ds();Mi(g,d,C,T),$M(g,m,C)}}function kZ(d,m,g){var C=Fc(d),T={lane:C,action:g,hasEagerState:!1,eagerState:null,next:null};if(FM(d))zM(m,T);else{var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=m.lastRenderedReducer,L!==null))try{var G=m.lastRenderedState,ie=L(G,g);if(T.hasEagerState=!0,T.eagerState=ie,ya(ie,G)){var de=m.interleaved;de===null?(T.next=T,kp(m)):(T.next=de.next,de.next=T),m.interleaved=T;return}}catch{}finally{}g=yy(d,m,T,C),g!==null&&(T=Ds(),Mi(g,d,C,T),$M(g,m,C))}}function FM(d){var m=d.alternate;return d===lr||m!==null&&m===lr}function zM(d,m){Pp=by=!0;var g=d.pending;g===null?m.next=m:(m.next=g.next,g.next=m),d.pending=m}function $M(d,m,g){if((g&4194240)!==0){var C=m.lanes;C&=d.pendingLanes,g|=C,m.lanes=g,ga(d,g)}}var Ny={readContext:Hs,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},EZ={readContext:Hs,useCallback:function(d,m){return ko().memoizedState=[d,m===void 0?null:m],d},useContext:Hs,useEffect:PM,useImperativeHandle:function(d,m,g){return g=g!=null?g.concat([d]):null,wy(4194308,4,TM.bind(null,m,d),g)},useLayoutEffect:function(d,m){return wy(4194308,4,d,m)},useInsertionEffect:function(d,m){return wy(4,2,d,m)},useMemo:function(d,m){var g=ko();return m=m===void 0?null:m,d=d(),g.memoizedState=[d,m],d},useReducer:function(d,m,g){var C=ko();return m=g!==void 0?g(m):m,C.memoizedState=C.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},C.queue=d,d=d.dispatch=CZ.bind(null,lr,d),[C.memoizedState,d]},useRef:function(d){var m=ko();return d={current:d},m.memoizedState=d},useState:kM,useDebugValue:b1,useDeferredValue:function(d){return ko().memoizedState=d},useTransition:function(){var d=kM(!1),m=d[0];return d=SZ.bind(null,d[1]),ko().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,g){var C=lr,T=ko();if(In){if(g===void 0)throw Error(n(407));g=g()}else{if(g=m(),Xr===null)throw Error(n(349));(td&30)!==0||jM(C,m,g)}T.memoizedState=g;var L={value:g,getSnapshot:m};return T.queue=L,PM(_M.bind(null,C,L,d),[d]),C.flags|=2048,Tp(9,NM.bind(null,C,L,g,m),void 0,null),g},useId:function(){var d=ko(),m=Xr.identifierPrefix;if(In){var g=Ci,C=ba;g=(C&~(1<<32-xa(C)-1)).toString(32)+g,m=":"+m+"R"+g,g=Ap++,0<g&&(m+="H"+g.toString(32)),m+=":"}else g=_Z++,m=":"+m+"r"+g.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},PZ={readContext:Hs,useCallback:RM,useContext:Hs,useEffect:v1,useImperativeHandle:MM,useInsertionEffect:AM,useLayoutEffect:OM,useMemo:DM,useReducer:g1,useRef:EM,useState:function(){return g1(Op)},useDebugValue:b1,useDeferredValue:function(d){var m=Ka();return IM(m,Dr.memoizedState,d)},useTransition:function(){var d=g1(Op)[0],m=Ka().memoizedState;return[d,m]},useMutableSource:bM,useSyncExternalStore:wM,useId:LM,unstable_isNewReconciler:!1},AZ={readContext:Hs,useCallback:RM,useContext:Hs,useEffect:v1,useImperativeHandle:MM,useInsertionEffect:AM,useLayoutEffect:OM,useMemo:DM,useReducer:y1,useRef:EM,useState:function(){return y1(Op)},useDebugValue:b1,useDeferredValue:function(d){var m=Ka();return Dr===null?m.memoizedState=d:IM(m,Dr.memoizedState,d)},useTransition:function(){var d=y1(Op)[0],m=Ka().memoizedState;return[d,m]},useMutableSource:bM,useSyncExternalStore:wM,useId:LM,unstable_isNewReconciler:!1};function Ai(d,m){if(d&&d.defaultProps){m=F({},m),d=d.defaultProps;for(var g in d)m[g]===void 0&&(m[g]=d[g]);return m}return m}function w1(d,m,g,C){m=d.memoizedState,g=g(C,m),g=g==null?m:F({},m,g),d.memoizedState=g,d.lanes===0&&(d.updateQueue.baseState=g)}var _y={isMounted:function(d){return(d=d._reactInternals)?rs(d)===d:!1},enqueueSetState:function(d,m,g){d=d._reactInternals;var C=Ds(),T=Fc(d),L=Ei(C,T);L.payload=m,g!=null&&(L.callback=g),m=Co(d,L,T),m!==null&&(Mi(m,d,T,C),Mh(m,d,T))},enqueueReplaceState:function(d,m,g){d=d._reactInternals;var C=Ds(),T=Fc(d),L=Ei(C,T);L.tag=1,L.payload=m,g!=null&&(L.callback=g),m=Co(d,L,T),m!==null&&(Mi(m,d,T,C),Mh(m,d,T))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var g=Ds(),C=Fc(d),T=Ei(g,C);T.tag=2,m!=null&&(T.callback=m),m=Co(d,T,C),m!==null&&(Mi(m,d,C,g),Mh(m,d,C))}};function BM(d,m,g,C,T,L,G){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,L,G):m.prototype&&m.prototype.isPureReactComponent?!Yu(g,C)||!Yu(T,L):!0}function VM(d,m,g){var C=!1,T=No,L=m.contextType;return typeof L=="object"&&L!==null?L=Hs(L):(T=ss(m)?pl:Gr.current,C=m.contextTypes,L=(C=C!=null)?Ac(d,T):No),m=new m(g,L),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_y,d.stateNode=m,m._reactInternals=d,C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=T,d.__reactInternalMemoizedMaskedChildContext=L),m}function UM(d,m,g,C){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(g,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(g,C),m.state!==d&&_y.enqueueReplaceState(m,m.state,null)}function j1(d,m,g,C){var T=d.stateNode;T.props=g,T.state=d.memoizedState,T.refs={},Ep(d);var L=m.contextType;typeof L=="object"&&L!==null?T.context=Hs(L):(L=ss(m)?pl:Gr.current,T.context=Ac(d,L)),T.state=d.memoizedState,L=m.getDerivedStateFromProps,typeof L=="function"&&(w1(d,m,L,g),T.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(m=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),m!==T.state&&_y.enqueueReplaceState(T,T.state,null),Pi(d,g,T,C),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308)}function Dh(d,m){try{var g="",C=m;do g+=ne(C),C=C.return;while(C);var T=g}catch(L){T=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:m,stack:T,digest:null}}function N1(d,m,g){return{value:d,source:null,stack:g??null,digest:m??null}}function _1(d,m){try{console.error(m.value)}catch(g){setTimeout(function(){throw g})}}var OZ=typeof WeakMap=="function"?WeakMap:Map;function WM(d,m,g){g=Ei(-1,g),g.tag=3,g.payload={element:null};var C=m.value;return g.callback=function(){Oy||(Oy=!0,z1=C),_1(d,m)},g}function qM(d,m,g){g=Ei(-1,g),g.tag=3;var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var T=m.value;g.payload=function(){return C(T)},g.callback=function(){_1(d,m)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(g.callback=function(){_1(d,m),typeof C!="function"&&(Ic===null?Ic=new Set([this]):Ic.add(this));var G=m.stack;this.componentDidCatch(m.value,{componentStack:G!==null?G:""})}),g}function HM(d,m,g){var C=d.pingCache;if(C===null){C=d.pingCache=new OZ;var T=new Set;C.set(m,T)}else T=C.get(m),T===void 0&&(T=new Set,C.set(m,T));T.has(g)||(T.add(g),d=qZ.bind(null,d,m,g),m.then(d,d))}function YM(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function GM(d,m,g,C,T){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(m=Ei(-1,1),m.tag=2,Co(g,m,1))),g.lanes|=1),d):(d.flags|=65536,d.lanes=T,d)}var TZ=E.ReactCurrentOwner,Ys=!1;function Rs(d,m,g,C){m.child=d===null?gy(m,null,g,C):Tc(m,d.child,g,C)}function KM(d,m,g,C,T){g=g.render;var L=m.ref;return Rc(m,T),C=p1(d,m,g,C,L,T),g=x1(),d!==null&&!Ys?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T,vl(d,m,T)):(In&&g&&vp(m),m.flags|=1,Rs(d,m,C,T),m.child)}function XM(d,m,g,C,T){if(d===null){var L=g.type;return typeof L=="function"&&!H1(L)&&L.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(m.tag=15,m.type=L,QM(d,m,L,C,T)):(d=Ly(g.type,null,C,m,m.mode,T),d.ref=m.ref,d.return=m,m.child=d)}if(L=d.child,(d.lanes&T)===0){var G=L.memoizedProps;if(g=g.compare,g=g!==null?g:Yu,g(G,C)&&d.ref===m.ref)return vl(d,m,T)}return m.flags|=1,d=$c(L,C),d.ref=m.ref,d.return=m,m.child=d}function QM(d,m,g,C,T){if(d!==null){var L=d.memoizedProps;if(Yu(L,C)&&d.ref===m.ref)if(Ys=!1,m.pendingProps=C=L,(d.lanes&T)!==0)(d.flags&131072)!==0&&(Ys=!0);else return m.lanes=d.lanes,vl(d,m,T)}return S1(d,m,g,C,T)}function ZM(d,m,g){var C=m.pendingProps,T=C.children,L=d!==null?d.memoizedState:null;if(C.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Lh,_a),_a|=g;else{if((g&1073741824)===0)return d=L!==null?L.baseLanes|g:g,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Cn(Lh,_a),_a|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=L!==null?L.baseLanes:g,Cn(Lh,_a),_a|=C}else L!==null?(C=L.baseLanes|g,m.memoizedState=null):C=g,Cn(Lh,_a),_a|=C;return Rs(d,m,T,g),m.child}function JM(d,m){var g=m.ref;(d===null&&g!==null||d!==null&&d.ref!==g)&&(m.flags|=512,m.flags|=2097152)}function S1(d,m,g,C,T){var L=ss(g)?pl:Gr.current;return L=Ac(m,L),Rc(m,T),g=p1(d,m,g,C,L,T),C=x1(),d!==null&&!Ys?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T,vl(d,m,T)):(In&&C&&vp(m),m.flags|=1,Rs(d,m,g,T),m.child)}function eR(d,m,g,C,T){if(ss(g)){var L=!0;_h(m)}else L=!1;if(Rc(m,T),m.stateNode===null)Cy(d,m),VM(m,g,C),j1(m,g,C,T),C=!0;else if(d===null){var G=m.stateNode,ie=m.memoizedProps;G.props=ie;var de=G.context,we=g.contextType;typeof we=="object"&&we!==null?we=Hs(we):(we=ss(g)?pl:Gr.current,we=Ac(m,we));var Re=g.getDerivedStateFromProps,Le=typeof Re=="function"||typeof G.getSnapshotBeforeUpdate=="function";Le||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ie!==C||de!==we)&&UM(m,G,C,we),Ms=!1;var Me=m.memoizedState;G.state=Me,Pi(m,C,G,T),de=m.memoizedState,ie!==C||Me!==de||ps.current||Ms?(typeof Re=="function"&&(w1(m,g,Re,C),de=m.memoizedState),(ie=Ms||BM(m,g,ie,C,Me,de,we))?(Le||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(m.flags|=4194308)):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=de),G.props=C,G.state=de,G.context=we,C=ie):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{G=m.stateNode,vy(d,m),ie=m.memoizedProps,we=m.type===m.elementType?ie:Ai(m.type,ie),G.props=we,Le=m.pendingProps,Me=G.context,de=g.contextType,typeof de=="object"&&de!==null?de=Hs(de):(de=ss(g)?pl:Gr.current,de=Ac(m,de));var tt=g.getDerivedStateFromProps;(Re=typeof tt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ie!==Le||Me!==de)&&UM(m,G,C,de),Ms=!1,Me=m.memoizedState,G.state=Me,Pi(m,C,G,T);var ot=m.memoizedState;ie!==Le||Me!==ot||ps.current||Ms?(typeof tt=="function"&&(w1(m,g,tt,C),ot=m.memoizedState),(we=Ms||BM(m,g,we,C,Me,ot,de)||!1)?(Re||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(C,ot,de),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(C,ot,de)),typeof G.componentDidUpdate=="function"&&(m.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof G.componentDidUpdate!="function"||ie===d.memoizedProps&&Me===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ie===d.memoizedProps&&Me===d.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=ot),G.props=C,G.state=ot,G.context=de,C=we):(typeof G.componentDidUpdate!="function"||ie===d.memoizedProps&&Me===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ie===d.memoizedProps&&Me===d.memoizedState||(m.flags|=1024),C=!1)}return C1(d,m,g,C,L,T)}function C1(d,m,g,C,T,L){JM(d,m);var G=(m.flags&128)!==0;if(!C&&!G)return T&&dy(m,g,!1),vl(d,m,L);C=m.stateNode,TZ.current=m;var ie=G&&typeof g.getDerivedStateFromError!="function"?null:C.render();return m.flags|=1,d!==null&&G?(m.child=Tc(m,d.child,null,L),m.child=Tc(m,null,ie,L)):Rs(d,m,ie,L),m.memoizedState=C.state,T&&dy(m,g,!0),m.child}function tR(d){var m=d.stateNode;m.pendingContext?uy(d,m.pendingContext,m.pendingContext!==m.context):m.context&&uy(d,m.context,!1),Z(d,m.containerInfo)}function nR(d,m,g,C,T){return gl(),Np(T),m.flags|=256,Rs(d,m,g,C),m.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function E1(d){return{baseLanes:d,cachePool:null,transitions:null}}function rR(d,m,g){var C=m.pendingProps,T=et.current,L=!1,G=(m.flags&128)!==0,ie;if((ie=G)||(ie=d!==null&&d.memoizedState===null?!1:(T&2)!==0),ie?(L=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(T|=1),Cn(et,T&1),d===null)return kh(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(G=C.children,d=C.fallback,L?(C=m.mode,L=m.child,G={mode:"hidden",children:G},(C&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=G):L=Fy(G,C,0,null),d=id(d,C,g,null),L.return=m,d.return=m,L.sibling=d,m.child=L,m.child.memoizedState=E1(g),m.memoizedState=k1,d):P1(m,G));if(T=d.memoizedState,T!==null&&(ie=T.dehydrated,ie!==null))return MZ(d,m,G,C,ie,T,g);if(L){L=C.fallback,G=m.mode,T=d.child,ie=T.sibling;var de={mode:"hidden",children:C.children};return(G&1)===0&&m.child!==T?(C=m.child,C.childLanes=0,C.pendingProps=de,m.deletions=null):(C=$c(T,de),C.subtreeFlags=T.subtreeFlags&14680064),ie!==null?L=$c(ie,L):(L=id(L,G,g,null),L.flags|=2),L.return=m,C.return=m,C.sibling=L,m.child=C,C=L,L=m.child,G=d.child.memoizedState,G=G===null?E1(g):{baseLanes:G.baseLanes|g,cachePool:null,transitions:G.transitions},L.memoizedState=G,L.childLanes=d.childLanes&~g,m.memoizedState=k1,C}return L=d.child,d=L.sibling,C=$c(L,{mode:"visible",children:C.children}),(m.mode&1)===0&&(C.lanes=g),C.return=m,C.sibling=null,d!==null&&(g=m.deletions,g===null?(m.deletions=[d],m.flags|=16):g.push(d)),m.child=C,m.memoizedState=null,C}function P1(d,m){return m=Fy({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Sy(d,m,g,C){return C!==null&&Np(C),Tc(m,d.child,null,g),d=P1(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function MZ(d,m,g,C,T,L,G){if(g)return m.flags&256?(m.flags&=-257,C=N1(Error(n(422))),Sy(d,m,G,C)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(L=C.fallback,T=m.mode,C=Fy({mode:"visible",children:C.children},T,0,null),L=id(L,T,G,null),L.flags|=2,C.return=m,L.return=m,C.sibling=L,m.child=C,(m.mode&1)!==0&&Tc(m,d.child,null,G),m.child.memoizedState=E1(G),m.memoizedState=k1,L);if((m.mode&1)===0)return Sy(d,m,G,null);if(T.data==="$!"){if(C=T.nextSibling&&T.nextSibling.dataset,C)var ie=C.dgst;return C=ie,L=Error(n(419)),C=N1(L,C,void 0),Sy(d,m,G,C)}if(ie=(G&d.childLanes)!==0,Ys||ie){if(C=Xr,C!==null){switch(G&-G){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(C.suspendedLanes|G))!==0?0:T,T!==0&&T!==L.retryLane&&(L.retryLane=T,Mr(d,T),Mi(C,d,T,-1))}return q1(),C=N1(Error(n(421))),Sy(d,m,G,C)}return T.data==="$?"?(m.flags|=128,m.child=d.child,m=HZ.bind(null,d),T._reactRetry=m,null):(d=L.treeContext,Ts=wo(T.nextSibling),or=m,In=!0,wa=null,d!==null&&(At[as++]=ba,At[as++]=Ci,At[as++]=So,ba=d.id,Ci=d.overflow,So=m),m=P1(m,C.children),m.flags|=4096,m)}function sR(d,m,g){d.lanes|=m;var C=d.alternate;C!==null&&(C.lanes|=m),Cp(d.return,m,g)}function A1(d,m,g,C,T){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:T}:(L.isBackwards=m,L.rendering=null,L.renderingStartTime=0,L.last=C,L.tail=g,L.tailMode=T)}function aR(d,m,g){var C=m.pendingProps,T=C.revealOrder,L=C.tail;if(Rs(d,m,C.children,g),C=et.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&sR(d,g,m);else if(d.tag===19)sR(d,g,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}if(Cn(et,C),(m.mode&1)===0)m.memoizedState=null;else switch(T){case"forwards":for(g=m.child,T=null;g!==null;)d=g.alternate,d!==null&&zt(d)===null&&(T=g),g=g.sibling;g=T,g===null?(T=m.child,m.child=null):(T=g.sibling,g.sibling=null),A1(m,!1,T,g,L);break;case"backwards":for(g=null,T=m.child,m.child=null;T!==null;){if(d=T.alternate,d!==null&&zt(d)===null){m.child=T;break}d=T.sibling,T.sibling=g,g=T,T=d}A1(m,!0,g,null,L);break;case"together":A1(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Cy(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function vl(d,m,g){if(d!==null&&(m.dependencies=d.dependencies),nd|=m.lanes,(g&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,g=$c(d,d.pendingProps),m.child=g,g.return=m;d.sibling!==null;)d=d.sibling,g=g.sibling=$c(d,d.pendingProps),g.return=m;g.sibling=null}return m.child}function RZ(d,m,g){switch(m.tag){case 3:tR(m),gl();break;case 5:_e(m);break;case 1:ss(m.type)&&_h(m);break;case 4:Z(m,m.stateNode.containerInfo);break;case 10:var C=m.type._context,T=m.memoizedProps.value;Cn(Oh,C._currentValue),C._currentValue=T;break;case 13:if(C=m.memoizedState,C!==null)return C.dehydrated!==null?(Cn(et,et.current&1),m.flags|=128,null):(g&m.child.childLanes)!==0?rR(d,m,g):(Cn(et,et.current&1),d=vl(d,m,g),d!==null?d.sibling:null);Cn(et,et.current&1);break;case 19:if(C=(g&m.childLanes)!==0,(d.flags&128)!==0){if(C)return aR(d,m,g);m.flags|=128}if(T=m.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Cn(et,et.current),C)break;return null;case 22:case 23:return m.lanes=0,ZM(d,m,g)}return vl(d,m,g)}var iR,O1,oR,lR;iR=function(d,m){for(var g=m.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},O1=function(){},oR=function(d,m,g,C){var T=d.memoizedProps;if(T!==C){d=m.stateNode,z(w.current);var L=null;switch(g){case"input":T=Ce(d,T),C=Ce(d,C),L=[];break;case"select":T=F({},T,{value:void 0}),C=F({},C,{value:void 0}),L=[];break;case"textarea":T=mr(d,T),C=mr(d,C),L=[];break;default:typeof T.onClick!="function"&&typeof C.onClick=="function"&&(d.onclick=wh)}Jn(g,C);var G;g=null;for(we in T)if(!C.hasOwnProperty(we)&&T.hasOwnProperty(we)&&T[we]!=null)if(we==="style"){var ie=T[we];for(G in ie)ie.hasOwnProperty(G)&&(g||(g={}),g[G]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(a.hasOwnProperty(we)?L||(L=[]):(L=L||[]).push(we,null));for(we in C){var de=C[we];if(ie=T!=null?T[we]:void 0,C.hasOwnProperty(we)&&de!==ie&&(de!=null||ie!=null))if(we==="style")if(ie){for(G in ie)!ie.hasOwnProperty(G)||de&&de.hasOwnProperty(G)||(g||(g={}),g[G]="");for(G in de)de.hasOwnProperty(G)&&ie[G]!==de[G]&&(g||(g={}),g[G]=de[G])}else g||(L||(L=[]),L.push(we,g)),g=de;else we==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ie=ie?ie.__html:void 0,de!=null&&ie!==de&&(L=L||[]).push(we,de)):we==="children"?typeof de!="string"&&typeof de!="number"||(L=L||[]).push(we,""+de):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(a.hasOwnProperty(we)?(de!=null&&we==="onScroll"&&Dn("scroll",d),L||ie===de||(L=[])):(L=L||[]).push(we,de))}g&&(L=L||[]).push("style",g);var we=L;(m.updateQueue=we)&&(m.flags|=4)}},lR=function(d,m,g,C){g!==C&&(m.flags|=4)};function Mp(d,m){if(!In)switch(d.tailMode){case"hidden":m=d.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?d.tail=null:g.sibling=null;break;case"collapsed":g=d.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function gs(d){var m=d.alternate!==null&&d.alternate.child===d.child,g=0,C=0;if(m)for(var T=d.child;T!==null;)g|=T.lanes|T.childLanes,C|=T.subtreeFlags&14680064,C|=T.flags&14680064,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)g|=T.lanes|T.childLanes,C|=T.subtreeFlags,C|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=C,d.childLanes=g,m}function DZ(d,m,g){var C=m.pendingProps;switch(bp(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(m),null;case 1:return ss(m.type)&&Nh(),gs(m),null;case 3:return C=m.stateNode,le(),pn(ps),pn(Gr),ja(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(d===null||d.child===null)&&(Ph(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,wa!==null&&(V1(wa),wa=null))),O1(d,m),gs(m),null;case 5:Ze(m);var T=z(I.current);if(g=m.type,d!==null&&m.stateNode!=null)oR(d,m,g,C,T),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!C){if(m.stateNode===null)throw Error(n(166));return gs(m),null}if(d=z(w.current),Ph(m)){C=m.stateNode,g=m.type;var L=m.memoizedProps;switch(C[Ha]=m,C[Xu]=L,d=(m.mode&1)!==0,g){case"dialog":Dn("cancel",C),Dn("close",C);break;case"iframe":case"object":case"embed":Dn("load",C);break;case"video":case"audio":for(T=0;T<Ku.length;T++)Dn(Ku[T],C);break;case"source":Dn("error",C);break;case"img":case"image":case"link":Dn("error",C),Dn("load",C);break;case"details":Dn("toggle",C);break;case"input":yt(C,L),Dn("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!L.multiple},Dn("invalid",C);break;case"textarea":io(C,L),Dn("invalid",C)}Jn(g,L),T=null;for(var G in L)if(L.hasOwnProperty(G)){var ie=L[G];G==="children"?typeof ie=="string"?C.textContent!==ie&&(L.suppressHydrationWarning!==!0&&bh(C.textContent,ie,d),T=["children",ie]):typeof ie=="number"&&C.textContent!==""+ie&&(L.suppressHydrationWarning!==!0&&bh(C.textContent,ie,d),T=["children",""+ie]):a.hasOwnProperty(G)&&ie!=null&&G==="onScroll"&&Dn("scroll",C)}switch(g){case"input":Oe(C),Jt(C,L,!0);break;case"textarea":Oe(C),oo(C);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(C.onclick=wh)}C=T,m.updateQueue=C,C!==null&&(m.flags|=4)}else{G=T.nodeType===9?T:T.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Ne(g)),d==="http://www.w3.org/1999/xhtml"?g==="script"?(d=G.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof C.is=="string"?d=G.createElement(g,{is:C.is}):(d=G.createElement(g),g==="select"&&(G=d,C.multiple?G.multiple=!0:C.size&&(G.size=C.size))):d=G.createElementNS(d,g),d[Ha]=m,d[Xu]=C,iR(d,m,!1,!1),m.stateNode=d;e:{switch(G=Es(g,C),g){case"dialog":Dn("cancel",d),Dn("close",d),T=C;break;case"iframe":case"object":case"embed":Dn("load",d),T=C;break;case"video":case"audio":for(T=0;T<Ku.length;T++)Dn(Ku[T],d);T=C;break;case"source":Dn("error",d),T=C;break;case"img":case"image":case"link":Dn("error",d),Dn("load",d),T=C;break;case"details":Dn("toggle",d),T=C;break;case"input":yt(d,C),T=Ce(d,C),Dn("invalid",d);break;case"option":T=C;break;case"select":d._wrapperState={wasMultiple:!!C.multiple},T=F({},C,{value:void 0}),Dn("invalid",d);break;case"textarea":io(d,C),T=mr(d,C),Dn("invalid",d);break;default:T=C}Jn(g,T),ie=T;for(L in ie)if(ie.hasOwnProperty(L)){var de=ie[L];L==="style"?Ba(d,de):L==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Tt(d,de)):L==="children"?typeof de=="string"?(g!=="textarea"||de!=="")&&pt(d,de):typeof de=="number"&&pt(d,""+de):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?de!=null&&L==="onScroll"&&Dn("scroll",d):de!=null&&S(d,L,de,G))}switch(g){case"input":Oe(d),Jt(d,C,!1);break;case"textarea":Oe(d),oo(d);break;case"option":C.value!=null&&d.setAttribute("value",""+ce(C.value));break;case"select":d.multiple=!!C.multiple,L=C.value,L!=null?Yt(d,!!C.multiple,L,!1):C.defaultValue!=null&&Yt(d,!!C.multiple,C.defaultValue,!0);break;default:typeof T.onClick=="function"&&(d.onclick=wh)}switch(g){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return gs(m),null;case 6:if(d&&m.stateNode!=null)lR(d,m,d.memoizedProps,C);else{if(typeof C!="string"&&m.stateNode===null)throw Error(n(166));if(g=z(I.current),z(w.current),Ph(m)){if(C=m.stateNode,g=m.memoizedProps,C[Ha]=m,(L=C.nodeValue!==g)&&(d=or,d!==null))switch(d.tag){case 3:bh(C.nodeValue,g,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&bh(C.nodeValue,g,(d.mode&1)!==0)}L&&(m.flags|=4)}else C=(g.nodeType===9?g:g.ownerDocument).createTextNode(C),C[Ha]=m,m.stateNode=C}return gs(m),null;case 13:if(pn(et),C=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(In&&Ts!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Ga(),gl(),m.flags|=98560,L=!1;else if(L=Ph(m),C!==null&&C.dehydrated!==null){if(d===null){if(!L)throw Error(n(318));if(L=m.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[Ha]=m}else gl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;gs(m),L=!1}else wa!==null&&(V1(wa),wa=null),L=!0;if(!L)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=g,m):(C=C!==null,C!==(d!==null&&d.memoizedState!==null)&&C&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(et.current&1)!==0?Ir===0&&(Ir=3):q1())),m.updateQueue!==null&&(m.flags|=4),gs(m),null);case 4:return le(),O1(d,m),d===null&&Cc(m.stateNode.containerInfo),gs(m),null;case 10:return Sp(m.type._context),gs(m),null;case 17:return ss(m.type)&&Nh(),gs(m),null;case 19:if(pn(et),L=m.memoizedState,L===null)return gs(m),null;if(C=(m.flags&128)!==0,G=L.rendering,G===null)if(C)Mp(L,!1);else{if(Ir!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(G=zt(d),G!==null){for(m.flags|=128,Mp(L,!1),C=G.updateQueue,C!==null&&(m.updateQueue=C,m.flags|=4),m.subtreeFlags=0,C=g,g=m.child;g!==null;)L=g,d=C,L.flags&=14680066,G=L.alternate,G===null?(L.childLanes=0,L.lanes=d,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=G.childLanes,L.lanes=G.lanes,L.child=G.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=G.memoizedProps,L.memoizedState=G.memoizedState,L.updateQueue=G.updateQueue,L.type=G.type,d=G.dependencies,L.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),g=g.sibling;return Cn(et,et.current&1|2),m.child}d=d.sibling}L.tail!==null&&ir()>Fh&&(m.flags|=128,C=!0,Mp(L,!1),m.lanes=4194304)}else{if(!C)if(d=zt(G),d!==null){if(m.flags|=128,C=!0,g=d.updateQueue,g!==null&&(m.updateQueue=g,m.flags|=4),Mp(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!In)return gs(m),null}else 2*ir()-L.renderingStartTime>Fh&&g!==1073741824&&(m.flags|=128,C=!0,Mp(L,!1),m.lanes=4194304);L.isBackwards?(G.sibling=m.child,m.child=G):(g=L.last,g!==null?g.sibling=G:m.child=G,L.last=G)}return L.tail!==null?(m=L.tail,L.rendering=m,L.tail=m.sibling,L.renderingStartTime=ir(),m.sibling=null,g=et.current,Cn(et,C?g&1|2:g&1),m):(gs(m),null);case 22:case 23:return W1(),C=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==C&&(m.flags|=8192),C&&(m.mode&1)!==0?(_a&1073741824)!==0&&(gs(m),m.subtreeFlags&6&&(m.flags|=8192)):gs(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function IZ(d,m){switch(bp(m),m.tag){case 1:return ss(m.type)&&Nh(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return le(),pn(ps),pn(Gr),ja(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return Ze(m),null;case 13:if(pn(et),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));gl()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return pn(et),null;case 4:return le(),null;case 10:return Sp(m.type._context),null;case 22:case 23:return W1(),null;case 24:return null;default:return null}}var ky=!1,ys=!1,LZ=typeof WeakSet=="function"?WeakSet:Set,at=null;function Ih(d,m){var g=d.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(C){pr(d,m,C)}else g.current=null}function T1(d,m,g){try{g()}catch(C){pr(d,m,C)}}var cR=!1;function FZ(d,m){if(dp=vc,d=qs(),wi(d)){if("selectionStart"in d)var g={start:d.selectionStart,end:d.selectionEnd};else e:{g=(g=d.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var T=C.anchorOffset,L=C.focusNode;C=C.focusOffset;try{g.nodeType,L.nodeType}catch{g=null;break e}var G=0,ie=-1,de=-1,we=0,Re=0,Le=d,Me=null;t:for(;;){for(var tt;Le!==g||T!==0&&Le.nodeType!==3||(ie=G+T),Le!==L||C!==0&&Le.nodeType!==3||(de=G+C),Le.nodeType===3&&(G+=Le.nodeValue.length),(tt=Le.firstChild)!==null;)Me=Le,Le=tt;for(;;){if(Le===d)break t;if(Me===g&&++we===T&&(ie=G),Me===L&&++Re===C&&(de=G),(tt=Le.nextSibling)!==null)break;Le=Me,Me=Le.parentNode}Le=tt}g=ie===-1||de===-1?null:{start:ie,end:de}}else g=null}g=g||{start:0,end:0}}else g=null;for(hp={focusedElem:d,selectionRange:g},vc=!1,at=m;at!==null;)if(m=at,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,at=d;else for(;at!==null;){m=at;try{var ot=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ht=ot.memoizedProps,jr=ot.memoizedState,ye=m.stateNode,me=ye.getSnapshotBeforeUpdate(m.elementType===m.type?ht:Ai(m.type,ht),jr);ye.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var ve=m.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ve){pr(m,m.return,Ve)}if(d=m.sibling,d!==null){d.return=m.return,at=d;break}at=m.return}return ot=cR,cR=!1,ot}function Rp(d,m,g){var C=m.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var T=C=C.next;do{if((T.tag&d)===d){var L=T.destroy;T.destroy=void 0,L!==void 0&&T1(m,g,L)}T=T.next}while(T!==C)}}function Ey(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var g=m=m.next;do{if((g.tag&d)===d){var C=g.create;g.destroy=C()}g=g.next}while(g!==m)}}function M1(d){var m=d.ref;if(m!==null){var g=d.stateNode;switch(d.tag){case 5:d=g;break;default:d=g}typeof m=="function"?m(d):m.current=d}}function uR(d){var m=d.alternate;m!==null&&(d.alternate=null,uR(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Ha],delete m[Xu],delete m[xp],delete m[c1],delete m[u1])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function dR(d){return d.tag===5||d.tag===3||d.tag===4}function hR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||dR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function R1(d,m,g){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?g.nodeType===8?g.parentNode.insertBefore(d,m):g.insertBefore(d,m):(g.nodeType===8?(m=g.parentNode,m.insertBefore(d,g)):(m=g,m.appendChild(d)),g=g._reactRootContainer,g!=null||m.onclick!==null||(m.onclick=wh));else if(C!==4&&(d=d.child,d!==null))for(R1(d,m,g),d=d.sibling;d!==null;)R1(d,m,g),d=d.sibling}function D1(d,m,g){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?g.insertBefore(d,m):g.appendChild(d);else if(C!==4&&(d=d.child,d!==null))for(D1(d,m,g),d=d.sibling;d!==null;)D1(d,m,g),d=d.sibling}var is=null,Oi=!1;function Dc(d,m,g){for(g=g.child;g!==null;)fR(d,m,g),g=g.sibling}function fR(d,m,g){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(Pu,g)}catch{}switch(g.tag){case 5:ys||Ih(g,m);case 6:var C=is,T=Oi;is=null,Dc(d,m,g),is=C,Oi=T,is!==null&&(Oi?(d=is,g=g.stateNode,d.nodeType===8?d.parentNode.removeChild(g):d.removeChild(g)):is.removeChild(g.stateNode));break;case 18:is!==null&&(Oi?(d=is,g=g.stateNode,d.nodeType===8?pp(d.parentNode,g):d.nodeType===1&&pp(d,g),Fu(d)):pp(is,g.stateNode));break;case 4:C=is,T=Oi,is=g.stateNode.containerInfo,Oi=!0,Dc(d,m,g),is=C,Oi=T;break;case 0:case 11:case 14:case 15:if(!ys&&(C=g.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){T=C=C.next;do{var L=T,G=L.destroy;L=L.tag,G!==void 0&&((L&2)!==0||(L&4)!==0)&&T1(g,m,G),T=T.next}while(T!==C)}Dc(d,m,g);break;case 1:if(!ys&&(Ih(g,m),C=g.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=g.memoizedProps,C.state=g.memoizedState,C.componentWillUnmount()}catch(ie){pr(g,m,ie)}Dc(d,m,g);break;case 21:Dc(d,m,g);break;case 22:g.mode&1?(ys=(C=ys)||g.memoizedState!==null,Dc(d,m,g),ys=C):Dc(d,m,g);break;default:Dc(d,m,g)}}function mR(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var g=d.stateNode;g===null&&(g=d.stateNode=new LZ),m.forEach(function(C){var T=YZ.bind(null,d,C);g.has(C)||(g.add(C),C.then(T,T))})}}function Ti(d,m){var g=m.deletions;if(g!==null)for(var C=0;C<g.length;C++){var T=g[C];try{var L=d,G=m,ie=G;e:for(;ie!==null;){switch(ie.tag){case 5:is=ie.stateNode,Oi=!1;break e;case 3:is=ie.stateNode.containerInfo,Oi=!0;break e;case 4:is=ie.stateNode.containerInfo,Oi=!0;break e}ie=ie.return}if(is===null)throw Error(n(160));fR(L,G,T),is=null,Oi=!1;var de=T.alternate;de!==null&&(de.return=null),T.return=null}catch(we){pr(T,m,we)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)pR(m,d),m=m.sibling}function pR(d,m){var g=d.alternate,C=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ti(m,d),Eo(d),C&4){try{Rp(3,d,d.return),Ey(3,d)}catch(ht){pr(d,d.return,ht)}try{Rp(5,d,d.return)}catch(ht){pr(d,d.return,ht)}}break;case 1:Ti(m,d),Eo(d),C&512&&g!==null&&Ih(g,g.return);break;case 5:if(Ti(m,d),Eo(d),C&512&&g!==null&&Ih(g,g.return),d.flags&32){var T=d.stateNode;try{pt(T,"")}catch(ht){pr(d,d.return,ht)}}if(C&4&&(T=d.stateNode,T!=null)){var L=d.memoizedProps,G=g!==null?g.memoizedProps:L,ie=d.type,de=d.updateQueue;if(d.updateQueue=null,de!==null)try{ie==="input"&&L.type==="radio"&&L.name!=null&&st(T,L),Es(ie,G);var we=Es(ie,L);for(G=0;G<de.length;G+=2){var Re=de[G],Le=de[G+1];Re==="style"?Ba(T,Le):Re==="dangerouslySetInnerHTML"?Tt(T,Le):Re==="children"?pt(T,Le):S(T,Re,Le,we)}switch(ie){case"input":xt(T,L);break;case"textarea":cl(T,L);break;case"select":var Me=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!L.multiple;var tt=L.value;tt!=null?Yt(T,!!L.multiple,tt,!1):Me!==!!L.multiple&&(L.defaultValue!=null?Yt(T,!!L.multiple,L.defaultValue,!0):Yt(T,!!L.multiple,L.multiple?[]:"",!1))}T[Xu]=L}catch(ht){pr(d,d.return,ht)}}break;case 6:if(Ti(m,d),Eo(d),C&4){if(d.stateNode===null)throw Error(n(162));T=d.stateNode,L=d.memoizedProps;try{T.nodeValue=L}catch(ht){pr(d,d.return,ht)}}break;case 3:if(Ti(m,d),Eo(d),C&4&&g!==null&&g.memoizedState.isDehydrated)try{Fu(m.containerInfo)}catch(ht){pr(d,d.return,ht)}break;case 4:Ti(m,d),Eo(d);break;case 13:Ti(m,d),Eo(d),T=d.child,T.flags&8192&&(L=T.memoizedState!==null,T.stateNode.isHidden=L,!L||T.alternate!==null&&T.alternate.memoizedState!==null||(F1=ir())),C&4&&mR(d);break;case 22:if(Re=g!==null&&g.memoizedState!==null,d.mode&1?(ys=(we=ys)||Re,Ti(m,d),ys=we):Ti(m,d),Eo(d),C&8192){if(we=d.memoizedState!==null,(d.stateNode.isHidden=we)&&!Re&&(d.mode&1)!==0)for(at=d,Re=d.child;Re!==null;){for(Le=at=Re;at!==null;){switch(Me=at,tt=Me.child,Me.tag){case 0:case 11:case 14:case 15:Rp(4,Me,Me.return);break;case 1:Ih(Me,Me.return);var ot=Me.stateNode;if(typeof ot.componentWillUnmount=="function"){C=Me,g=Me.return;try{m=C,ot.props=m.memoizedProps,ot.state=m.memoizedState,ot.componentWillUnmount()}catch(ht){pr(C,g,ht)}}break;case 5:Ih(Me,Me.return);break;case 22:if(Me.memoizedState!==null){yR(Le);continue}}tt!==null?(tt.return=Me,at=tt):yR(Le)}Re=Re.sibling}e:for(Re=null,Le=d;;){if(Le.tag===5){if(Re===null){Re=Le;try{T=Le.stateNode,we?(L=T.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ie=Le.stateNode,de=Le.memoizedProps.style,G=de!=null&&de.hasOwnProperty("display")?de.display:null,ie.style.display=ns("display",G))}catch(ht){pr(d,d.return,ht)}}}else if(Le.tag===6){if(Re===null)try{Le.stateNode.nodeValue=we?"":Le.memoizedProps}catch(ht){pr(d,d.return,ht)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===d)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===d)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===d)break e;Re===Le&&(Re=null),Le=Le.return}Re===Le&&(Re=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:Ti(m,d),Eo(d),C&4&&mR(d);break;case 21:break;default:Ti(m,d),Eo(d)}}function Eo(d){var m=d.flags;if(m&2){try{e:{for(var g=d.return;g!==null;){if(dR(g)){var C=g;break e}g=g.return}throw Error(n(160))}switch(C.tag){case 5:var T=C.stateNode;C.flags&32&&(pt(T,""),C.flags&=-33);var L=hR(d);D1(d,L,T);break;case 3:case 4:var G=C.stateNode.containerInfo,ie=hR(d);R1(d,ie,G);break;default:throw Error(n(161))}}catch(de){pr(d,d.return,de)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function zZ(d,m,g){at=d,xR(d)}function xR(d,m,g){for(var C=(d.mode&1)!==0;at!==null;){var T=at,L=T.child;if(T.tag===22&&C){var G=T.memoizedState!==null||ky;if(!G){var ie=T.alternate,de=ie!==null&&ie.memoizedState!==null||ys;ie=ky;var we=ys;if(ky=G,(ys=de)&&!we)for(at=T;at!==null;)G=at,de=G.child,G.tag===22&&G.memoizedState!==null?vR(T):de!==null?(de.return=G,at=de):vR(T);for(;L!==null;)at=L,xR(L),L=L.sibling;at=T,ky=ie,ys=we}gR(d)}else(T.subtreeFlags&8772)!==0&&L!==null?(L.return=T,at=L):gR(d)}}function gR(d){for(;at!==null;){var m=at;if((m.flags&8772)!==0){var g=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ys||Ey(5,m);break;case 1:var C=m.stateNode;if(m.flags&4&&!ys)if(g===null)C.componentDidMount();else{var T=m.elementType===m.type?g.memoizedProps:Ai(m.type,g.memoizedProps);C.componentDidUpdate(T,g.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var L=m.updateQueue;L!==null&&ed(m,L,C);break;case 3:var G=m.updateQueue;if(G!==null){if(g=null,m.child!==null)switch(m.child.tag){case 5:g=m.child.stateNode;break;case 1:g=m.child.stateNode}ed(m,G,g)}break;case 5:var ie=m.stateNode;if(g===null&&m.flags&4){g=ie;var de=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&g.focus();break;case"img":de.src&&(g.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var we=m.alternate;if(we!==null){var Re=we.memoizedState;if(Re!==null){var Le=Re.dehydrated;Le!==null&&Fu(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ys||m.flags&512&&M1(m)}catch(Me){pr(m,m.return,Me)}}if(m===d){at=null;break}if(g=m.sibling,g!==null){g.return=m.return,at=g;break}at=m.return}}function yR(d){for(;at!==null;){var m=at;if(m===d){at=null;break}var g=m.sibling;if(g!==null){g.return=m.return,at=g;break}at=m.return}}function vR(d){for(;at!==null;){var m=at;try{switch(m.tag){case 0:case 11:case 15:var g=m.return;try{Ey(4,m)}catch(de){pr(m,g,de)}break;case 1:var C=m.stateNode;if(typeof C.componentDidMount=="function"){var T=m.return;try{C.componentDidMount()}catch(de){pr(m,T,de)}}var L=m.return;try{M1(m)}catch(de){pr(m,L,de)}break;case 5:var G=m.return;try{M1(m)}catch(de){pr(m,G,de)}}}catch(de){pr(m,m.return,de)}if(m===d){at=null;break}var ie=m.sibling;if(ie!==null){ie.return=m.return,at=ie;break}at=m.return}}var $Z=Math.ceil,Py=E.ReactCurrentDispatcher,I1=E.ReactCurrentOwner,Xa=E.ReactCurrentBatchConfig,en=0,Xr=null,kr=null,os=0,_a=0,Lh=Ya(0),Ir=0,Dp=null,nd=0,Ay=0,L1=0,Ip=null,Gs=null,F1=0,Fh=1/0,bl=null,Oy=!1,z1=null,Ic=null,Ty=!1,Lc=null,My=0,Lp=0,$1=null,Ry=-1,Dy=0;function Ds(){return(en&6)!==0?ir():Ry!==-1?Ry:Ry=ir()}function Fc(d){return(d.mode&1)===0?1:(en&2)!==0&&os!==0?os&-os:h1.transition!==null?(Dy===0&&(Dy=mc()),Dy):(d=hn,d!==0||(d=window.event,d=d===void 0?16:Ig(d.type)),d)}function Mi(d,m,g,C){if(50<Lp)throw Lp=0,$1=null,Error(n(185));xc(d,g,C),((en&2)===0||d!==Xr)&&(d===Xr&&((en&2)===0&&(Ay|=g),Ir===4&&zc(d,os)),Ks(d,C),g===1&&en===0&&(m.mode&1)===0&&(Fh=ir()+500,va&&_o()))}function Ks(d,m){var g=d.callbackNode;kg(d,m);var C=ih(d,d===Xr?os:0);if(C===0)g!==null&&dl(g),d.callbackNode=null,d.callbackPriority=0;else if(m=C&-C,d.callbackPriority!==m){if(g!=null&&dl(g),m===1)d.tag===0?d1(wR.bind(null,d)):hy(wR.bind(null,d)),o1(function(){(en&6)===0&&_o()}),g=null;else{switch(Eg(C)){case 1:g=Bm;break;case 4:g=er;break;case 16:g=fc;break;case 536870912:g=Vm;break;default:g=fc}g=PR(g,bR.bind(null,d))}d.callbackPriority=m,d.callbackNode=g}}function bR(d,m){if(Ry=-1,Dy=0,(en&6)!==0)throw Error(n(327));var g=d.callbackNode;if(zh()&&d.callbackNode!==g)return null;var C=ih(d,d===Xr?os:0);if(C===0)return null;if((C&30)!==0||(C&d.expiredLanes)!==0||m)m=Iy(d,C);else{m=C;var T=en;en|=2;var L=NR();(Xr!==d||os!==m)&&(bl=null,Fh=ir()+500,sd(d,m));do try{UZ();break}catch(ie){jR(d,ie)}while(!0);_p(),Py.current=L,en=T,kr!==null?m=0:(Xr=null,os=0,m=Ir)}if(m!==0){if(m===2&&(T=Um(d),T!==0&&(C=T,m=B1(d,T))),m===1)throw g=Dp,sd(d,0),zc(d,C),Ks(d,ir()),g;if(m===6)zc(d,C);else{if(T=d.current.alternate,(C&30)===0&&!BZ(T)&&(m=Iy(d,C),m===2&&(L=Um(d),L!==0&&(C=L,m=B1(d,L))),m===1))throw g=Dp,sd(d,0),zc(d,C),Ks(d,ir()),g;switch(d.finishedWork=T,d.finishedLanes=C,m){case 0:case 1:throw Error(n(345));case 2:ad(d,Gs,bl);break;case 3:if(zc(d,C),(C&130023424)===C&&(m=F1+500-ir(),10<m)){if(ih(d,0)!==0)break;if(T=d.suspendedLanes,(T&C)!==C){Ds(),d.pingedLanes|=d.suspendedLanes&T;break}d.timeoutHandle=mp(ad.bind(null,d,Gs,bl),m);break}ad(d,Gs,bl);break;case 4:if(zc(d,C),(C&4194240)===C)break;for(m=d.eventTimes,T=-1;0<C;){var G=31-xa(C);L=1<<G,G=m[G],G>T&&(T=G),C&=~L}if(C=T,C=ir()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*$Z(C/1960))-C,10<C){d.timeoutHandle=mp(ad.bind(null,d,Gs,bl),C);break}ad(d,Gs,bl);break;case 5:ad(d,Gs,bl);break;default:throw Error(n(329))}}}return Ks(d,ir()),d.callbackNode===g?bR.bind(null,d):null}function B1(d,m){var g=Ip;return d.current.memoizedState.isDehydrated&&(sd(d,m).flags|=256),d=Iy(d,m),d!==2&&(m=Gs,Gs=g,m!==null&&V1(m)),d}function V1(d){Gs===null?Gs=d:Gs.push.apply(Gs,d)}function BZ(d){for(var m=d;;){if(m.flags&16384){var g=m.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var C=0;C<g.length;C++){var T=g[C],L=T.getSnapshot;T=T.value;try{if(!ya(L(),T))return!1}catch{return!1}}}if(g=m.child,m.subtreeFlags&16384&&g!==null)g.return=m,m=g;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function zc(d,m){for(m&=~L1,m&=~Ay,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var g=31-xa(m),C=1<<g;d[g]=-1,m&=~C}}function wR(d){if((en&6)!==0)throw Error(n(327));zh();var m=ih(d,0);if((m&1)===0)return Ks(d,ir()),null;var g=Iy(d,m);if(d.tag!==0&&g===2){var C=Um(d);C!==0&&(m=C,g=B1(d,C))}if(g===1)throw g=Dp,sd(d,0),zc(d,m),Ks(d,ir()),g;if(g===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,ad(d,Gs,bl),Ks(d,ir()),null}function U1(d,m){var g=en;en|=1;try{return d(m)}finally{en=g,en===0&&(Fh=ir()+500,va&&_o())}}function rd(d){Lc!==null&&Lc.tag===0&&(en&6)===0&&zh();var m=en;en|=1;var g=Xa.transition,C=hn;try{if(Xa.transition=null,hn=1,d)return d()}finally{hn=C,Xa.transition=g,en=m,(en&6)===0&&_o()}}function W1(){_a=Lh.current,pn(Lh)}function sd(d,m){d.finishedWork=null,d.finishedLanes=0;var g=d.timeoutHandle;if(g!==-1&&(d.timeoutHandle=-1,i1(g)),kr!==null)for(g=kr.return;g!==null;){var C=g;switch(bp(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Nh();break;case 3:le(),pn(ps),pn(Gr),ja();break;case 5:Ze(C);break;case 4:le();break;case 13:pn(et);break;case 19:pn(et);break;case 10:Sp(C.type._context);break;case 22:case 23:W1()}g=g.return}if(Xr=d,kr=d=$c(d.current,null),os=_a=m,Ir=0,Dp=null,L1=Ay=nd=0,Gs=Ip=null,yl!==null){for(m=0;m<yl.length;m++)if(g=yl[m],C=g.interleaved,C!==null){g.interleaved=null;var T=C.next,L=g.pending;if(L!==null){var G=L.next;L.next=T,C.next=G}g.pending=C}yl=null}return d}function jR(d,m){do{var g=kr;try{if(_p(),Na.current=Ny,by){for(var C=lr.memoizedState;C!==null;){var T=C.queue;T!==null&&(T.pending=null),C=C.next}by=!1}if(td=0,Kr=Dr=lr=null,Pp=!1,Ap=0,I1.current=null,g===null||g.return===null){Ir=1,Dp=m,kr=null;break}e:{var L=d,G=g.return,ie=g,de=m;if(m=os,ie.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var we=de,Re=ie,Le=Re.tag;if((Re.mode&1)===0&&(Le===0||Le===11||Le===15)){var Me=Re.alternate;Me?(Re.updateQueue=Me.updateQueue,Re.memoizedState=Me.memoizedState,Re.lanes=Me.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var tt=YM(G);if(tt!==null){tt.flags&=-257,GM(tt,G,ie,L,m),tt.mode&1&&HM(L,we,m),m=tt,de=we;var ot=m.updateQueue;if(ot===null){var ht=new Set;ht.add(de),m.updateQueue=ht}else ot.add(de);break e}else{if((m&1)===0){HM(L,we,m),q1();break e}de=Error(n(426))}}else if(In&&ie.mode&1){var jr=YM(G);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),GM(jr,G,ie,L,m),Np(Dh(de,ie));break e}}L=de=Dh(de,ie),Ir!==4&&(Ir=2),Ip===null?Ip=[L]:Ip.push(L),L=G;do{switch(L.tag){case 3:L.flags|=65536,m&=-m,L.lanes|=m;var ye=WM(L,de,m);Rh(L,ye);break e;case 1:ie=de;var me=L.type,ve=L.stateNode;if((L.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Ic===null||!Ic.has(ve)))){L.flags|=65536,m&=-m,L.lanes|=m;var Ve=qM(L,ie,m);Rh(L,Ve);break e}}L=L.return}while(L!==null)}SR(g)}catch(mt){m=mt,kr===g&&g!==null&&(kr=g=g.return);continue}break}while(!0)}function NR(){var d=Py.current;return Py.current=Ny,d===null?Ny:d}function q1(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Xr===null||(nd&268435455)===0&&(Ay&268435455)===0||zc(Xr,os)}function Iy(d,m){var g=en;en|=2;var C=NR();(Xr!==d||os!==m)&&(bl=null,sd(d,m));do try{VZ();break}catch(T){jR(d,T)}while(!0);if(_p(),en=g,Py.current=C,kr!==null)throw Error(n(261));return Xr=null,os=0,Ir}function VZ(){for(;kr!==null;)_R(kr)}function UZ(){for(;kr!==null&&!Eu();)_R(kr)}function _R(d){var m=ER(d.alternate,d,_a);d.memoizedProps=d.pendingProps,m===null?SR(d):kr=m,I1.current=null}function SR(d){var m=d;do{var g=m.alternate;if(d=m.return,(m.flags&32768)===0){if(g=DZ(g,m,_a),g!==null){kr=g;return}}else{if(g=IZ(g,m),g!==null){g.flags&=32767,kr=g;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Ir=6,kr=null;return}}if(m=m.sibling,m!==null){kr=m;return}kr=m=d}while(m!==null);Ir===0&&(Ir=5)}function ad(d,m,g){var C=hn,T=Xa.transition;try{Xa.transition=null,hn=1,WZ(d,m,g,C)}finally{Xa.transition=T,hn=C}return null}function WZ(d,m,g,C){do zh();while(Lc!==null);if((en&6)!==0)throw Error(n(327));g=d.finishedWork;var T=d.finishedLanes;if(g===null)return null;if(d.finishedWork=null,d.finishedLanes=0,g===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var L=g.lanes|g.childLanes;if(Mu(d,L),d===Xr&&(kr=Xr=null,os=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Ty||(Ty=!0,PR(fc,function(){return zh(),null})),L=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||L){L=Xa.transition,Xa.transition=null;var G=hn;hn=1;var ie=en;en|=4,I1.current=null,FZ(d,g),pR(g,d),Qg(hp),vc=!!dp,hp=dp=null,d.current=g,zZ(g),Cg(),en=ie,hn=G,Xa.transition=L}else d.current=g;if(Ty&&(Ty=!1,Lc=d,My=T),L=d.pendingLanes,L===0&&(Ic=null),jN(g.stateNode),Ks(d,ir()),m!==null)for(C=d.onRecoverableError,g=0;g<m.length;g++)T=m[g],C(T.value,{componentStack:T.stack,digest:T.digest});if(Oy)throw Oy=!1,d=z1,z1=null,d;return(My&1)!==0&&d.tag!==0&&zh(),L=d.pendingLanes,(L&1)!==0?d===$1?Lp++:(Lp=0,$1=d):Lp=0,_o(),null}function zh(){if(Lc!==null){var d=Eg(My),m=Xa.transition,g=hn;try{if(Xa.transition=null,hn=16>d?16:d,Lc===null)var C=!1;else{if(d=Lc,Lc=null,My=0,(en&6)!==0)throw Error(n(331));var T=en;for(en|=4,at=d.current;at!==null;){var L=at,G=L.child;if((at.flags&16)!==0){var ie=L.deletions;if(ie!==null){for(var de=0;de<ie.length;de++){var we=ie[de];for(at=we;at!==null;){var Re=at;switch(Re.tag){case 0:case 11:case 15:Rp(8,Re,L)}var Le=Re.child;if(Le!==null)Le.return=Re,at=Le;else for(;at!==null;){Re=at;var Me=Re.sibling,tt=Re.return;if(uR(Re),Re===we){at=null;break}if(Me!==null){Me.return=tt,at=Me;break}at=tt}}}var ot=L.alternate;if(ot!==null){var ht=ot.child;if(ht!==null){ot.child=null;do{var jr=ht.sibling;ht.sibling=null,ht=jr}while(ht!==null)}}at=L}}if((L.subtreeFlags&2064)!==0&&G!==null)G.return=L,at=G;else e:for(;at!==null;){if(L=at,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:Rp(9,L,L.return)}var ye=L.sibling;if(ye!==null){ye.return=L.return,at=ye;break e}at=L.return}}var me=d.current;for(at=me;at!==null;){G=at;var ve=G.child;if((G.subtreeFlags&2064)!==0&&ve!==null)ve.return=G,at=ve;else e:for(G=me;at!==null;){if(ie=at,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:Ey(9,ie)}}catch(mt){pr(ie,ie.return,mt)}if(ie===G){at=null;break e}var Ve=ie.sibling;if(Ve!==null){Ve.return=ie.return,at=Ve;break e}at=ie.return}}if(en=T,_o(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(Pu,d)}catch{}C=!0}return C}finally{hn=g,Xa.transition=m}}return!1}function CR(d,m,g){m=Dh(g,m),m=WM(d,m,1),d=Co(d,m,1),m=Ds(),d!==null&&(xc(d,1,m),Ks(d,m))}function pr(d,m,g){if(d.tag===3)CR(d,d,g);else for(;m!==null;){if(m.tag===3){CR(m,d,g);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ic===null||!Ic.has(C))){d=Dh(g,d),d=qM(m,d,1),m=Co(m,d,1),d=Ds(),m!==null&&(xc(m,1,d),Ks(m,d));break}}m=m.return}}function qZ(d,m,g){var C=d.pingCache;C!==null&&C.delete(m),m=Ds(),d.pingedLanes|=d.suspendedLanes&g,Xr===d&&(os&g)===g&&(Ir===4||Ir===3&&(os&130023424)===os&&500>ir()-F1?sd(d,0):L1|=g),Ks(d,m)}function kR(d,m){m===0&&((d.mode&1)===0?m=1:(m=Ou,Ou<<=1,(Ou&130023424)===0&&(Ou=4194304)));var g=Ds();d=Mr(d,m),d!==null&&(xc(d,m,g),Ks(d,g))}function HZ(d){var m=d.memoizedState,g=0;m!==null&&(g=m.retryLane),kR(d,g)}function YZ(d,m){var g=0;switch(d.tag){case 13:var C=d.stateNode,T=d.memoizedState;T!==null&&(g=T.retryLane);break;case 19:C=d.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(m),kR(d,g)}var ER;ER=function(d,m,g){if(d!==null)if(d.memoizedProps!==m.pendingProps||ps.current)Ys=!0;else{if((d.lanes&g)===0&&(m.flags&128)===0)return Ys=!1,RZ(d,m,g);Ys=(d.flags&131072)!==0}else Ys=!1,In&&(m.flags&1048576)!==0&&fy(m,Zu,m.index);switch(m.lanes=0,m.tag){case 2:var C=m.type;Cy(d,m),d=m.pendingProps;var T=Ac(m,Gr.current);Rc(m,g),T=p1(null,m,C,d,T,g);var L=x1();return m.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,ss(C)?(L=!0,_h(m)):L=!1,m.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Ep(m),T.updater=_y,m.stateNode=T,T._reactInternals=m,j1(m,C,d,g),m=C1(null,m,C,!0,L,g)):(m.tag=0,In&&L&&vp(m),Rs(null,m,T,g),m=m.child),m;case 16:C=m.elementType;e:{switch(Cy(d,m),d=m.pendingProps,T=C._init,C=T(C._payload),m.type=C,T=m.tag=KZ(C),d=Ai(C,d),T){case 0:m=S1(null,m,C,d,g);break e;case 1:m=eR(null,m,C,d,g);break e;case 11:m=KM(null,m,C,d,g);break e;case 14:m=XM(null,m,C,Ai(C.type,d),g);break e}throw Error(n(306,C,""))}return m;case 0:return C=m.type,T=m.pendingProps,T=m.elementType===C?T:Ai(C,T),S1(d,m,C,T,g);case 1:return C=m.type,T=m.pendingProps,T=m.elementType===C?T:Ai(C,T),eR(d,m,C,T,g);case 3:e:{if(tR(m),d===null)throw Error(n(387));C=m.pendingProps,L=m.memoizedState,T=L.element,vy(d,m),Pi(m,C,null,g);var G=m.memoizedState;if(C=G.element,L.isDehydrated)if(L={element:C,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},m.updateQueue.baseState=L,m.memoizedState=L,m.flags&256){T=Dh(Error(n(423)),m),m=nR(d,m,C,g,T);break e}else if(C!==T){T=Dh(Error(n(424)),m),m=nR(d,m,C,g,T);break e}else for(Ts=wo(m.stateNode.containerInfo.firstChild),or=m,In=!0,wa=null,g=gy(m,null,C,g),m.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(gl(),C===T){m=vl(d,m,g);break e}Rs(d,m,C,g)}m=m.child}return m;case 5:return _e(m),d===null&&kh(m),C=m.type,T=m.pendingProps,L=d!==null?d.memoizedProps:null,G=T.children,fp(C,T)?G=null:L!==null&&fp(C,L)&&(m.flags|=32),JM(d,m),Rs(d,m,G,g),m.child;case 6:return d===null&&kh(m),null;case 13:return rR(d,m,g);case 4:return Z(m,m.stateNode.containerInfo),C=m.pendingProps,d===null?m.child=Tc(m,null,C,g):Rs(d,m,C,g),m.child;case 11:return C=m.type,T=m.pendingProps,T=m.elementType===C?T:Ai(C,T),KM(d,m,C,T,g);case 7:return Rs(d,m,m.pendingProps,g),m.child;case 8:return Rs(d,m,m.pendingProps.children,g),m.child;case 12:return Rs(d,m,m.pendingProps.children,g),m.child;case 10:e:{if(C=m.type._context,T=m.pendingProps,L=m.memoizedProps,G=T.value,Cn(Oh,C._currentValue),C._currentValue=G,L!==null)if(ya(L.value,G)){if(L.children===T.children&&!ps.current){m=vl(d,m,g);break e}}else for(L=m.child,L!==null&&(L.return=m);L!==null;){var ie=L.dependencies;if(ie!==null){G=L.child;for(var de=ie.firstContext;de!==null;){if(de.context===C){if(L.tag===1){de=Ei(-1,g&-g),de.tag=2;var we=L.updateQueue;if(we!==null){we=we.shared;var Re=we.pending;Re===null?de.next=de:(de.next=Re.next,Re.next=de),we.pending=de}}L.lanes|=g,de=L.alternate,de!==null&&(de.lanes|=g),Cp(L.return,g,m),ie.lanes|=g;break}de=de.next}}else if(L.tag===10)G=L.type===m.type?null:L.child;else if(L.tag===18){if(G=L.return,G===null)throw Error(n(341));G.lanes|=g,ie=G.alternate,ie!==null&&(ie.lanes|=g),Cp(G,g,m),G=L.sibling}else G=L.child;if(G!==null)G.return=L;else for(G=L;G!==null;){if(G===m){G=null;break}if(L=G.sibling,L!==null){L.return=G.return,G=L;break}G=G.return}L=G}Rs(d,m,T.children,g),m=m.child}return m;case 9:return T=m.type,C=m.pendingProps.children,Rc(m,g),T=Hs(T),C=C(T),m.flags|=1,Rs(d,m,C,g),m.child;case 14:return C=m.type,T=Ai(C,m.pendingProps),T=Ai(C.type,T),XM(d,m,C,T,g);case 15:return QM(d,m,m.type,m.pendingProps,g);case 17:return C=m.type,T=m.pendingProps,T=m.elementType===C?T:Ai(C,T),Cy(d,m),m.tag=1,ss(C)?(d=!0,_h(m)):d=!1,Rc(m,g),VM(m,C,T),j1(m,C,T,g),C1(null,m,C,!0,d,g);case 19:return aR(d,m,g);case 22:return ZM(d,m,g)}throw Error(n(156,m.tag))};function PR(d,m){return Sg(d,m)}function GZ(d,m,g,C){this.tag=d,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(d,m,g,C){return new GZ(d,m,g,C)}function H1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function KZ(d){if(typeof d=="function")return H1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===B)return 11;if(d===W)return 14}return 2}function $c(d,m){var g=d.alternate;return g===null?(g=Qa(d.tag,m,d.key,d.mode),g.elementType=d.elementType,g.type=d.type,g.stateNode=d.stateNode,g.alternate=d,d.alternate=g):(g.pendingProps=m,g.type=d.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=d.flags&14680064,g.childLanes=d.childLanes,g.lanes=d.lanes,g.child=d.child,g.memoizedProps=d.memoizedProps,g.memoizedState=d.memoizedState,g.updateQueue=d.updateQueue,m=d.dependencies,g.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},g.sibling=d.sibling,g.index=d.index,g.ref=d.ref,g}function Ly(d,m,g,C,T,L){var G=2;if(C=d,typeof d=="function")H1(d)&&(G=1);else if(typeof d=="string")G=5;else e:switch(d){case P:return id(g.children,T,L,m);case R:G=8,T|=8;break;case $:return d=Qa(12,g,m,T|2),d.elementType=$,d.lanes=L,d;case J:return d=Qa(13,g,m,T),d.elementType=J,d.lanes=L,d;case Y:return d=Qa(19,g,m,T),d.elementType=Y,d.lanes=L,d;case q:return Fy(g,T,L,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case D:G=10;break e;case M:G=9;break e;case B:G=11;break e;case W:G=14;break e;case se:G=16,C=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=Qa(G,g,m,T),m.elementType=d,m.type=C,m.lanes=L,m}function id(d,m,g,C){return d=Qa(7,d,C,m),d.lanes=g,d}function Fy(d,m,g,C){return d=Qa(22,d,C,m),d.elementType=q,d.lanes=g,d.stateNode={isHidden:!1},d}function Y1(d,m,g){return d=Qa(6,d,null,m),d.lanes=g,d}function G1(d,m,g){return m=Qa(4,d.children!==null?d.children:[],d.key,m),m.lanes=g,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function XZ(d,m,g,C,T){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pc(0),this.expirationTimes=pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.identifierPrefix=C,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function K1(d,m,g,C,T,L,G,ie,de){return d=new XZ(d,m,g,ie,de),m===1?(m=1,L===!0&&(m|=8)):m=0,L=Qa(3,null,null,m),d.current=L,L.stateNode=d,L.memoizedState={element:C,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(L),d}function QZ(d,m,g){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:C==null?null:""+C,children:d,containerInfo:m,implementation:g}}function AR(d){if(!d)return No;d=d._reactInternals;e:{if(rs(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(ss(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var g=d.type;if(ss(g))return yp(d,g,m)}return m}function OR(d,m,g,C,T,L,G,ie,de){return d=K1(g,C,!0,d,T,L,G,ie,de),d.context=AR(null),g=d.current,C=Ds(),T=Fc(g),L=Ei(C,T),L.callback=m??null,Co(g,L,T),d.current.lanes=T,xc(d,T,C),Ks(d,C),d}function zy(d,m,g,C){var T=m.current,L=Ds(),G=Fc(T);return g=AR(g),m.context===null?m.context=g:m.pendingContext=g,m=Ei(L,G),m.payload={element:d},C=C===void 0?null:C,C!==null&&(m.callback=C),d=Co(T,m,G),d!==null&&(Mi(d,T,G,L),Mh(d,T,G)),G}function $y(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function TR(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var g=d.retryLane;d.retryLane=g!==0&&g<m?g:m}}function X1(d,m){TR(d,m),(d=d.alternate)&&TR(d,m)}function ZZ(){return null}var MR=typeof reportError=="function"?reportError:function(d){console.error(d)};function Q1(d){this._internalRoot=d}By.prototype.render=Q1.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));zy(d,m,null,null)},By.prototype.unmount=Q1.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;rd(function(){zy(null,d,null,null)}),m[_i]=null}};function By(d){this._internalRoot=d}By.prototype.unstable_scheduleHydration=function(d){if(d){var m=Og();d={blockedOn:null,target:d,priority:m};for(var g=0;g<ho.length&&m!==0&&m<ho[g].priority;g++);ho.splice(g,0,d),g===0&&Rg(d)}};function Z1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Vy(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function RR(){}function JZ(d,m,g,C,T){if(T){if(typeof C=="function"){var L=C;C=function(){var we=$y(G);L.call(we)}}var G=OR(m,C,d,0,null,!1,!1,"",RR);return d._reactRootContainer=G,d[_i]=G.current,Cc(d.nodeType===8?d.parentNode:d),rd(),G}for(;T=d.lastChild;)d.removeChild(T);if(typeof C=="function"){var ie=C;C=function(){var we=$y(de);ie.call(we)}}var de=K1(d,0,!1,null,null,!1,!1,"",RR);return d._reactRootContainer=de,d[_i]=de.current,Cc(d.nodeType===8?d.parentNode:d),rd(function(){zy(m,de,g,C)}),de}function Uy(d,m,g,C,T){var L=g._reactRootContainer;if(L){var G=L;if(typeof T=="function"){var ie=T;T=function(){var de=$y(G);ie.call(de)}}zy(m,G,d,T)}else G=JZ(g,m,d,T,C);return $y(G)}Pg=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var g=Tu(m.pendingLanes);g!==0&&(ga(m,g|1),Ks(m,ir()),(en&6)===0&&(Fh=ir()+500,_o()))}break;case 13:rd(function(){var C=Mr(d,1);if(C!==null){var T=Ds();Mi(C,d,1,T)}}),X1(d,1)}},Wm=function(d){if(d.tag===13){var m=Mr(d,134217728);if(m!==null){var g=Ds();Mi(m,d,134217728,g)}X1(d,134217728)}},Ag=function(d){if(d.tag===13){var m=Fc(d),g=Mr(d,m);if(g!==null){var C=Ds();Mi(g,d,m,C)}X1(d,m)}},Og=function(){return hn},Tg=function(d,m){var g=hn;try{return hn=d,m()}finally{hn=g}},zm=function(d,m,g){switch(m){case"input":if(xt(d,g),m=g.name,g.type==="radio"&&m!=null){for(g=d;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<g.length;m++){var C=g[m];if(C!==d&&C.form===d.form){var T=jh(C);if(!T)throw Error(n(90));ge(C),xt(C,T)}}}break;case"textarea":cl(d,g);break;case"select":m=g.value,m!=null&&Yt(d,!!g.multiple,m,!1)}},jg=U1,Ng=rd;var eJ={usingClientEntryPoint:!1,Events:[Qu,jo,jh,_u,Je,U1]},Fp={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tJ={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=hc(d),d===null?null:d.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||ZZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wy.isDisabled&&Wy.supportsFiber)try{Pu=Wy.inject(tJ),qa=Wy}catch{}}return Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eJ,Xs.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z1(m))throw Error(n(200));return QZ(d,m,null,g)},Xs.createRoot=function(d,m){if(!Z1(d))throw Error(n(299));var g=!1,C="",T=MR;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onRecoverableError!==void 0&&(T=m.onRecoverableError)),m=K1(d,1,!1,null,null,g,!1,C,T),d[_i]=m.current,Cc(d.nodeType===8?d.parentNode:d),new Q1(m)},Xs.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=hc(m),d=d===null?null:d.stateNode,d},Xs.flushSync=function(d){return rd(d)},Xs.hydrate=function(d,m,g){if(!Vy(m))throw Error(n(200));return Uy(null,d,m,!0,g)},Xs.hydrateRoot=function(d,m,g){if(!Z1(d))throw Error(n(405));var C=g!=null&&g.hydratedSources||null,T=!1,L="",G=MR;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(L=g.identifierPrefix),g.onRecoverableError!==void 0&&(G=g.onRecoverableError)),m=OR(m,null,d,1,g??null,T,!1,L,G),d[_i]=m.current,Cc(d),C)for(d=0;d<C.length;d++)g=C[d],T=g._getVersion,T=T(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,T]:m.mutableSourceEagerHydrationData.push(g,T);return new By(m)},Xs.render=function(d,m,g){if(!Vy(m))throw Error(n(200));return Uy(null,d,m,!1,g)},Xs.unmountComponentAtNode=function(d){if(!Vy(d))throw Error(n(40));return d._reactRootContainer?(rd(function(){Uy(null,null,d,!1,function(){d._reactRootContainer=null,d[_i]=null})}),!0):!1},Xs.unstable_batchedUpdates=U1,Xs.unstable_renderSubtreeIntoContainer=function(d,m,g,C){if(!Vy(g))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return Uy(d,m,g,!1,C)},Xs.version="18.3.1-next-f1338f8080-20240426",Xs}var UR;function PB(){if(UR)return n_.exports;UR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),n_.exports=uJ(),n_.exports}var WR;function dJ(){if(WR)return Hy;WR=1;var e=PB();return Hy.createRoot=e.createRoot,Hy.hydrateRoot=e.hydrateRoot,Hy}var hJ=dJ();const fJ=sn(hJ);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qR="popstate";function mJ(e={}){function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return hE("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ox(a)}return xJ(t,n,null,e)}function fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pJ(){return Math.random().toString(36).substring(2,10)}function HR(e,t){return{usr:e.state,key:e.key,idx:t}}function hE(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hm(t):t,state:n,key:t&&t.key||s||pJ()}}function Ox({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function xJ(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let y=h(),N=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:N})}function p(y,N){l="PUSH";let _=hE(v.location,y,N);u=h()+1;let S=HR(_,u),E=v.createHref(_);try{o.pushState(S,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(E)}i&&c&&c({action:l,location:v.location,delta:1})}function x(y,N){l="REPLACE";let _=hE(v.location,y,N);u=h();let S=HR(_,u),E=v.createHref(_);o.replaceState(S,"",E),i&&c&&c({action:l,location:v.location,delta:0})}function b(y){return gJ(y)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(qR,f),c=y,()=>{a.removeEventListener(qR,f),c=null}},createHref(y){return t(a,y)},createURL:b,encodeLocation(y){let N=b(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:x,go(y){return o.go(y)}};return v}function gJ(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fr(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ox(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function AB(e,t,n="/"){return yJ(e,t,n,!1)}function yJ(e,t,n,s){let a=typeof t=="string"?hm(t):t,i=Kl(a.pathname||"/",n);if(i==null)return null;let o=OB(e);vJ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=AJ(i);l=EJ(o[c],u,s)}return l}function OB(e,t=[],n=[],s="",a=!1){let i=(o,l,c=a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(s)&&c)return;fr(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length)}let f=Fl([s,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(fr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OB(o.children,t,p,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:CJ(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of TB(o.path))i(o,l,!0,u)}),t}function TB(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=TB(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function vJ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kJ(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bJ=/^:[\w-]+$/,wJ=3,jJ=2,NJ=1,_J=10,SJ=-2,YR=e=>e==="*";function CJ(e,t){let n=e.split("/"),s=n.length;return n.some(YR)&&(s+=SJ),t&&(s+=jJ),n.filter(a=>!YR(a)).reduce((a,i)=>a+(bJ.test(i)?wJ:i===""?NJ:_J),s)}function kJ(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function EJ(e,t,n=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Jv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=Jv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Fl([i,f.pathname]),pathnameBase:RJ(Fl([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Fl([i,f.pathnameBase]))}return o}function Jv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=PJ(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,{paramName:h,isOptional:f},p)=>{if(h==="*"){let b=l[p]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[p];return f&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function PJ(e,t=!1,n=!0){Gi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function AJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Kl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var MB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OJ=e=>MB.test(e);function TJ(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?hm(e):e,i;if(n)if(OJ(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=GR(n.substring(1),"/"):i=GR(n,t)}else i=t;return{pathname:i,search:DJ(s),hash:IJ(a)}}function GR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function a_(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MJ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RB(e){let t=MJ(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function DB(e,t,n,s=!1){let a;typeof e=="string"?a=hm(e):(a={...e},fr(!a.pathname||!a.pathname.includes("?"),a_("?","pathname","search",a)),fr(!a.pathname||!a.pathname.includes("#"),a_("#","pathname","hash",a)),fr(!a.search||!a.search.includes("#"),a_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=TJ(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Fl=e=>e.join("/").replace(/\/\/+/g,"/"),RJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,LJ=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function FJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function zJ(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LB(e,t){let n=e;if(typeof n!="string"||!MB.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(IB)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Kl(o.pathname,t);o.origin===i.origin&&l!=null?n=l+o.search+o.hash:a=!0}catch{Gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FB=["POST","PUT","PATCH","DELETE"];new Set(FB);var $J=["GET",...FB];new Set($J);var fm=j.createContext(null);fm.displayName="DataRouter";var Rw=j.createContext(null);Rw.displayName="DataRouterState";var BJ=j.createContext(!1),zB=j.createContext({isTransitioning:!1});zB.displayName="ViewTransition";var VJ=j.createContext(new Map);VJ.displayName="Fetchers";var UJ=j.createContext(null);UJ.displayName="Await";var fi=j.createContext(null);fi.displayName="Navigation";var L0=j.createContext(null);L0.displayName="Location";var ac=j.createContext({outlet:null,matches:[],isDataRoute:!1});ac.displayName="Route";var iO=j.createContext(null);iO.displayName="RouteError";var $B="REACT_ROUTER_ERROR",WJ="REDIRECT",qJ="ROUTE_ERROR_RESPONSE";function HJ(e){if(e.startsWith(`${$B}:${WJ}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function YJ(e){if(e.startsWith(`${$B}:${qJ}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new LJ(t.status,t.statusText,t.data)}catch{}}function GJ(e,{relative:t}={}){fr(F0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(fi),{hash:a,pathname:i,search:o}=z0(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Fl([n,i])),s.createHref({pathname:l,search:o,hash:a})}function F0(){return j.useContext(L0)!=null}function eo(){return fr(F0(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(L0).location}var BB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VB(e){j.useContext(fi).static||j.useLayoutEffect(e)}function mm(){let{isDataRoute:e}=j.useContext(ac);return e?oee():KJ()}function KJ(){fr(F0(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(fm),{basename:t,navigator:n}=j.useContext(fi),{matches:s}=j.useContext(ac),{pathname:a}=eo(),i=JSON.stringify(RB(s)),o=j.useRef(!1);return VB(()=>{o.current=!0}),j.useCallback((c,u={})=>{if(Gi(o.current,BB),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=DB(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Fl([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,a,e])}j.createContext(null);function z0(e,{relative:t}={}){let{matches:n}=j.useContext(ac),{pathname:s}=eo(),a=JSON.stringify(RB(n));return j.useMemo(()=>DB(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function XJ(e,t){return UB(e,t)}function UB(e,t,n,s,a){var _;fr(F0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(fi),{matches:o}=j.useContext(ac),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";qB(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=eo(),x;if(t){let S=typeof t=="string"?hm(t):t;fr(h==="/"||((_=S.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=p;let b=x.pathname||"/",v=b;if(h!=="/"){let S=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=AB(e,{pathname:v});Gi(f||y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=tee(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Fl([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Fl([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,s,a);return t&&N?j.createElement(L0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function QJ(){let e=iee(),t=FJ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,o)}var ZJ=j.createElement(QJ,null),WB=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=YJ(e.digest);n&&(e=n)}let t=e!==void 0?j.createElement(ac.Provider,{value:this.props.routeContext},j.createElement(iO.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(JJ,{error:e},t):t}};WB.contextType=BJ;var i_=new WeakMap;function JJ({children:e,error:t}){let{basename:n}=j.useContext(fi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=HJ(t.digest);if(s){let a=i_.get(t);if(a)throw a;let i=LB(s.location,n);if(IB&&!i_.get(t))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw i_.set(t,o),o}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function eee({routeContext:e,match:t,children:n}){let s=j.useContext(fm);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ac.Provider,{value:e},n)}function tee(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);fr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:x}=n,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=n&&s?(h,f)=>{var p,x;s(h,{location:n.location,params:((x=(p=n.matches)==null?void 0:p[0])==null?void 0:x.params)??{},unstable_pattern:zJ(n.matches),errorInfo:f})}:void 0;return i.reduceRight((h,f,p)=>{let x,b=!1,v=null,y=null;n&&(x=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||ZJ,l&&(c<0&&p===0?(qB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,y=null):c===p&&(b=!0,y=f.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,p+1)),_=()=>{let S;return x?S=v:b?S=y:f.route.Component?S=j.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,j.createElement(eee,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(WB,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:u}):_()},null)}function oO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nee(e){let t=j.useContext(fm);return fr(t,oO(e)),t}function ree(e){let t=j.useContext(Rw);return fr(t,oO(e)),t}function see(e){let t=j.useContext(ac);return fr(t,oO(e)),t}function lO(e){let t=see(e),n=t.matches[t.matches.length-1];return fr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function aee(){return lO("useRouteId")}function iee(){var s;let e=j.useContext(iO),t=ree("useRouteError"),n=lO("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function oee(){let{router:e}=nee("useNavigate"),t=lO("useNavigate"),n=j.useRef(!1);return VB(()=>{n.current=!0}),j.useCallback(async(a,i={})=>{Gi(n.current,BB),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var KR={};function qB(e,t,n){!t&&!KR[e]&&(KR[e]=!0,Gi(!1,n))}j.memo(lee);function lee({routes:e,future:t,state:n,onError:s}){return UB(e,void 0,n,s,t)}function lt(e){fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cee({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){fr(!F0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof n=="string"&&(n=hm(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:x="default"}=n,b=j.useMemo(()=>{let v=Kl(u,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:x},navigationType:s}},[l,u,h,f,p,x,s]);return Gi(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(fi.Provider,{value:c},j.createElement(L0.Provider,{children:t,value:b}))}function XR({children:e,location:t}){return XJ(fE(e),t)}function fE(e,t=[]){let n=[];return j.Children.forEach(e,(s,a)=>{if(!j.isValidElement(s))return;let i=[...t,a];if(s.type===j.Fragment){n.push.apply(n,fE(s.props.children,i));return}fr(s.type===lt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fr(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=fE(s.props.children,i)),n.push(o)}),n}var Av="get",Ov="application/x-www-form-urlencoded";function Dw(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function uee(e){return Dw(e)&&e.tagName.toLowerCase()==="button"}function dee(e){return Dw(e)&&e.tagName.toLowerCase()==="form"}function hee(e){return Dw(e)&&e.tagName.toLowerCase()==="input"}function fee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mee(e,t){return e.button===0&&(!t||t==="_self")&&!fee(e)}var Yy=null;function pee(){if(Yy===null)try{new FormData(document.createElement("form"),0),Yy=!1}catch{Yy=!0}return Yy}var xee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function o_(e){return e!=null&&!xee.has(e)?(Gi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ov}"`),null):e}function gee(e,t){let n,s,a,i,o;if(dee(e)){let l=e.getAttribute("action");s=l?Kl(l,t):null,n=e.getAttribute("method")||Av,a=o_(e.getAttribute("enctype"))||Ov,i=new FormData(e)}else if(uee(e)||hee(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?Kl(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Av,a=o_(e.getAttribute("formenctype"))||o_(l.getAttribute("enctype"))||Ov,i=new FormData(l,e),!pee()){let{name:u,type:h,value:f}=e;if(h==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(Dw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Av,s=null,a=Ov,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cO(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yee(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Kl(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function vee(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bee(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wee(e,t,n){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await vee(i,n);return o.links?o.links():[]}return[]}));return See(s.flat(1).filter(bee).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function QR(e,t,n,s,a,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let h=s.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function jee(e,t,{includeHydrateFallback:n}={}){return Nee(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Nee(e){return[...new Set(e)]}function _ee(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function See(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(_ee(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function HB(){let e=j.useContext(fm);return cO(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Cee(){let e=j.useContext(Rw);return cO(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uO=j.createContext(void 0);uO.displayName="FrameworkContext";function YB(){let e=j.useContext(uO);return cO(e,"You must render this element inside a <HydratedRouter> element"),e}function kee(e,t){let n=j.useContext(uO),[s,a]=j.useState(!1),[i,o]=j.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,p=j.useRef(null);j.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=N=>{N.forEach(_=>{o(_.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let x=()=>{a(!0)},b=()=>{a(!1),o(!1)};return n?e!=="intent"?[i,p,{}]:[i,p,{onFocus:$p(l,x),onBlur:$p(c,b),onMouseEnter:$p(u,x),onMouseLeave:$p(h,b),onTouchStart:$p(f,x)}]:[!1,p,{}]}function $p(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Eee({page:e,...t}){let{router:n}=HB(),s=j.useMemo(()=>AB(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?j.createElement(Aee,{page:e,matches:s,...t}):null}function Pee(e){let{manifest:t,routeModules:n}=YB(),[s,a]=j.useState([]);return j.useEffect(()=>{let i=!1;return wee(e,t,n).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,n]),s}function Aee({page:e,matches:t,...n}){let s=eo(),{future:a,manifest:i,routeModules:o}=YB(),{basename:l}=HB(),{loaderData:c,matches:u}=Cee(),h=j.useMemo(()=>QR(e,t,u,i,s,"data"),[e,t,u,i,s]),f=j.useMemo(()=>QR(e,t,u,i,s,"assets"),[e,t,u,i,s]),p=j.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let v=new Set,y=!1;if(t.forEach(_=>{var E;let S=i.routes[_.route.id];!S||!S.hasLoader||(!h.some(A=>A.route.id===_.route.id)&&_.route.id in c&&((E=o[_.route.id])!=null&&E.shouldRevalidate)||S.hasClientLoader?y=!0:v.add(_.route.id))}),v.size===0)return[];let N=yee(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return y&&v.size>0&&N.searchParams.set("_routes",t.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,s,i,h,t,e,o]),x=j.useMemo(()=>jee(f,i),[f,i]),b=Pee(f);return j.createElement(j.Fragment,null,p.map(v=>j.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),x.map(v=>j.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),b.map(({key:v,link:y})=>j.createElement("link",{key:v,nonce:n.nonce,...y})))}function Oee(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Tee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tee&&(window.__reactRouterVersion="7.12.0")}catch{}function Mee({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=j.useRef();a.current==null&&(a.current=mJ({window:s,v5Compat:!0}));let i=a.current,[o,l]=j.useState({action:i.action,location:i.location}),c=j.useCallback(u=>{n===!1?l(u):j.startTransition(()=>l(u))},[n]);return j.useLayoutEffect(()=>i.listen(c),[i,c]),j.createElement(cee,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var GB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=j.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:p,...x},b){let{basename:v,unstable_useTransitions:y}=j.useContext(fi),N=typeof u=="string"&&GB.test(u),_=LB(u,v);u=_.to;let S=GJ(u,{relative:a}),[E,A,k]=kee(s,x),P=Lee(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y});function R(D){t&&t(D),D.defaultPrevented||P(D)}let $=j.createElement("a",{...x,...k,href:_.absoluteURL||S,onClick:_.isExternal||i?t:R,ref:Oee(b,A),target:c,"data-discover":!N&&n==="render"?"true":void 0});return E&&!N?j.createElement(j.Fragment,null,$,j.createElement(Eee,{page:S})):$});fn.displayName="Link";var Ree=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},h){let f=z0(o,{relative:u.relative}),p=eo(),x=j.useContext(Rw),{navigator:b,basename:v}=j.useContext(fi),y=x!=null&&Vee(f)&&l===!0,N=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,_=p.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&v&&(S=Kl(S,v)||S);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=_===N||!a&&_.startsWith(N)&&_.charAt(E)==="/",k=S!=null&&(S===N||!a&&S.startsWith(N)&&S.charAt(N.length)==="/"),P={isActive:A,isPending:k,isTransitioning:y},R=A?t:void 0,$;typeof s=="function"?$=s(P):$=[s,A?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(P):i;return j.createElement(fn,{...u,"aria-current":R,className:$,ref:h,style:D,to:o,viewTransition:l},typeof c=="function"?c(P):c)});Ree.displayName="NavLink";var Dee=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:i,method:o=Av,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:p,...x},b)=>{let{unstable_useTransitions:v}=j.useContext(fi),y=$ee(),N=Bee(l,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&GB.test(l),E=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,P=(k==null?void 0:k.getAttribute("formmethod"))||o,R=()=>y(k||A.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:p});v&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:b,method:_,action:N,onSubmit:s?c:E,...x,"data-discover":!S&&e==="render"?"true":void 0})});Dee.displayName="Form";function Iee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KB(e){let t=j.useContext(fm);return fr(t,Iee(e)),t}function Lee(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=mm(),h=eo(),f=z0(e,{relative:i});return j.useCallback(p=>{if(mee(p,t)){p.preventDefault();let x=n!==void 0?n:Ox(h)===Ox(f),b=()=>u(e,{replace:x,state:s,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?j.startTransition(()=>b()):b()}},[h,u,f,n,s,t,e,a,i,o,l,c])}var Fee=0,zee=()=>`__${String(++Fee)}__`;function $ee(){let{router:e}=KB("useSubmit"),{basename:t}=j.useContext(fi),n=aee(),s=e.fetch,a=e.navigate;return j.useCallback(async(i,o={})=>{let{action:l,method:c,encType:u,formData:h,body:f}=gee(i,t);if(o.navigate===!1){let p=o.fetcherKey||zee();await s(p,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,a,t,n])}function Bee(e,{relative:t}={}){let{basename:n}=j.useContext(fi),s=j.useContext(ac);fr(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...z0(e||".",{relative:t})},o=eo();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Fl([n,i.pathname])),Ox(i)}function Vee(e,{relative:t}={}){let n=j.useContext(zB);fr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KB("useViewTransitionState"),a=z0(e,{relative:t});if(!n.isTransitioning)return!1;let i=Kl(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Kl(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jv(a.pathname,o)!=null||Jv(a.pathname,i)!=null}var $0=PB();const Uee=sn($0);function ft(e){return"/"+e.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XB=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...qee,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:XB("lucide",a),...l},[...o.map(([u,h])=>j.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=j.forwardRef(({className:s,...a},i)=>j.createElement(Hee,{ref:i,iconNode:t,className:XB(`lucide-${Wee(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QB=Ae("Activity",Yee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],eb=Ae("Archive",Gee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],tb=Ae("ArrowDownRight",Kee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Qee=Ae("ArrowDown",Xee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jee=Ae("ArrowLeft",Zee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zl=Ae("ArrowRight",ete);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dO=Ae("ArrowUpRight",tte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],rte=Ae("ArrowUp",nte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mE=Ae("Award",ste);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],ZB=Ae("Ban",ate);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Tx=Ae("Bell",ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],l_=Ae("Bike",ote);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Tv=Ae("Bot",lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Gn=Ae("Brain",cte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],B0=Ae("Briefcase",ute);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Yn=Ae("Building2",dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],fte=Ae("Building",hte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sn=Ae("Calendar",mte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Io=Ae("Camera",pte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hO=Ae("ChartColumn",xte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Iw=Ae("Check",gte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],V0=Ae("ChevronDown",yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bte=Ae("ChevronLeft",vte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ld=Ae("ChevronRight",wte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JB=Ae("ChevronUp",jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bn=Ae("CircleAlert",Nte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ke=Ae("CircleCheck",_te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ai=Ae("CircleX",Ste);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kte=Ae("Circle",Cte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$t=Ae("Clock",Ete);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zo=Ae("Copy",Pte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Pf=Ae("Database",Ate);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rn=Ae("DollarSign",Ote);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],La=Ae("Download",Tte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],eV=Ae("EllipsisVertical",Mte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],tV=Ae("Euro",Rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ui=Ae("ExternalLink",Dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xn=Ae("Eye",Ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ZR=Ae("FileSpreadsheet",Lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ye=Ae("FileText",Fte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Xl=Ae("Filter",zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],JR=Ae("Flame",$te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["rect",{width:"8",height:"5",x:"14",y:"17",rx:"1",key:"19aais"}],["path",{d:"M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v2.5",key:"1w6v7t"}],["path",{d:"M20 17v-2a2 2 0 1 0-4 0v2",key:"pwaxnr"}]],c_=Ae("FolderLock",Bte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],pE=Ae("FolderOpen",Vte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Mx=Ae("Globe",Ute);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],nV=Ae("HardDrive",Wte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],nb=Ae("Heart",qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Yte=Ae("History",Hte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Kte=Ae("House",Gte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Qte=Ae("Image",Xte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],rb=Ae("Inbox",Zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ad=Ae("Info",Jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tne=Ae("LayoutDashboard",ene);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rne=Ae("Link",nne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bt=Ae("LoaderCircle",sne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iu=Ae("Lock",ane);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],one=Ae("LogIn",ine);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Rx=Ae("LogOut",lne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ma=Ae("Mail",cne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rV=Ae("MapPin",une);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],sV=Ae("Maximize2",dne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],fne=Ae("Menu",hne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],pne=Ae("MessageCircle",mne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Wi=Ae("MessageSquare",xne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],fO=Ae("MicOff",gne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Af=Ae("Mic",yne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],bne=Ae("Minimize2",vne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M5 12h14",key:"1ays0h"}]],jne=Ae("Minus",wne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],eD=Ae("Monitor",Nne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_n=Ae("Package",_ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],tD=Ae("Paperclip",Sne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Of=Ae("Phone",Cne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ou=Ae("Play",kne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vr=Ae("Plus",Ene);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Ane=Ae("Power",Pne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],u_=Ae("QrCode",One);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nD=Ae("Receipt",Tne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ns=Ae("RefreshCw",Mne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],d_=Ae("Rocket",Rne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ine=Ae("Save",Dne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mi=Ae("Search",Lne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wo=Ae("Send",Fne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dx=Ae("Settings",zne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Bne=Ae("Share2",$ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],Une=Ae("Share",Vne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qne=Ae("ShieldCheck",Wne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vr=Ae("Shield",Hne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],qi=Ae("ShoppingCart",Yne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Tf=Ae("Smartphone",Gne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ur=Ae("Sparkles",Kne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mO=Ae("SquarePen",Xne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Zne=Ae("SquarePlus",Qne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Al=Ae("Star",Jne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],tre=Ae("Store",ere);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xE=Ae("Sun",nre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sre=Ae("Target",rre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qr=Ae("Trash2",are);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],ore=Ae("Trash",ire);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],la=Ae("TrendingDown",lre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],En=Ae("TrendingUp",cre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wn=Ae("TriangleAlert",ure);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hre=Ae("Truck",dre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_r=Ae("Upload",fre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=Ae("User",mre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ln=Ae("Users",pre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Mf=Ae("Utensils",xre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],aV=Ae("Volume2",gre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],vre=Ae("VolumeX",yre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wre=Ae("WifiOff",bre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ix=Ae("Wifi",jre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],el=Ae("X",Nre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hr=Ae("Zap",_re);function Xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function rD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tl(...e){return t=>{let n=!1;const s=e.map(a=>{const i=rD(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():rD(e[a],null)}}}}function Wt(...e){return j.useCallback(tl(...e),e)}function Sre(e,t){const n=j.createContext(t),s=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function pi(e,t=[]){let n=[];function s(i,o){const l=j.createContext(o),c=n.length;n=[...n,o];const u=f=>{var N;const{scope:p,children:x,...b}=f,v=((N=p==null?void 0:p[e])==null?void 0:N[c])||l,y=j.useMemo(()=>b,Object.values(b));return r.jsx(v.Provider,{value:y,children:x})};u.displayName=i+"Provider";function h(f,p){var v;const x=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,b=j.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Cre(a,...t)]}function Cre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var fs=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},kre=aO[" useInsertionEffect ".trim().toString()]||fs;function Ql({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=Ere({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const h=j.useRef(e!==void 0);j.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const u=j.useCallback(h=>{var f;if(l){const p=Pre(h)?h(e):h;p!==e&&((f=o.current)==null||f.call(o,p))}else i(h)},[l,e,i,o]);return[c,u]}function Ere({defaultProp:e,onChange:t}){const[n,s]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return kre(()=>{i.current=t},[t]),j.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function Pre(e){return typeof e=="function"}function Are(e){const t=Ore(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find(Mre);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Ore(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Dre(a),l=Rre(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tre=Symbol("radix.slottable");function Mre(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tre}function Rre(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Dre(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ire=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=Ire.reduce((e,t)=>{const n=Are(`Primitive.${t}`),s=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function iV(e,t){e&&$0.flushSync(()=>e.dispatchEvent(t))}function sD(e){const t=Lre(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find(zre);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Lre(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Bre(a),l=$re(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fre=Symbol("radix.slottable");function zre(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fre}function $re(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Bre(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pO(e){const t=e+"CollectionProvider",[n,s]=pi(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:N}=v,_=oe.useRef(null),S=oe.useRef(new Map).current;return r.jsx(a,{scope:y,itemMap:S,collectionRef:_,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=sD(l),u=oe.forwardRef((v,y)=>{const{scope:N,children:_}=v,S=i(l,N),E=Wt(y,S.collectionRef);return r.jsx(c,{ref:E,children:_})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=sD(h),x=oe.forwardRef((v,y)=>{const{scope:N,children:_,...S}=v,E=oe.useRef(null),A=Wt(y,E),k=i(h,N);return oe.useEffect(()=>(k.itemMap.set(E,{ref:E,...S}),()=>void k.itemMap.delete(E))),r.jsx(p,{[f]:"",ref:A,children:_})});x.displayName=h;function b(v){const y=i(e+"CollectionConsumer",v);return oe.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((k,P)=>S.indexOf(k.ref.current)-S.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},b,s]}var Vre=j.createContext(void 0);function U0(e){const t=j.useContext(Vre);return e||t||"ltr"}function us(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Ure(e,t=globalThis==null?void 0:globalThis.document){const n=us(e);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Wre="DismissableLayer",gE="dismissableLayer.update",qre="dismissableLayer.pointerDownOutside",Hre="dismissableLayer.focusOutside",aD,oV=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W0=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(oV),[h,f]=j.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=j.useState({}),b=Wt(t,P=>f(P)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),_=h?v.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,E=_>=N,A=Kre(P=>{const R=P.target,$=[...u.branches].some(D=>D.contains(R));!E||$||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},p),k=Xre(P=>{const R=P.target;[...u.branches].some(D=>D.contains(R))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},p);return Ure(P=>{_===u.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),j.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(aD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),iD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aD)}},[h,p,n,u]),j.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),iD())},[h,u]),j.useEffect(()=>{const P=()=>x({});return document.addEventListener(gE,P),()=>document.removeEventListener(gE,P)},[]),r.jsx(Ct.div,{...c,ref:b,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,A.onPointerDownCapture)})});W0.displayName=Wre;var Yre="DismissableLayerBranch",Gre=j.forwardRef((e,t)=>{const n=j.useContext(oV),s=j.useRef(null),a=Wt(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Ct.div,{...e,ref:a})});Gre.displayName=Yre;function Kre(e,t=globalThis==null?void 0:globalThis.document){const n=us(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){lV(qre,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Xre(e,t=globalThis==null?void 0:globalThis.document){const n=us(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&lV(Hre,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function iD(){const e=new CustomEvent(gE);document.dispatchEvent(e)}function lV(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?iV(a,i):a.dispatchEvent(i)}var h_=0;function Lw(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??oD()),document.body.insertAdjacentElement("beforeend",e[1]??oD()),h_++,()=>{h_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),h_--}},[])}function oD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var f_="focusScope.autoFocusOnMount",m_="focusScope.autoFocusOnUnmount",lD={bubbles:!1,cancelable:!0},Qre="FocusScope",q0=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),u=us(a),h=us(i),f=j.useRef(null),p=Wt(t,v=>c(v)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let v=function(S){if(x.paused||!l)return;const E=S.target;l.contains(E)?f.current=E:Hc(f.current,{select:!0})},y=function(S){if(x.paused||!l)return;const E=S.relatedTarget;E!==null&&(l.contains(E)||Hc(f.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Hc(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const _=new MutationObserver(N);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),_.disconnect()}}},[s,l,x.paused]),j.useEffect(()=>{if(l){uD.add(x);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(f_,lD);l.addEventListener(f_,u),l.dispatchEvent(N),N.defaultPrevented||(Zre(rse(cV(l)),{select:!0}),document.activeElement===v&&Hc(l))}return()=>{l.removeEventListener(f_,u),setTimeout(()=>{const N=new CustomEvent(m_,lD);l.addEventListener(m_,h),l.dispatchEvent(N),N.defaultPrevented||Hc(v??document.body,{select:!0}),l.removeEventListener(m_,h),uD.remove(x)},0)}}},[l,u,h,x]);const b=j.useCallback(v=>{if(!n&&!s||x.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const _=v.currentTarget,[S,E]=Jre(_);S&&E?!v.shiftKey&&N===E?(v.preventDefault(),n&&Hc(S,{select:!0})):v.shiftKey&&N===S&&(v.preventDefault(),n&&Hc(E,{select:!0})):N===_&&v.preventDefault()}},[n,s,x.paused]);return r.jsx(Ct.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});q0.displayName=Qre;function Zre(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Hc(s,{select:t}),document.activeElement!==n)return}function Jre(e){const t=cV(e),n=cD(t,e),s=cD(t.reverse(),e);return[n,s]}function cV(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cD(e,t){for(const n of e)if(!ese(n,{upTo:t}))return n}function ese(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tse(e){return e instanceof HTMLInputElement&&"select"in e}function Hc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&tse(e)&&t&&e.select()}}var uD=nse();function nse(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=dD(e,t),e.unshift(t)},remove(t){var n;e=dD(e,t),(n=e[0])==null||n.resume()}}}function dD(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function rse(e){return e.filter(t=>t.tagName!=="A")}var sse=aO[" useId ".trim().toString()]||(()=>{}),ase=0;function Hi(e){const[t,n]=j.useState(sse());return fs(()=>{n(s=>s??String(ase++))},[e]),t?`radix-${t}`:""}const ise=["top","right","bottom","left"],du=Math.min,Pa=Math.max,sb=Math.round,Gy=Math.floor,$o=e=>({x:e,y:e}),ose={left:"right",right:"left",bottom:"top",top:"bottom"},lse={start:"end",end:"start"};function yE(e,t,n){return Pa(e,du(t,n))}function Zl(e,t){return typeof e=="function"?e(t):e}function Jl(e){return e.split("-")[0]}function pm(e){return e.split("-")[1]}function xO(e){return e==="x"?"y":"x"}function gO(e){return e==="y"?"height":"width"}const cse=new Set(["top","bottom"]);function Lo(e){return cse.has(Jl(e))?"y":"x"}function yO(e){return xO(Lo(e))}function use(e,t,n){n===void 0&&(n=!1);const s=pm(e),a=yO(e),i=gO(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ab(o)),[o,ab(o)]}function dse(e){const t=ab(e);return[vE(e),t,vE(t)]}function vE(e){return e.replace(/start|end/g,t=>lse[t])}const hD=["left","right"],fD=["right","left"],hse=["top","bottom"],fse=["bottom","top"];function mse(e,t,n){switch(e){case"top":case"bottom":return n?t?fD:hD:t?hD:fD;case"left":case"right":return t?hse:fse;default:return[]}}function pse(e,t,n,s){const a=pm(e);let i=mse(Jl(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(vE)))),i}function ab(e){return e.replace(/left|right|bottom|top/g,t=>ose[t])}function xse(e){return{top:0,right:0,bottom:0,left:0,...e}}function uV(e){return typeof e!="number"?xse(e):{top:e,right:e,bottom:e,left:e}}function ib(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function mD(e,t,n){let{reference:s,floating:a}=e;const i=Lo(t),o=yO(t),l=gO(o),c=Jl(t),u=i==="y",h=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let x;switch(c){case"top":x={x:h,y:s.y-a.height};break;case"bottom":x={x:h,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:f};break;case"left":x={x:s.x-a.width,y:f};break;default:x={x:s.x,y:s.y}}switch(pm(t)){case"start":x[o]-=p*(n&&u?-1:1);break;case"end":x[o]+=p*(n&&u?-1:1);break}return x}const gse=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:f}=mD(u,s,c),p=s,x={},b=0;for(let v=0;v<l.length;v++){const{name:y,fn:N}=l[v],{x:_,y:S,data:E,reset:A}=await N({x:h,y:f,initialPlacement:s,placement:p,strategy:a,middlewareData:x,rects:u,platform:o,elements:{reference:e,floating:t}});h=_??h,f=S??f,x={...x,[y]:{...x[y],...E}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:h,y:f}=mD(u,p,c)),v=-1)}return{x:h,y:f,placement:p,strategy:a,middlewareData:x}};async function Lx(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:x=0}=Zl(t,e),b=uV(x),y=l[p?f==="floating"?"reference":"floating":f],N=ib(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),_=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=ib(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:S,strategy:c}):_);return{top:(N.top-A.top+b.top)/E.y,bottom:(A.bottom-N.bottom+b.bottom)/E.y,left:(N.left-A.left+b.left)/E.x,right:(A.right-N.right+b.right)/E.x}}const yse=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=Zl(e,t)||{};if(u==null)return{};const f=uV(h),p={x:n,y:s},x=yO(a),b=gO(x),v=await o.getDimensions(u),y=x==="y",N=y?"top":"left",_=y?"bottom":"right",S=y?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[x]-p[x]-i.floating[b],A=p[x]-i.reference[x],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=k?k[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=l.floating[S]||i.floating[b]);const R=E/2-A/2,$=P/2-v[b]/2-1,D=du(f[N],$),M=du(f[_],$),B=D,J=P-v[b]-M,Y=P/2-v[b]/2+R,W=yE(B,Y,J),se=!c.arrow&&pm(a)!=null&&Y!==W&&i.reference[b]/2-(Y<B?D:M)-v[b]/2<0,q=se?Y<B?Y-B:Y-J:0;return{[x]:p[x]+q,data:{[x]:W,centerOffset:Y-W-q,...se&&{alignmentOffset:q}},reset:se}}}),vse=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...y}=Zl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=Jl(a),_=Lo(l),S=Jl(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=p||(S||!v?[ab(l)]:dse(l)),k=b!=="none";!p&&k&&A.push(...pse(l,v,b,E));const P=[l,...A],R=await Lx(t,y),$=[];let D=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&$.push(R[N]),f){const Y=use(a,o,E);$.push(R[Y[0]],R[Y[1]])}if(D=[...D,{placement:a,overflows:$}],!$.every(Y=>Y<=0)){var M,B;const Y=(((M=i.flip)==null?void 0:M.index)||0)+1,W=P[Y];if(W&&(!(f==="alignment"?_!==Lo(W):!1)||D.every(V=>Lo(V.placement)===_?V.overflows[0]>0:!0)))return{data:{index:Y,overflows:D},reset:{placement:W}};let se=(B=D.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:B.placement;if(!se)switch(x){case"bestFit":{var J;const q=(J=D.filter(V=>{if(k){const U=Lo(V.placement);return U===_||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,F)=>U+F,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:J[0];q&&(se=q);break}case"initialPlacement":se=l;break}if(a!==se)return{reset:{placement:se}}}return{}}}};function pD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xD(e){return ise.some(t=>e[t]>=0)}const bse=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Zl(e,t);switch(s){case"referenceHidden":{const i=await Lx(t,{...a,elementContext:"reference"}),o=pD(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xD(o)}}}case"escaped":{const i=await Lx(t,{...a,altBoundary:!0}),o=pD(i,n.floating);return{data:{escapedOffsets:o,escaped:xD(o)}}}default:return{}}}}},dV=new Set(["left","top"]);async function wse(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Jl(n),l=pm(n),c=Lo(n)==="y",u=dV.has(o)?-1:1,h=i&&c?-1:1,f=Zl(t,e);let{mainAxis:p,crossAxis:x,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),c?{x:x*h,y:p*u}:{x:p*u,y:x*h}}const jse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await wse(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Nse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:_}=y;return{x:N,y:_}}},...c}=Zl(e,t),u={x:n,y:s},h=await Lx(t,c),f=Lo(Jl(a)),p=xO(f);let x=u[p],b=u[f];if(i){const y=p==="y"?"top":"left",N=p==="y"?"bottom":"right",_=x+h[y],S=x-h[N];x=yE(_,x,S)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",_=b+h[y],S=b-h[N];b=yE(_,b,S)}const v=l.fn({...t,[p]:x,[f]:b});return{...v,data:{x:v.x-n,y:v.y-s,enabled:{[p]:i,[f]:o}}}}}},_se=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zl(e,t),h={x:n,y:s},f=Lo(a),p=xO(f);let x=h[p],b=h[f];const v=Zl(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=p==="y"?"height":"width",E=i.reference[p]-i.floating[S]+y.mainAxis,A=i.reference[p]+i.reference[S]-y.mainAxis;x<E?x=E:x>A&&(x=A)}if(u){var N,_;const S=p==="y"?"width":"height",E=dV.has(Jl(a)),A=i.reference[f]-i.floating[S]+(E&&((N=o.offset)==null?void 0:N[f])||0)+(E?0:y.crossAxis),k=i.reference[f]+i.reference[S]+(E?0:((_=o.offset)==null?void 0:_[f])||0)-(E?y.crossAxis:0);b<A?b=A:b>k&&(b=k)}return{[p]:x,[f]:b}}}},Sse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Zl(e,t),h=await Lx(t,u),f=Jl(a),p=pm(a),x=Lo(a)==="y",{width:b,height:v}=i.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=p==="end"?"top":"bottom");const _=v-h.top-h.bottom,S=b-h.left-h.right,E=du(v-h[y],_),A=du(b-h[N],S),k=!t.middlewareData.shift;let P=E,R=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=_),k&&!p){const D=Pa(h.left,0),M=Pa(h.right,0),B=Pa(h.top,0),J=Pa(h.bottom,0);x?R=b-2*(D!==0||M!==0?D+M:Pa(h.left,h.right)):P=v-2*(B!==0||J!==0?B+J:Pa(h.top,h.bottom))}await c({...t,availableWidth:R,availableHeight:P});const $=await o.getDimensions(l.floating);return b!==$.width||v!==$.height?{reset:{rects:!0}}:{}}}};function Fw(){return typeof window<"u"}function xm(e){return hV(e)?(e.nodeName||"").toLowerCase():"#document"}function Ra(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nl(e){var t;return(t=(hV(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hV(e){return Fw()?e instanceof Node||e instanceof Ra(e).Node:!1}function Ki(e){return Fw()?e instanceof Element||e instanceof Ra(e).Element:!1}function qo(e){return Fw()?e instanceof HTMLElement||e instanceof Ra(e).HTMLElement:!1}function gD(e){return!Fw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ra(e).ShadowRoot}const Cse=new Set(["inline","contents"]);function H0(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Cse.has(a)}const kse=new Set(["table","td","th"]);function Ese(e){return kse.has(xm(e))}const Pse=[":popover-open",":modal"];function zw(e){return Pse.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ase=["transform","translate","scale","rotate","perspective"],Ose=["transform","translate","scale","rotate","perspective","filter"],Tse=["paint","layout","strict","content"];function vO(e){const t=bO(),n=Ki(e)?Xi(e):e;return Ase.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ose.some(s=>(n.willChange||"").includes(s))||Tse.some(s=>(n.contain||"").includes(s))}function Mse(e){let t=hu(e);for(;qo(t)&&!Rf(t);){if(vO(t))return t;if(zw(t))return null;t=hu(t)}return null}function bO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rse=new Set(["html","body","#document"]);function Rf(e){return Rse.has(xm(e))}function Xi(e){return Ra(e).getComputedStyle(e)}function $w(e){return Ki(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hu(e){if(xm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gD(e)&&e.host||nl(e);return gD(t)?t.host:t}function fV(e){const t=hu(e);return Rf(t)?e.ownerDocument?e.ownerDocument.body:e.body:qo(t)&&H0(t)?t:fV(t)}function Fx(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=fV(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Ra(a);if(i){const l=bE(o);return t.concat(o,o.visualViewport||[],H0(a)?a:[],l&&n?Fx(l):[])}return t.concat(a,Fx(a,[],n))}function bE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mV(e){const t=Xi(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=qo(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=sb(n)!==i||sb(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function wO(e){return Ki(e)?e:e.contextElement}function uf(e){const t=wO(e);if(!qo(t))return $o(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=mV(t);let o=(i?sb(n.width):n.width)/s,l=(i?sb(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Dse=$o(0);function pV(e){const t=Ra(e);return!bO()||!t.visualViewport?Dse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ise(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ra(e)?!1:t}function Fd(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=wO(e);let o=$o(1);t&&(s?Ki(s)&&(o=uf(s)):o=uf(e));const l=Ise(i,n,s)?pV(i):$o(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,h=a.width/o.x,f=a.height/o.y;if(i){const p=Ra(i),x=s&&Ki(s)?Ra(s):s;let b=p,v=bE(b);for(;v&&s&&x!==b;){const y=uf(v),N=v.getBoundingClientRect(),_=Xi(v),S=N.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,E=N.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,u*=y.y,h*=y.x,f*=y.y,c+=S,u+=E,b=Ra(v),v=bE(b)}}return ib({width:h,height:f,x:c,y:u})}function Bw(e,t){const n=$w(e).scrollLeft;return t?t.left+n:Fd(nl(e)).left+n}function xV(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Bw(e,n),a=n.top+t.scrollTop;return{x:s,y:a}}function Lse(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=nl(s),l=t?zw(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=$o(1);const h=$o(0),f=qo(s);if((f||!f&&!i)&&((xm(s)!=="body"||H0(o))&&(c=$w(s)),qo(s))){const x=Fd(s);u=uf(s),h.x=x.x+s.clientLeft,h.y=x.y+s.clientTop}const p=o&&!f&&!i?xV(o,c):$o(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-c.scrollTop*u.y+h.y+p.y}}function Fse(e){return Array.from(e.getClientRects())}function zse(e){const t=nl(e),n=$w(e),s=e.ownerDocument.body,a=Pa(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Pa(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Bw(e);const l=-n.scrollTop;return Xi(s).direction==="rtl"&&(o+=Pa(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const yD=25;function $se(e,t){const n=Ra(e),s=nl(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const h=bO();(!h||h&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Bw(s);if(u<=0){const h=s.ownerDocument,f=h.body,p=getComputedStyle(f),x=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(s.clientWidth-f.clientWidth-x);b<=yD&&(i-=b)}else u<=yD&&(i+=u);return{width:i,height:o,x:l,y:c}}const Bse=new Set(["absolute","fixed"]);function Vse(e,t){const n=Fd(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=qo(e)?uf(e):$o(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function vD(e,t,n){let s;if(t==="viewport")s=$se(e,n);else if(t==="document")s=zse(nl(e));else if(Ki(t))s=Vse(t,n);else{const a=pV(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ib(s)}function gV(e,t){const n=hu(e);return n===t||!Ki(n)||Rf(n)?!1:Xi(n).position==="fixed"||gV(n,t)}function Use(e,t){const n=t.get(e);if(n)return n;let s=Fx(e,[],!1).filter(l=>Ki(l)&&xm(l)!=="body"),a=null;const i=Xi(e).position==="fixed";let o=i?hu(e):e;for(;Ki(o)&&!Rf(o);){const l=Xi(o),c=vO(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Bse.has(a.position)||H0(o)&&!c&&gV(e,o))?s=s.filter(h=>h!==o):a=l,o=hu(o)}return t.set(e,s),s}function Wse(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?zw(t)?[]:Use(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,h)=>{const f=vD(t,h,a);return u.top=Pa(f.top,u.top),u.right=du(f.right,u.right),u.bottom=du(f.bottom,u.bottom),u.left=Pa(f.left,u.left),u},vD(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qse(e){const{width:t,height:n}=mV(e);return{width:t,height:n}}function Hse(e,t,n){const s=qo(t),a=nl(t),i=n==="fixed",o=Fd(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=$o(0);function u(){c.x=Bw(a)}if(s||!s&&!i)if((xm(t)!=="body"||H0(a))&&(l=$w(t)),s){const x=Fd(t,!0,i,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&u();i&&!s&&a&&u();const h=a&&!s&&!i?xV(a,l):$o(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function p_(e){return Xi(e).position==="static"}function bD(e,t){if(!qo(e)||Xi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nl(e)===n&&(n=n.ownerDocument.body),n}function yV(e,t){const n=Ra(e);if(zw(e))return n;if(!qo(e)){let a=hu(e);for(;a&&!Rf(a);){if(Ki(a)&&!p_(a))return a;a=hu(a)}return n}let s=bD(e,t);for(;s&&Ese(s)&&p_(s);)s=bD(s,t);return s&&Rf(s)&&p_(s)&&!vO(s)?n:s||Mse(e)||n}const Yse=async function(e){const t=this.getOffsetParent||yV,n=this.getDimensions,s=await n(e.floating);return{reference:Hse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Gse(e){return Xi(e).direction==="rtl"}const Kse={convertOffsetParentRelativeRectToViewportRelativeRect:Lse,getDocumentElement:nl,getClippingRect:Wse,getOffsetParent:yV,getElementRects:Yse,getClientRects:Fse,getDimensions:qse,getScale:uf,isElement:Ki,isRTL:Gse};function vV(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xse(e,t){let n=null,s;const a=nl(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:p,height:x}=u;if(l||t(),!p||!x)return;const b=Gy(f),v=Gy(a.clientWidth-(h+p)),y=Gy(a.clientHeight-(f+x)),N=Gy(h),S={rootMargin:-b+"px "+-v+"px "+-y+"px "+-N+"px",threshold:Pa(0,du(1,c))||1};let E=!0;function A(k){const P=k[0].intersectionRatio;if(P!==c){if(!E)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!vV(u,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(A,{...S,root:a.ownerDocument})}catch{n=new IntersectionObserver(A,S)}n.observe(e)}return o(!0),i}function Qse(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=wO(e),h=a||i?[...u?Fx(u):[],...Fx(t)]:[];h.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const f=u&&l?Xse(u,n):null;let p=-1,x=null;o&&(x=new ResizeObserver(N=>{let[_]=N;_&&_.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=x)==null||S.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let b,v=c?Fd(e):null;c&&y();function y(){const N=Fd(e);v&&!vV(v,N)&&n(),v=N,b=requestAnimationFrame(y)}return n(),()=>{var N;h.forEach(_=>{a&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(N=x)==null||N.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const Zse=jse,Jse=Nse,eae=vse,tae=Sse,nae=bse,wD=yse,rae=_se,sae=(e,t,n)=>{const s=new Map,a={platform:Kse,...n},i={...a.platform,_c:s};return gse(e,t,{...a,platform:i})};var aae=typeof document<"u",iae=function(){},Mv=aae?j.useLayoutEffect:iae;function ob(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!ob(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!ob(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function bV(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jD(e,t){const n=bV(e);return Math.round(t*n)/n}function x_(e){const t=j.useRef(e);return Mv(()=>{t.current=e}),t}function oae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=j.useState(s);ob(p,s)||x(s);const[b,v]=j.useState(null),[y,N]=j.useState(null),_=j.useCallback(V=>{V!==k.current&&(k.current=V,v(V))},[]),S=j.useCallback(V=>{V!==P.current&&(P.current=V,N(V))},[]),E=i||b,A=o||y,k=j.useRef(null),P=j.useRef(null),R=j.useRef(h),$=c!=null,D=x_(c),M=x_(a),B=x_(u),J=j.useCallback(()=>{if(!k.current||!P.current)return;const V={placement:t,strategy:n,middleware:p};M.current&&(V.platform=M.current),sae(k.current,P.current,V).then(U=>{const F={...U,isPositioned:B.current!==!1};Y.current&&!ob(R.current,F)&&(R.current=F,$0.flushSync(()=>{f(F)}))})},[p,t,n,M,B]);Mv(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const Y=j.useRef(!1);Mv(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Mv(()=>{if(E&&(k.current=E),A&&(P.current=A),E&&A){if(D.current)return D.current(E,A,J);J()}},[E,A,J,D,$]);const W=j.useMemo(()=>({reference:k,floating:P,setReference:_,setFloating:S}),[_,S]),se=j.useMemo(()=>({reference:E,floating:A}),[E,A]),q=j.useMemo(()=>{const V={position:n,left:0,top:0};if(!se.floating)return V;const U=jD(se.floating,h.x),F=jD(se.floating,h.y);return l?{...V,transform:"translate("+U+"px, "+F+"px)",...bV(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:F}},[n,l,se.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:J,refs:W,elements:se,floatingStyles:q}),[h,J,W,se,q])}const lae=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?wD({element:s.current,padding:a}).fn(n):{}:s?wD({element:s,padding:a}).fn(n):{}}}},cae=(e,t)=>({...Zse(e),options:[e,t]}),uae=(e,t)=>({...Jse(e),options:[e,t]}),dae=(e,t)=>({...rae(e),options:[e,t]}),hae=(e,t)=>({...eae(e),options:[e,t]}),fae=(e,t)=>({...tae(e),options:[e,t]}),mae=(e,t)=>({...nae(e),options:[e,t]}),pae=(e,t)=>({...lae(e),options:[e,t]});var xae="Arrow",wV=j.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(Ct.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});wV.displayName=xae;var gae=wV;function jO(e){const[t,n]=j.useState(void 0);return fs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var NO="Popper",[jV,gm]=pi(NO),[yae,NV]=jV(NO),_V=e=>{const{__scopePopper:t,children:n}=e,[s,a]=j.useState(null);return r.jsx(yae,{scope:t,anchor:s,onAnchorChange:a,children:n})};_V.displayName=NO;var SV="PopperAnchor",CV=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=NV(SV,n),o=j.useRef(null),l=Wt(t,o),c=j.useRef(null);return j.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:r.jsx(Ct.div,{...a,ref:l})});CV.displayName=SV;var _O="PopperContent",[vae,bae]=jV(_O),kV=j.forwardRef((e,t)=>{var re,ce,he,ue,Oe,ge;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:b,...v}=e,y=NV(_O,n),[N,_]=j.useState(null),S=Wt(t,qe=>_(qe)),[E,A]=j.useState(null),k=jO(E),P=(k==null?void 0:k.width)??0,R=(k==null?void 0:k.height)??0,$=s+(i!=="center"?"-"+i:""),D=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],B=M.length>0,J={padding:D,boundary:M.filter(jae),altBoundary:B},{refs:Y,floatingStyles:W,placement:se,isPositioned:q,middlewareData:V}=oae({strategy:"fixed",placement:$,whileElementsMounted:(...qe)=>Qse(...qe,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[cae({mainAxis:a+R,alignmentAxis:o}),c&&uae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dae():void 0,...J}),c&&hae({...J}),fae({...J,apply:({elements:qe,rects:Ce,availableWidth:yt,availableHeight:st})=>{const{width:xt,height:Jt}=Ce.reference,qt=qe.floating.style;qt.setProperty("--radix-popper-available-width",`${yt}px`),qt.setProperty("--radix-popper-available-height",`${st}px`),qt.setProperty("--radix-popper-anchor-width",`${xt}px`),qt.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),E&&pae({element:E,padding:l}),Nae({arrowWidth:P,arrowHeight:R}),p&&mae({strategy:"referenceHidden",...J})]}),[U,F]=AV(se),K=us(b);fs(()=>{q&&(K==null||K())},[q,K]);const te=(re=V.arrow)==null?void 0:re.x,H=(ce=V.arrow)==null?void 0:ce.y,xe=((he=V.arrow)==null?void 0:he.centerOffset)!==0,[ne,pe]=j.useState();return fs(()=>{N&&pe(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ue=V.transformOrigin)==null?void 0:ue.x,(Oe=V.transformOrigin)==null?void 0:Oe.y].join(" "),...((ge=V.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(vae,{scope:n,placedSide:U,onArrowChange:A,arrowX:te,arrowY:H,shouldHideArrow:xe,children:r.jsx(Ct.div,{"data-side":U,"data-align":F,...v,ref:S,style:{...v.style,animation:q?void 0:"none"}})})})});kV.displayName=_O;var EV="PopperArrow",wae={top:"bottom",right:"left",bottom:"top",left:"right"},PV=j.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=bae(EV,s),o=wae[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(gae,{...a,ref:n,style:{...a.style,display:"block"}})})});PV.displayName=EV;function jae(e){return e!==null}var Nae=e=>({name:"transformOrigin",options:e,fn(t){var y,N,_;const{placement:n,rects:s,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,h]=AV(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((N=a.arrow)==null?void 0:N.x)??0)+l/2,x=(((_=a.arrow)==null?void 0:_.y)??0)+c/2;let b="",v="";return u==="bottom"?(b=o?f:`${p}px`,v=`${-c}px`):u==="top"?(b=o?f:`${p}px`,v=`${s.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=o?f:`${x}px`):u==="left"&&(b=`${s.floating.width+c}px`,v=o?f:`${x}px`),{data:{x:b,y:v}}}});function AV(e){const[t,n="center"]=e.split("-");return[t,n]}var SO=_V,Vw=CV,CO=kV,kO=PV,_ae="Portal",Y0=j.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=j.useState(!1);fs(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Uee.createPortal(r.jsx(Ct.div,{...s,ref:t}),o):null});Y0.displayName=_ae;function Sae(e,t){return j.useReducer((n,s)=>t[n][s]??n,e)}var Cs=e=>{const{present:t,children:n}=e,s=Cae(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=Wt(s.ref,kae(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};Cs.displayName="Presence";function Cae(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Sae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=Ky(s.current);i.current=l==="mounted"?u:"none"},[l]),fs(()=>{const u=s.current,h=a.current;if(h!==e){const p=i.current,x=Ky(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),fs(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=x=>{const v=Ky(s.current).includes(CSS.escape(x.animationName));if(x.target===t&&v&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=x=>{x.target===t&&(i.current=Ky(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ky(e){return(e==null?void 0:e.animationName)||"none"}function kae(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var g_="rovingFocusGroup.onEntryFocus",Eae={bubbles:!1,cancelable:!0},G0="RovingFocusGroup",[wE,OV,Pae]=pO(G0),[Aae,Uw]=pi(G0,[Pae]),[Oae,Tae]=Aae(G0),TV=j.forwardRef((e,t)=>r.jsx(wE.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(wE.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Mae,{...e,ref:t})})}));TV.displayName=G0;var Mae=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,p=j.useRef(null),x=Wt(t,p),b=U0(i),[v,y]=Ql({prop:o,defaultProp:l??null,onChange:c,caller:G0}),[N,_]=j.useState(!1),S=us(u),E=OV(n),A=j.useRef(!1),[k,P]=j.useState(0);return j.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(g_,S),()=>R.removeEventListener(g_,S)},[S]),r.jsx(Oae,{scope:n,orientation:s,dir:b,loop:a,currentTabStopId:v,onItemFocus:j.useCallback(R=>y(R),[y]),onItemShiftTab:j.useCallback(()=>_(!0),[]),onFocusableItemAdd:j.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:j.useCallback(()=>P(R=>R-1),[]),children:r.jsx(Ct.div,{tabIndex:N||k===0?-1:0,"data-orientation":s,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:Xe(e.onMouseDown,()=>{A.current=!0}),onFocus:Xe(e.onFocus,R=>{const $=!A.current;if(R.target===R.currentTarget&&$&&!N){const D=new CustomEvent(g_,Eae);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=E().filter(se=>se.focusable),B=M.find(se=>se.active),J=M.find(se=>se.id===v),W=[B,J,...M].filter(Boolean).map(se=>se.ref.current);DV(W,h)}}A.current=!1}),onBlur:Xe(e.onBlur,()=>_(!1))})})}),MV="RovingFocusGroupItem",RV=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Hi(),u=i||c,h=Tae(MV,n),f=h.currentTabStopId===u,p=OV(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:v}=h;return j.useEffect(()=>{if(s)return x(),()=>b()},[s,x,b]),r.jsx(wE.ItemSlot,{scope:n,id:u,focusable:s,active:a,children:r.jsx(Ct.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Xe(e.onMouseDown,y=>{s?h.onItemFocus(u):y.preventDefault()}),onFocus:Xe(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:Xe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=Iae(y,h.orientation,h.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=p().filter(E=>E.focusable).map(E=>E.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const E=S.indexOf(y.currentTarget);S=h.loop?Lae(S,E+1):S.slice(E+1)}setTimeout(()=>DV(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});RV.displayName=MV;var Rae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Iae(e,t,n){const s=Dae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Rae[s]}function DV(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Lae(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var IV=TV,LV=RV;function Fae(e){const t=zae(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find(Bae);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function zae(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=Uae(a),l=Vae(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $ae=Symbol("radix.slottable");function Bae(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$ae}function Vae(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Uae(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$h=new WeakMap,Xy=new WeakMap,Qy={},y_=0,FV=function(e){return e&&(e.host||FV(e.parentNode))},qae=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=FV(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Hae=function(e,t,n,s){var a=qae(t,Array.isArray(e)?e:[e]);Qy[n]||(Qy[n]=new WeakMap);var i=Qy[n],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var x=p.getAttribute(s),b=x!==null&&x!=="false",v=($h.get(p)||0)+1,y=(i.get(p)||0)+1;$h.set(p,v),i.set(p,y),o.push(p),v===1&&b&&Xy.set(p,!0),y===1&&p.setAttribute(n,"true"),b||p.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return h(t),l.clear(),y_++,function(){o.forEach(function(f){var p=$h.get(f)-1,x=i.get(f)-1;$h.set(f,p),i.set(f,x),p||(Xy.has(f)||f.removeAttribute(s),Xy.delete(f)),x||f.removeAttribute(n)}),y_--,y_||($h=new WeakMap,$h=new WeakMap,Xy=new WeakMap,Qy={})}},Ww=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Wae(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),Hae(s,a,n,"aria-hidden")):function(){return null}},Oo=function(){return Oo=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oo.apply(this,arguments)};function zV(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function Yae(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Rv="right-scroll-bar-position",Dv="width-before-scroll-bar",Gae="with-scroll-bars-hidden",Kae="--removed-body-scroll-bar-size";function v_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Xae(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var Qae=typeof window<"u"?j.useLayoutEffect:j.useEffect,ND=new WeakMap;function Zae(e,t){var n=Xae(null,function(s){return e.forEach(function(a){return v_(a,s)})});return Qae(function(){var s=ND.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||v_(l,null)}),i.forEach(function(l){a.has(l)||v_(l,o)})}ND.set(n,e)},[e]),n}function Jae(e){return e}function eie(e,t){t===void 0&&(t=Jae);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return a}function tie(e){e===void 0&&(e={});var t=eie(null);return t.options=Oo({async:!0,ssr:!1},e),t}var $V=function(e){var t=e.sideCar,n=zV(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,Oo({},n))};$V.isSideCarExport=!0;function nie(e,t){return e.useMedium(t),$V}var BV=tie(),b_=function(){},qw=j.forwardRef(function(e,t){var n=j.useRef(null),s=j.useState({onScrollCapture:b_,onWheelCapture:b_,onTouchMoveCapture:b_}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,x=e.noRelative,b=e.noIsolation,v=e.inert,y=e.allowPinchZoom,N=e.as,_=N===void 0?"div":N,S=e.gapMode,E=zV(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,k=Zae([n,t]),P=Oo(Oo({},E),a);return j.createElement(j.Fragment,null,h&&j.createElement(A,{sideCar:BV,removeScrollBar:u,shards:f,noRelative:x,noIsolation:b,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:S}),o?j.cloneElement(j.Children.only(l),Oo(Oo({},P),{ref:k})):j.createElement(_,Oo({},P,{className:c,ref:k}),l))});qw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qw.classNames={fullWidth:Dv,zeroRight:Rv};var rie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rie();return t&&e.setAttribute("nonce",t),e}function aie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function iie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var oie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=sie())&&(aie(t,n),iie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lie=function(){var e=oie();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},VV=function(){var e=lie(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},cie={left:0,top:0,right:0,gap:0},w_=function(e){return parseInt(e||"",10)||0},uie=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[w_(n),w_(s),w_(a)]},die=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cie;var t=uie(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},hie=VV(),df="data-scroll-locked",fie=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Gae,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(df,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rv,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Dv,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Rv," .").concat(Rv,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Dv," .").concat(Dv,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(df,`] {
    `).concat(Kae,": ").concat(l,`px;
  }
`)},_D=function(){var e=parseInt(document.body.getAttribute(df)||"0",10);return isFinite(e)?e:0},mie=function(){j.useEffect(function(){return document.body.setAttribute(df,(_D()+1).toString()),function(){var e=_D()-1;e<=0?document.body.removeAttribute(df):document.body.setAttribute(df,e.toString())}},[])},pie=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;mie();var i=j.useMemo(function(){return die(a)},[a]);return j.createElement(hie,{styles:fie(i,!t,a,n?"":"!important")})},jE=!1;if(typeof window<"u")try{var Zy=Object.defineProperty({},"passive",{get:function(){return jE=!0,!0}});window.addEventListener("test",Zy,Zy),window.removeEventListener("test",Zy,Zy)}catch{jE=!1}var Bh=jE?{passive:!1}:!1,xie=function(e){return e.tagName==="TEXTAREA"},UV=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xie(e)&&n[t]==="visible")},gie=function(e){return UV(e,"overflowY")},yie=function(e){return UV(e,"overflowX")},SD=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=WV(e,s);if(a){var i=qV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},vie=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},bie=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},WV=function(e,t){return e==="v"?gie(t):yie(t)},qV=function(e,t){return e==="v"?vie(t):bie(t)},wie=function(e,t){return e==="h"&&t==="rtl"?-1:1},jie=function(e,t,n,s,a){var i=wie(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),u=!1,h=o>0,f=0,p=0;do{if(!l)break;var x=qV(e,l),b=x[0],v=x[1],y=x[2],N=v-y-i*b;(b||N)&&WV(e,l)&&(f+=N,p+=b);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},Jy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CD=function(e){return[e.deltaX,e.deltaY]},kD=function(e){return e&&"current"in e?e.current:e},Nie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_ie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Sie=0,Vh=[];function Cie(e){var t=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(Sie++)[0],i=j.useState(VV)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=Yae([e.lockRef.current],(e.shards||[]).map(kD),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Jy(v),_=n.current,S="deltaX"in v?v.deltaX:_[0]-N[0],E="deltaY"in v?v.deltaY:_[1]-N[1],A,k=v.target,P=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in v&&P==="h"&&k.type==="range")return!1;var R=window.getSelection(),$=R&&R.anchorNode,D=$?$===k||$.contains(k):!1;if(D)return!1;var M=SD(P,k);if(!M)return!0;if(M?A=P:(A=P==="v"?"h":"v",M=SD(P,k)),!M)return!1;if(!s.current&&"changedTouches"in v&&(S||E)&&(s.current=A),!A)return!0;var B=s.current||A;return jie(B,y,v,B==="h"?S:E)},[]),c=j.useCallback(function(v){var y=v;if(!(!Vh.length||Vh[Vh.length-1]!==i)){var N="deltaY"in y?CD(y):Jy(y),_=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&Nie(A.delta,N)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(kD).filter(Boolean).filter(function(A){return A.contains(y.target)}),E=S.length>0?l(y,S[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),u=j.useCallback(function(v,y,N,_){var S={name:v,delta:y,target:N,should:_,shadowParent:kie(N)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),h=j.useCallback(function(v){n.current=Jy(v),s.current=void 0},[]),f=j.useCallback(function(v){u(v.type,CD(v),v.target,l(v,e.lockRef.current))},[]),p=j.useCallback(function(v){u(v.type,Jy(v),v.target,l(v,e.lockRef.current))},[]);j.useEffect(function(){return Vh.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Bh),document.addEventListener("touchmove",c,Bh),document.addEventListener("touchstart",h,Bh),function(){Vh=Vh.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Bh),document.removeEventListener("touchmove",c,Bh),document.removeEventListener("touchstart",h,Bh)}},[]);var x=e.removeScrollBar,b=e.inert;return j.createElement(j.Fragment,null,b?j.createElement(i,{styles:_ie(a)}):null,x?j.createElement(pie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Eie=nie(BV,Cie);var K0=j.forwardRef(function(e,t){return j.createElement(qw,Oo({},e,{ref:t,sideCar:Eie}))});K0.classNames=qw.classNames;var NE=["Enter"," "],Pie=["ArrowDown","PageUp","Home"],HV=["ArrowUp","PageDown","End"],Aie=[...Pie,...HV],Oie={ltr:[...NE,"ArrowRight"],rtl:[...NE,"ArrowLeft"]},Tie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},X0="Menu",[zx,Mie,Rie]=pO(X0),[Xd,YV]=pi(X0,[Rie,gm,Uw]),Hw=gm(),GV=Uw(),[Die,Qd]=Xd(X0),[Iie,Q0]=Xd(X0),KV=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Hw(t),[c,u]=j.useState(null),h=j.useRef(!1),f=us(i),p=U0(a);return j.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),r.jsx(SO,{...l,children:r.jsx(Die,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:r.jsx(Iie,{scope:t,onClose:j.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:s})})})};KV.displayName=X0;var Lie="MenuAnchor",EO=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=Hw(n);return r.jsx(Vw,{...a,...s,ref:t})});EO.displayName=Lie;var PO="MenuPortal",[Fie,XV]=Xd(PO,{forceMount:void 0}),QV=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,i=Qd(PO,t);return r.jsx(Fie,{scope:t,forceMount:n,children:r.jsx(Cs,{present:n||i.open,children:r.jsx(Y0,{asChild:!0,container:a,children:s})})})};QV.displayName=PO;var ci="MenuContent",[zie,AO]=Xd(ci),ZV=j.forwardRef((e,t)=>{const n=XV(ci,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=Qd(ci,e.__scopeMenu),o=Q0(ci,e.__scopeMenu);return r.jsx(zx.Provider,{scope:e.__scopeMenu,children:r.jsx(Cs,{present:s||i.open,children:r.jsx(zx.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx($ie,{...a,ref:t}):r.jsx(Bie,{...a,ref:t})})})})}),$ie=j.forwardRef((e,t)=>{const n=Qd(ci,e.__scopeMenu),s=j.useRef(null),a=Wt(t,s);return j.useEffect(()=>{const i=s.current;if(i)return Ww(i)},[]),r.jsx(OO,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Xe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Bie=j.forwardRef((e,t)=>{const n=Qd(ci,e.__scopeMenu);return r.jsx(OO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Vie=Fae("MenuContent.ScrollLock"),OO=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:x,disableOutsideScroll:b,...v}=e,y=Qd(ci,n),N=Q0(ci,n),_=Hw(n),S=GV(n),E=Mie(n),[A,k]=j.useState(null),P=j.useRef(null),R=Wt(t,P,y.onContentChange),$=j.useRef(0),D=j.useRef(""),M=j.useRef(0),B=j.useRef(null),J=j.useRef("right"),Y=j.useRef(0),W=b?K0:j.Fragment,se=b?{as:Vie,allowPinchZoom:!0}:void 0,q=U=>{var re,ce;const F=D.current+U,K=E().filter(he=>!he.disabled),te=document.activeElement,H=(re=K.find(he=>he.ref.current===te))==null?void 0:re.textValue,xe=K.map(he=>he.textValue),ne=eoe(xe,F,H),pe=(ce=K.find(he=>he.textValue===ne))==null?void 0:ce.ref.current;(function he(ue){D.current=ue,window.clearTimeout($.current),ue!==""&&($.current=window.setTimeout(()=>he(""),1e3))})(F),pe&&setTimeout(()=>pe.focus())};j.useEffect(()=>()=>window.clearTimeout($.current),[]),Lw();const V=j.useCallback(U=>{var K,te;return J.current===((K=B.current)==null?void 0:K.side)&&noe(U,(te=B.current)==null?void 0:te.area)},[]);return r.jsx(zie,{scope:n,searchRef:D,onItemEnter:j.useCallback(U=>{V(U)&&U.preventDefault()},[V]),onItemLeave:j.useCallback(U=>{var F;V(U)||((F=P.current)==null||F.focus(),k(null))},[V]),onTriggerLeave:j.useCallback(U=>{V(U)&&U.preventDefault()},[V]),pointerGraceTimerRef:M,onPointerGraceIntentChange:j.useCallback(U=>{B.current=U},[]),children:r.jsx(W,{...se,children:r.jsx(q0,{asChild:!0,trapped:a,onMountAutoFocus:Xe(i,U=>{var F;U.preventDefault(),(F=P.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(W0,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:x,children:r.jsx(IV,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:A,onCurrentTabStopIdChange:k,onEntryFocus:Xe(c,U=>{N.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(CO,{role:"menu","aria-orientation":"vertical","data-state":m9(y.open),"data-radix-menu-content":"",dir:N.dir,..._,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:Xe(v.onKeyDown,U=>{const K=U.target.closest("[data-radix-menu-content]")===U.currentTarget,te=U.ctrlKey||U.altKey||U.metaKey,H=U.key.length===1;K&&(U.key==="Tab"&&U.preventDefault(),!te&&H&&q(U.key));const xe=P.current;if(U.target!==xe||!Aie.includes(U.key))return;U.preventDefault();const pe=E().filter(re=>!re.disabled).map(re=>re.ref.current);HV.includes(U.key)&&pe.reverse(),Zie(pe)}),onBlur:Xe(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout($.current),D.current="")}),onPointerMove:Xe(e.onPointerMove,$x(U=>{const F=U.target,K=Y.current!==U.clientX;if(U.currentTarget.contains(F)&&K){const te=U.clientX>Y.current?"right":"left";J.current=te,Y.current=U.clientX}}))})})})})})})});ZV.displayName=ci;var Uie="MenuGroup",TO=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Ct.div,{role:"group",...s,ref:t})});TO.displayName=Uie;var Wie="MenuLabel",JV=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Ct.div,{...s,ref:t})});JV.displayName=Wie;var lb="MenuItem",ED="menu.itemSelect",Yw=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,i=j.useRef(null),o=Q0(lb,e.__scopeMenu),l=AO(lb,e.__scopeMenu),c=Wt(t,i),u=j.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(ED,{bubbles:!0,cancelable:!0});f.addEventListener(ED,x=>s==null?void 0:s(x),{once:!0}),iV(f,p),p.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(e9,{...a,ref:c,disabled:n,onClick:Xe(e.onClick,h),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:Xe(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Xe(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||NE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Yw.displayName=lb;var e9=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=e,o=AO(lb,n),l=GV(n),c=j.useRef(null),u=Wt(t,c),[h,f]=j.useState(!1),[p,x]=j.useState("");return j.useEffect(()=>{const b=c.current;b&&x((b.textContent??"").trim())},[i.children]),r.jsx(zx.ItemSlot,{scope:n,disabled:s,textValue:a??p,children:r.jsx(LV,{asChild:!0,...l,focusable:!s,children:r.jsx(Ct.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:Xe(e.onPointerMove,$x(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Xe(e.onPointerLeave,$x(b=>o.onItemLeave(b))),onFocus:Xe(e.onFocus,()=>f(!0)),onBlur:Xe(e.onBlur,()=>f(!1))})})})}),qie="MenuCheckboxItem",t9=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(i9,{scope:e.__scopeMenu,checked:n,children:r.jsx(Yw,{role:"menuitemcheckbox","aria-checked":cb(n)?"mixed":n,...a,ref:t,"data-state":RO(n),onSelect:Xe(a.onSelect,()=>s==null?void 0:s(cb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});t9.displayName=qie;var n9="MenuRadioGroup",[Hie,Yie]=Xd(n9,{value:void 0,onValueChange:()=>{}}),r9=j.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,i=us(s);return r.jsx(Hie,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(TO,{...a,ref:t})})});r9.displayName=n9;var s9="MenuRadioItem",a9=j.forwardRef((e,t)=>{const{value:n,...s}=e,a=Yie(s9,e.__scopeMenu),i=n===a.value;return r.jsx(i9,{scope:e.__scopeMenu,checked:i,children:r.jsx(Yw,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":RO(i),onSelect:Xe(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});a9.displayName=s9;var MO="MenuItemIndicator",[i9,Gie]=Xd(MO,{checked:!1}),o9=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,i=Gie(MO,n);return r.jsx(Cs,{present:s||cb(i.checked)||i.checked===!0,children:r.jsx(Ct.span,{...a,ref:t,"data-state":RO(i.checked)})})});o9.displayName=MO;var Kie="MenuSeparator",l9=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});l9.displayName=Kie;var Xie="MenuArrow",c9=j.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=Hw(n);return r.jsx(kO,{...a,...s,ref:t})});c9.displayName=Xie;var Qie="MenuSub",[k8e,u9]=Xd(Qie),ax="MenuSubTrigger",d9=j.forwardRef((e,t)=>{const n=Qd(ax,e.__scopeMenu),s=Q0(ax,e.__scopeMenu),a=u9(ax,e.__scopeMenu),i=AO(ax,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},h=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>h,[h]),j.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(EO,{asChild:!0,...u,children:r.jsx(e9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":m9(n.open),...e,ref:tl(t,a.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Xe(e.onPointerMove,$x(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Xe(e.onPointerLeave,$x(f=>{var x,b;h();const p=(x=n.content)==null?void 0:x.getBoundingClientRect();if(p){const v=(b=n.content)==null?void 0:b.dataset.side,y=v==="right",N=y?-5:5,_=p[y?"left":"right"],S=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:_,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:_,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Xe(e.onKeyDown,f=>{var x;const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||Oie[s.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});d9.displayName=ax;var h9="MenuSubContent",f9=j.forwardRef((e,t)=>{const n=XV(ci,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=Qd(ci,e.__scopeMenu),o=Q0(ci,e.__scopeMenu),l=u9(h9,e.__scopeMenu),c=j.useRef(null),u=Wt(t,c);return r.jsx(zx.Provider,{scope:e.__scopeMenu,children:r.jsx(Cs,{present:s||i.open,children:r.jsx(zx.Slot,{scope:e.__scopeMenu,children:r.jsx(OO,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Xe(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Xe(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Xe(e.onKeyDown,h=>{var x;const f=h.currentTarget.contains(h.target),p=Tie[o.dir].includes(h.key);f&&p&&(i.onOpenChange(!1),(x=l.trigger)==null||x.focus(),h.preventDefault())})})})})})});f9.displayName=h9;function m9(e){return e?"open":"closed"}function cb(e){return e==="indeterminate"}function RO(e){return cb(e)?"indeterminate":e?"checked":"unchecked"}function Zie(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Jie(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function eoe(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Jie(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function toe(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,h=l.y,f=c.x,p=c.y;h>s!=p>s&&n<(f-u)*(s-h)/(p-h)+u&&(a=!a)}return a}function noe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return toe(n,t)}function $x(e){return t=>t.pointerType==="mouse"?e(t):void 0}var roe=KV,soe=EO,aoe=QV,ioe=ZV,ooe=TO,loe=JV,coe=Yw,uoe=t9,doe=r9,hoe=a9,foe=o9,moe=l9,poe=c9,xoe=d9,goe=f9,Gw="DropdownMenu",[yoe]=pi(Gw,[YV]),Ws=YV(),[voe,p9]=yoe(Gw),x9=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ws(t),u=j.useRef(null),[h,f]=Ql({prop:a,defaultProp:i??!1,onChange:o,caller:Gw});return r.jsx(voe,{scope:t,triggerId:Hi(),triggerRef:u,contentId:Hi(),open:h,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(p=>!p),[f]),modal:l,children:r.jsx(roe,{...c,open:h,onOpenChange:f,dir:s,modal:l,children:n})})};x9.displayName=Gw;var g9="DropdownMenuTrigger",y9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,i=p9(g9,n),o=Ws(n);return r.jsx(soe,{asChild:!0,...o,children:r.jsx(Ct.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:tl(t,i.triggerRef),onPointerDown:Xe(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Xe(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});y9.displayName=g9;var boe="DropdownMenuPortal",v9=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Ws(t);return r.jsx(aoe,{...s,...n})};v9.displayName=boe;var b9="DropdownMenuContent",w9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=p9(b9,n),i=Ws(n),o=j.useRef(!1);return r.jsx(ioe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Xe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Xe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});w9.displayName=b9;var woe="DropdownMenuGroup",joe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(ooe,{...a,...s,ref:t})});joe.displayName=woe;var Noe="DropdownMenuLabel",j9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(loe,{...a,...s,ref:t})});j9.displayName=Noe;var _oe="DropdownMenuItem",N9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(coe,{...a,...s,ref:t})});N9.displayName=_oe;var Soe="DropdownMenuCheckboxItem",_9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(uoe,{...a,...s,ref:t})});_9.displayName=Soe;var Coe="DropdownMenuRadioGroup",koe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(doe,{...a,...s,ref:t})});koe.displayName=Coe;var Eoe="DropdownMenuRadioItem",S9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(hoe,{...a,...s,ref:t})});S9.displayName=Eoe;var Poe="DropdownMenuItemIndicator",C9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(foe,{...a,...s,ref:t})});C9.displayName=Poe;var Aoe="DropdownMenuSeparator",k9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(moe,{...a,...s,ref:t})});k9.displayName=Aoe;var Ooe="DropdownMenuArrow",Toe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(poe,{...a,...s,ref:t})});Toe.displayName=Ooe;var Moe="DropdownMenuSubTrigger",E9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(xoe,{...a,...s,ref:t})});E9.displayName=Moe;var Roe="DropdownMenuSubContent",P9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Ws(n);return r.jsx(goe,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P9.displayName=Roe;var Doe=x9,Ioe=y9,Loe=v9,A9=w9,O9=j9,T9=N9,M9=_9,R9=S9,D9=C9,I9=k9,L9=E9,F9=P9;function z9(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=z9(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Mt(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=z9(e))&&(s&&(s+=" "),s+=t);return s}const Foe=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},zoe=(e,t)=>({classGroupId:e,validator:t}),$9=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),ub="-",PD=[],$oe="arbitrary..",Boe=e=>{const t=Uoe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Voe(o);const l=o.split(ub),c=l[0]===""&&l.length>1?1:0;return B9(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=s[o],u=n[o];return c?u?Foe(u,c):c:u||PD}return n[o]||PD}}},B9=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],i=n.nextPart.get(a);if(i){const u=B9(e,t+1,i);if(u)return u}const o=n.validators;if(o===null)return;const l=t===0?e.join(ub):e.slice(t).join(ub),c=o.length;for(let u=0;u<c;u++){const h=o[u];if(h.validator(l))return h.classGroupId}},Voe=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?$oe+s:void 0})(),Uoe=e=>{const{theme:t,classGroups:n}=e;return Woe(n,t)},Woe=(e,t)=>{const n=$9();for(const s in e){const a=e[s];DO(a,n,s,t)}return n},DO=(e,t,n,s)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];qoe(o,t,n,s)}},qoe=(e,t,n,s)=>{if(typeof e=="string"){Hoe(e,t,n);return}if(typeof e=="function"){Yoe(e,t,n,s);return}Goe(e,t,n,s)},Hoe=(e,t,n)=>{const s=e===""?t:V9(t,e);s.classGroupId=n},Yoe=(e,t,n,s)=>{if(Koe(e)){DO(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(zoe(n,e))},Goe=(e,t,n,s)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];DO(c,V9(t,l),n,s)}},V9=(e,t)=>{let n=e;const s=t.split(ub),a=s.length;for(let i=0;i<a;i++){const o=s[i];let l=n.nextPart.get(o);l||(l=$9(),n.nextPart.set(o,l)),n=l}return n},Koe=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Xoe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const a=(i,o)=>{n[i]=o,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=s[i])!==void 0)return a(i,o),o},set(i,o){i in n?n[i]=o:a(i,o)}}},_E="!",AD=":",Qoe=[],OD=(e,t,n,s,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),Zoe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=a=>{const i=[];let o=0,l=0,c=0,u;const h=a.length;for(let v=0;v<h;v++){const y=a[v];if(o===0&&l===0){if(y===AD){i.push(a.slice(c,v)),c=v+1;continue}if(y==="/"){u=v;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const f=i.length===0?a:a.slice(c);let p=f,x=!1;f.endsWith(_E)?(p=f.slice(0,-1),x=!0):f.startsWith(_E)&&(p=f.slice(1),x=!0);const b=u&&u>c?u-c:void 0;return OD(i,x,p,b)};if(t){const a=t+AD,i=s;s=o=>o.startsWith(a)?i(o.slice(a.length)):OD(Qoe,!1,o,void 0,!0)}if(n){const a=s;s=i=>n({className:i,parseClassName:a})}return s},Joe=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(o)):a.push(o)}return a.length>0&&(a.sort(),s.push(...a)),s}},ele=e=>({cache:Xoe(e.cacheSize),parseClassName:Zoe(e),sortModifiers:Joe(e),...Boe(e)}),tle=/\s+/,nle=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(tle);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:f,modifiers:p,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let y=!!v,N=s(y?b.substring(0,v):b);if(!N){if(!y){c=h+(c.length>0?" "+c:c);continue}if(N=s(b),!N){c=h+(c.length>0?" "+c:c);continue}y=!1}const _=p.length===0?"":p.length===1?p[0]:i(p).join(":"),S=x?_+_E:_,E=S+N;if(o.indexOf(E)>-1)continue;o.push(E);const A=a(N,y);for(let k=0;k<A.length;++k){const P=A[k];o.push(S+P)}c=h+(c.length>0?" "+c:c)}return c},rle=(...e)=>{let t=0,n,s,a="";for(;t<e.length;)(n=e[t++])&&(s=U9(n))&&(a&&(a+=" "),a+=s);return a},U9=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=U9(e[s]))&&(n&&(n+=" "),n+=t);return n},sle=(e,...t)=>{let n,s,a,i;const o=c=>{const u=t.reduce((h,f)=>f(h),e());return n=ele(u),s=n.cache.get,a=n.cache.set,i=l,l(c)},l=c=>{const u=s(c);if(u)return u;const h=nle(c,n);return a(c,h),h};return i=o,(...c)=>i(rle(...c))},ale=[],Lr=e=>{const t=n=>n[e]||ale;return t.isThemeGetter=!0,t},W9=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,q9=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ile=/^\d+\/\d+$/,ole=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ule=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uh=e=>ile.test(e),Ut=e=>!!e&&!Number.isNaN(Number(e)),Vc=e=>!!e&&Number.isInteger(Number(e)),j_=e=>e.endsWith("%")&&Ut(e.slice(0,-1)),wl=e=>ole.test(e),hle=()=>!0,fle=e=>lle.test(e)&&!cle.test(e),H9=()=>!1,mle=e=>ule.test(e),ple=e=>dle.test(e),xle=e=>!ct(e)&&!ut(e),gle=e=>ym(e,K9,H9),ct=e=>W9.test(e),od=e=>ym(e,X9,fle),N_=e=>ym(e,jle,Ut),TD=e=>ym(e,Y9,H9),yle=e=>ym(e,G9,ple),ev=e=>ym(e,Q9,mle),ut=e=>q9.test(e),Bp=e=>vm(e,X9),vle=e=>vm(e,Nle),MD=e=>vm(e,Y9),ble=e=>vm(e,K9),wle=e=>vm(e,G9),tv=e=>vm(e,Q9,!0),ym=(e,t,n)=>{const s=W9.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},vm=(e,t,n=!1)=>{const s=q9.exec(e);return s?s[1]?t(s[1]):n:!1},Y9=e=>e==="position"||e==="percentage",G9=e=>e==="image"||e==="url",K9=e=>e==="length"||e==="size"||e==="bg-size",X9=e=>e==="length",jle=e=>e==="number",Nle=e=>e==="family-name",Q9=e=>e==="shadow",_le=()=>{const e=Lr("color"),t=Lr("font"),n=Lr("text"),s=Lr("font-weight"),a=Lr("tracking"),i=Lr("leading"),o=Lr("breakpoint"),l=Lr("container"),c=Lr("spacing"),u=Lr("radius"),h=Lr("shadow"),f=Lr("inset-shadow"),p=Lr("text-shadow"),x=Lr("drop-shadow"),b=Lr("blur"),v=Lr("perspective"),y=Lr("aspect"),N=Lr("ease"),_=Lr("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...E(),ut,ct],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],R=()=>[ut,ct,c],$=()=>[Uh,"full","auto",...R()],D=()=>[Vc,"none","subgrid",ut,ct],M=()=>["auto",{span:["full",Vc,ut,ct]},Vc,ut,ct],B=()=>[Vc,"auto",ut,ct],J=()=>["auto","min","max","fr",ut,ct],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],se=()=>["auto",...R()],q=()=>[Uh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],V=()=>[e,ut,ct],U=()=>[...E(),MD,TD,{position:[ut,ct]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",ble,gle,{size:[ut,ct]}],te=()=>[j_,Bp,od],H=()=>["","none","full",u,ut,ct],xe=()=>["",Ut,Bp,od],ne=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Ut,j_,MD,TD],ce=()=>["","none",b,ut,ct],he=()=>["none",Ut,ut,ct],ue=()=>["none",Ut,ut,ct],Oe=()=>[Ut,ut,ct],ge=()=>[Uh,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wl],breakpoint:[wl],color:[hle],container:[wl],"drop-shadow":[wl],ease:["in","out","in-out"],font:[xle],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wl],shadow:[wl],spacing:["px",Ut],text:[wl],"text-shadow":[wl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uh,ct,ut,y]}],container:["container"],columns:[{columns:[Ut,ct,ut,l]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Vc,"auto",ut,ct]}],basis:[{basis:[Uh,"full","auto",l,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,Uh,"auto","initial","none",ct]}],grow:[{grow:["",Ut,ut,ct]}],shrink:[{shrink:["",Ut,ut,ct]}],order:[{order:[Vc,"first","last","none",ut,ct]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:se()}],mx:[{mx:se()}],my:[{my:se()}],ms:[{ms:se()}],me:[{me:se()}],mt:[{mt:se()}],mr:[{mr:se()}],mb:[{mb:se()}],ml:[{ml:se()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,Bp,od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ut,N_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",j_,ct]}],"font-family":[{font:[vle,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ut,ct]}],"line-clamp":[{"line-clamp":[Ut,"none",ut,N_]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",ut,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",ut,od]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Ut,"auto",ut,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vc,ut,ct],radial:["",ut,ct],conic:[Vc,ut,ct]},wle,yle]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,ut,ct]}],"outline-w":[{outline:["",Ut,Bp,od]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",h,tv,ev]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",f,tv,ev]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Ut,od]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",p,tv,ev]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Ut,ut,ct]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[ut,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ut,ct]}],filter:[{filter:["","none",ut,ct]}],blur:[{blur:ce()}],brightness:[{brightness:[Ut,ut,ct]}],contrast:[{contrast:[Ut,ut,ct]}],"drop-shadow":[{"drop-shadow":["","none",x,tv,ev]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Ut,ut,ct]}],"hue-rotate":[{"hue-rotate":[Ut,ut,ct]}],invert:[{invert:["",Ut,ut,ct]}],saturate:[{saturate:[Ut,ut,ct]}],sepia:[{sepia:["",Ut,ut,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,ct]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,ut,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,ut,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,ut,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,ut,ct]}],"backdrop-invert":[{"backdrop-invert":["",Ut,ut,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,ut,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,ut,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,ut,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",ut,ct]}],ease:[{ease:["linear","initial",N,ut,ct]}],delay:[{delay:[Ut,ut,ct]}],animate:[{animate:["none",_,ut,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ut,ct]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[ut,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,ct]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Ut,Bp,od,N_]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Sle=sle(_le);function dt(...e){return Sle(Mt(e))}const db=Doe,hb=Ioe,Cle=j.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(L9,{ref:a,className:dt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,r.jsx(Ld,{className:"ml-auto"})]}));Cle.displayName=L9.displayName;const kle=j.forwardRef(({className:e,...t},n)=>r.jsx(F9,{ref:n,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));kle.displayName=F9.displayName;const Bx=j.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Loe,{children:r.jsx(A9,{ref:s,sideOffset:t,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Bx.displayName=A9.displayName;const na=j.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(T9,{ref:s,className:dt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));na.displayName=T9.displayName;const Ele=j.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(M9,{ref:a,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(D9,{children:r.jsx(Iw,{className:"h-4 w-4"})})}),t]}));Ele.displayName=M9.displayName;const Ple=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(R9,{ref:s,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(D9,{children:r.jsx(kte,{className:"h-2 w-2 fill-current"})})}),t]}));Ple.displayName=R9.displayName;const Ale=j.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(O9,{ref:s,className:dt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Ale.displayName=O9.displayName;const Z9=j.forwardRef(({className:e,...t},n)=>r.jsx(I9,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",e),...t}));Z9.displayName=I9.displayName;var Ole=Symbol.for("react.lazy"),fb=aO[" use ".trim().toString()];function Tle(e){return typeof e=="object"&&e!==null&&"then"in e}function J9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Ole&&"_payload"in e&&Tle(e._payload)}function e7(e){const t=Rle(e),n=j.forwardRef((s,a)=>{let{children:i,...o}=s;J9(i)&&typeof fb=="function"&&(i=fb(i._payload));const l=j.Children.toArray(i),c=l.find(Ile);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var Mle=e7("Slot");function Rle(e){const t=j.forwardRef((n,s)=>{let{children:a,...i}=n;if(J9(a)&&typeof fb=="function"&&(a=fb(a._payload)),j.isValidElement(a)){const o=Fle(a),l=Lle(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dle=Symbol("radix.slottable");function Ile(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dle}function Lle(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Fle(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const RD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,DD=Mt,Kw=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return DD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const p=RD(h)||RD(f);return a[u][p]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,h)=>{let{class:f,className:p,...x}=h;return Object.entries(x).every(b=>{let[v,y]=b;return Array.isArray(y)?y.includes({...i,...l}[v]):{...i,...l}[v]===y})?[...u,f,p]:u},[]);return DD(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},zle=Kw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ae=j.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?Mle:"button";return r.jsx(o,{className:dt(zle({variant:t,size:n,className:e})),ref:i,...a})});ae.displayName="Button";function t7(e,t){return function(){return e.apply(t,arguments)}}const{toString:$le}=Object.prototype,{getPrototypeOf:IO}=Object,{iterator:Xw,toStringTag:n7}=Symbol,Qw=(e=>t=>{const n=$le.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),to=e=>(e=e.toLowerCase(),t=>Qw(t)===e),Zw=e=>t=>typeof t===e,{isArray:bm}=Array,Df=Zw("undefined");function Z0(e){return e!==null&&!Df(e)&&e.constructor!==null&&!Df(e.constructor)&&sa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const r7=to("ArrayBuffer");function Ble(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&r7(e.buffer),t}const Vle=Zw("string"),sa=Zw("function"),s7=Zw("number"),J0=e=>e!==null&&typeof e=="object",Ule=e=>e===!0||e===!1,Iv=e=>{if(Qw(e)!=="object")return!1;const t=IO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(n7 in e)&&!(Xw in e)},Wle=e=>{if(!J0(e)||Z0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qle=to("Date"),Hle=to("File"),Yle=to("Blob"),Gle=to("FileList"),Kle=e=>J0(e)&&sa(e.pipe),Xle=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sa(e.append)&&((t=Qw(e))==="formdata"||t==="object"&&sa(e.toString)&&e.toString()==="[object FormData]"))},Qle=to("URLSearchParams"),[Zle,Jle,ece,tce]=["ReadableStream","Request","Response","Headers"].map(to),nce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eg(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),bm(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Z0(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function a7(e,t){if(Z0(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const yd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i7=e=>!Df(e)&&e!==yd;function SE(){const{caseless:e,skipUndefined:t}=i7(this)&&this||{},n={},s=(a,i)=>{const o=e&&a7(n,i)||i;Iv(n[o])&&Iv(a)?n[o]=SE(n[o],a):Iv(a)?n[o]=SE({},a):bm(a)?n[o]=a.slice():(!t||!Df(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&eg(arguments[a],s);return n}const rce=(e,t,n,{allOwnKeys:s}={})=>(eg(t,(a,i)=>{n&&sa(a)?e[i]=t7(a,n):e[i]=a},{allOwnKeys:s}),e),sce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ace=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ice=(e,t,n,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&IO(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},oce=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},lce=e=>{if(!e)return null;if(bm(e))return e;let t=e.length;if(!s7(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&IO(Uint8Array)),uce=(e,t)=>{const s=(e&&e[Xw]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},dce=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},hce=to("HTMLFormElement"),fce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),ID=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mce=to("RegExp"),o7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};eg(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},pce=e=>{o7(e,(t,n)=>{if(sa(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(sa(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xce=(e,t)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return bm(e)?s(e):s(String(e).split(t)),n},gce=()=>{},yce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vce(e){return!!(e&&sa(e.append)&&e[n7]==="FormData"&&e[Xw])}const bce=e=>{const t=new Array(10),n=(s,a)=>{if(J0(s)){if(t.indexOf(s)>=0)return;if(Z0(s))return s;if(!("toJSON"in s)){t[a]=s;const i=bm(s)?[]:{};return eg(s,(o,l)=>{const c=n(o,a+1);!Df(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return n(e,0)},wce=to("AsyncFunction"),jce=e=>e&&(J0(e)||sa(e))&&sa(e.then)&&sa(e.catch),l7=((e,t)=>e?setImmediate:t?((n,s)=>(yd.addEventListener("message",({source:a,data:i})=>{a===yd&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),yd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sa(yd.postMessage)),Nce=typeof queueMicrotask<"u"?queueMicrotask.bind(yd):typeof process<"u"&&process.nextTick||l7,_ce=e=>e!=null&&sa(e[Xw]),je={isArray:bm,isArrayBuffer:r7,isBuffer:Z0,isFormData:Xle,isArrayBufferView:Ble,isString:Vle,isNumber:s7,isBoolean:Ule,isObject:J0,isPlainObject:Iv,isEmptyObject:Wle,isReadableStream:Zle,isRequest:Jle,isResponse:ece,isHeaders:tce,isUndefined:Df,isDate:qle,isFile:Hle,isBlob:Yle,isRegExp:mce,isFunction:sa,isStream:Kle,isURLSearchParams:Qle,isTypedArray:cce,isFileList:Gle,forEach:eg,merge:SE,extend:rce,trim:nce,stripBOM:sce,inherits:ace,toFlatObject:ice,kindOf:Qw,kindOfTest:to,endsWith:oce,toArray:lce,forEachEntry:uce,matchAll:dce,isHTMLForm:hce,hasOwnProperty:ID,hasOwnProp:ID,reduceDescriptors:o7,freezeMethods:pce,toObjectSet:xce,toCamelCase:fce,noop:gce,toFiniteNumber:yce,findKey:a7,global:yd,isContextDefined:i7,isSpecCompliantForm:vce,toJSONObject:bce,isAsyncFn:wce,isThenable:jce,setImmediate:l7,asap:Nce,isIterable:_ce};function Dt(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}je.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const c7=Dt.prototype,u7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{u7[e]={value:e}});Object.defineProperties(Dt,u7);Object.defineProperty(c7,"isAxiosError",{value:!0});Dt.from=(e,t,n,s,a,i)=>{const o=Object.create(c7);je.toFlatObject(e,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Dt.call(o,l,c,n,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Sce=null;function CE(e){return je.isPlainObject(e)||je.isArray(e)}function d7(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function LD(e,t,n){return e?e.concat(t).map(function(a,i){return a=d7(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function Cce(e){return je.isArray(e)&&!e.some(CE)}const kce=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function Jw(e,t,n){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!je.isUndefined(y[v])});const s=n.metaTokens,a=n.visitor||h,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(a))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(je.isDate(b))return b.toISOString();if(je.isBoolean(b))return b.toString();if(!c&&je.isBlob(b))throw new Dt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(b)||je.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,v,y){let N=b;if(b&&!y&&typeof b=="object"){if(je.endsWith(v,"{}"))v=s?v:v.slice(0,-2),b=JSON.stringify(b);else if(je.isArray(b)&&Cce(b)||(je.isFileList(b)||je.endsWith(v,"[]"))&&(N=je.toArray(b)))return v=d7(v),N.forEach(function(S,E){!(je.isUndefined(S)||S===null)&&t.append(o===!0?LD([v],E,i):o===null?v:v+"[]",u(S))}),!1}return CE(b)?!0:(t.append(LD(y,v,i),u(b)),!1)}const f=[],p=Object.assign(kce,{defaultVisitor:h,convertValue:u,isVisitable:CE});function x(b,v){if(!je.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(b),je.forEach(b,function(N,_){(!(je.isUndefined(N)||N===null)&&a.call(t,N,je.isString(_)?_.trim():_,v,p))===!0&&x(N,v?v.concat(_):[_])}),f.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return x(e),t}function FD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function LO(e,t){this._pairs=[],e&&Jw(e,this,t)}const h7=LO.prototype;h7.append=function(t,n){this._pairs.push([t,n])};h7.toString=function(t){const n=t?function(s){return t.call(this,s,FD)}:FD;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Ece(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function f7(e,t,n){if(!t)return e;const s=n&&n.encode||Ece;je.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=je.isURLSearchParams(t)?t.toString():new LO(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class zD{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(s){s!==null&&t(s)})}}const m7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pce=typeof URLSearchParams<"u"?URLSearchParams:LO,Ace=typeof FormData<"u"?FormData:null,Oce=typeof Blob<"u"?Blob:null,Tce={isBrowser:!0,classes:{URLSearchParams:Pce,FormData:Ace,Blob:Oce},protocols:["http","https","file","blob","url","data"]},FO=typeof window<"u"&&typeof document<"u",kE=typeof navigator=="object"&&navigator||void 0,Mce=FO&&(!kE||["ReactNative","NativeScript","NS"].indexOf(kE.product)<0),Rce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dce=FO&&window.location.href||"http://localhost",Ice=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FO,hasStandardBrowserEnv:Mce,hasStandardBrowserWebWorkerEnv:Rce,navigator:kE,origin:Dce},Symbol.toStringTag,{value:"Module"})),ws={...Ice,...Tce};function Lce(e,t){return Jw(e,new ws.classes.URLSearchParams,{visitor:function(n,s,a,i){return ws.isNode&&je.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Fce(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zce(e){const t={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],t[i]=e[i];return t}function p7(e){function t(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&je.isArray(a)?a.length:o,c?(je.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!je.isObject(a[o]))&&(a[o]=[]),t(n,s,a[o],i)&&je.isArray(a[o])&&(a[o]=zce(a[o])),!l)}if(je.isFormData(e)&&je.isFunction(e.entries)){const n={};return je.forEachEntry(e,(s,a)=>{t(Fce(s),a,n,0)}),n}return null}function $ce(e,t,n){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const tg={transitional:m7,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=je.isObject(t);if(i&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return a?JSON.stringify(p7(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t)||je.isReadableStream(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Lce(t,this.formSerializer).toString();if((l=je.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),$ce(t)):t}],transformResponse:[function(t){const n=this.transitional||tg.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(je.isResponse(t)||je.isReadableStream(t))return t;if(t&&je.isString(t)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Dt.from(l,Dt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ws.classes.FormData,Blob:ws.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{tg.headers[e]={}});const Bce=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vce=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||t[n]&&Bce[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},$D=Symbol("internals");function Vp(e){return e&&String(e).trim().toLowerCase()}function Lv(e){return e===!1||e==null?e:je.isArray(e)?e.map(Lv):String(e)}function Uce(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Wce=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function __(e,t,n,s,a){if(je.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!je.isString(t)){if(je.isString(s))return t.indexOf(s)!==-1;if(je.isRegExp(s))return s.test(t)}}function qce(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Hce(e,t){const n=je.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let aa=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function i(l,c,u){const h=Vp(c);if(!h)throw new Error("header name must be a non-empty string");const f=je.findKey(a,h);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Lv(l))}const o=(l,c)=>je.forEach(l,(u,h)=>i(u,h,c));if(je.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(je.isString(t)&&(t=t.trim())&&!Wce(t))o(Vce(t),n);else if(je.isObject(t)&&je.isIterable(t)){let l={},c,u;for(const h of t){if(!je.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?je.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Vp(t),t){const s=je.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return Uce(a);if(je.isFunction(n))return n.call(this,a,s);if(je.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vp(t),t){const s=je.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||__(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function i(o){if(o=Vp(o),o){const l=je.findKey(s,o);l&&(!n||__(s,s[l],l,n))&&(delete s[l],a=!0)}}return je.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!t||__(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,s={};return je.forEach(this,(a,i)=>{const o=je.findKey(s,i);if(o){n[o]=Lv(a),delete n[i];return}const l=t?qce(i):String(i).trim();l!==i&&delete n[i],n[l]=Lv(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return je.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&je.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[$D]=this[$D]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Vp(o);s[l]||(Hce(a,o),s[l]=!0)}return je.isArray(t)?t.forEach(i):i(t),this}};aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(aa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});je.freezeMethods(aa);function S_(e,t){const n=this||tg,s=t||n,a=aa.from(s.headers);let i=s.data;return je.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function x7(e){return!!(e&&e.__CANCEL__)}function wm(e,t,n){Dt.call(this,e??"canceled",Dt.ERR_CANCELED,t,n),this.name="CanceledError"}je.inherits(wm,Dt,{__CANCEL__:!0});function g7(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Dt("Request failed with status code "+n.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Yce(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gce(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=s[i];o||(o=u),n[a]=c,s[a]=u;let f=i,p=0;for(;f!==a;)p+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const x=h&&u-h;return x?Math.round(p*1e3/x):void 0}}function Kce(e,t){let n=0,s=1e3/t,a,i;const o=(u,h=Date.now())=>{n=h,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=s?o(u,h):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const mb=(e,t,n=3)=>{let s=0;const a=Gce(50,250);return Kce(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,u=a(c),h=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},BD=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},VD=e=>(...t)=>je.asap(()=>e(...t)),Xce=ws.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ws.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ws.origin),ws.navigator&&/(msie|trident)/i.test(ws.navigator.userAgent)):()=>!0,Qce=ws.hasStandardBrowserEnv?{write(e,t,n,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];je.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),je.isString(s)&&l.push(`path=${s}`),je.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),je.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zce(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Jce(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function y7(e,t,n){let s=!Zce(t);return e&&(s||n==!1)?Jce(e,t):t}const UD=e=>e instanceof aa?{...e}:e;function zd(e,t){t=t||{};const n={};function s(u,h,f,p){return je.isPlainObject(u)&&je.isPlainObject(h)?je.merge.call({caseless:p},u,h):je.isPlainObject(h)?je.merge({},h):je.isArray(h)?h.slice():h}function a(u,h,f,p){if(je.isUndefined(h)){if(!je.isUndefined(u))return s(void 0,u,f,p)}else return s(u,h,f,p)}function i(u,h){if(!je.isUndefined(h))return s(void 0,h)}function o(u,h){if(je.isUndefined(h)){if(!je.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function l(u,h,f){if(f in t)return s(u,h);if(f in e)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,f)=>a(UD(u),UD(h),f,!0)};return je.forEach(Object.keys({...e,...t}),function(h){const f=c[h]||a,p=f(e[h],t[h],h);je.isUndefined(p)&&f!==l||(n[h]=p)}),n}const v7=e=>{const t=zd({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=aa.from(o),t.url=f7(y7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),je.isFormData(n)){if(ws.hasStandardBrowserEnv||ws.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(je.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,f])=>{u.includes(h.toLowerCase())&&o.set(h,f)})}}if(ws.hasStandardBrowserEnv&&(s&&je.isFunction(s)&&(s=s(t)),s||s!==!1&&Xce(t.url))){const c=a&&i&&Qce.read(i);c&&o.set(a,c)}return t},eue=typeof XMLHttpRequest<"u",tue=eue&&function(e){return new Promise(function(n,s){const a=v7(e);let i=a.data;const o=aa.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,h,f,p,x,b;function v(){x&&x(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function N(){if(!y)return;const S=aa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:e,request:y};g7(function(P){n(P),v()},function(P){s(P),v()},A),y=null}"onloadend"in y?y.onloadend=N:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(N)},y.onabort=function(){y&&(s(new Dt("Request aborted",Dt.ECONNABORTED,e,y)),y=null)},y.onerror=function(E){const A=E&&E.message?E.message:"Network Error",k=new Dt(A,Dt.ERR_NETWORK,e,y);k.event=E||null,s(k),y=null},y.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||m7;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),s(new Dt(E,A.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&je.forEach(o.toJSON(),function(E,A){y.setRequestHeader(A,E)}),je.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),u&&([p,b]=mb(u,!0),y.addEventListener("progress",p)),c&&y.upload&&([f,x]=mb(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(h=S=>{y&&(s(!S||S.type?new wm(null,e,y):S),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const _=Yce(a.url);if(_&&ws.protocols.indexOf(_)===-1){s(new Dt("Unsupported protocol "+_+":",Dt.ERR_BAD_REQUEST,e));return}y.send(i||null)})},nue=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const i=function(u){if(!a){a=!0,l();const h=u instanceof Error?u:this.reason;s.abort(h instanceof Dt?h:new wm(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new Dt(`timeout ${t} of ms exceeded`,Dt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>je.asap(l),c}},rue=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},sue=async function*(e,t){for await(const n of aue(e))yield*rue(n,t)},aue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},WD=(e,t,n,s)=>{const a=sue(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await a.next();if(u){l(),c.close();return}let f=h.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},qD=64*1024,{isFunction:nv}=je,iue=(({Request:e,Response:t})=>({Request:e,Response:t}))(je.global),{ReadableStream:HD,TextEncoder:YD}=je.global,GD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oue=e=>{e=je.merge.call({skipUndefined:!0},iue,e);const{fetch:t,Request:n,Response:s}=e,a=t?nv(t):typeof fetch=="function",i=nv(n),o=nv(s);if(!a)return!1;const l=a&&nv(HD),c=a&&(typeof YD=="function"?(b=>v=>b.encode(v))(new YD):async b=>new Uint8Array(await new n(b).arrayBuffer())),u=i&&l&&GD(()=>{let b=!1;const v=new n(ws.origin,{body:new HD,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!v}),h=o&&l&&GD(()=>je.isReadableStream(new s("").body)),f={stream:h&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!f[b]&&(f[b]=(v,y)=>{let N=v&&v[b];if(N)return N.call(v);throw new Dt(`Response type '${b}' is not supported`,Dt.ERR_NOT_SUPPORT,y)})});const p=async b=>{if(b==null)return 0;if(je.isBlob(b))return b.size;if(je.isSpecCompliantForm(b))return(await new n(ws.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(je.isArrayBufferView(b)||je.isArrayBuffer(b))return b.byteLength;if(je.isURLSearchParams(b)&&(b=b+""),je.isString(b))return(await c(b)).byteLength},x=async(b,v)=>{const y=je.toFiniteNumber(b.getContentLength());return y??p(v)};return async b=>{let{url:v,method:y,data:N,signal:_,cancelToken:S,timeout:E,onDownloadProgress:A,onUploadProgress:k,responseType:P,headers:R,withCredentials:$="same-origin",fetchOptions:D}=v7(b),M=t||fetch;P=P?(P+"").toLowerCase():"text";let B=nue([_,S&&S.toAbortSignal()],E),J=null;const Y=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let W;try{if(k&&u&&y!=="get"&&y!=="head"&&(W=await x(R,N))!==0){let K=new n(v,{method:"POST",body:N,duplex:"half"}),te;if(je.isFormData(N)&&(te=K.headers.get("content-type"))&&R.setContentType(te),K.body){const[H,xe]=BD(W,mb(VD(k)));N=WD(K.body,qD,H,xe)}}je.isString($)||($=$?"include":"omit");const se=i&&"credentials"in n.prototype,q={...D,signal:B,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:N,duplex:"half",credentials:se?$:void 0};J=i&&new n(v,q);let V=await(i?M(J,D):M(v,q));const U=h&&(P==="stream"||P==="response");if(h&&(A||U&&Y)){const K={};["status","statusText","headers"].forEach(ne=>{K[ne]=V[ne]});const te=je.toFiniteNumber(V.headers.get("content-length")),[H,xe]=A&&BD(te,mb(VD(A),!0))||[];V=new s(WD(V.body,qD,H,()=>{xe&&xe(),Y&&Y()}),K)}P=P||"text";let F=await f[je.findKey(f,P)||"text"](V,b);return!U&&Y&&Y(),await new Promise((K,te)=>{g7(K,te,{data:F,headers:aa.from(V.headers),status:V.status,statusText:V.statusText,config:b,request:J})})}catch(se){throw Y&&Y(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,b,J),{cause:se.cause||se}):Dt.from(se,se&&se.code,b,J)}}},lue=new Map,b7=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:a}=t,i=[s,a,n];let o=i.length,l=o,c,u,h=lue;for(;l--;)c=i[l],u=h.get(c),u===void 0&&h.set(c,u=l?new Map:oue(t)),h=u;return u};b7();const zO={http:Sce,xhr:tue,fetch:{get:b7}};je.forEach(zO,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const KD=e=>`- ${e}`,cue=e=>je.isFunction(e)||e===null||e===!1;function uue(e,t){e=je.isArray(e)?e:[e];const{length:n}=e;let s,a;const i={};for(let o=0;o<n;o++){s=e[o];let l;if(a=s,!cue(s)&&(a=zO[(l=String(s)).toLowerCase()],a===void 0))throw new Dt(`Unknown adapter '${l}'`);if(a&&(je.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(KD).join(`
`):" "+KD(o[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const w7={getAdapter:uue,adapters:zO};function C_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wm(null,e)}function XD(e){return C_(e),e.headers=aa.from(e.headers),e.data=S_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),w7.getAdapter(e.adapter||tg.adapter,e)(e).then(function(s){return C_(e),s.data=S_.call(e,e.transformResponse,s),s.headers=aa.from(s.headers),s},function(s){return x7(s)||(C_(e),s&&s.response&&(s.response.data=S_.call(e,e.transformResponse,s.response),s.response.headers=aa.from(s.response.headers))),Promise.reject(s)})}const j7="1.13.2",ej={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ej[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const QD={};ej.transitional=function(t,n,s){function a(i,o){return"[Axios v"+j7+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new Dt(a(o," has been removed"+(n?" in "+n:"")),Dt.ERR_DEPRECATED);return n&&!QD[o]&&(QD[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};ej.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function due(e,t,n){if(typeof e!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Dt("option "+i+" must be "+c,Dt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Dt("Unknown option "+i,Dt.ERR_BAD_OPTION)}}const Fv={assertOptions:due,validators:ej},Po=Fv.validators;let Od=class{constructor(t){this.defaults=t||{},this.interceptors={request:new zD,response:new zD}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zd(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&Fv.assertOptions(s,{silentJSONParsing:Po.transitional(Po.boolean),forcedJSONParsing:Po.transitional(Po.boolean),clarifyTimeoutError:Po.transitional(Po.boolean)},!1),a!=null&&(je.isFunction(a)?n.paramsSerializer={serialize:a}:Fv.assertOptions(a,{encode:Po.function,serialize:Po.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fv.assertOptions(n,{baseUrl:Po.spelling("baseURL"),withXsrfToken:Po.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&je.merge(i.common,i[n.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=aa.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,f=0,p;if(!c){const b=[XD.bind(this),void 0];for(b.unshift(...l),b.push(...u),p=b.length,h=Promise.resolve(n);f<p;)h=h.then(b[f++],b[f++]);return h}p=l.length;let x=n;for(;f<p;){const b=l[f++],v=l[f++];try{x=b(x)}catch(y){v.call(this,y);break}}try{h=XD.call(this,x)}catch(b){return Promise.reject(b)}for(f=0,p=u.length;f<p;)h=h.then(u[f++],u[f++]);return h}getUri(t){t=zd(this.defaults,t);const n=y7(t.baseURL,t.url,t.allowAbsoluteUrls);return f7(n,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){Od.prototype[t]=function(n,s){return this.request(zd(s||{},{method:t,url:n,data:(s||{}).data}))}});je.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,l){return this.request(zd(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Od.prototype[t]=n(),Od.prototype[t+"Form"]=n(!0)});let hue=class N7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new wm(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new N7(function(a){t=a}),cancel:t}}};function fue(e){return function(n){return e.apply(null,n)}}function mue(e){return je.isObject(e)&&e.isAxiosError===!0}const EE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(EE).forEach(([e,t])=>{EE[t]=e});function _7(e){const t=new Od(e),n=t7(Od.prototype.request,t);return je.extend(n,Od.prototype,t,{allOwnKeys:!0}),je.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return _7(zd(e,a))},n}const Sr=_7(tg);Sr.Axios=Od;Sr.CanceledError=wm;Sr.CancelToken=hue;Sr.isCancel=x7;Sr.VERSION=j7;Sr.toFormData=Jw;Sr.AxiosError=Dt;Sr.Cancel=Sr.CanceledError;Sr.all=function(t){return Promise.all(t)};Sr.spread=fue;Sr.isAxiosError=mue;Sr.mergeConfig=zd;Sr.AxiosHeaders=aa;Sr.formToJSON=e=>p7(je.isHTMLForm(e)?new FormData(e):e);Sr.getAdapter=w7.getAdapter;Sr.HttpStatusCode=EE;Sr.default=Sr;const{Axios:A8e,AxiosError:O8e,CanceledError:T8e,isCancel:M8e,CancelToken:R8e,VERSION:D8e,all:I8e,Cancel:L8e,isAxiosError:F8e,spread:z8e,toFormData:$8e,AxiosHeaders:B8e,HttpStatusCode:V8e,formToJSON:U8e,getAdapter:W8e,mergeConfig:q8e}=Sr;class pue extends Error{constructor(t,n,s,a,i){super(t),this.name="Base44Error",this.status=n,this.code=s,this.data=a,this.originalError=i}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function xue(e){let{baseURL:t,headers:n={},token:s,requiresAuth:a=!1,appId:i,serverUrl:o}=e;const l=Sr.create({baseURL:t,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return s&&(l.defaults.headers.common.Authorization=`Bearer ${s}`),l.interceptors.request.use((c=>(typeof window<"u"&&(c.headers={...c.headers,"X-Origin-URL":window.location.href}),c))),l.interceptors.response.use((c=>c.data),(c=>{var f,p,x,b,v,y,N,_,S,E;const u=((p=(f=c.response)==null?void 0:f.data)==null?void 0:p.message)||((b=(x=c.response)==null?void 0:x.data)==null?void 0:b.detail)||c.message,h=new pue(u,(v=c.response)==null?void 0:v.status,(N=(y=c.response)==null?void 0:y.data)==null?void 0:N.code,(_=c.response)==null?void 0:_.data,c);return console.log(a,(S=c.response)==null?void 0:S.status,typeof window<"u"),a&&((E=c.response)==null?void 0:E.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(A,k){if(typeof window>"u")return;const P=`${A}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${k}`;window.location.href=P})(o,i)}),100)),Promise.reject(h)})),l}function gue(e,t){return new Proxy({},{get(n,s){if(typeof s=="string"&&s!=="then"&&!s.startsWith("_"))return(function(a,i,o){const l=`/apps/${i}/entities/${o}`;return{async list(c,u,h,f){const p={};return c&&(p.sort=c),u&&(p.limit=u),h&&(p.skip=h),f&&(p.fields=Array.isArray(f)?f.join(","):f),a.get(l,{params:p})},async filter(c,u,h,f,p){const x={q:JSON.stringify(c)};return u&&(x.sort=u),h&&(x.limit=h),f&&(x.skip=f),p&&(x.fields=Array.isArray(p)?p.join(","):p),a.get(l,{params:x})},get:async c=>a.get(`${l}/${c}`),create:async c=>a.post(l,c),update:async(c,u)=>a.put(`${l}/${c}`,u),delete:async c=>a.delete(`${l}/${c}`),deleteMany:async c=>a.delete(l,{data:c}),bulkCreate:async c=>a.post(`${l}/bulk`,c),async importEntities(c){const u=new FormData;return u.append("file",c,c.name),a.post(`${l}/import`,u,{headers:{"Content-Type":"multipart/form-data"}})}}})(e,t,s)}})}function yue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:t="base44_access_token",paramName:n="access_token",saveToStorage:s=!0,removeFromUrl:a=!0}=e;let i=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(i=o.get(n),i){if(s&&vue(i,{storageKey:t}),a){o.delete(n);const l=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,l)}return i}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return i=window.localStorage.getItem(t),i}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function vue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=t;if(typeof window>"u"||!window.localStorage||!e)return!1;try{return window.localStorage.setItem(n,e),!0}catch(s){return console.error("Error saving token to localStorage:",s),!1}}function bue(e){if(!e||!e.appId)throw new Error("appId is required");const{serverUrl:t="https://base44.app",appId:n,env:s="prod",token:a,requiresAuth:i=!1}=e,o=xue({baseURL:`${t}/api`,headers:{"X-App-Id":String(n),"X-Environment":s},token:a,requiresAuth:i,appId:n,serverUrl:t}),l=gue(o,n),c=(function(h,f){return new Proxy({},{get(p,x){if(typeof x=="string"&&x!=="then"&&!x.startsWith("_"))return new Proxy({},{get(b,v){if(typeof v=="string"&&v!=="then"&&!v.startsWith("_"))return async y=>{if(typeof y=="string")throw new Error(`Integration ${v} must receive an object with named parameters, received: ${y}`);let N,_;return y instanceof FormData||y&&Object.values(y).some((S=>S instanceof File))?(N=new FormData,Object.keys(y).forEach((S=>{y[S]instanceof File?N.append(S,y[S],y[S].name):typeof y[S]=="object"&&y[S]!==null?N.append(S,JSON.stringify(y[S])):N.append(S,y[S])})),_="multipart/form-data"):(N=y,_="application/json"),x==="Core"?h.post(`/apps/${f}/integration-endpoints/Core/${v}`,N||y,{headers:{"Content-Type":_}}):h.post(`/apps/${f}/integration-endpoints/installable/${x}/integration-endpoints/${v}`,N||y,{headers:{"Content-Type":_}})}}})}})})(o,n),u=(function(h,f,p){return{me:async()=>h.get(`/apps/${f}/entities/User/me`),updateMe:async x=>h.put(`/apps/${f}/entities/User/me`,x),login(x){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const b=x||window.location.href,v=`${p}/login?from_url=${encodeURIComponent(b)}&app_id=${f}`;window.location.href=v},async logout(x){if(delete h.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(b){console.error("Failed to remove token from localStorage:",b)}return x&&typeof window<"u"&&(window.location.href=x),Promise.resolve()},setToken(x){let b=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(x&&(h.defaults.headers.common.Authorization=`Bearer ${x}`,b&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",x)}catch(v){console.error("Failed to save token to localStorage:",v)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,t);if(typeof window<"u"){const h=a||yue();h&&u.setToken(h)}return i&&typeof window<"u"&&setTimeout((async()=>{try{await u.isAuthenticated()||u.login(window.location.href)}catch(h){console.error("Authentication check failed:",h),u.login(window.location.href)}}),0),{entities:l,integrations:c,auth:u,setToken(h){u.setToken(h)},getConfig:()=>({serverUrl:t,appId:n,env:s,requiresAuth:i})}}const ee=bue({appId:"6909eb511f749a49b63df48c",requiresAuth:!0});var tj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wue={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Xc,rO,_B,jue=(_B=class{constructor(){xn(this,Xc,wue);xn(this,rO,!1)}setTimeoutProvider(e){Vt(this,Xc,e)}setTimeout(e,t){return Ee(this,Xc).setTimeout(e,t)}clearTimeout(e){Ee(this,Xc).clearTimeout(e)}setInterval(e,t){return Ee(this,Xc).setInterval(e,t)}clearInterval(e){Ee(this,Xc).clearInterval(e)}},Xc=new WeakMap,rO=new WeakMap,_B),rv=new jue;function Nue(e){setTimeout(e,0)}var Vx=typeof window>"u"||"Deno"in globalThis;function pb(){}function ZD(e){return typeof e=="number"&&e>=0&&e!==1/0}function _ue(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mx(e,t){return typeof e=="function"?e(t):e}function Fi(e,t){return typeof e=="function"?e(t):e}function JD(e){return JSON.stringify(e,(t,n)=>PE(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}var Sue=Object.prototype.hasOwnProperty;function S7(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=e5(e)&&e5(t);if(!s&&!(PE(e)&&PE(t)))return t;const i=(s?e:Object.keys(e)).length,o=s?t:Object.keys(t),l=o.length,c=s?new Array(l):{};let u=0;for(let h=0;h<l;h++){const f=s?h:o[h],p=e[f],x=t[f];if(p===x){c[f]=p,(s?h<i:Sue.call(e,f))&&u++;continue}if(p===null||x===null||typeof p!="object"||typeof x!="object"){c[f]=x;continue}const b=S7(p,x,n+1);c[f]=b,b===p&&u++}return i===l&&u===i?e:c}function xb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function e5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function PE(e){if(!t5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!t5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function t5(e){return Object.prototype.toString.call(e)==="[object Object]"}function n5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?S7(e,t):t}function $O(e,t){return typeof e=="function"?e(...t):!!e}var Cd,Qc,jf,SB,Cue=(SB=class extends tj{constructor(){super();xn(this,Cd);xn(this,Qc);xn(this,jf);Vt(this,jf,t=>{if(!Vx&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ee(this,Qc)||this.setEventListener(Ee(this,jf))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,Qc))==null||t.call(this),Vt(this,Qc,void 0))}setEventListener(t){var n;Vt(this,jf,t),(n=Ee(this,Qc))==null||n.call(this),Vt(this,Qc,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Ee(this,Cd)!==t&&(Vt(this,Cd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ee(this,Cd)=="boolean"?Ee(this,Cd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cd=new WeakMap,Qc=new WeakMap,jf=new WeakMap,SB),kue=new Cue;function r5(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var Eue=Nue;function Pue(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=Eue;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var nj=Pue(),Nf,Zc,_f,CB,Aue=(CB=class extends tj{constructor(){super();xn(this,Nf,!0);xn(this,Zc);xn(this,_f);Vt(this,_f,t=>{if(!Vx&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Ee(this,Zc)||this.setEventListener(Ee(this,_f))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,Zc))==null||t.call(this),Vt(this,Zc,void 0))}setEventListener(t){var n;Vt(this,_f,t),(n=Ee(this,Zc))==null||n.call(this),Vt(this,Zc,t(this.setOnline.bind(this)))}setOnline(t){Ee(this,Nf)!==t&&(Vt(this,Nf,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Ee(this,Nf)}},Nf=new WeakMap,Zc=new WeakMap,_f=new WeakMap,CB),Oue=new Aue;function Tue(e){return(e??"online")==="online"?Oue.isOnline():!0}function Mue(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tue(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}var Js,Xt,D0,Is,kd,Sf,kl,Jc,I0,Cf,kf,Ed,Pd,eu,Ef,vn,ix,AE,OE,TE,ME,RE,DE,IE,C7,kB,Rue=(kB=class extends tj{constructor(t,n){super();xn(this,vn);xn(this,Js);xn(this,Xt);xn(this,D0);xn(this,Is);xn(this,kd);xn(this,Sf);xn(this,kl);xn(this,Jc);xn(this,I0);xn(this,Cf);xn(this,kf);xn(this,Ed);xn(this,Pd);xn(this,eu);xn(this,Ef,new Set);this.options=n,Vt(this,Js,t),Vt(this,Jc,null),Vt(this,kl,r5()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ee(this,Xt).addObserver(this),s5(Ee(this,Xt),this.options)?qn(this,vn,ix).call(this):this.updateResult(),qn(this,vn,ME).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return LE(Ee(this,Xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return LE(Ee(this,Xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qn(this,vn,RE).call(this),qn(this,vn,DE).call(this),Ee(this,Xt).removeObserver(this)}setOptions(t){const n=this.options,s=Ee(this,Xt);if(this.options=Ee(this,Js).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fi(this.options.enabled,Ee(this,Xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qn(this,vn,IE).call(this),Ee(this,Xt).setOptions(this.options),n._defaulted&&!xb(this.options,n)&&Ee(this,Js).getQueryCache().notify({type:"observerOptionsUpdated",query:Ee(this,Xt),observer:this});const a=this.hasListeners();a&&a5(Ee(this,Xt),s,this.options,n)&&qn(this,vn,ix).call(this),this.updateResult(),a&&(Ee(this,Xt)!==s||Fi(this.options.enabled,Ee(this,Xt))!==Fi(n.enabled,Ee(this,Xt))||mx(this.options.staleTime,Ee(this,Xt))!==mx(n.staleTime,Ee(this,Xt)))&&qn(this,vn,AE).call(this);const i=qn(this,vn,OE).call(this);a&&(Ee(this,Xt)!==s||Fi(this.options.enabled,Ee(this,Xt))!==Fi(n.enabled,Ee(this,Xt))||i!==Ee(this,eu))&&qn(this,vn,TE).call(this,i)}getOptimisticResult(t){const n=Ee(this,Js).getQueryCache().build(Ee(this,Js),t),s=this.createResult(n,t);return Iue(this,s)&&(Vt(this,Is,s),Vt(this,Sf,this.options),Vt(this,kd,Ee(this,Xt).state)),s}getCurrentResult(){return Ee(this,Is)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Ee(this,kl).status==="pending"&&Ee(this,kl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(t){Ee(this,Ef).add(t)}getCurrentQuery(){return Ee(this,Xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Ee(this,Js).defaultQueryOptions(t),s=Ee(this,Js).getQueryCache().build(Ee(this,Js),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return qn(this,vn,ix).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ee(this,Is)))}createResult(t,n){var $;const s=Ee(this,Xt),a=this.options,i=Ee(this,Is),o=Ee(this,kd),l=Ee(this,Sf),u=t!==s?t.state:Ee(this,D0),{state:h}=t;let f={...h},p=!1,x;if(n._optimisticResults){const D=this.hasListeners(),M=!D&&s5(t,n),B=D&&a5(t,s,n,a);(M||B)&&(f={...f,...Mue(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:y}=f;x=f.data;let N=!1;if(n.placeholderData!==void 0&&x===void 0&&y==="pending"){let D;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(D=i.data,N=!0):D=typeof n.placeholderData=="function"?n.placeholderData(($=Ee(this,kf))==null?void 0:$.state.data,Ee(this,kf)):n.placeholderData,D!==void 0&&(y="success",x=n5(i==null?void 0:i.data,D,n),p=!0)}if(n.select&&x!==void 0&&!N)if(i&&x===(o==null?void 0:o.data)&&n.select===Ee(this,I0))x=Ee(this,Cf);else try{Vt(this,I0,n.select),x=n.select(x),x=n5(i==null?void 0:i.data,x,n),Vt(this,Cf,x),Vt(this,Jc,null)}catch(D){Vt(this,Jc,D)}Ee(this,Jc)&&(b=Ee(this,Jc),x=Ee(this,Cf),v=Date.now(),y="error");const _=f.fetchStatus==="fetching",S=y==="pending",E=y==="error",A=S&&_,k=x!==void 0,R={status:y,fetchStatus:f.fetchStatus,isPending:S,isSuccess:y==="success",isError:E,isInitialLoading:A,isLoading:A,data:x,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!S,isLoadingError:E&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&k,isStale:BO(t,n),refetch:this.refetch,promise:Ee(this,kl),isEnabled:Fi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=R.data!==void 0,M=R.status==="error"&&!D,B=W=>{M?W.reject(R.error):D&&W.resolve(R.data)},J=()=>{const W=Vt(this,kl,R.promise=r5());B(W)},Y=Ee(this,kl);switch(Y.status){case"pending":t.queryHash===s.queryHash&&B(Y);break;case"fulfilled":(M||R.data!==Y.value)&&J();break;case"rejected":(!M||R.error!==Y.reason)&&J();break}}return R}updateResult(){const t=Ee(this,Is),n=this.createResult(Ee(this,Xt),this.options);if(Vt(this,kd,Ee(this,Xt).state),Vt(this,Sf,this.options),Ee(this,kd).data!==void 0&&Vt(this,kf,Ee(this,Xt)),xb(n,t))return;Vt(this,Is,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Ee(this,Ef).size)return!0;const o=new Set(i??Ee(this,Ef));return this.options.throwOnError&&o.add("error"),Object.keys(Ee(this,Is)).some(l=>{const c=l;return Ee(this,Is)[c]!==t[c]&&o.has(c)})};qn(this,vn,C7).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qn(this,vn,ME).call(this)}},Js=new WeakMap,Xt=new WeakMap,D0=new WeakMap,Is=new WeakMap,kd=new WeakMap,Sf=new WeakMap,kl=new WeakMap,Jc=new WeakMap,I0=new WeakMap,Cf=new WeakMap,kf=new WeakMap,Ed=new WeakMap,Pd=new WeakMap,eu=new WeakMap,Ef=new WeakMap,vn=new WeakSet,ix=function(t){qn(this,vn,IE).call(this);let n=Ee(this,Xt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(pb)),n},AE=function(){qn(this,vn,RE).call(this);const t=mx(this.options.staleTime,Ee(this,Xt));if(Vx||Ee(this,Is).isStale||!ZD(t))return;const s=_ue(Ee(this,Is).dataUpdatedAt,t)+1;Vt(this,Ed,rv.setTimeout(()=>{Ee(this,Is).isStale||this.updateResult()},s))},OE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ee(this,Xt)):this.options.refetchInterval)??!1},TE=function(t){qn(this,vn,DE).call(this),Vt(this,eu,t),!(Vx||Fi(this.options.enabled,Ee(this,Xt))===!1||!ZD(Ee(this,eu))||Ee(this,eu)===0)&&Vt(this,Pd,rv.setInterval(()=>{(this.options.refetchIntervalInBackground||kue.isFocused())&&qn(this,vn,ix).call(this)},Ee(this,eu)))},ME=function(){qn(this,vn,AE).call(this),qn(this,vn,TE).call(this,qn(this,vn,OE).call(this))},RE=function(){Ee(this,Ed)&&(rv.clearTimeout(Ee(this,Ed)),Vt(this,Ed,void 0))},DE=function(){Ee(this,Pd)&&(rv.clearInterval(Ee(this,Pd)),Vt(this,Pd,void 0))},IE=function(){const t=Ee(this,Js).getQueryCache().build(Ee(this,Js),this.options);if(t===Ee(this,Xt))return;const n=Ee(this,Xt);Vt(this,Xt,t),Vt(this,D0,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},C7=function(t){nj.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Ee(this,Is))}),Ee(this,Js).getQueryCache().notify({query:Ee(this,Xt),type:"observerResultsUpdated"})})},kB);function Due(e,t){return Fi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function s5(e,t){return Due(e,t)||e.state.data!==void 0&&LE(e,t,t.refetchOnMount)}function LE(e,t,n){if(Fi(t.enabled,e)!==!1&&mx(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&BO(e,t)}return!1}function a5(e,t,n,s){return(e!==t||Fi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&BO(e,n)}function BO(e,t){return Fi(t.enabled,e)!==!1&&e.isStaleByTime(mx(t.staleTime,e))}function Iue(e,t){return!xb(e.getCurrentResult(),t)}function Lue(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var El,tu,ea,Pl,Gl,zv,FE,EB,Fue=(EB=class extends tj{constructor(n,s){super();xn(this,Gl);xn(this,El);xn(this,tu);xn(this,ea);xn(this,Pl);Vt(this,El,n),this.setOptions(s),this.bindMethods(),qn(this,Gl,zv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=Ee(this,El).defaultMutationOptions(n),xb(this.options,s)||Ee(this,El).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ee(this,ea),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&JD(s.mutationKey)!==JD(this.options.mutationKey)?this.reset():((a=Ee(this,ea))==null?void 0:a.state.status)==="pending"&&Ee(this,ea).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Ee(this,ea))==null||n.removeObserver(this)}onMutationUpdate(n){qn(this,Gl,zv).call(this),qn(this,Gl,FE).call(this,n)}getCurrentResult(){return Ee(this,tu)}reset(){var n;(n=Ee(this,ea))==null||n.removeObserver(this),Vt(this,ea,void 0),qn(this,Gl,zv).call(this),qn(this,Gl,FE).call(this)}mutate(n,s){var a;return Vt(this,Pl,s),(a=Ee(this,ea))==null||a.removeObserver(this),Vt(this,ea,Ee(this,El).getMutationCache().build(Ee(this,El),this.options)),Ee(this,ea).addObserver(this),Ee(this,ea).execute(n)}},El=new WeakMap,tu=new WeakMap,ea=new WeakMap,Pl=new WeakMap,Gl=new WeakSet,zv=function(){var s;const n=((s=Ee(this,ea))==null?void 0:s.state)??Lue();Vt(this,tu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},FE=function(n){nj.batch(()=>{var s,a,i,o,l,c,u,h;if(Ee(this,Pl)&&this.hasListeners()){const f=Ee(this,tu).variables,p=Ee(this,tu).context,x={client:Ee(this,El),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(a=(s=Ee(this,Pl)).onSuccess)==null||a.call(s,n.data,f,p,x)}catch(b){Promise.reject(b)}try{(o=(i=Ee(this,Pl)).onSettled)==null||o.call(i,n.data,null,f,p,x)}catch(b){Promise.reject(b)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=Ee(this,Pl)).onError)==null||c.call(l,n.error,f,p,x)}catch(b){Promise.reject(b)}try{(h=(u=Ee(this,Pl)).onSettled)==null||h.call(u,void 0,n.error,f,p,x)}catch(b){Promise.reject(b)}}}this.listeners.forEach(f=>{f(Ee(this,tu))})})},EB),zue=j.createContext(void 0),Kt=e=>{const t=j.useContext(zue);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},k7=j.createContext(!1),$ue=()=>j.useContext(k7);k7.Provider;function Bue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vue=j.createContext(Bue()),Uue=()=>j.useContext(Vue),Wue=(e,t,n)=>{const s=n!=null&&n.state.error&&typeof e.throwOnError=="function"?$O(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},que=e=>{j.useEffect(()=>{e.clearReset()},[e])},Hue=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||$O(n,[e.error,s])),Yue=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Gue=(e,t)=>e.isLoading&&e.isFetching&&!t,Kue=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,i5=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Xue(e,t,n){var p,x,b,v;const s=$ue(),a=Uue(),i=Kt(),o=i.defaultQueryOptions(e);(x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||x.call(p,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=s?"isRestoring":"optimistic",Yue(o),Wue(o,a,l),que(a);const c=!i.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new t(i,o)),h=u.getOptimisticResult(o),f=!s&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(y=>{const N=f?u.subscribe(nj.batchCalls(y)):pb;return u.updateResult(),N},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),Kue(o,h))throw i5(o,u,a);if(Hue({result:h,errorResetBoundary:a,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw h.error;if((v=(b=i.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||v.call(b,o,h),o.experimental_prefetchInRender&&!Vx&&Gue(h,s)){const y=c?i5(o,u,a):l==null?void 0:l.promise;y==null||y.catch(pb).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?h:u.trackResult(h)}function Be(e,t){return Xue(e,Rue)}function Bt(e,t){const n=Kt(),[s]=j.useState(()=>new Fue(n,e));j.useEffect(()=>{s.setOptions(e)},[s,e]);const a=j.useSyncExternalStore(j.useCallback(o=>s.subscribe(nj.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=j.useCallback((o,l)=>{s.mutate(o,l).catch(pb)},[s]);if(a.error&&$O(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Que=Kw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function be({className:e,variant:t,...n}){return r.jsx("div",{className:dt(Que({variant:t}),e),...n})}function Zue(e){const t=Jue(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find(tde);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Jue(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=rde(a),l=nde(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ede=Symbol("radix.slottable");function tde(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ede}function nde(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function rde(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rj="Popover",[E7]=pi(rj,[gm]),ng=gm(),[sde,pu]=E7(rj),P7=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=ng(t),c=j.useRef(null),[u,h]=j.useState(!1),[f,p]=Ql({prop:s,defaultProp:a??!1,onChange:i,caller:rj});return r.jsx(SO,{...l,children:r.jsx(sde,{scope:t,contentId:Hi(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(x=>!x),[p]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>h(!0),[]),onCustomAnchorRemove:j.useCallback(()=>h(!1),[]),modal:o,children:n})})};P7.displayName=rj;var A7="PopoverAnchor",ade=j.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=pu(A7,n),i=ng(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(Vw,{...i,...s,ref:t})});ade.displayName=A7;var O7="PopoverTrigger",T7=j.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=pu(O7,n),i=ng(n),o=Wt(t,a.triggerRef),l=r.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":L7(a.open),...s,ref:o,onClick:Xe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(Vw,{asChild:!0,...i,children:l})});T7.displayName=O7;var VO="PopoverPortal",[ide,ode]=E7(VO,{forceMount:void 0}),M7=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=pu(VO,t);return r.jsx(ide,{scope:t,forceMount:n,children:r.jsx(Cs,{present:n||i.open,children:r.jsx(Y0,{asChild:!0,container:a,children:s})})})};M7.displayName=VO;var If="PopoverContent",R7=j.forwardRef((e,t)=>{const n=ode(If,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=pu(If,e.__scopePopover);return r.jsx(Cs,{present:s||i.open,children:i.modal?r.jsx(cde,{...a,ref:t}):r.jsx(ude,{...a,ref:t})})});R7.displayName=If;var lde=Zue("PopoverContent.RemoveScroll"),cde=j.forwardRef((e,t)=>{const n=pu(If,e.__scopePopover),s=j.useRef(null),a=Wt(t,s),i=j.useRef(!1);return j.useEffect(()=>{const o=s.current;if(o)return Ww(o)},[]),r.jsx(K0,{as:lde,allowPinchZoom:!0,children:r.jsx(D7,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Xe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ude=j.forwardRef((e,t)=>{const n=pu(If,e.__scopePopover),s=j.useRef(!1),a=j.useRef(!1);return r.jsx(D7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),D7=j.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...f}=e,p=pu(If,n),x=ng(n);return Lw(),r.jsx(q0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(W0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:r.jsx(CO,{"data-state":L7(p.open),role:"dialog",id:p.contentId,...x,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),I7="PopoverClose",dde=j.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=pu(I7,n);return r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:Xe(e.onClick,()=>a.onOpenChange(!1))})});dde.displayName=I7;var hde="PopoverArrow",fde=j.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ng(n);return r.jsx(kO,{...a,...s,ref:t})});fde.displayName=hde;function L7(e){return e?"open":"closed"}var mde=P7,pde=T7,xde=M7,F7=R7;const gde=mde,yde=pde,z7=j.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(xde,{children:r.jsx(F7,{ref:a,align:t,sideOffset:n,className:dt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));z7.displayName=F7.displayName;function Vs(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ho(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vde(e,t){const n=Vs(e);return isNaN(t)?Ho(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function bde(e,t){const n=Vs(e);if(isNaN(t))return Ho(e,NaN);if(!t)return n;const s=n.getDate(),a=Ho(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const $7=6048e5,wde=864e5,jde=6e4;let Nde={};function sj(){return Nde}function Ux(e,t){var l,c,u,h;const n=sj(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=Vs(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function gb(e){return Ux(e,{weekStartsOn:1})}function B7(e){const t=Vs(e),n=t.getFullYear(),s=Ho(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=gb(s),i=Ho(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=gb(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function o5(e){const t=Vs(e);return t.setHours(0,0,0,0),t}function l5(e){const t=Vs(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _de(e,t){const n=o5(e),s=o5(t),a=+n-l5(n),i=+s-l5(s);return Math.round((a-i)/wde)}function Sde(e){const t=B7(e),n=Ho(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),gb(n)}function Cde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Qi(e){if(!Cde(e)&&typeof e!="number")return!1;const t=Vs(e);return!isNaN(Number(t))}function kde(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function Ede(e,t){return+Vs(e)-+Vs(t)}function zE(e,t,n){const s=Ede(e,t)/jde;return kde(n==null?void 0:n.roundingMethod)(s)}function Pde(e){const t=Vs(e),n=Ho(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ade={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ode=(e,t,n)=>{let s;const a=Ade[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function hf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Tde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dde={date:hf({formats:Tde,defaultWidth:"full"}),time:hf({formats:Mde,defaultWidth:"full"}),dateTime:hf({formats:Rde,defaultWidth:"full"})},Ide={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lde=(e,t,n,s)=>Ide[e];function To(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Fde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$de={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ude={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wde=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qde={ordinalNumber:Wde,era:To({values:Fde,defaultWidth:"wide"}),quarter:To({values:zde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:To({values:$de,defaultWidth:"wide"}),day:To({values:Bde,defaultWidth:"wide"}),dayPeriod:To({values:Vde,defaultWidth:"wide",formattingValues:Ude,defaultFormattingWidth:"wide"})};function Mo(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Yde(l,f=>f.test(o)):Hde(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Hde(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Yde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function V7(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Gde=/^(\d+)(th|st|nd|rd)?/i,Kde=/\d+/i,Xde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qde={any:[/^b/i,/^(a|c)/i]},Zde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jde={any:[/1/i,/2/i,/3/i,/4/i]},ehe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},the={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},she={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ahe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ihe={ordinalNumber:V7({matchPattern:Gde,parsePattern:Kde,valueCallback:e=>parseInt(e,10)}),era:Mo({matchPatterns:Xde,defaultMatchWidth:"wide",parsePatterns:Qde,defaultParseWidth:"any"}),quarter:Mo({matchPatterns:Zde,defaultMatchWidth:"wide",parsePatterns:Jde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mo({matchPatterns:ehe,defaultMatchWidth:"wide",parsePatterns:the,defaultParseWidth:"any"}),day:Mo({matchPatterns:nhe,defaultMatchWidth:"wide",parsePatterns:rhe,defaultParseWidth:"any"}),dayPeriod:Mo({matchPatterns:she,defaultMatchWidth:"any",parsePatterns:ahe,defaultParseWidth:"any"})},ohe={code:"en-US",formatDistance:Ode,formatLong:Dde,formatRelative:Lde,localize:qde,match:ihe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lhe(e){const t=Vs(e);return _de(t,Pde(t))+1}function che(e){const t=Vs(e),n=+gb(t)-+Sde(t);return Math.round(n/$7)+1}function U7(e,t){var h,f,p,x;const n=Vs(e),s=n.getFullYear(),a=sj(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(p=a.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,o=Ho(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Ux(o,t),c=Ho(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=Ux(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function uhe(e,t){var l,c,u,h;const n=sj(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=U7(e,t),i=Ho(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Ux(i,t)}function dhe(e,t){const n=Vs(e),s=+Ux(n,t)-+uhe(n,t);return Math.round(s/$7)+1}function jn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Uc={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return jn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):jn(n+1,2)},d(e,t){return jn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return jn(e.getHours()%12||12,t.length)},H(e,t){return jn(e.getHours(),t.length)},m(e,t){return jn(e.getMinutes(),t.length)},s(e,t){return jn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return jn(a,t.length)}},Wh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},c5={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Uc.y(e,t)},Y:function(e,t,n,s){const a=U7(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return jn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):jn(i,t.length)},R:function(e,t){const n=B7(e);return jn(n,t.length)},u:function(e,t){const n=e.getFullYear();return jn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return jn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return jn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Uc.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return jn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=dhe(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):jn(a,t.length)},I:function(e,t,n){const s=che(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):jn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Uc.d(e,t)},D:function(e,t,n){const s=lhe(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):jn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return jn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return jn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return jn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=Wh.noon:s===0?a=Wh.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=Wh.evening:s>=12?a=Wh.afternoon:s>=4?a=Wh.morning:a=Wh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Uc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Uc.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):jn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):jn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Uc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Uc.s(e,t)},S:function(e,t){return Uc.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return d5(s);case"XXXX":case"XX":return fd(s);case"XXXXX":case"XXX":default:return fd(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return d5(s);case"xxxx":case"xx":return fd(s);case"xxxxx":case"xxx":default:return fd(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+u5(s,":");case"OOOO":default:return"GMT"+fd(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+u5(s,":");case"zzzz":default:return"GMT"+fd(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return jn(s,t.length)},T:function(e,t,n){const s=e.getTime();return jn(s,t.length)}};function u5(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+jn(i,2)}function d5(e,t){return e%60===0?(e>0?"-":"+")+jn(Math.abs(e)/60,2):fd(e,t)}function fd(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=jn(Math.trunc(s/60),2),i=jn(s%60,2);return n+a+t+i}const h5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},W7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hhe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return h5(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",h5(s,t)).replace("{{time}}",W7(a,t))},fhe={p:W7,P:hhe},mhe=/^D+$/,phe=/^Y+$/,xhe=["D","DD","YY","YYYY"];function ghe(e){return mhe.test(e)}function yhe(e){return phe.test(e)}function vhe(e,t,n){const s=bhe(e,t,n);if(console.warn(s),xhe.includes(e))throw new RangeError(s)}function bhe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const whe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nhe=/^'([^]*?)'?$/,_he=/''/g,She=/[a-zA-Z]/;function Ge(e,t,n){var h,f,p,x,b,v,y,N;const s=sj(),a=(n==null?void 0:n.locale)??s.locale??ohe,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(p=s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((N=(y=s.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=Vs(e);if(!Qi(l))throw new RangeError("Invalid time value");let c=t.match(jhe).map(_=>{const S=_[0];if(S==="p"||S==="P"){const E=fhe[S];return E(_,a.formatLong)}return _}).join("").match(whe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:Che(_)};if(c5[S])return{isToken:!0,value:_};if(S.match(She))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(_=>{if(!_.isToken)return _.value;const S=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yhe(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ghe(S))&&vhe(S,t,String(e));const E=c5[S[0]];return E(l,S,a.localize,u)}).join("")}function Che(e){const t=e.match(Nhe);return t?t[1].replace(_he,"'"):e}function khe(e,t){return vde(e,-t)}function Ehe(e,t){return bde(e,-t)}function Phe(){const[e,t]=j.useState(null),n=Kt();j.useEffect(()=>{(async()=>{try{const f=await ee.auth.me();t(f)}catch(f){console.error("Error loading user:",f)}})()},[]);const{data:s=[]}=Be({queryKey:["notifications"],queryFn:async()=>(await ee.entities.Notification.list("-created_date",50)).filter(f=>f.user_id===(e==null?void 0:e.id)||f.user_id==="all"),enabled:!!e,refetchInterval:3e4}),a=Bt({mutationFn:h=>ee.entities.Notification.update(h,{read:!0}),onSuccess:()=>{n.invalidateQueries({queryKey:["notifications"]})}}),i=Bt({mutationFn:h=>ee.entities.Notification.delete(h),onSuccess:()=>{n.invalidateQueries({queryKey:["notifications"]})}}),o=s.filter(h=>!h.read).length,l={info:Ad,success:Ke,warning:wn,error:wn,alert:wn},c={info:"text-blue-600 bg-blue-100",success:"text-green-600 bg-green-100",warning:"text-orange-600 bg-orange-100",error:"text-red-600 bg-red-100",alert:"text-red-600 bg-red-100"},u={baja:"bg-gray-100 text-gray-800",media:"bg-blue-100 text-blue-800",alta:"bg-orange-100 text-orange-800",urgente:"bg-red-100 text-red-800"};return r.jsxs(gde,{children:[r.jsx(yde,{asChild:!0,children:r.jsxs(ae,{variant:"ghost",size:"icon",className:"relative",children:[r.jsx(Tx,{className:"w-5 h-5"}),o>0&&r.jsx(be,{className:"absolute -top-1 -right-1 w-5 h-5 p-0 flex items-center justify-center bg-red-500",children:o>9?"9+":o})]})}),r.jsxs(z7,{className:"w-96 p-0",align:"end",children:[r.jsx("div",{className:"border-b border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Notificaciones"}),o>0&&r.jsxs(be,{className:"bg-blue-600",children:[o," nuevas"]})]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Tx,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"No tienes notificaciones"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:s.map(h=>{const f=l[h.type]||Ad;return r.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${h.read?"":"bg-blue-50/50"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${c[h.type]}`,children:r.jsx(f,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[r.jsx("p",{className:"font-medium text-sm",children:h.title}),!h.read&&r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-1"})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:h.message}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"text-xs text-gray-500",children:Ge(new Date(h.created_date),"dd/MM HH:mm")}),h.priority&&r.jsx(be,{className:`text-xs ${u[h.priority]}`,children:h.priority})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[!h.read&&r.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>a.mutate(h.id),className:"text-xs h-7",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Marcar leda"]}),h.link_to&&r.jsx(fn,{to:h.link_to,children:r.jsxs(ae,{variant:"ghost",size:"sm",className:"text-xs h-7",children:[r.jsx(Ui,{className:"w-3 h-3 mr-1"}),"Ver detalles"]})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>i.mutate(h.id),className:"text-xs h-7 text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(qr,{className:"w-3 h-3"})})]})]})]})},h.id)})})})]})]})}function Ahe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let $E=1;class Ohe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:$E++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:s}),{...c,...t,id:i,dismissible:l,title:s}):c):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],oe.isValidElement(u))i=!1,this.create({id:s,type:"default",message:u});else if(Mhe(u)&&!u.ok){i=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,b=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:p,...b})}else if(u instanceof Error){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,b=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:p,...b})}else if(n.success!==void 0){i=!1;const f=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,b=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:s,type:"success",description:p,...b})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!oe.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:f,...x})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||$E++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ni=new Ohe,The=(e,t)=>{const n=(t==null?void 0:t.id)||$E++;return ni.addToast({title:e,...t,id:n}),n},Mhe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Rhe=The,Dhe=()=>ni.toasts,Ihe=()=>ni.getActiveToasts(),fe=Object.assign(Rhe,{success:ni.success,info:ni.info,warning:ni.warning,error:ni.error,custom:ni.custom,message:ni.message,promise:ni.promise,dismiss:ni.dismiss,loading:ni.loading},{getHistory:Dhe,getToasts:Ihe});Ahe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const q7="synk_background_tasks",H7=j.createContext(null);function BE(){const e=j.useContext(H7);if(!e)throw new Error("useBackgroundTasks must be used within BackgroundTasksProvider");return e}function Lhe(){try{const e=localStorage.getItem(q7);if(e)return JSON.parse(e)}catch{}return{}}function Fhe(e){try{localStorage.setItem(q7,JSON.stringify(e))}catch{}}function zhe({children:e}){const[t,n]=j.useState(Lhe);j.useEffect(()=>{Fhe(t)},[t]);const s=j.useCallback((b,v={})=>{n(y=>({...y,[b]:{id:b,status:"running",startedAt:new Date().toISOString(),progress:0,steps:[],metadata:v,result:null,error:null}})),fe.info(` ${v.name||b} iniciado - Puedes navegar libremente`,{duration:3e3})},[]),a=j.useCallback((b,v)=>{n(y=>y[b]?{...y,[b]:{...y[b],...v}}:y)},[]),i=j.useCallback((b,v)=>{n(y=>y[b]?{...y,[b]:{...y[b],steps:[...y[b].steps||[],{...v,timestamp:new Date().toISOString()}]}}:y)},[]),o=j.useCallback((b,v)=>{var N;n(_=>_[b]?{..._,[b]:{..._[b],status:"completed",completedAt:new Date().toISOString(),result:v,progress:100}}:_);const y=t[b];fe.success(` ${((N=y==null?void 0:y.metadata)==null?void 0:N.name)||b} completado`,{duration:8e3})},[t]),l=j.useCallback((b,v)=>{var N;n(_=>_[b]?{..._,[b]:{..._[b],status:"failed",completedAt:new Date().toISOString(),error:(v==null?void 0:v.message)||v}}:_);const y=t[b];fe.error(` ${((N=y==null?void 0:y.metadata)==null?void 0:N.name)||b} fall: ${(v==null?void 0:v.message)||v}`,{duration:8e3})},[t]),c=j.useCallback(b=>{n(v=>{const{[b]:y,...N}=v;return N})},[]),u=j.useCallback(()=>{n(b=>{const v={};return Object.entries(b).forEach(([y,N])=>{N.status==="running"&&(v[y]=N)}),v})},[]),h=j.useCallback(b=>t[b]||null,[t]),f=j.useCallback(()=>Object.values(t).filter(b=>b.status==="running"),[t]),p=j.useCallback(()=>Object.values(t),[t]),x={tasks:t,startTask:s,updateTask:a,addStep:i,completeTask:o,failTask:l,clearTask:c,clearCompletedTasks:u,getTask:h,getRunningTasks:f,getAllTasks:p};return r.jsx(H7.Provider,{value:x,children:e})}function $he(){const{getRunningTasks:e,getAllTasks:t,clearCompletedTasks:n,clearTask:s}=BE(),[a,i]=j.useState(!1),o=e(),l=t(),c=l.filter(u=>u.status==="completed");return l.filter(u=>u.status==="failed"),l.length===0?null:r.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[r.jsx("button",{onClick:()=>i(!a),className:`flex items-center gap-2 px-4 py-3 rounded-full shadow-2xl transition-all ${o.length>0?"bg-blue-600 hover:bg-blue-700 text-white animate-pulse":c.length>0?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:o.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),r.jsxs("span",{className:"font-medium",children:[o.length," en proceso"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),r.jsxs("span",{className:"font-medium",children:[c.length," completados"]})]})}),a&&r.jsxs("div",{className:"absolute bottom-16 right-0 w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"p-3 bg-gray-50 border-b flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold text-gray-800",children:"Tareas en segundo plano"}),c.length>0&&r.jsx("button",{onClick:n,className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?r.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No hay tareas"}):r.jsx("div",{className:"divide-y",children:l.map(u=>{var h,f,p;return r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-sm text-gray-800",children:((h=u.metadata)==null?void 0:h.name)||u.id}),r.jsxs("div",{className:"flex items-center gap-2",children:[u.status==="running"&&r.jsxs("span",{className:"flex items-center gap-1 text-xs text-blue-600",children:[r.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"En proceso"]}),u.status==="completed"&&r.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Completado"]}),u.status==="failed"&&r.jsx("span",{className:"text-xs text-red-600",children:" Error"}),r.jsx("button",{onClick:()=>s(u.id),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.status==="running"&&r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"h-1.5 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${u.progress||10}%`}})}),((f=u.steps)==null?void 0:f.length)>0&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(p=u.steps[u.steps.length-1])==null?void 0:p.step})]}),u.status==="completed"&&u.result&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:typeof u.result=="string"?u.result:u.result.message||"Completado correctamente"}),u.status==="failed"&&u.error&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.error})]},u.id)})})})]})]})}const UO=j.createContext({});function WO(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const qO=typeof window<"u",Y7=qO?j.useLayoutEffect:j.useEffect,aj=j.createContext(null);function HO(e,t){e.indexOf(t)===-1&&e.push(t)}function YO(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yo=(e,t,n)=>n>t?t:n<e?e:n;let GO=()=>{};const ec={},G7=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function K7(e){return typeof e=="object"&&e!==null}const X7=e=>/^0[^.\s]+$/u.test(e);function KO(e){let t;return()=>(t===void 0&&(t=e()),t)}const ui=e=>e,Bhe=(e,t)=>n=>t(e(n)),rg=(...e)=>e.reduce(Bhe),Wx=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class XO{constructor(){this.subscriptions=[]}add(t){return HO(this.subscriptions,t),()=>YO(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $l=e=>e*1e3,oi=e=>e/1e3;function Q7(e,t){return t?e*(1e3/t):0}const Z7=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Vhe=1e-7,Uhe=12;function Whe(e,t,n,s,a){let i,o,l=0;do o=t+(n-t)/2,i=Z7(o,s,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Vhe&&++l<Uhe);return o}function sg(e,t,n,s){if(e===t&&n===s)return ui;const a=i=>Whe(i,0,1,e,n);return i=>i===0||i===1?i:Z7(a(i),t,s)}const J7=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eU=e=>t=>1-e(1-t),tU=sg(.33,1.53,.69,.99),QO=eU(tU),nU=J7(QO),rU=e=>(e*=2)<1?.5*QO(e):.5*(2-Math.pow(2,-10*(e-1))),ZO=e=>1-Math.sin(Math.acos(e)),sU=eU(ZO),aU=J7(ZO),qhe=sg(.42,0,1,1),Hhe=sg(0,0,.58,1),iU=sg(.42,0,.58,1),Yhe=e=>Array.isArray(e)&&typeof e[0]!="number",oU=e=>Array.isArray(e)&&typeof e[0]=="number",Ghe={linear:ui,easeIn:qhe,easeInOut:iU,easeOut:Hhe,circIn:ZO,circInOut:aU,circOut:sU,backIn:QO,backInOut:nU,backOut:tU,anticipate:rU},Khe=e=>typeof e=="string",f5=e=>{if(oU(e)){GO(e.length===4);const[t,n,s,a]=e;return sg(t,n,s,a)}else if(Khe(e))return Ghe[e];return e},sv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Xhe(e,t){let n=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),e()),h(l)}const u={schedule:(h,f=!1,p=!1)=>{const b=p&&a?n:s;return f&&o.add(h),b.has(h)||b.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[n,s]=[s,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const Qhe=40;function lU(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=sv.reduce((S,E)=>(S[E]=Xhe(i),S),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:f,preRender:p,render:x,postRender:b}=o,v=()=>{const S=ec.useManualTiming?a.timestamp:performance.now();n=!1,ec.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(S-a.timestamp,Qhe),1)),a.timestamp=S,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),h.process(a),f.process(a),p.process(a),x.process(a),b.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(v))},y=()=>{n=!0,s=!0,a.isProcessing||e(v)};return{schedule:sv.reduce((S,E)=>{const A=o[E];return S[E]=(k,P=!1,R=!1)=>(n||y(),A.schedule(k,P,R)),S},{}),cancel:S=>{for(let E=0;E<sv.length;E++)o[sv[E]].cancel(S)},state:a,steps:o}}const{schedule:Kn,cancel:fu,state:cs,steps:k_}=lU(typeof requestAnimationFrame<"u"?requestAnimationFrame:ui,!0);let $v;function Zhe(){$v=void 0}const Ls={now:()=>($v===void 0&&Ls.set(cs.isProcessing||ec.useManualTiming?cs.timestamp:performance.now()),$v),set:e=>{$v=e,queueMicrotask(Zhe)}},cU=e=>t=>typeof t=="string"&&t.startsWith(e),uU=cU("--"),Jhe=cU("var(--"),JO=e=>Jhe(e)?efe.test(e.split("/*")[0].trim()):!1,efe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function m5(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const jm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qx={...jm,transform:e=>Yo(0,1,e)},av={...jm,default:1},px=e=>Math.round(e*1e5)/1e5,e4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tfe(e){return e==null}const nfe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t4=(e,t)=>n=>!!(typeof n=="string"&&nfe.test(n)&&n.startsWith(e)||t&&!tfe(n)&&Object.prototype.hasOwnProperty.call(n,t)),dU=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(e4);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},rfe=e=>Yo(0,255,e),E_={...jm,transform:e=>Math.round(rfe(e))},vd={test:t4("rgb","red"),parse:dU("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+E_.transform(e)+", "+E_.transform(t)+", "+E_.transform(n)+", "+px(qx.transform(s))+")"};function sfe(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const VE={test:t4("#"),parse:sfe,transform:vd.transform},ag=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yc=ag("deg"),Bo=ag("%"),nt=ag("px"),afe=ag("vh"),ife=ag("vw"),p5={...Bo,parse:e=>Bo.parse(e)/100,transform:e=>Bo.transform(e*100)},Jh={test:t4("hsl","hue"),parse:dU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Bo.transform(px(t))+", "+Bo.transform(px(n))+", "+px(qx.transform(s))+")"},Ar={test:e=>vd.test(e)||VE.test(e)||Jh.test(e),parse:e=>vd.test(e)?vd.parse(e):Jh.test(e)?Jh.parse(e):VE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vd.transform(e):Jh.transform(e),getAnimatableNone:e=>{const t=Ar.parse(e);return t.alpha=0,Ar.transform(t)}},ofe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lfe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(e4))==null?void 0:t.length)||0)+(((n=e.match(ofe))==null?void 0:n.length)||0)>0}const hU="number",fU="color",cfe="var",ufe="var(",x5="${}",dfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hx(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(dfe,c=>(Ar.test(c)?(s.color.push(i),a.push(fU),n.push(Ar.parse(c))):c.startsWith(ufe)?(s.var.push(i),a.push(cfe),n.push(c)):(s.number.push(i),a.push(hU),n.push(parseFloat(c))),++i,x5)).split(x5);return{values:n,split:l,indexes:s,types:a}}function mU(e){return Hx(e).values}function pU(e){const{split:t,types:n}=Hx(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===hU?i+=px(a[o]):l===fU?i+=Ar.transform(a[o]):i+=a[o]}return i}}const hfe=e=>typeof e=="number"?0:Ar.test(e)?Ar.getAnimatableNone(e):e;function ffe(e){const t=mU(e);return pU(e)(t.map(hfe))}const mu={test:lfe,parse:mU,createTransformer:pU,getAnimatableNone:ffe};function P_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mfe({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=P_(c,l,e+1/3),i=P_(c,l,e),o=P_(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function yb(e,t){return n=>n>0?t:e}const cr=(e,t,n)=>e+(t-e)*n,A_=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},pfe=[VE,vd,Jh],xfe=e=>pfe.find(t=>t.test(e));function g5(e){const t=xfe(e);if(!t)return!1;let n=t.parse(e);return t===Jh&&(n=mfe(n)),n}const y5=(e,t)=>{const n=g5(e),s=g5(t);if(!n||!s)return yb(e,t);const a={...n};return i=>(a.red=A_(n.red,s.red,i),a.green=A_(n.green,s.green,i),a.blue=A_(n.blue,s.blue,i),a.alpha=cr(n.alpha,s.alpha,i),vd.transform(a))},UE=new Set(["none","hidden"]);function gfe(e,t){return UE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function yfe(e,t){return n=>cr(e,t,n)}function n4(e){return typeof e=="number"?yfe:typeof e=="string"?JO(e)?yb:Ar.test(e)?y5:wfe:Array.isArray(e)?xU:typeof e=="object"?Ar.test(e)?y5:vfe:yb}function xU(e,t){const n=[...e],s=n.length,a=e.map((i,o)=>n4(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=a[o](i);return n}}function vfe(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=n4(e[a])(e[a],t[a]));return a=>{for(const i in s)n[i]=s[i](a);return n}}function bfe(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],l=e.values[o]??0;n[a]=l,s[i]++}return n}const wfe=(e,t)=>{const n=mu.createTransformer(t),s=Hx(e),a=Hx(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?UE.has(e)&&!a.values.length||UE.has(t)&&!s.values.length?gfe(e,t):rg(xU(bfe(s,a),a.values),n):yb(e,t)};function gU(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?cr(e,t,n):n4(e)(e,t)}const jfe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Kn.update(t,n),stop:()=>fu(t),now:()=>cs.isProcessing?cs.timestamp:Ls.now()}},yU=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vb=2e4;function r4(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<vb;)t+=n,s=e.next(t);return t>=vb?1/0:t}function Nfe(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(r4(s),vb);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:oi(a)}}const _fe=5;function vU(e,t,n){const s=Math.max(t-_fe,0);return Q7(n-e(s),t-s)}const xr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},O_=.001;function Sfe({duration:e=xr.duration,bounce:t=xr.bounce,velocity:n=xr.velocity,mass:s=xr.mass}){let a,i,o=1-t;o=Yo(xr.minDamping,xr.maxDamping,o),e=Yo(xr.minDuration,xr.maxDuration,oi(e)),o<1?(a=u=>{const h=u*o,f=h*e,p=h-n,x=WE(u,o),b=Math.exp(-f);return O_-p/x*b},i=u=>{const f=u*o*e,p=f*n+n,x=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-f),v=WE(Math.pow(u,2),o);return(-a(u)+O_>0?-1:1)*((p-x)*b)/v}):(a=u=>{const h=Math.exp(-u*e),f=(u-n)*e+1;return-O_+h*f},i=u=>{const h=Math.exp(-u*e),f=(n-u)*(e*e);return h*f});const l=5/e,c=kfe(a,i,l);if(e=$l(e),isNaN(c))return{stiffness:xr.stiffness,damping:xr.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const Cfe=12;function kfe(e,t,n){let s=n;for(let a=1;a<Cfe;a++)s=s-e(s)/t(s);return s}function WE(e,t){return e*Math.sqrt(1-t*t)}const Efe=["duration","bounce"],Pfe=["stiffness","damping","mass"];function v5(e,t){return t.some(n=>e[n]!==void 0)}function Afe(e){let t={velocity:xr.velocity,stiffness:xr.stiffness,damping:xr.damping,mass:xr.mass,isResolvedFromDuration:!1,...e};if(!v5(e,Pfe)&&v5(e,Efe))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,i=2*Yo(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:xr.mass,stiffness:a,damping:i}}else{const n=Sfe(e);t={...t,...n,mass:xr.mass},t.isResolvedFromDuration=!0}return t}function bb(e=xr.visualDuration,t=xr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:x}=Afe({...n,velocity:-oi(n.velocity||0)}),b=p||0,v=u/(2*Math.sqrt(c*h)),y=o-i,N=oi(Math.sqrt(c/h)),_=Math.abs(y)<5;s||(s=_?xr.restSpeed.granular:xr.restSpeed.default),a||(a=_?xr.restDelta.granular:xr.restDelta.default);let S;if(v<1){const A=WE(N,v);S=k=>{const P=Math.exp(-v*N*k);return o-P*((b+v*N*y)/A*Math.sin(A*k)+y*Math.cos(A*k))}}else if(v===1)S=A=>o-Math.exp(-N*A)*(y+(b+N*y)*A);else{const A=N*Math.sqrt(v*v-1);S=k=>{const P=Math.exp(-v*N*k),R=Math.min(A*k,300);return o-P*((b+v*N*y)*Math.sinh(R)+A*y*Math.cosh(R))/A}}const E={calculatedDuration:x&&f||null,next:A=>{const k=S(A);if(x)l.done=A>=f;else{let P=A===0?b:0;v<1&&(P=A===0?$l(b):vU(S,A,k));const R=Math.abs(P)<=s,$=Math.abs(o-k)<=a;l.done=R&&$}return l.value=l.done?o:k,l},toString:()=>{const A=Math.min(r4(E),vb),k=yU(P=>E.next(A*P).value,A,30);return A+"ms "+k},toTransition:()=>{}};return E}bb.applyToOptions=e=>{const t=Nfe(e,100,bb);return e.ease=t.ease,e.duration=$l(t.duration),e.type="keyframes",e};function qE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const f=e[0],p={done:!1,value:f},x=R=>l!==void 0&&R<l||c!==void 0&&R>c,b=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let v=n*t;const y=f+v,N=o===void 0?y:o(y);N!==y&&(v=N-f);const _=R=>-v*Math.exp(-R/s),S=R=>N+_(R),E=R=>{const $=_(R),D=S(R);p.done=Math.abs($)<=u,p.value=p.done?N:D};let A,k;const P=R=>{x(p.value)&&(A=R,k=bb({keyframes:[p.value,b(p.value)],velocity:vU(S,R,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:h}))};return P(0),{calculatedDuration:null,next:R=>{let $=!1;return!k&&A===void 0&&($=!0,E(R),P(R)),A!==void 0&&R>=A?k.next(R-A):(!$&&E(R),p)}}}function Ofe(e,t,n){const s=[],a=n||ec.mix||gU,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ui:t;l=rg(c,l)}s.push(l)}return s}function Tfe(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const i=e.length;if(GO(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ofe(t,s,a),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const p=Wx(e[f],e[f+1],h);return l[f](p)};return n?h=>u(Yo(e[0],e[i-1],h)):u}function Mfe(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Wx(0,t,s);e.push(cr(n,1,a))}}function Rfe(e){const t=[0];return Mfe(t,e.length-1),t}function Dfe(e,t){return e.map(n=>n*t)}function Ife(e,t){return e.map(()=>t||iU).splice(0,e.length-1)}function xx({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=Yhe(s)?s.map(f5):f5(s),i={done:!1,value:t[0]},o=Dfe(n&&n.length===t.length?n:Rfe(t),e),l=Tfe(o,t,{ease:Array.isArray(a)?a:Ife(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Lfe=e=>e!==null;function s4(e,{repeat:t,repeatType:n="loop"},s,a=1){const i=e.filter(Lfe),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const Ffe={decay:qE,inertia:qE,tween:xx,keyframes:xx,spring:bb};function bU(e){typeof e.type=="string"&&(e.type=Ffe[e.type])}class a4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const zfe=e=>e/100;class i4 extends a4{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Ls.now()&&this.tick(Ls.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bU(t);const{type:n=xx,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||xx;c!==xx&&typeof l[0]!="number"&&(this.mixKeyframes=rg(zfe,gU(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=r4(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:x,type:b,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let S=this.currentTime,E=s;if(f){const R=Math.min(this.currentTime,a)/l;let $=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&$--,$=Math.min($,f+1),!!($%2)&&(p==="reverse"?(D=1-D,x&&(D-=x/l)):p==="mirror"&&(E=o)),S=Yo(0,1,D)*l}const A=_?{done:!1,value:h[0]}:E.next(S);i&&(A.value=i(A.value));let{done:k}=A;!_&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&b!==qE&&(A.value=s4(h,this.options,y,this.speed)),v&&v(A.value),P&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(this.currentTime)}set time(t){var n;t=$l(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ls.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=oi(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=jfe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ls.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function $fe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bd=e=>e*180/Math.PI,HE=e=>{const t=bd(Math.atan2(e[1],e[0]));return YE(t)},Bfe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:HE,rotateZ:HE,skewX:e=>bd(Math.atan(e[1])),skewY:e=>bd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},YE=e=>(e=e%360,e<0&&(e+=360),e),b5=HE,w5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),j5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vfe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w5,scaleY:j5,scale:e=>(w5(e)+j5(e))/2,rotateX:e=>YE(bd(Math.atan2(e[6],e[5]))),rotateY:e=>YE(bd(Math.atan2(-e[2],e[0]))),rotateZ:b5,rotate:b5,skewX:e=>bd(Math.atan(e[4])),skewY:e=>bd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function GE(e){return e.includes("scale")?1:0}function KE(e,t){if(!e||e==="none")return GE(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=Vfe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Bfe,a=l}if(!a)return GE(t);const i=s[t],o=a[1].split(",").map(Wfe);return typeof i=="function"?i(o):o[i]}const Ufe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return KE(n,t)};function Wfe(e){return parseFloat(e.trim())}const Nm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_m=new Set(Nm),N5=e=>e===jm||e===nt,qfe=new Set(["x","y","z"]),Hfe=Nm.filter(e=>!qfe.has(e));function Yfe(e){const t=[];return Hfe.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const nu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>KE(t,"x"),y:(e,{transform:t})=>KE(t,"y")};nu.translateX=nu.x;nu.translateY=nu.y;const Td=new Set;let XE=!1,QE=!1,ZE=!1;function wU(){if(QE){const e=Array.from(Td).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=Yfe(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}QE=!1,XE=!1,Td.forEach(e=>e.complete(ZE)),Td.clear()}function jU(){Td.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(QE=!0)})}function Gfe(){ZE=!0,jU(),wU(),ZE=!1}class o4{constructor(t,n,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Td.add(this),XE||(XE=!0,Kn.read(jU),Kn.resolveKeyframes(wU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}$fe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Td.delete(this)}cancel(){this.state==="scheduled"&&(Td.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Kfe=e=>e.startsWith("--");function Xfe(e,t,n){Kfe(t)?e.style.setProperty(t,n):e.style[t]=n}const Qfe=KO(()=>window.ScrollTimeline!==void 0),Zfe={};function Jfe(e,t){const n=KO(e);return()=>Zfe[t]??n()}const NU=Jfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ox=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,_5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ox([0,.65,.55,1]),circOut:ox([.55,0,1,.45]),backIn:ox([.31,.01,.66,-.59]),backOut:ox([.33,1.53,.69,.99])};function _U(e,t){if(e)return typeof e=="function"?NU()?yU(e,t):"ease-out":oU(e)?ox(e):Array.isArray(e)?e.map(n=>_U(n,t)||_5.easeOut):_5[e]}function eme(e,t,n,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:n};c&&(h.offset=c);const f=_U(l,a);Array.isArray(f)&&(h.easing=f);const p={delay:s,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(h,p)}function SU(e){return typeof e=="function"&&"applyToOptions"in e}function tme({type:e,...t}){return SU(e)&&NU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class nme extends a4{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,GO(typeof t.type!="string");const u=tme(t);this.animation=eme(n,s,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=s4(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Xfe(n,s,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return oi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$l(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Qfe()?(this.animation.timeline=t,ui):n(this)}}const CU={anticipate:rU,backInOut:nU,circInOut:aU};function rme(e){return e in CU}function sme(e){typeof e.ease=="string"&&rme(e.ease)&&(e.ease=CU[e.ease])}const T_=10;class ame extends nme{constructor(t){sme(t),bU(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new i4({...o,autoplay:!1}),c=Math.max(T_,Ls.now()-this.startTime),u=Yo(0,T_,c-T_);n.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const S5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mu.test(e)||e==="0")&&!e.startsWith("url("));function ime(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ome(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=S5(a,t),l=S5(i,t);return!o||!l?!1:ime(e)||(n==="spring"||SU(n))&&s}function JE(e){e.duration=0,e.type="keyframes"}const lme=new Set(["opacity","clipPath","filter","transform"]),cme=KO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ume(e){var h;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return cme()&&n&&lme.has(n)&&(n!=="transform"||!u)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const dme=40;class hme extends a4{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...f}){var b;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ls.now();const p={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:h,...f},x=(h==null?void 0:h.KeyframeResolver)||o4;this.keyframeResolver=new x(l,(v,y,N)=>this.onKeyframesResolved(v,y,p,!N),c,u,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=s;this.resolvedAt=Ls.now(),ome(t,i,o,l)||((ec.instantAnimations||!c)&&(h==null||h(s4(t,s,n))),t[0]=t[t.length-1],JE(s),s.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>dme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!u&&ume(p)?new ame({...p,element:p.motionValue.owner.current}):new i4(p);x.finished.then(()=>this.notifyFinished()).catch(ui),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Gfe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const fme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mme(e){const t=fme.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function kU(e,t,n=1){const[s,a]=mme(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return G7(o)?parseFloat(o):o}return JO(a)?kU(a,t,n+1):a}function l4(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const EU=new Set(["width","height","top","left","right","bottom",...Nm]),pme={test:e=>e==="auto",parse:e=>e},PU=e=>t=>t.test(e),AU=[jm,nt,Bo,Yc,ife,afe,pme],C5=e=>AU.find(PU(e));function xme(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||X7(e):!0}const gme=new Set(["brightness","contrast","saturate","opacity"]);function yme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(e4)||[];if(!s)return e;const a=n.replace(s,"");let i=gme.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+a+")"}const vme=/\b([a-z-]*)\(.*?\)/gu,eP={...mu,getAnimatableNone:e=>{const t=e.match(vme);return t?t.map(yme).join(" "):e}},k5={...jm,transform:Math.round},bme={rotate:Yc,rotateX:Yc,rotateY:Yc,rotateZ:Yc,scale:av,scaleX:av,scaleY:av,scaleZ:av,skew:Yc,skewX:Yc,skewY:Yc,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:qx,originX:p5,originY:p5,originZ:nt},c4={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,inset:nt,insetBlock:nt,insetBlockStart:nt,insetBlockEnd:nt,insetInline:nt,insetInlineStart:nt,insetInlineEnd:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,paddingBlock:nt,paddingBlockStart:nt,paddingBlockEnd:nt,paddingInline:nt,paddingInlineStart:nt,paddingInlineEnd:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,marginBlock:nt,marginBlockStart:nt,marginBlockEnd:nt,marginInline:nt,marginInlineStart:nt,marginInlineEnd:nt,backgroundPositionX:nt,backgroundPositionY:nt,...bme,zIndex:k5,fillOpacity:qx,strokeOpacity:qx,numOctaves:k5},wme={...c4,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:eP,WebkitFilter:eP},OU=e=>wme[e];function TU(e,t){let n=OU(e);return n!==eP&&(n=mu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jme=new Set(["auto","none","0"]);function Nme(e,t,n){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!jme.has(i)&&Hx(i).values.length&&(a=e[s]),s++}if(a&&n)for(const i of t)e[i]=TU(n,a)}class _me extends o4{constructor(t,n,s,a,i){super(t,n,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),JO(f))){const p=kU(f,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!EU.has(s)||t.length!==2)return;const[a,i]=t,o=C5(a),l=C5(i),c=m5(a),u=m5(i);if(c!==u&&nu[s]){this.needsMeasurement=!0;return}if(o!==l)if(N5(o)&&N5(l))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else nu[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||xme(t[a]))&&s.push(a);s.length&&Nme(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nu[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=nu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Sme(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n==null?void 0:n[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const MU=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function RU(e){return K7(e)&&"offsetHeight"in e}const E5=30,Cme=e=>!isNaN(parseFloat(e));class kme{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var i;const a=Ls.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ls.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Cme(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new XO);const s=this.events[t].add(n);return t==="change"?()=>{s(),Kn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>E5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,E5);return Q7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lf(e,t){return new kme(e,t)}const{schedule:u4}=lU(queueMicrotask,!1),Ii={x:!1,y:!1};function DU(){return Ii.x||Ii.y}function Eme(e){return e==="x"||e==="y"?Ii[e]?null:(Ii[e]=!0,()=>{Ii[e]=!1}):Ii.x||Ii.y?null:(Ii.x=Ii.y=!0,()=>{Ii.x=Ii.y=!1})}function IU(e,t){const n=Sme(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function P5(e){return!(e.pointerType==="touch"||DU())}function Pme(e,t,n={}){const[s,a,i]=IU(e,n),o=l=>{if(!P5(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const h=f=>{P5(f)&&(u(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const LU=(e,t)=>t?e===t?!0:LU(e,t.parentElement):!1,d4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ame=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FU(e){return Ame.has(e.tagName)||e.isContentEditable===!0}const Bv=new WeakSet;function A5(e){return t=>{t.key==="Enter"&&e(t)}}function M_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ome=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=A5(()=>{if(Bv.has(n))return;M_(n,"down");const a=A5(()=>{M_(n,"up")}),i=()=>M_(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function O5(e){return d4(e)&&!DU()}function Tme(e,t,n={}){const[s,a,i]=IU(e,n),o=l=>{const c=l.currentTarget;if(!O5(l))return;Bv.add(c);const u=t(c,l),h=(x,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Bv.has(c)&&Bv.delete(c),O5(x)&&typeof u=="function"&&u(x,{success:b})},f=x=>{h(x,c===window||c===document||n.useGlobalTarget||LU(c,x.target))},p=x=>{h(x,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",p,a)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),RU(l)&&(l.addEventListener("focus",u=>Ome(u,a)),!FU(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function zU(e){return K7(e)&&"ownerSVGElement"in e}function Mme(e){return zU(e)&&e.tagName==="svg"}const _s=e=>!!(e&&e.getVelocity),Rme=[...AU,Ar,mu],Dme=e=>Rme.find(PU(e)),h4=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function T5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ime(...e){return t=>{let n=!1;const s=e.map(a=>{const i=T5(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():T5(e[a],null)}}}}function Lme(...e){return j.useCallback(Ime(...e),e)}class Fme extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=RU(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zme({children:e,isPresent:t,anchorX:n,root:s}){var h;const a=j.useId(),i=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=j.useContext(h4),c=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),u=Lme(i,c);return j.useInsertionEffect(()=>{const{width:f,height:p,top:x,left:b,right:v}=o.current;if(t||!i.current||!f||!p)return;const y=n==="left"?`left: ${b}`:`right: ${v}`;i.current.dataset.motionPopId=a;const N=document.createElement("style");l&&(N.nonce=l);const _=s??document.head;return _.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${y}px !important;
            top: ${x}px !important;
          }
        `),()=>{_.contains(N)&&_.removeChild(N)}},[t]),r.jsx(Fme,{isPresent:t,childRef:i,sizeRef:o,children:j.cloneElement(e,{ref:u})})}const $me=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=WO(Bme),h=j.useId();let f=!0,p=j.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:a,onExitComplete:x=>{u.set(x,!0);for(const b of u.values())if(!b)return;s&&s()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[n,u,s]);return i&&f&&(p={...p}),j.useMemo(()=>{u.forEach((x,b)=>u.set(b,!1))},[n]),j.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),o==="popLayout"&&(e=r.jsx(zme,{isPresent:n,anchorX:l,root:c,children:e})),r.jsx(aj.Provider,{value:p,children:e})};function Bme(){return new Map}function $U(e=!0){const t=j.useContext(aj);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,i=j.useId();j.useEffect(()=>{if(e)return a(i)},[e]);const o=j.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}const iv=e=>e.key||"";function M5(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Vme=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,h]=$U(o),f=j.useMemo(()=>M5(e),[e]),p=o&&!u?[]:f.map(iv),x=j.useRef(!0),b=j.useRef(f),v=WO(()=>new Map),y=j.useRef(new Set),[N,_]=j.useState(f),[S,E]=j.useState(f);Y7(()=>{x.current=!1,b.current=f;for(let P=0;P<S.length;P++){const R=iv(S[P]);p.includes(R)?(v.delete(R),y.current.delete(R)):v.get(R)!==!0&&v.set(R,!1)}},[S,p.length,p.join("-")]);const A=[];if(f!==N){let P=[...f];for(let R=0;R<S.length;R++){const $=S[R],D=iv($);p.includes(D)||(P.splice(R,0,$),A.push($))}return i==="wait"&&A.length&&(P=A),E(M5(P)),_(f),null}const{forceRender:k}=j.useContext(UO);return r.jsx(r.Fragment,{children:S.map(P=>{const R=iv(P),$=o&&!u?!1:f===S||p.includes(R),D=()=>{if(y.current.has(R))return;if(y.current.add(R),v.has(R))v.set(R,!0);else return;let M=!0;v.forEach(B=>{B||(M=!1)}),M&&(k==null||k(),E(b.current),o&&(h==null||h()),s&&s())};return r.jsx($me,{isPresent:$,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:$?void 0:D,anchorX:l,children:P},R)})})},BU=j.createContext({strict:!1}),R5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ff={};for(const e in R5)Ff[e]={isEnabled:t=>R5[e].some(n=>!!t[n])};function Ume(e){for(const t in e)Ff[t]={...Ff[t],...e[t]}}const Wme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wme.has(e)}let VU=e=>!wb(e);function qme(e){typeof e=="function"&&(VU=t=>t.startsWith("on")?!wb(t):e(t))}try{qme(require("@emotion/is-prop-valid").default)}catch{}function Hme(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(VU(a)||n===!0&&wb(a)||!t&&!wb(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ij=j.createContext({});function oj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yx(e){return typeof e=="string"||Array.isArray(e)}const f4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m4=["initial",...f4];function lj(e){return oj(e.animate)||m4.some(t=>Yx(e[t]))}function UU(e){return!!(lj(e)||e.variants)}function Yme(e,t){if(lj(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Yx(n)?n:void 0,animate:Yx(s)?s:void 0}}return e.inherit!==!1?t:{}}function Gme(e){const{initial:t,animate:n}=Yme(e,j.useContext(ij));return j.useMemo(()=>({initial:t,animate:n}),[D5(t),D5(n)])}function D5(e){return Array.isArray(e)?e.join(" "):e}function I5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Up={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nt.test(e))e=parseFloat(e);else return e;const n=I5(e,t.target.x),s=I5(e,t.target.y);return`${n}% ${s}%`}},Kme={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=mu.parse(e);if(a.length>5)return s;const i=mu.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=cr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}},tP={borderRadius:{...Up,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Up,borderTopRightRadius:Up,borderBottomLeftRadius:Up,borderBottomRightRadius:Up,boxShadow:Kme};function WU(e,{layout:t,layoutId:n}){return _m.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!tP[e]||e==="opacity")}const Xme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qme=Nm.length;function Zme(e,t,n){let s="",a=!0;for(let i=0;i<Qme;i++){const o=Nm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=MU(l,c4[o]);if(!c){a=!1;const h=Xme[o]||o;s+=`${h}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function p4(e,t,n){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(_m.has(c)){o=!0;continue}else if(uU(c)){a[c]=u;continue}else{const h=MU(u,c4[c]);c.startsWith("origin")?(l=!0,i[c]=h):s[c]=h}}if(t.transform||(o||n?s.transform=Zme(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=i;s.transformOrigin=`${c} ${u} ${h}`}}const x4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qU(e,t,n){for(const s in t)!_s(t[s])&&!WU(s,n)&&(e[s]=t[s])}function Jme({transformTemplate:e},t){return j.useMemo(()=>{const n=x4();return p4(n,t,e),Object.assign({},n.vars,n.style)},[t])}function epe(e,t){const n=e.style||{},s={};return qU(s,n,e),Object.assign(s,Jme(e,t)),s}function tpe(e,t){const n={},s=epe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const npe={offset:"stroke-dashoffset",array:"stroke-dasharray"},rpe={offset:"strokeDashoffset",array:"strokeDasharray"};function spe(e,t,n=1,s=0,a=!0){e.pathLength=1;const i=a?npe:rpe;e[i.offset]=nt.transform(-s);const o=nt.transform(t),l=nt.transform(n);e[i.array]=`${o} ${l}`}const ape=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function HU(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,h){if(p4(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const x of ape)f[x]!==void 0&&(p[x]=f[x],delete f[x]);t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),a!==void 0&&spe(f,a,i,o,!1)}const YU=()=>({...x4(),attrs:{}}),GU=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ipe(e,t,n,s){const a=j.useMemo(()=>{const i=YU();return HU(i,t,GU(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};qU(i,e.style,e),a.style={...i,...a.style}}return a}const ope=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g4(e){return typeof e!="string"||e.includes("-")?!1:!!(ope.indexOf(e)>-1||/[A-Z]/u.test(e))}function lpe(e,t,n,{latestValues:s},a,i=!1,o){const c=(o??g4(e)?ipe:tpe)(t,s,a,e),u=Hme(t,typeof e=="string",i),h=e!==j.Fragment?{...u,...c,ref:n}:{},{children:f}=t,p=j.useMemo(()=>_s(f)?f.get():f,[f]);return j.createElement(e,{...h,children:p})}function L5(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function y4(e,t,n,s){if(typeof t=="function"){const[a,i]=L5(s);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=L5(s);t=t(n!==void 0?n:e.custom,a,i)}return t}function Vv(e){return _s(e)?e.get():e}function cpe({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:upe(n,s,a,e),renderState:t()}}function upe(e,t,n,s){const a={},i=s(e,{});for(const p in i)a[p]=Vv(i[p]);let{initial:o,animate:l}=e;const c=lj(e),u=UU(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!oj(f)){const p=Array.isArray(f)?f:[f];for(let x=0;x<p.length;x++){const b=y4(e,p[x]);if(b){const{transitionEnd:v,transition:y,...N}=b;for(const _ in N){let S=N[_];if(Array.isArray(S)){const E=h?S.length-1:0;S=S[E]}S!==null&&(a[_]=S)}for(const _ in v)a[_]=v[_]}}}return a}const KU=e=>(t,n)=>{const s=j.useContext(ij),a=j.useContext(aj),i=()=>cpe(e,t,s,a);return n?i():WO(i)};function v4(e,t,n){var i;const{style:s}=e,a={};for(const o in s)(_s(s[o])||t.style&&_s(t.style[o])||WU(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=s[o]);return a}const dpe=KU({scrapeMotionValuesFromProps:v4,createRenderState:x4});function XU(e,t,n){const s=v4(e,t,n);for(const a in e)if(_s(e[a])||_s(t[a])){const i=Nm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const hpe=KU({scrapeMotionValuesFromProps:XU,createRenderState:YU}),fpe=Symbol.for("motionComponentSymbol");function mpe(e,t,n){const s=j.useRef(n);j.useInsertionEffect(()=>{s.current=n});const a=j.useRef(null);return j.useCallback(i=>{var l;i&&((l=e.onMount)==null||l.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=s.current;if(typeof o=="function")if(i){const c=o(i);typeof c=="function"&&(a.current=c)}else a.current?(a.current(),a.current=null):o(i);else o&&(o.current=i)},[t])}const b4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ppe="framerAppearId",QU="data-"+b4(ppe),ZU=j.createContext({});function lx(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xpe(e,t,n,s,a,i){var y,N;const{visualElement:o}=j.useContext(ij),l=j.useContext(BU),c=j.useContext(aj),u=j.useContext(h4).reducedMotion,h=j.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const f=h.current,p=j.useContext(ZU);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&gpe(h.current,n,a,p);const x=j.useRef(!1);j.useInsertionEffect(()=>{f&&x.current&&f.update(n,c)});const b=n[QU],v=j.useRef(!!b&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,b))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,b)));return Y7(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,b)}),v.current=!1),f.enteringChildren=void 0)}),f}function gpe(e,t,n,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JU(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&lx(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:u})}function JU(e){if(e)return e.options.allowProjection!==!1?e.projection:JU(e.parent)}function R_(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&Ume(s);const i=n?n==="svg":g4(e),o=i?hpe:dpe;function l(u,h){let f;const p={...j.useContext(h4),...u,layoutId:ype(u)},{isStatic:x}=p,b=Gme(u),v=o(u,x);if(!x&&qO){vpe();const y=bpe(p);f=y.MeasureLayout,b.visualElement=xpe(e,v,p,a,y.ProjectionNode,i)}return r.jsxs(ij.Provider,{value:b,children:[f&&b.visualElement?r.jsx(f,{visualElement:b.visualElement,...p}):null,lpe(e,u,mpe(v,b.visualElement,h),v,x,t,i)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=j.forwardRef(l);return c[fpe]=e,c}function ype({layoutId:e}){const t=j.useContext(UO).id;return t&&e!==void 0?t+"-"+e:e}function vpe(e,t){j.useContext(BU).strict}function bpe(e){const{drag:t,layout:n}=Ff;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function wpe(e,t){if(typeof Proxy>"u")return R_;const n=new Map,s=(i,o)=>R_(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,R_(o,void 0,e,t)),n.get(o))})}function eW({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function jpe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Npe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function D_(e){return e===void 0||e===1}function nP({scale:e,scaleX:t,scaleY:n}){return!D_(e)||!D_(t)||!D_(n)}function md(e){return nP(e)||tW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tW(e){return F5(e.x)||F5(e.y)}function F5(e){return e&&e!=="0%"}function jb(e,t,n){const s=e-n,a=t*s;return n+a}function z5(e,t,n,s,a){return a!==void 0&&(e=jb(e,a,s)),jb(e,n,s)+t}function rP(e,t=0,n=1,s,a){e.min=z5(e.min,t,n,s,a),e.max=z5(e.max,t,n,s,a)}function nW(e,{x:t,y:n}){rP(e.x,t.translate,t.scale,t.originPoint),rP(e.y,n.translate,n.scale,n.originPoint)}const $5=.999999999999,B5=1.0000000000001;function _pe(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nW(e,o)),s&&md(i.latestValues)&&tf(e,i.latestValues))}t.x<B5&&t.x>$5&&(t.x=1),t.y<B5&&t.y>$5&&(t.y=1)}function ef(e,t){e.min=e.min+t,e.max=e.max+t}function V5(e,t,n,s,a=.5){const i=cr(e.min,e.max,a);rP(e,t,n,i,s)}function tf(e,t){V5(e.x,t.x,t.scaleX,t.scale,t.originX),V5(e.y,t.y,t.scaleY,t.scale,t.originY)}function rW(e,t){return eW(Npe(e.getBoundingClientRect(),t))}function Spe(e,t,n){const s=rW(e,n),{scroll:a}=t;return a&&(ef(s.x,a.offset.x),ef(s.y,a.offset.y)),s}const U5=()=>({translate:0,scale:1,origin:0,originPoint:0}),nf=()=>({x:U5(),y:U5()}),W5=()=>({min:0,max:0}),$r=()=>({x:W5(),y:W5()}),sP={current:null},sW={current:!1};function Cpe(){if(sW.current=!0,!!qO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sP.current=e.matches;e.addEventListener("change",t),t()}else sP.current=!1}const kpe=new WeakMap;function Epe(e,t,n){for(const s in t){const a=t[s],i=n[s];if(_s(a))e.addValue(s,a);else if(_s(i))e.addValue(s,Lf(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Lf(o!==void 0?o:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const q5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ppe{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ls.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Kn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=lj(n),this.isVariantNode=UU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const x=f[p];c[p]!==void 0&&_s(x)&&x.set(c[p])}}mount(t){var n;this.current=t,kpe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(sW.current||Cpe(),this.shouldReduceMotion=sP.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),fu(this.notifyUpdate),fu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=_m.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Kn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ff){const n=Ff[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<q5.length;s++){const a=q5[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Epe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Lf(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(G7(s)||X7(s))?s=parseFloat(s):!Dme(s)&&mu.test(n)&&(s=TU(t,n)),this.setBaseTarget(t,_s(s)?s.get():s)),_s(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=y4(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!_s(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new XO),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){u4.render(this.render)}}class aW extends Ppe{constructor(){super(...arguments),this.KeyframeResolver=_me}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_s(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iW(e,{style:t,vars:n},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function Ape(e){return window.getComputedStyle(e)}class Ope extends aW{constructor(){super(...arguments),this.type="html",this.renderInstance=iW}readValueFromInstance(t,n){var s;if(_m.has(n))return(s=this.projection)!=null&&s.isProjecting?GE(n):Ufe(t,n);{const a=Ape(t),i=(uU(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rW(t,n)}build(t,n,s){p4(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return v4(t,n,s)}}const oW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tpe(e,t,n,s){iW(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(oW.has(a)?a:b4(a),t.attrs[a])}class Mpe extends aW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$r}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_m.has(n)){const s=OU(n);return s&&s.default||0}return n=oW.has(n)?n:b4(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return XU(t,n,s)}build(t,n,s){HU(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){Tpe(t,n,s,a)}mount(t){this.isSVGTag=GU(t.tagName),super.mount(t)}}const Rpe=(e,t)=>t.isSVG??g4(e)?new Mpe(t):new Ope(t,{allowProjection:e!==j.Fragment});function ff(e,t,n){const s=e.getProps();return y4(s,t,n!==void 0?n:s.custom,e)}const aP=e=>Array.isArray(e);function Dpe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lf(n))}function Ipe(e){return aP(e)?e[e.length-1]||0:e}function Lpe(e,t){const n=ff(e,t);let{transitionEnd:s={},transition:a={},...i}=n||{};i={...i,...s};for(const o in i){const l=Ipe(i[o]);Dpe(e,o,l)}}function Fpe(e){return!!(_s(e)&&e.add)}function iP(e,t){const n=e.getValue("willChange");if(Fpe(n))return n.add(t);if(!n&&ec.WillChange){const s=new ec.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function lW(e){return e.props[QU]}const zpe=e=>e!==null;function $pe(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(zpe),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const Bpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Vpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Upe={type:"keyframes",duration:.8},Wpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qpe=(e,{keyframes:t})=>t.length>2?Upe:_m.has(e)?e.startsWith("scale")?Vpe(t[1]):Bpe:Wpe;function Hpe({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const w4=(e,t,n,s={},a,i)=>o=>{const l=l4(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-$l(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Hpe(l)||Object.assign(h,qpe(e,h)),h.duration&&(h.duration=$l(h.duration)),h.repeatDelay&&(h.repeatDelay=$l(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(JE(h),h.delay===0&&(f=!0)),(ec.instantAnimations||ec.skipAnimations)&&(f=!0,JE(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const p=$pe(h.keyframes,l);if(p!==void 0){Kn.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new i4(h):new hme(h)};function Ype({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function cW(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(i=s);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const f=e.getValue(h,e.latestValues[h]??null),p=l[h];if(p===void 0||u&&Ype(u,h))continue;const x={delay:n,...l4(i||{},h)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===b&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const N=lW(e);if(N){const _=window.MotionHandoffAnimation(N,h,Kn);_!==null&&(x.startTime=_,v=!0)}}iP(e,h),f.start(w4(h,f,p,e.shouldReduceMotion&&EU.has(h)?{type:!1}:x,e,v));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Kn.update(()=>{o&&Lpe(e,o)})}),c}function uW(e,t,n,s=0,a=1){const i=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(i,o):a===1?i*s:l-i*s}function oP(e,t,n={}){var c;const s=ff(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(cW(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=a;return Gpe(e,t,u,h,f,p,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function Gpe(e,t,n=0,s=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(oP(c,t,{...o,delay:n+(typeof s=="function"?0:s)+uW(e.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Kpe(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>oP(e,i,n));s=Promise.all(a)}else if(typeof t=="string")s=oP(e,t,n);else{const a=typeof t=="function"?ff(e,t,n.custom):t;s=Promise.all(cW(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function dW(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Xpe=m4.length;function hW(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?hW(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Xpe;n++){const s=m4[n],a=e.props[s];(Yx(a)||a===!1)&&(t[s]=a)}return t}const Qpe=[...f4].reverse(),Zpe=f4.length;function Jpe(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Kpe(e,n,s)))}function exe(e){let t=Jpe(e),n=H5(),s=!0;const a=c=>(u,h)=>{var p;const f=ff(e,h,c==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:x,transitionEnd:b,...v}=f;u={...u,...v,...b}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,h=hW(e.parent)||{},f=[],p=new Set;let x={},b=1/0;for(let y=0;y<Zpe;y++){const N=Qpe[y],_=n[N],S=u[N]!==void 0?u[N]:h[N],E=Yx(S),A=N===c?_.isActive:null;A===!1&&(b=y);let k=S===h[N]&&S!==u[N]&&E;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),_.protectedKeys={...x},!_.isActive&&A===null||!S&&!_.prevProp||oj(S)||typeof S=="boolean")continue;const P=txe(_.prevProp,S);let R=P||N===c&&_.isActive&&!k&&E||y>b&&E,$=!1;const D=Array.isArray(S)?S:[S];let M=D.reduce(a(N),{});A===!1&&(M={});const{prevResolvedValues:B={}}=_,J={...B,...M},Y=q=>{R=!0,p.has(q)&&($=!0,p.delete(q)),_.needsAnimating[q]=!0;const V=e.getValue(q);V&&(V.liveStyle=!1)};for(const q in J){const V=M[q],U=B[q];if(x.hasOwnProperty(q))continue;let F=!1;aP(V)&&aP(U)?F=!dW(V,U):F=V!==U,F?V!=null?Y(q):p.add(q):V!==void 0&&p.has(q)?Y(q):_.protectedKeys[q]=!0}_.prevProp=S,_.prevResolvedValues=M,_.isActive&&(x={...x,...M}),s&&e.blockInitialAnimation&&(R=!1);const W=k&&P;R&&(!W||$)&&f.push(...D.map(q=>{const V={type:N};if(typeof q=="string"&&s&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,F=ff(U,q);if(U.enteringChildren&&F){const{delayChildren:K}=F.transition||{};V.delay=uW(U.enteringChildren,e,K)}}return{animation:q,options:V}}))}if(p.size){const y={};if(typeof u.initial!="boolean"){const N=ff(e,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(y.transition=N.transition)}p.forEach(N=>{const _=e.getBaseTarget(N),S=e.getValue(N);S&&(S.liveStyle=!0),y[N]=_??null}),f.push({animation:y})}let v=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(p=>{var x;return(x=p.animationState)==null?void 0:x.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=H5()}}}function txe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dW(t,e):!1}function ld(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H5(){return{animate:ld(!0),whileInView:ld(),whileHover:ld(),whileTap:ld(),whileDrag:ld(),whileFocus:ld(),exit:ld()}}class xu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nxe extends xu{constructor(t){super(t),t.animationState||(t.animationState=exe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();oj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let rxe=0;class sxe extends xu{constructor(){super(...arguments),this.id=rxe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const axe={animation:{Feature:nxe},exit:{Feature:sxe}};function Gx(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function ig(e){return{point:{x:e.pageX,y:e.pageY}}}const ixe=e=>t=>d4(t)&&e(t,ig(t));function gx(e,t,n,s){return Gx(e,t,ixe(n),s)}const fW=1e-4,oxe=1-fW,lxe=1+fW,mW=.01,cxe=0-mW,uxe=0+mW;function Fs(e){return e.max-e.min}function dxe(e,t,n){return Math.abs(e-t)<=n}function Y5(e,t,n,s=.5){e.origin=s,e.originPoint=cr(t.min,t.max,e.origin),e.scale=Fs(n)/Fs(t),e.translate=cr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oxe&&e.scale<=lxe||isNaN(e.scale))&&(e.scale=1),(e.translate>=cxe&&e.translate<=uxe||isNaN(e.translate))&&(e.translate=0)}function yx(e,t,n,s){Y5(e.x,t.x,n.x,s?s.originX:void 0),Y5(e.y,t.y,n.y,s?s.originY:void 0)}function G5(e,t,n){e.min=n.min+t.min,e.max=e.min+Fs(t)}function hxe(e,t,n){G5(e.x,t.x,n.x),G5(e.y,t.y,n.y)}function K5(e,t,n){e.min=t.min-n.min,e.max=e.min+Fs(t)}function Nb(e,t,n){K5(e.x,t.x,n.x),K5(e.y,t.y,n.y)}function ti(e){return[e("x"),e("y")]}const pW=({current:e})=>e?e.ownerDocument.defaultView:null,X5=(e,t)=>Math.abs(e-t);function fxe(e,t){const n=X5(e.x,t.x),s=X5(e.y,t.y);return Math.sqrt(n**2+s**2)}const Q5=new Set(["auto","scroll"]);class xW{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=L_(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=fxe(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:y}=x,{timestamp:N}=cs;this.history.push({...y,timestamp:N});const{onStart:_,onMove:S}=this.handlers;b||(_&&_(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=I_(b,this.transformPagePoint),Kn.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=L_(x.type==="pointercancel"?this.lastMoveEventInfo:I_(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,_),y&&y(x,_)},!d4(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const c=ig(t),u=I_(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=cs;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,L_(u,this.history)),this.removeListeners=rg(gx(this.contextWindow,"pointermove",this.handlePointerMove),gx(this.contextWindow,"pointerup",this.handlePointerUp),gx(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(Q5.has(s.overflowX)||Q5.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:a.x-n.x,y:a.y-n.y};i.x===0&&i.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,a),Kn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),fu(this.updatePoint)}}function I_(e,t){return t?{point:t(e.point)}:e}function Z5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function L_({point:e},t){return{point:e,delta:Z5(e,gW(t)),offset:Z5(e,mxe(t)),velocity:pxe(t,.1)}}function mxe(e){return e[0]}function gW(e){return e[e.length-1]}function pxe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=gW(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>$l(t)));)n--;if(!s)return{x:0,y:0};const i=oi(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xxe(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?cr(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?cr(n,e,s.max):Math.min(e,n)),e}function J5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gxe(e,{top:t,left:n,bottom:s,right:a}){return{x:J5(e.x,n,a),y:J5(e.y,t,s)}}function eI(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function yxe(e,t){return{x:eI(e.x,t.x),y:eI(e.y,t.y)}}function vxe(e,t){let n=.5;const s=Fs(e),a=Fs(t);return a>s?n=Wx(t.min,t.max-s,e.min):s>a&&(n=Wx(e.min,e.max-a,t.min)),Yo(0,1,n)}function bxe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const lP=.35;function wxe(e=lP){return e===!1?e=0:e===!0&&(e=lP),{x:tI(e,"left","right"),y:tI(e,"top","bottom")}}function tI(e,t,n){return{min:nI(e,t),max:nI(e,n)}}function nI(e,t){return typeof e=="number"?e:e[t]||0}const jxe=new WeakMap;class Nxe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{n?(this.stopAnimation(),this.snapToCursor(ig(f).point)):this.pauseAnimation()},o=(f,p)=>{this.stopAnimation();const{drag:x,dragPropagation:b,onDragStart:v}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Eme(x),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(N=>{let _=this.getAxisMotionValue(N).get()||0;if(Bo.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[N];E&&(_=Fs(E)*(parseFloat(_)/100))}}this.originPoint[N]=_}),v&&Kn.postRender(()=>v(f,p)),iP(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:v,onDrag:y}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=p;if(b&&this.currentDirection===null){this.currentDirection=_xe(N),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),y&&y(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ti(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new xW(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:pW(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Kn.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!ov(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=xxe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&lx(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=gxe(s.layoutBox,t):this.constraints=!1,this.elastic=wxe(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ti(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bxe(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lx(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Spe(s,a.root,this.visualElement.getTransformPagePoint());let o=yxe(a.layout.layoutBox,i);if(n){const l=n(jpe(o));this.hasMutatedConstraints=!!l,l&&(o=eW(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ti(h=>{if(!ov(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=a?200:1e6,x=a?40:1e7,b={type:"inertia",velocity:s?t[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return iP(this.visualElement,t),s.start(w4(t,s,0,n,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ti(n=>{const{drag:s}=this.getProps();if(!ov(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n],c=i.get()||0;i.set(t[n]-cr(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!lx(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=vxe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ti(o=>{if(!ov(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(cr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;jxe.set(this.visualElement,this);const t=this.visualElement.current,n=gx(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&!FU(c.target)&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();lx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Kn.read(s);const o=Gx(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ti(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=lP,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ov(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _xe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sxe extends xu{constructor(t){super(t),this.removeGroupControls=ui,this.removeListeners=ui,this.controls=new Nxe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ui}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const rI=e=>(t,n)=>{e&&Kn.postRender(()=>e(t,n))};class Cxe extends xu{constructor(){super(...arguments),this.removePointerDownListener=ui}onPointerDown(t){this.session=new xW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:rI(t),onStart:rI(n),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Kn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=gx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let F_=!1;class kxe extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),F_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Uv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,F_=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Kn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;F_=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yW(e){const[t,n]=$U(),s=j.useContext(UO);return r.jsx(kxe,{...e,layoutGroup:s,switchLayoutGroup:j.useContext(ZU),isPresent:t,safeToRemove:n})}function Exe(e,t,n){const s=_s(e)?e:Lf(e);return s.start(w4("",s,t,n)),s.animation}const Pxe=(e,t)=>e.depth-t.depth;class Axe{constructor(){this.children=[],this.isDirty=!1}add(t){HO(this.children,t),this.isDirty=!0}remove(t){YO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pxe),this.isDirty=!1,this.children.forEach(t)}}function Oxe(e,t){const n=Ls.now(),s=({timestamp:a})=>{const i=a-n;i>=t&&(fu(s),e(i-t))};return Kn.setup(s,!0),()=>fu(s)}const vW=["TopLeft","TopRight","BottomLeft","BottomRight"],Txe=vW.length,sI=e=>typeof e=="string"?parseFloat(e):e,aI=e=>typeof e=="number"||nt.test(e);function Mxe(e,t,n,s,a,i){a?(e.opacity=cr(0,n.opacity??1,Rxe(s)),e.opacityExit=cr(t.opacity??1,0,Dxe(s))):i&&(e.opacity=cr(t.opacity??1,n.opacity??1,s));for(let o=0;o<Txe;o++){const l=`border${vW[o]}Radius`;let c=iI(t,l),u=iI(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||aI(c)===aI(u)?(e[l]=Math.max(cr(sI(c),sI(u),s),0),(Bo.test(u)||Bo.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=cr(t.rotate||0,n.rotate||0,s))}function iI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Rxe=bW(0,.5,sU),Dxe=bW(.5,.95,ui);function bW(e,t,n){return s=>s<e?0:s>t?1:n(Wx(e,t,s))}function oI(e,t){e.min=t.min,e.max=t.max}function Ri(e,t){oI(e.x,t.x),oI(e.y,t.y)}function lI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cI(e,t,n,s,a){return e-=t,e=jb(e,1/n,s),a!==void 0&&(e=jb(e,1/a,s)),e}function Ixe(e,t=0,n=1,s=.5,a,i=e,o=e){if(Bo.test(t)&&(t=parseFloat(t),t=cr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=cr(i.min,i.max,s);e===i&&(l-=t),e.min=cI(e.min,t,n,l,a),e.max=cI(e.max,t,n,l,a)}function uI(e,t,[n,s,a],i,o){Ixe(e,t[n],t[s],t[a],t.scale,i,o)}const Lxe=["x","scaleX","originX"],Fxe=["y","scaleY","originY"];function dI(e,t,n,s){uI(e.x,t,Lxe,n?n.x:void 0,s?s.x:void 0),uI(e.y,t,Fxe,n?n.y:void 0,s?s.y:void 0)}function hI(e){return e.translate===0&&e.scale===1}function wW(e){return hI(e.x)&&hI(e.y)}function fI(e,t){return e.min===t.min&&e.max===t.max}function zxe(e,t){return fI(e.x,t.x)&&fI(e.y,t.y)}function mI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jW(e,t){return mI(e.x,t.x)&&mI(e.y,t.y)}function pI(e){return Fs(e.x)/Fs(e.y)}function xI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $xe{constructor(){this.members=[]}add(t){HO(this.members,t),t.scheduleRender()}remove(t){if(YO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bxe(e,t,n){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:p,skewX:x,skewY:b}=n;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),f&&(s+=`rotateX(${f}deg) `),p&&(s+=`rotateY(${p}deg) `),x&&(s+=`skewX(${x}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const z_=["","X","Y","Z"],Vxe=1e3;let Uxe=0;function $_(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function NW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lW(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Kn,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&NW(s)}function _W({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Uxe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hxe),this.nodes.forEach(Xxe),this.nodes.forEach(Qxe),this.nodes.forEach(Yxe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Axe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new XO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zU(o)&&!Mme(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,f=0;const p=()=>this.root.updateBlockedByResize=!1;Kn.read(()=>{f=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==f&&(f=x,this.root.updateBlockedByResize=!0,h&&h(),h=Oxe(p,250),Uv.hasAnimatedSinceResize&&(Uv.hasAnimatedSinceResize=!1,this.nodes.forEach(vI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||n0e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),N=!this.targetLayout||!jW(this.targetLayout,x),_=!f&&p;if(this.options.layoutRoot||this.resumeFrom||_||f&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...l4(b,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,_)}else f||vI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zxe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kxe),this.nodes.forEach(Wxe),this.nodes.forEach(qxe)):this.nodes.forEach(yI),this.clearAllSnapshots();const l=Ls.now();cs.delta=Yo(0,1e3/60,l-cs.timestamp),cs.timestamp=l,cs.isProcessing=!0,k_.update.process(cs),k_.preRender.process(cs),k_.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gxe),this.sharedNodes.forEach(Jxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fs(this.snapshot.measuredBox.x)&&!Fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||md(this.latestValues)||h)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),r0e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return $r();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(s0e))){const{scroll:h}=this.root;h&&(ef(l.x,h.offset.x),ef(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=$r();if(Ri(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ri(l,o),ef(l.x,f.offset.x),ef(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=$r();Ri(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&tf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),md(h.latestValues)&&tf(c,h.latestValues)}return md(this.latestValues)&&tf(c,this.latestValues),c}removeTransform(o){const l=$r();Ri(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!md(u.latestValues))continue;nP(u.latestValues)&&u.updateSnapshot();const h=$r(),f=u.measurePageBox();Ri(h,f),dI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return md(this.latestValues)&&dI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=cs.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),nW(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||nP(this.parent.latestValues)||tW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Nb(this.relativeTargetOrigin,l,c),Ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Ri(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;_pe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$r());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lI(this.prevProjectionDelta.x,this.projectionDelta.x),lI(this.prevProjectionDelta.y,this.projectionDelta.y)),yx(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!xI(this.projectionDelta.x,this.prevProjectionDelta.x)||!xI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nf(),this.projectionDelta=nf(),this.projectionDeltaWithTransform=nf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=nf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=$r(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=x!==b,y=this.getStack(),N=!y||y.members.length<=1,_=!!(v&&!N&&this.options.crossfade===!0&&!this.path.some(t0e));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const A=E/1e3;bI(f.x,o.x,A),bI(f.y,o.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e0e(this.relativeTarget,this.relativeTargetOrigin,p,A),S&&zxe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=$r()),Ri(S,this.relativeTarget)),v&&(this.animationValues=h,Mxe(h,u,this.latestValues,A,_,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kn.update(()=>{Uv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lf(0)),this.currentAnimation=Exe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vxe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&SW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||$r();const f=Fs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=Fs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Ri(l,c),tf(l,h),yx(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $xe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&$_("z",o,u,this.animationValues);for(let h=0;h<z_.length;h++)$_(`rotate${z_[h]}`,o,u,this.animationValues),$_(`skew${z_[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Vv(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Vv(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!md(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Bxe(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:p,y:x}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in tP){if(h[b]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:N}=tP[b],_=f==="none"?h[b]:v(h[b],u);if(y){const S=y.length;for(let E=0;E<S;E++)o[y[E]]=_}else N?this.options.visualElement.renderState.vars[b]=_:o[b]=_}this.options.layoutId&&(o.pointerEvents=u===this?Vv(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(gI),this.root.sharedNodes.clear()}}}function Wxe(e){e.updateLayout()}function qxe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ti(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],x=Fs(p);p.min=s[f].min,p.max=p.min+x}):SW(i,t.layoutBox,s)&&ti(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],x=Fs(s[f]);p.max=p.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+x)});const l=nf();yx(l,s,t.layoutBox);const c=nf();o?yx(c,e.applyTransform(a,!0),t.measuredBox):yx(c,s,t.layoutBox);const u=!wW(l);let h=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:x}=f;if(p&&x){const b=$r();Nb(b,t.layoutBox,p.layoutBox);const v=$r();Nb(v,s,x.layoutBox),jW(b,v)||(h=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Hxe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yxe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Gxe(e){e.clearSnapshot()}function gI(e){e.clearMeasurements()}function yI(e){e.isLayoutDirty=!1}function Kxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xxe(e){e.resolveTargetDelta()}function Qxe(e){e.calcProjection()}function Zxe(e){e.resetSkewAndRotation()}function Jxe(e){e.removeLeadSnapshot()}function bI(e,t,n){e.translate=cr(t.translate,0,n),e.scale=cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wI(e,t,n,s){e.min=cr(t.min,n.min,s),e.max=cr(t.max,n.max,s)}function e0e(e,t,n,s){wI(e.x,t.x,n.x,s),wI(e.y,t.y,n.y,s)}function t0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const n0e={duration:.45,ease:[.4,0,.1,1]},jI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NI=jI("applewebkit/")&&!jI("chrome/")?Math.round:ui;function _I(e){e.min=NI(e.min),e.max=NI(e.max)}function r0e(e){_I(e.x),_I(e.y)}function SW(e,t,n){return e==="position"||e==="preserve-aspect"&&!dxe(pI(t),pI(n),.2)}function s0e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const a0e=_W({attachResizeListener:(e,t)=>Gx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),B_={current:void 0},CW=_W({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!B_.current){const e=new a0e({});e.mount(window),e.setOptions({layoutScroll:!0}),B_.current=e}return B_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i0e={pan:{Feature:Cxe},drag:{Feature:Sxe,ProjectionNode:CW,MeasureLayout:yW}};function SI(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=s[a];i&&Kn.postRender(()=>i(t,ig(t)))}class o0e extends xu{mount(){const{current:t}=this.node;t&&(this.unmount=Pme(t,(n,s)=>(SI(this.node,s,"Start"),a=>SI(this.node,a,"End"))))}unmount(){}}class l0e extends xu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rg(Gx(this.node.current,"focus",()=>this.onFocus()),Gx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CI(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=s[a];i&&Kn.postRender(()=>i(t,ig(t)))}class c0e extends xu{mount(){const{current:t}=this.node;t&&(this.unmount=Tme(t,(n,s)=>(CI(this.node,s,"Start"),(a,{success:i})=>CI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cP=new WeakMap,V_=new WeakMap,u0e=e=>{const t=cP.get(e.target);t&&t(e)},d0e=e=>{e.forEach(u0e)};function h0e({root:e,...t}){const n=e||document;V_.has(n)||V_.set(n,{});const s=V_.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(d0e,{root:e,...t})),s[a]}function f0e(e,t,n){const s=h0e(t);return cP.set(e,n),s.observe(e),()=>{cP.delete(e),s.unobserve(e)}}const m0e={some:0,all:1};class p0e extends xu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:m0e[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(c)};return f0e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(x0e(t,n))&&this.startObserver()}unmount(){}}function x0e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const g0e={inView:{Feature:p0e},tap:{Feature:c0e},focus:{Feature:l0e},hover:{Feature:o0e}},y0e={layout:{ProjectionNode:CW,MeasureLayout:yW}},v0e={...axe,...g0e,...i0e,...y0e},Md=wpe(v0e,Rpe),U_="synkia_brain_history",b0e=100,ta={agentName:"synkia_brain",agentTitle:"SYNK-IA Brain - Inteligencia Empresarial Unificada",systemPrompt:`Eres SYNK-IA BRAIN, el cerebro nico y omnipotente de la plataforma SYNK-IA. Combinas las capacidades de anlisis estratgico, recursos humanos, procesamiento de documentos y coordinacin central.

 TUS CAPACIDADES PRINCIPALES:

 ANLISIS ESTRATGICO (CEO):
- Anlisis de mtricas empresariales y KPIs
- Anlisis financiero: facturas, ventas, mrgenes
- Insights estratgicos y recomendaciones
- Predicciones y deteccin de tendencias
- Alertas inteligentes y deteccin de anomalas

 RECURSOS HUMANOS (HR):
- Anlisis y explicacin de nminas
- Gestin de personal, contratos y vacaciones
- Control horario y fichajes
- Deteccin de anomalas en nminas
- Anlisis de productividad

 PROCESAMIENTO DE DOCUMENTOS (BILOOP):
- Extraccin de datos de facturas (PDF, imgenes, Excel)
- Identificacin automtica de proveedores
- Clasificacin de gastos e ingresos
- Validacin y deteccin de errores
- Generacin de informes contables

 COORDINACIN CENTRAL:
- Procesamiento automtico de emails
- Gestin integral de proveedores
- Comparacin de precios y ahorro
- Automatizaciones y procesos
- Bsqueda inteligente global

 COMANDOS RPIDOS DISPONIBLES:
- /facturas - Resumen de facturas
- /empleados - Lista de empleados
- /ventas - Resumen de ventas
- /proveedores - Lista de proveedores
- /gastos - Anlisis de gastos
- /ayuda - Ver todos los comandos
- /limpiar - Limpiar historial

CMO RESPONDES:
- S directo, ejecutivo y eficiente
- Usa emojis estratgicamente para organizar la informacin
- Proporciona nmeros y mtricas especficas
- Destaca insights accionables
- Sugiere acciones concretas
- Protege la privacidad de datos sensibles
- Responde siempre en espaol

CONTEXTO:
Tienes acceso completo a todos los datos empresariales: facturas, clientes, proveedores, empleados, nminas, emails y documentos.`,loadChatHistory(){try{const e=localStorage.getItem(U_);return e?JSON.parse(e).messages||[]:[]}catch(e){return console.error("Error loading chat history:",e),[]}},saveChatMessage(e){try{const t=this.loadChatHistory();t.push({...e,timestamp:new Date().toISOString()});const n=t.slice(-b0e);return localStorage.setItem(U_,JSON.stringify({messages:n,lastUpdated:new Date().toISOString()})),!0}catch(t){return console.error("Error saving chat message:",t),!1}},clearChatHistory(){try{return localStorage.removeItem(U_),!0}catch(e){return console.error("Error clearing chat history:",e),!1}},exportChatHistory(){try{const e=this.loadChatHistory(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");return s.href=n,s.download=`synkia-brain-history-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),!0}catch(e){return console.error("Error exporting chat history:",e),!1}},async processCommand(e){switch(e.toLowerCase().trim()){case"/facturas":return await this.getInvoiceSummary();case"/empleados":return await this.getEmployeesList();case"/ventas":return await this.getSalesSummary();case"/proveedores":return await this.getProvidersList();case"/gastos":return await this.getExpenseSummary();case"/ayuda":return this.getHelpMessage();case"/limpiar":return this.clearChatHistory(),{type:"system",content:" Historial de chat limpiado correctamente."};default:return null}},getHelpMessage(){return{type:"help",content:` **COMANDOS RPIDOS DISPONIBLES**

 **Consultas:**
 \`/facturas\` - Ver resumen de facturas pendientes y pagadas
 \`/empleados\` - Listar empleados y su estado
 \`/ventas\` - Resumen de ventas del da/semana/mes
 \`/proveedores\` - Ver lista de proveedores activos
 \`/gastos\` - Anlisis de gastos recientes

 **Sistema:**
 \`/ayuda\` - Mostrar esta ayuda
 \`/limpiar\` - Limpiar historial de conversacin

 **Tambin puedes preguntarme directamente:**
 "Cuntas facturas tengo pendientes?"
 "Dame un resumen de las ventas de hoy"
 "Cuntos empleados tenemos?"
 "Analiza los gastos del ltimo mes"
 "Qu proveedores tenemos activos?"`}},async getInvoiceSummary(){try{const e=await ee.entities.Invoice.list(),t=e.length,n=e.filter(o=>o.status==="pending"),s=e.filter(o=>o.status==="paid"),a=e.reduce((o,l)=>o+(l.total||0),0),i=n.reduce((o,l)=>o+(l.total||0),0);return{type:"data",content:` **RESUMEN DE FACTURAS**

 **Total facturas:** ${t}
 **Pendientes:** ${n.length} (${i.toFixed(2)})
 **Pagadas:** ${s.length}
 **Importe total:** ${a.toFixed(2)}

${n.length>0?`
 Tienes ${n.length} facturas pendientes de cobro.`:`
 No tienes facturas pendientes.`}`,data:{total:t,pending:n.length,paid:s.length,totalAmount:a,pendingAmount:i}}}catch(e){return console.error("Error getting invoice summary:",e),{type:"error",content:" Error al obtener el resumen de facturas. Por favor, intntalo de nuevo."}}},async getSalesSummary(){try{const e=await ee.entities.Invoice.list(),t=new Date,n=e.filter(h=>new Date(h.created_at).toDateString()===t.toDateString()),s=new Date(t);s.setDate(s.getDate()-7);const a=e.filter(h=>new Date(h.created_at)>=s),i=new Date(t);i.setDate(i.getDate()-30);const o=e.filter(h=>new Date(h.created_at)>=i),l=n.reduce((h,f)=>h+(f.total||0),0),c=a.reduce((h,f)=>h+(f.total||0),0),u=o.reduce((h,f)=>h+(f.total||0),0);return{type:"data",content:` **RESUMEN DE VENTAS**

 **Hoy:** ${n.length} facturas - ${l.toFixed(2)}
 **Esta semana:** ${a.length} facturas - ${c.toFixed(2)}
 **ltimos 30 das:** ${o.length} facturas - ${u.toFixed(2)}

 **Ticket medio mensual:** ${o.length>0?(u/o.length).toFixed(2):"0.00"}`,data:{todayTotal:l,weekTotal:c,monthTotal:u,todayCount:n.length,weekCount:a.length,monthCount:o.length}}}catch(e){return console.error("Error getting sales summary:",e),{type:"error",content:" Error al obtener el resumen de ventas."}}},async getBusinessMetrics(){try{const[e,t]=await Promise.all([ee.entities.Invoice.list().catch(()=>[]),ee.entities.Client.list().catch(()=>[])]),n=e.reduce((i,o)=>i+(o.total||0),0),s=e.filter(i=>i.status==="pending").length,a=e.filter(i=>i.status==="paid").length;return{invoices:{total:e.length,totalAmount:n,pending:s,paid:a,averageAmount:e.length>0?n/e.length:0},clients:{total:t.length,active:t.filter(i=>i.status==="active").length}}}catch(e){return console.error("Error getting business metrics:",e),null}},async getEmployeesList(){try{let e=[];try{e=await ee.entities.Employee.list()}catch{try{e=await ee.entities.User.list()}catch{e=[]}}if(e.length===0)return{type:"data",content:` **EMPLEADOS**

 No hay empleados registrados en el sistema.

 Puedes aadir empleados desde la seccin de Gestin de Personal.`};const t=e.slice(0,10).map(n=>` ${n.name||n.email||"Sin nombre"} - ${n.role||n.position||"Sin rol"}`).join(`
`);return{type:"data",content:` **EMPLEADOS** (${e.length} total)

${t}
${e.length>10?`
... y ${e.length-10} ms`:""}`,data:{total:e.length,employees:e}}}catch(e){return console.error("Error getting employees list:",e),{type:"error",content:" Error al obtener la lista de empleados."}}},async getEmployeePayrolls(e){try{return await ee.entities.Payroll.list({employee_email:e})}catch(t){return console.error("Error getting employee payrolls:",t),[]}},async getVacationInfo(e){return{totalDays:23,usedDays:8,remainingDays:15,pendingRequests:0}},async getProvidersList(){try{let e=[];try{e=await ee.entities.Provider.list()}catch{try{e=await ee.entities.Supplier.list()}catch{e=[]}}if(e.length===0)return{type:"data",content:` **PROVEEDORES**

 No hay proveedores registrados en el sistema.

 Los proveedores se registran automticamente al importar facturas.`};const t=e.slice(0,10).map(n=>` ${n.name||n.company_name||"Sin nombre"} - ${n.category||"General"}`).join(`
`);return{type:"data",content:` **PROVEEDORES** (${e.length} total)

${t}
${e.length>10?`
... y ${e.length-10} ms`:""}`,data:{total:e.length,providers:e}}}catch(e){return console.error("Error getting providers list:",e),{type:"error",content:" Error al obtener la lista de proveedores."}}},async getExpenseSummary(){try{const t=(await ee.entities.Invoice.list()).filter(c=>c.type==="expense"||c.type==="gasto"),n=new Date,s=new Date(n);s.setDate(s.getDate()-30);const a=t.filter(c=>new Date(c.created_at)>=s),i=a.reduce((c,u)=>c+(u.total||0),0),o={};a.forEach(c=>{const u=c.category||"Sin categora";o[u]||(o[u]=0),o[u]+=c.total||0});const l=Object.entries(o).sort((c,u)=>u[1]-c[1]).slice(0,5).map(([c,u])=>` ${c}: ${u.toFixed(2)}`).join(`
`);return{type:"data",content:` **RESUMEN DE GASTOS** (ltimos 30 das)

 **Total gastos:** ${a.length} facturas
 **Importe total:** ${i.toFixed(2)}

 **Por categora:**
${l||" Sin datos de categoras"}`,data:{total:a.length,totalAmount:i,byCategory:o}}}catch(e){return console.error("Error getting expense summary:",e),{type:"error",content:" Error al obtener el resumen de gastos."}}},async processBiloopFile(e,t){try{const n=await ee.integrations.Core.ExtractData({file_url:e,extraction_type:"invoice"});return{fileName:t,processed:!0,invoices:n.invoices||[],rawData:n}}catch(n){return console.error("Error processing Biloop file:",n),{fileName:t,processed:!1,error:n.message}}},async searchAll(e){try{const t={invoices:[],clients:[],providers:[]};try{const n=await ee.entities.Invoice.list();t.invoices=n.filter(s=>JSON.stringify(s).toLowerCase().includes(e.toLowerCase())).slice(0,5)}catch{}try{const n=await ee.entities.Client.list();t.clients=n.filter(s=>JSON.stringify(s).toLowerCase().includes(e.toLowerCase())).slice(0,5)}catch{}return t}catch(t){return console.error("Error in searchAll:",t),null}},async analyzeSavingsOpportunities(){try{const e=await ee.entities.Invoice.list(),t=[],n={};return e.forEach(s=>{const a=s.provider_name||"unknown";n[a]||(n[a]=[]),n[a].push(s)}),Object.entries(n).forEach(([s,a])=>{if(a.length>1){const i=a.map(u=>u.total||0),o=i.reduce((u,h)=>u+h,0)/i.length,l=Math.max(...i),c=Math.min(...i);o>0&&(l-c)/o>.2&&t.push({type:"price_variation",provider:s,message:`Variacin de precios del ${((l-c)/o*100).toFixed(0)}% en ${s}`,potential_saving:l-c})}}),t}catch(e){return console.error("Error analyzing savings:",e),[]}},async generateSystemOverview(){try{const e={invoices:{total:0,pending:0,totalAmount:0},clients:{total:0,active:0},opportunities:[]};try{const t=await ee.entities.Invoice.list();e.invoices.total=t.length,e.invoices.pending=t.filter(n=>n.status==="pending").length,e.invoices.totalAmount=t.reduce((n,s)=>n+(s.total||0),0)}catch{}try{const t=await ee.entities.Client.list();e.clients.total=t.length,e.clients.active=t.filter(n=>n.status==="active").length}catch{}return e.opportunities=await this.analyzeSavingsOpportunities(),e}catch(e){return console.error("Error generating overview:",e),null}},async enrichMessageWithContext(e){try{let t={};const n=e.toLowerCase();if(/factura|importe|cobro|pago/i.test(n)&&(t.invoices=await this.getBusinessMetrics()),/venta|ingreso|facturacin/i.test(n)){const s=await this.getSalesSummary();t.sales=s.data}if(/empleado|personal|equipo|nmina/i.test(n)){const s=await this.getEmployeesList();t.employees=s.data}if(/gasto|coste|proveedor/i.test(n)){const s=await this.getExpenseSummary();t.expenses=s.data}return/resumen|estado|situacin|overview/i.test(n)&&(t.overview=await this.generateSystemOverview()),{userMessage:e,context:t,enriched:Object.keys(t).length>0}}catch(t){return console.error("Error enriching message:",t),{userMessage:e,enriched:!1}}},async processMessage(e,t=null){if(this.saveChatMessage({role:"user",content:e}),e.startsWith("/")){const s=await this.processCommand(e);if(s)return this.saveChatMessage({role:"assistant",content:s.content,type:s.type}),s}return{type:"chat",enrichedContext:await this.enrichMessageWithContext(e),systemPrompt:this.systemPrompt}},getSuggestedActions(e){const t=[];return(e==="dashboard"||!e)&&t.push({label:" Ver facturas",command:"/facturas"},{label:" Resumen ventas",command:"/ventas"},{label:" Ver empleados",command:"/empleados"},{label:" Analizar gastos",command:"/gastos"}),e==="finance"&&t.push({label:" Facturas pendientes",command:"/facturas"},{label:" Gastos del mes",command:"/gastos"},{label:" Ver proveedores",command:"/proveedores"}),e==="hr"&&t.push({label:" Lista empleados",command:"/empleados"},{label:" Vacaciones pendientes",command:"Cuntas vacaciones me quedan?"}),t}};function w0e({isOpen:e,onClose:t,onToggle:n}){const[s,a]=j.useState([]),[i,o]=j.useState(""),[l,c]=j.useState(!1),[u,h]=j.useState(!1),[f,p]=j.useState(!1),[x,b]=j.useState(!1),[v,y]=j.useState(!1),[N,_]=j.useState([]),S=j.useRef(null),E=j.useRef(null),A=j.useRef(null),k=j.useRef(null);j.useEffect(()=>{const Y=ta.loadChatHistory();Y.length>0?a(Y):a([{role:"assistant",content:` **Hola! Soy SYNK-IA BRAIN**

Tu asistente de inteligencia empresarial unificado. Tengo acceso a toda la informacin de tu negocio:

  Facturas y ventas
  Empleados y nminas
  Proveedores
  Gastos y anlisis

**Escribe un mensaje o usa un comando rpido** (escribe \`/ayuda\` para ver todos los comandos).`,timestamp:new Date().toISOString(),type:"welcome"}]),_(ta.getSuggestedActions())},[]),j.useEffect(()=>{var Y;(Y=S.current)==null||Y.scrollIntoView({behavior:"smooth"})},[s]),j.useEffect(()=>{e&&!v&&setTimeout(()=>{var Y;return(Y=E.current)==null?void 0:Y.focus()},100)},[e,v]),j.useEffect(()=>{const Y=W=>{(W.ctrlKey||W.metaKey)&&W.key==="k"&&(W.preventDefault(),n==null||n()),W.key==="Escape"&&e&&(t==null||t())};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[e,n,t]),j.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Y=window.SpeechRecognition||window.webkitSpeechRecognition;A.current=new Y,A.current.continuous=!1,A.current.interimResults=!1,A.current.lang="es-ES",A.current.onresult=W=>{const se=W.results[0][0].transcript;o(se),h(!1)},A.current.onerror=()=>{h(!1)},A.current.onend=()=>{h(!1)}}"speechSynthesis"in window&&(k.current=window.speechSynthesis)},[]);const P=j.useCallback(Y=>{if(!x||!k.current)return;const W=Y.replace(/\*\*/g,"").replace(/`/g,"").replace(//g,"").replace(/||||||||||||||||/g,"").substring(0,500);k.current.cancel();const se=new SpeechSynthesisUtterance(W);se.lang="es-ES",se.rate=1,se.onstart=()=>p(!0),se.onend=()=>p(!1),k.current.speak(se)},[x]),R=()=>{if(!A.current){alert("Tu navegador no soporta reconocimiento de voz");return}u?(A.current.stop(),h(!1)):(A.current.start(),h(!0))},$=async()=>{var se,q,V,U,F,K;const Y=i.trim();if(!Y||l)return;o(""),c(!0);const W={role:"user",content:Y,timestamp:new Date().toISOString()};a(te=>[...te,W]);try{const te=await ta.processMessage(Y);let H="";if(te.type==="system"||te.type==="help"||te.type==="data"||te.type==="error")H=te.content;else if(te.type==="chat")try{const ne=await ee.integrations.AI.GetChatResponse({system_prompt:ta.systemPrompt,messages:s.map(pe=>({role:pe.role,content:pe.content})).concat([{role:"user",content:Y}]),context:(se=te.enrichedContext)!=null&&se.context?JSON.stringify(te.enrichedContext.context):void 0});H=ne.response||ne.message||"Entendido. En qu ms puedo ayudarte?"}catch(ne){if(console.error("AI Error:",ne),(q=te.enrichedContext)!=null&&q.enriched){const pe=te.enrichedContext.context;H=` He analizado tu consulta. Aqu tienes informacin relevante:

`,pe.invoices&&(H+=`**Facturas:** ${((V=pe.invoices.invoices)==null?void 0:V.total)||0} total, ${((U=pe.invoices.invoices)==null?void 0:U.pending)||0} pendientes
`),pe.sales&&(H+=`**Ventas:** ${((F=pe.sales.monthTotal)==null?void 0:F.toFixed(2))||"0.00"} en los ltimos 30 das
`),pe.overview&&(H+=`**Clientes:** ${((K=pe.overview.clients)==null?void 0:K.total)||0} total
`),H+=`
Necesitas ms detalles sobre algo especfico?`}else H="Entendido. Puedo ayudarte con informacin sobre facturas, ventas, empleados, proveedores y gastos. Qu te gustara saber?"}const xe={role:"assistant",content:H,timestamp:new Date().toISOString()};a(ne=>[...ne,xe]),ta.saveChatMessage(xe),P(H)}catch(te){console.error("Error sending message:",te);const H={role:"assistant",content:" Ha ocurrido un error procesando tu mensaje. Por favor, intntalo de nuevo.",timestamp:new Date().toISOString(),type:"error"};a(xe=>[...xe,H])}finally{c(!1)}},D=()=>{window.confirm("Ests seguro de que quieres limpiar el historial de chat?")&&(ta.clearChatHistory(),a([{role:"assistant",content:" Historial limpiado. En qu puedo ayudarte?",timestamp:new Date().toISOString()}]))},M=()=>{ta.exportChatHistory()},B=Y=>{o(Y),setTimeout(()=>$(),100)},J=Y=>{let W=Y.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/`(.+?)`/g,'<code class="bg-zinc-800 px-1 rounded">$1</code>').replace(/\n/g,"<br/>");return r.jsx("div",{dangerouslySetInnerHTML:{__html:W}})};return e?r.jsx(Vme,{children:r.jsx(Md.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:`fixed z-50 ${v?"bottom-20 right-4 w-72":"bottom-4 right-4 w-96 sm:w-[420px]"}`,children:r.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-xl border border-cyan-500/30 rounded-2xl shadow-2xl overflow-hidden",style:{boxShadow:"0 0 40px rgba(6, 182, 212, 0.15), 0 0 80px rgba(6, 182, 212, 0.05)"},children:[r.jsxs("div",{className:"bg-gradient-to-r from-zinc-900 via-zinc-800 to-zinc-900 px-4 py-3 border-b border-zinc-700/50 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.5)"},children:r.jsx(Gn,{className:"w-5 h-5 text-white"})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-zinc-900"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold text-sm",children:"SYNK-IA Brain"}),r.jsx("p",{className:"text-cyan-400/70 text-xs",children:"Inteligencia Empresarial"})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>b(!x),className:`p-2 rounded-lg transition-colors ${x?"bg-cyan-500/20 text-cyan-400":"text-zinc-500 hover:text-zinc-300"}`,title:x?"Desactivar voz":"Activar voz",children:x?r.jsx(aV,{className:"w-4 h-4"}):r.jsx(vre,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>y(!v),className:"p-2 text-zinc-500 hover:text-zinc-300 transition-colors rounded-lg",children:v?r.jsx(sV,{className:"w-4 h-4"}):r.jsx(bne,{className:"w-4 h-4"})}),r.jsx("button",{onClick:t,className:"p-2 text-zinc-500 hover:text-red-400 transition-colors rounded-lg",children:r.jsx(el,{className:"w-4 h-4"})})]})]}),!v&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"h-80 overflow-y-auto p-4 space-y-4 bg-zinc-950/50",children:[s.map((Y,W)=>r.jsx(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${Y.role==="user"?"bg-cyan-600/20 text-cyan-50 border border-cyan-500/30":"bg-zinc-800/80 text-zinc-200 border border-zinc-700/50"}`,children:[r.jsx("div",{className:"text-sm leading-relaxed",children:J(Y.content)}),r.jsx("div",{className:"text-[10px] text-zinc-500 mt-2 text-right",children:new Date(Y.timestamp).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})},W)),l&&r.jsx(Md.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:r.jsx("div",{className:"bg-zinc-800/80 rounded-2xl px-4 py-3 border border-zinc-700/50",children:r.jsxs("div",{className:"flex items-center gap-2 text-cyan-400",children:[r.jsx(bt,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm",children:"Pensando..."})]})})}),r.jsx("div",{ref:S})]}),N.length>0&&s.length<=2&&r.jsxs("div",{className:"px-4 py-2 border-t border-zinc-800/50 bg-zinc-900/50",children:[r.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"Acciones rpidas:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((Y,W)=>r.jsxs("button",{onClick:()=>B(Y.command),className:"text-xs px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded-full border border-zinc-700/50 transition-colors flex items-center gap-1",children:[Y.label,r.jsx(Ld,{className:"w-3 h-3"})]},W))})]}),r.jsxs("div",{className:"p-3 border-t border-zinc-800/50 bg-zinc-900/80",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:R,className:`p-2.5 rounded-xl transition-all ${u?"bg-red-500 text-white animate-pulse":"bg-zinc-800 text-zinc-400 hover:text-cyan-400 hover:bg-zinc-700"}`,title:u?"Detener":"Hablar",children:u?r.jsx(fO,{className:"w-4 h-4"}):r.jsx(Af,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("input",{ref:E,type:"text",value:i,onChange:Y=>o(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&!Y.shiftKey&&$(),placeholder:"Escribe un mensaje o /comando...",className:"w-full bg-zinc-800/50 border border-zinc-700/50 rounded-xl px-4 py-2.5 text-sm text-white placeholder-zinc-500 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/20",disabled:l})}),r.jsx("button",{onClick:$,disabled:!i.trim()||l,className:"p-2.5 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:r.jsx(Wo,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2 px-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:D,className:"text-xs text-zinc-500 hover:text-red-400 transition-colors flex items-center gap-1",children:[r.jsx(qr,{className:"w-3 h-3"}),"Limpiar"]}),r.jsxs("button",{onClick:M,className:"text-xs text-zinc-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:[r.jsx(La,{className:"w-3 h-3"}),"Exportar"]})]}),r.jsx("span",{className:"text-[10px] text-zinc-600",children:"Ctrl+K para abrir/cerrar"})]})]})]}),v&&r.jsx("div",{className:"px-4 py-2 text-center",children:r.jsx("p",{className:"text-xs text-zinc-400",children:"Click para expandir"})})]})})}):null}function j0e({onClick:e,isOpen:t}){return r.jsxs(Md.button,{onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},className:`fixed bottom-4 right-4 z-40 w-14 h-14 rounded-2xl flex items-center justify-center transition-all duration-300 ${t?"bg-zinc-800 scale-0 opacity-0":"bg-gradient-to-br from-cyan-500 to-blue-600"}`,style:{boxShadow:t?"none":"0 0 30px rgba(6, 182, 212, 0.5), 0 0 60px rgba(6, 182, 212, 0.2)"},children:[r.jsx(Gn,{className:"w-6 h-6 text-white"}),!t&&r.jsx(Md.div,{animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-2xl bg-cyan-500"})]})}const W_=[{id:"dashboard",label:"Control",icon:tne,items:[{label:"Resumen General",url:ft("Dashboard")},{label:"SYNK-IA Brain",url:ft("SynkiaBrainPage"),isHighlight:!0},{label:"Cmaras & Seguridad",url:ft("SecurityCameras")}]},{id:"business",label:"Negocio",icon:B0,items:[{label:"Finanzas & KPIs",url:ft("FinanceDashboard")},{label:"Ventas (Revo)",url:ft("RevoDashboard")},{label:"Facturacin",url:ft("Billing")},{label:"Proveedores",url:ft("Providers")},{label:"Inventario",url:ft("ProductInventory")}]},{id:"team",label:"Equipo",icon:ln,items:[{label:"Gestin de Personal",url:ft("Staff")},{label:"Control Horario",url:ft("AttendanceControl")},{label:"Portal Empleado",url:ft("WorkerInterface")}]},{id:"documents",label:"Archivo",icon:Ye,items:[{label:"Archivo Inteligente",url:ft("DocumentArchive")},{label:"Legal & Empresa",url:ft("CompanyDocs")},{label:"Buzn Email",url:ft("SmartMailbox")}]}];function N0e({children:e}){const t=eo(),n=mm(),[s,a]=j.useState(!1),[i,o]=j.useState(!1),c=(()=>{for(const u of W_)if(u.items.some(h=>t.pathname===h.url))return u.id;return"inicio"})();return t.pathname.includes("PortalLogin")||t.pathname.includes("WorkerInterface")?r.jsx(r.Fragment,{children:e}):r.jsxs(zhe,{children:[r.jsx("style",{children:`
        :root {
          --nav-bg: #0a0a0b;
          --nav-hover: #1a1a1f;
        }
      `}),r.jsxs("div",{className:"h-screen flex flex-col overflow-hidden bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:[r.jsx("header",{className:"bg-black/90 backdrop-blur-xl border-b border-zinc-800/50 sticky top-0 z-50",children:r.jsxs("div",{className:"max-w-full mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[r.jsxs(fn,{to:ft("Dashboard"),className:"flex items-center gap-3 group",children:[r.jsx("div",{className:"w-9 h-9 bg-black rounded-lg flex items-center justify-center border border-cyan-500/50 group-hover:border-cyan-400 transition-all",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.4), 0 0 30px rgba(6, 182, 212, 0.2), inset 0 0 10px rgba(6, 182, 212, 0.1)"},children:r.jsx(Gn,{className:"w-5 h-5 text-cyan-400 group-hover:text-cyan-300 transition-all",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-lg font-bold text-cyan-400 hidden sm:block tracking-tight",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"SYNK-IA"})]}),r.jsx("nav",{className:"hidden lg:flex items-center gap-6 ml-8",children:W_.map(u=>{const h=c===u.id;return r.jsxs(db,{children:[r.jsx(hb,{asChild:!0,children:r.jsxs("button",{className:`flex items-center gap-2 text-sm font-medium transition-all outline-none ${h?"text-white":"text-zinc-500 hover:text-zinc-300"}`,children:[u.label,r.jsx(V0,{className:`w-3 h-3 transition-transform duration-200 ${h?"rotate-180 text-zinc-400":"text-zinc-600"}`})]})}),r.jsx(Bx,{align:"start",sideOffset:8,className:"bg-black/95 backdrop-blur-2xl border border-zinc-800 p-1 rounded-xl shadow-2xl min-w-56 animate-in fade-in-0 zoom-in-95",children:u.items.map(f=>{const p=t.pathname===f.url;return r.jsx(na,{onClick:()=>n(f.url),className:`cursor-pointer rounded-lg px-3 py-2.5 text-sm transition-colors ${p?"bg-zinc-800 text-white font-medium":"text-zinc-400 hover:text-white hover:bg-zinc-800/50"}`,children:f.label},f.url)})})]},u.id)})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Phe,{}),r.jsxs(db,{children:[r.jsx(hb,{asChild:!0,children:r.jsx(ae,{variant:"ghost",size:"sm",className:"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800",children:r.jsx(Dx,{className:"w-4 h-4"})})}),r.jsxs(Bx,{align:"end",className:"bg-zinc-900 border-zinc-800",children:[r.jsxs(na,{onClick:()=>n(ft("ApiDiagnostics")),className:"text-zinc-400 hover:text-white hover:bg-zinc-800 cursor-pointer",children:[r.jsx(vr,{className:"w-4 h-4 mr-2"})," Diagnstico APIs"]}),r.jsxs(na,{onClick:()=>n(ft("AutomationHub")),className:"text-zinc-400 hover:text-white hover:bg-zinc-800 cursor-pointer",children:[r.jsx(Dx,{className:"w-4 h-4 mr-2"})," Automatizacin"]}),r.jsx(Z9,{className:"bg-zinc-800"}),r.jsxs(na,{onClick:()=>ee.auth.logout(),className:"text-red-400 hover:bg-zinc-800 cursor-pointer",children:[r.jsx(Rx,{className:"w-4 h-4 mr-2"})," Cerrar sesin"]})]})]}),r.jsx(ae,{variant:"ghost",size:"sm",className:"lg:hidden text-zinc-500 hover:text-zinc-300",onClick:()=>a(!s),children:s?r.jsx(el,{className:"w-5 h-5"}):r.jsx(fne,{className:"w-5 h-5"})})]})]}),s&&r.jsxs("div",{className:"lg:hidden border-t border-zinc-800 bg-black pb-6 h-screen overflow-y-auto",children:[W_.map(u=>{const h=c===u.id;return r.jsxs("div",{className:"px-6 py-4 border-b border-zinc-900/50",children:[r.jsxs("p",{className:`text-xs font-bold uppercase mb-3 tracking-wider flex items-center gap-2 ${h?"text-white":"text-zinc-600"}`,children:[r.jsx(u.icon,{className:"w-4 h-4"}),u.label]}),r.jsx("div",{className:"space-y-1 pl-2 border-l border-zinc-800",children:u.items.map(f=>{const p=t.pathname===f.url;return r.jsx(fn,{to:f.url,onClick:()=>a(!1),className:`block py-2.5 px-4 rounded-r-lg text-base ${p?"bg-zinc-900 text-white font-medium":"text-zinc-500 hover:text-zinc-300"}`,children:f.label},f.url)})})]},u.id)}),r.jsx("div",{className:"px-6 pt-6 mt-2",children:r.jsxs(ae,{onClick:()=>ee.auth.logout(),variant:"outline",className:"w-full border-zinc-700 text-zinc-400 hover:text-red-400 hover:border-red-500/50 hover:bg-red-500/10",children:[r.jsx(Rx,{className:"w-4 h-4 mr-2"})," Cerrar sesin"]})})]})]})}),r.jsx("main",{className:"flex-1 overflow-y-auto",children:e}),r.jsx($he,{}),r.jsx(j0e,{onClick:()=>o(!0),isOpen:i}),r.jsx(w0e,{isOpen:i,onClose:()=>o(!1),onToggle:()=>o(!i)})]})]})}ee.entities.Provider;ee.entities.Invoice;ee.entities.PriceComparison;ee.entities.Document;ee.entities.Timesheet;ee.entities.Contract;ee.entities.Payroll;ee.entities.VacationRequest;ee.entities.EmailIntegration;ee.entities.Notification;ee.entities.Report;ee.entities.MutuaIncident;ee.entities.RGPDCompliance;ee.entities.CompanyDocument;ee.entities.Sale;ee.entities.MenuItem;ee.entities.RevoEmployee;ee.entities.WebSync;ee.entities.Albaran;ee.entities.VeriFactu;ee.entities.EmailAccount;ee.entities.Order;ee.entities.EmailMessage;ee.entities.EmailContact;ee.entities.Quote;ee.entities.Client;ee.entities.SalesInvoice;ee.entities.Product;ee.entities.ProductPurchase;ee.entities.Employee;ee.entities.UploadedFile;const lv=ee.auth,js={CEO:"ceo",ADMIN:"admin",EMPLOYEE:"employee"},kI={[js.EMPLOYEE]:1,[js.ADMIN]:2,[js.CEO]:3},EI={"admin@synk.com":js.CEO,"admin@synkia.com":js.CEO},Fe={VIEW_DASHBOARD:"view_dashboard",VIEW_HOME:"view_home",VIEW_INVOICES:"view_invoices",MANAGE_INVOICES:"manage_invoices",VIEW_BILLING:"view_billing",VIEW_ALBARANES:"view_albaranes",VIEW_FINANCE:"view_finance",VIEW_VERIFACTU:"view_verifactu",VIEW_STAFF:"view_staff",MANAGE_STAFF:"manage_staff",VIEW_CONTRACTS:"view_contracts",VIEW_PAYROLLS:"view_payrolls",VIEW_ALL_PAYROLLS:"view_all_payrolls",VIEW_VACATION_REQUESTS:"view_vacation_requests",MANAGE_VACATION_REQUESTS:"manage_vacation_requests",VIEW_TIMESHEETS:"view_timesheets",VIEW_ATTENDANCE:"view_attendance",VIEW_HR_DOCUMENTS:"view_hr_documents",VIEW_EMPLOYEE_PORTAL:"view_employee_portal",VIEW_OWN_ATTENDANCE:"view_own_attendance",VIEW_OWN_PAYROLLS:"view_own_payrolls",VIEW_OWN_PROFILE:"view_own_profile",VIEW_PROVIDERS:"view_providers",VIEW_INVENTORY:"view_inventory",VIEW_PRODUCTION:"view_production",VIEW_KITCHEN:"view_kitchen",VIEW_ORDERS:"view_orders",VIEW_BILOOP:"view_biloop",VIEW_REVO:"view_revo",VIEW_EMAIL:"view_email",VIEW_SYSTEM_CONFIG:"view_system_config",MANAGE_SYSTEM_CONFIG:"manage_system_config",VIEW_DIAGNOSTICS:"view_diagnostics",VIEW_AUTOMATION:"view_automation",VIEW_SECURITY:"view_security",VIEW_LEGAL:"view_legal",VIEW_DOCUMENTS:"view_documents",VIEW_RGPD:"view_rgpd",VIEW_GESTORIA:"view_gestoria",VIEW_CEO_BRAIN:"view_ceo_brain",VIEW_AGENTS:"view_agents",VIEW_VOICE_COMMANDS:"view_voice_commands",VIEW_REPORTS:"view_reports",VIEW_BUSINESS_ANALYSIS:"view_business_analysis"},_0e={[js.CEO]:Object.values(Fe),[js.ADMIN]:[Fe.VIEW_DASHBOARD,Fe.VIEW_HOME,Fe.VIEW_INVOICES,Fe.MANAGE_INVOICES,Fe.VIEW_BILLING,Fe.VIEW_ALBARANES,Fe.VIEW_FINANCE,Fe.VIEW_VERIFACTU,Fe.VIEW_STAFF,Fe.MANAGE_STAFF,Fe.VIEW_CONTRACTS,Fe.VIEW_ALL_PAYROLLS,Fe.VIEW_PAYROLLS,Fe.VIEW_VACATION_REQUESTS,Fe.MANAGE_VACATION_REQUESTS,Fe.VIEW_TIMESHEETS,Fe.VIEW_ATTENDANCE,Fe.VIEW_HR_DOCUMENTS,Fe.VIEW_EMPLOYEE_PORTAL,Fe.VIEW_OWN_PROFILE,Fe.VIEW_PROVIDERS,Fe.VIEW_INVENTORY,Fe.VIEW_PRODUCTION,Fe.VIEW_KITCHEN,Fe.VIEW_ORDERS,Fe.VIEW_BILOOP,Fe.VIEW_REVO,Fe.VIEW_EMAIL,Fe.VIEW_DOCUMENTS,Fe.VIEW_LEGAL,Fe.VIEW_GESTORIA,Fe.VIEW_AGENTS,Fe.VIEW_REPORTS],[js.EMPLOYEE]:[Fe.VIEW_EMPLOYEE_PORTAL,Fe.VIEW_OWN_ATTENDANCE,Fe.VIEW_OWN_PAYROLLS,Fe.VIEW_OWN_PROFILE,Fe.VIEW_HOME]},S0e={"/pedir":null,"/OrdersDashboard":null,"/":[],"/Home":[],"/MyProfile":[Fe.VIEW_OWN_PROFILE],"/Notifications":[],"/Dashboard":[Fe.VIEW_DASHBOARD],"/Albaranes":[Fe.VIEW_ALBARANES],"/Billing":[Fe.VIEW_BILLING],"/Invoices":[Fe.VIEW_INVOICES],"/GestorFacturas":[Fe.VIEW_INVOICES],"/FinanceDashboard":[Fe.VIEW_FINANCE],"/VeriFactu":[Fe.VIEW_VERIFACTU],"/Staff":[Fe.VIEW_STAFF],"/Contracts":[Fe.VIEW_CONTRACTS],"/Payrolls":[Fe.VIEW_PAYROLLS],"/VacationRequests":[Fe.VIEW_VACATION_REQUESTS],"/Timesheets":[Fe.VIEW_TIMESHEETS],"/AttendanceControl":[Fe.VIEW_ATTENDANCE],"/HRDocuments":[Fe.VIEW_HR_DOCUMENTS],"/HRAgent":[Fe.VIEW_STAFF],"/MutuaManager":[Fe.VIEW_STAFF],"/EmployeeHome":[Fe.VIEW_EMPLOYEE_PORTAL],"/WorkerInterface":[Fe.VIEW_EMPLOYEE_PORTAL],"/WorkerMobile":[Fe.VIEW_EMPLOYEE_PORTAL],"/Providers":[Fe.VIEW_PROVIDERS],"/ProductInventory":[Fe.VIEW_INVENTORY],"/ProductionControl":[Fe.VIEW_PRODUCTION],"/KitchenDisplay":[Fe.VIEW_KITCHEN],"/Comparator":[Fe.VIEW_PROVIDERS],"/BiloopAgent":[Fe.VIEW_BILOOP],"/BiloopDocuments":[Fe.VIEW_BILOOP],"/BiloopImport":[Fe.VIEW_BILOOP],"/RevoDashboard":[Fe.VIEW_REVO],"/RevoSync":[Fe.VIEW_REVO],"/RevoManual":[Fe.VIEW_REVO],"/WebSync":[Fe.VIEW_REVO],"/EmailSetup":[Fe.VIEW_EMAIL],"/EmailProcessor":[Fe.VIEW_EMAIL],"/EmailTriage":[Fe.VIEW_EMAIL],"/SmartMailbox":[Fe.VIEW_EMAIL],"/SystemOverview":[Fe.VIEW_SYSTEM_CONFIG],"/CronSetup":[Fe.MANAGE_SYSTEM_CONFIG],"/ApiDiagnostics":[Fe.VIEW_DIAGNOSTICS],"/ConnectionDiagnostics":[Fe.VIEW_DIAGNOSTICS],"/AutomationHub":[Fe.VIEW_AUTOMATION],"/SecurityCameras":[Fe.VIEW_SECURITY],"/LegalVault":[Fe.VIEW_LEGAL],"/CompanyDocs":[Fe.VIEW_DOCUMENTS],"/DocumentArchive":[Fe.VIEW_DOCUMENTS],"/RGPDManager":[Fe.VIEW_RGPD],"/PortalGestoria":[Fe.VIEW_GESTORIA],"/PortalLogin":null,"/CEOBrain":[Fe.VIEW_CEO_BRAIN],"/CentralAgent":[Fe.VIEW_AGENTS],"/VoiceCommands":[Fe.VIEW_VOICE_COMMANDS],"/ExecutiveReports":[Fe.VIEW_REPORTS],"/BusinessAnalysis":[Fe.VIEW_BUSINESS_ANALYSIS],"/Showcase":[]},kW=(e,t)=>e?(_0e[e]||[]).includes(t):!1,C0e=(e,t)=>{const n=S0e[t];return n===null?!0:n===void 0?e===js.CEO:n.length===0?!0:n.every(s=>kW(e,s))},PI=e=>{var n;if(!e)return null;const t=(n=e.email)==null?void 0:n.toLowerCase();if(t&&EI[t])return EI[t];if(e.role){const s=e.role.toLowerCase();if(Object.values(js).includes(s))return s}return js.EMPLOYEE},k0e=(e,t)=>{const n=kI[e]||0,s=kI[t]||0;return n>=s},EW=j.createContext(null);function E0e({children:e}){const[t,n]=j.useState(null),[s,a]=j.useState(null),[i,o]=j.useState(!0),[l,c]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const E=await lv.me();E?(n(E),a(PI(E)),c(!0)):(n(null),a(null),c(!1))}catch(E){console.log("Usuario no autenticado o error al cargar:",E),n(null),a(null),c(!1)}finally{o(!1)}})()},[]);const u=j.useCallback(S=>kW(s,S),[s]),h=j.useCallback(S=>C0e(s,S),[s]),f=j.useCallback(S=>k0e(s,S),[s]),p=j.useCallback(()=>s===js.CEO,[s]),x=j.useCallback(()=>s===js.ADMIN||s===js.CEO,[s]),b=j.useCallback(()=>s===js.EMPLOYEE,[s]),v=j.useCallback(async()=>{try{await lv.logout(),n(null),a(null),c(!1)}catch(S){console.error("Error al cerrar sesin:",S)}},[]),y=j.useCallback(()=>{lv.login()},[]),N=j.useCallback(async()=>{try{const S=await lv.me();S&&(n(S),a(PI(S)),c(!0))}catch(S){console.error("Error al refrescar usuario:",S)}},[]),_={currentUser:t,userRole:s,isLoading:i,isAuthenticated:l,ROLES:js,PERMISSIONS:Fe,checkPermission:u,checkRouteAccess:h,checkRoleLevel:f,isCEO:p,isAdmin:x,isEmployee:b,login:y,logout:v,refreshUser:N};return r.jsx(EW.Provider,{value:_,children:e})}function PW(){const e=j.useContext(EW);if(!e)throw new Error("useAuth debe usarse dentro de un AuthProvider");return e}function P0e({children:e,requiredPermissions:t=[],requiredRole:n=null,isPublic:s=!1}){const a=eo(),{isAuthenticated:i,isLoading:o,checkPermission:l,checkRoleLevel:c,checkRouteAccess:u,login:h}=PW();if(o)return r.jsx("div",{className:"flex items-center justify-center h-screen bg-zinc-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400",children:"Verificando acceso..."})]})});if(s)return e;if(!i)return h(),r.jsx("div",{className:"flex items-center justify-center h-screen bg-zinc-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400",children:"Redirigiendo al login..."})]})});const f=a.pathname,p=u(f),x=t.length===0||t.every(v=>l(v)),b=!n||c(n);return!p||!x||!b?r.jsx(A0e,{}):e}function A0e(){const{userRole:e,currentUser:t}=PW();return r.jsx("div",{className:"flex items-center justify-center h-screen bg-zinc-950",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center",children:r.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Denegado"}),r.jsxs("p",{className:"text-zinc-400 mb-6",children:["No tienes permisos suficientes para acceder a esta seccin.",e&&r.jsxs("span",{className:"block mt-2 text-sm",children:["Tu rol actual: ",r.jsx("span",{className:"text-cyan-400 capitalize",children:e})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("a",{href:"/Home",className:"block w-full px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Volver al Inicio"}),r.jsx("a",{href:"/EmployeeHome",className:"block w-full px-4 py-2 bg-zinc-700 text-white rounded-lg hover:bg-zinc-600 transition-colors",children:"Portal del Empleado"})]}),r.jsx("p",{className:"text-xs text-zinc-500 mt-6",children:"Si crees que deberas tener acceso, contacta con el administrador."})]})})}const X=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("rounded-xl border bg-card text-card-foreground shadow",e),...t}));X.displayName="Card";const ke=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("flex flex-col space-y-1.5 p-6",e),...t}));ke.displayName="CardHeader";const Pe=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("font-semibold leading-none tracking-tight",e),...t}));Pe.displayName="CardTitle";const O0e=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("text-sm text-muted-foreground",e),...t}));O0e.displayName="CardDescription";const Q=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("p-6 pt-0",e),...t}));Q.displayName="CardContent";const T0e=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("flex items-center p-6 pt-0",e),...t}));T0e.displayName="CardFooter";const He=j.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:dt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));He.displayName="Input";var M0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R0e=M0e.reduce((e,t)=>{const n=e7(`Primitive.${t}`),s=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),D0e="Label",AW=j.forwardRef((e,t)=>r.jsx(R0e.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AW.displayName=D0e;var OW=AW;const I0e=Kw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=j.forwardRef(({className:e,...t},n)=>r.jsx(OW,{ref:n,className:dt(I0e(),e),...t}));Te.displayName=OW.displayName;const di=j.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:dt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));di.displayName="Textarea";function L0e(e){const t=F0e(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find($0e);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function F0e(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=V0e(a),l=B0e(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z0e=Symbol("radix.slottable");function $0e(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z0e}function B0e(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function V0e(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cj="Dialog",[TW]=pi(cj),[U0e,no]=TW(cj),MW=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,h]=Ql({prop:s,defaultProp:a??!1,onChange:i,caller:cj});return r.jsx(U0e,{scope:t,triggerRef:l,contentRef:c,contentId:Hi(),titleId:Hi(),descriptionId:Hi(),open:u,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};MW.displayName=cj;var RW="DialogTrigger",W0e=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=no(RW,n),i=Wt(t,a.triggerRef);return r.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_4(a.open),...s,ref:i,onClick:Xe(e.onClick,a.onOpenToggle)})});W0e.displayName=RW;var j4="DialogPortal",[q0e,DW]=TW(j4,{forceMount:void 0}),IW=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=no(j4,t);return r.jsx(q0e,{scope:t,forceMount:n,children:j.Children.map(s,o=>r.jsx(Cs,{present:n||i.open,children:r.jsx(Y0,{asChild:!0,container:a,children:o})}))})};IW.displayName=j4;var _b="DialogOverlay",LW=j.forwardRef((e,t)=>{const n=DW(_b,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=no(_b,e.__scopeDialog);return i.modal?r.jsx(Cs,{present:s||i.open,children:r.jsx(Y0e,{...a,ref:t})}):null});LW.displayName=_b;var H0e=L0e("DialogOverlay.RemoveScroll"),Y0e=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=no(_b,n);return r.jsx(K0,{as:H0e,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(Ct.div,{"data-state":_4(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),$d="DialogContent",FW=j.forwardRef((e,t)=>{const n=DW($d,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=no($d,e.__scopeDialog);return r.jsx(Cs,{present:s||i.open,children:i.modal?r.jsx(G0e,{...a,ref:t}):r.jsx(K0e,{...a,ref:t})})});FW.displayName=$d;var G0e=j.forwardRef((e,t)=>{const n=no($d,e.__scopeDialog),s=j.useRef(null),a=Wt(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return Ww(i)},[]),r.jsx(zW,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,i=>i.preventDefault())})}),K0e=j.forwardRef((e,t)=>{const n=no($d,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return r.jsx(zW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zW=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=no($d,n),c=j.useRef(null),u=Wt(t,c);return Lw(),r.jsxs(r.Fragment,{children:[r.jsx(q0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(W0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(X0e,{titleId:l.titleId}),r.jsx(Z0e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),N4="DialogTitle",$W=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=no(N4,n);return r.jsx(Ct.h2,{id:a.titleId,...s,ref:t})});$W.displayName=N4;var BW="DialogDescription",VW=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=no(BW,n);return r.jsx(Ct.p,{id:a.descriptionId,...s,ref:t})});VW.displayName=BW;var UW="DialogClose",WW=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=no(UW,n);return r.jsx(Ct.button,{type:"button",...s,ref:t,onClick:Xe(e.onClick,()=>a.onOpenChange(!1))})});WW.displayName=UW;function _4(e){return e?"open":"closed"}var qW="DialogTitleWarning",[G8e,HW]=Sre(qW,{contentName:$d,titleName:N4,docsSlug:"dialog"}),X0e=({titleId:e})=>{const t=HW(qW),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Q0e="DialogDescriptionWarning",Z0e=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HW(Q0e).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},J0e=MW,ege=IW,YW=LW,GW=FW,KW=$W,XW=VW,tge=WW;const Fn=J0e,nge=ege,QW=j.forwardRef(({className:e,...t},n)=>r.jsx(YW,{ref:n,className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));QW.displayName=YW.displayName;const Pn=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(nge,{children:[r.jsx(QW,{}),r.jsxs(GW,{ref:s,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(tge,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(el,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pn.displayName=GW.displayName;const An=({className:e,...t})=>r.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});An.displayName="DialogHeader";const Fa=({className:e,...t})=>r.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fa.displayName="DialogFooter";const On=j.forwardRef(({className:e,...t},n)=>r.jsx(KW,{ref:n,className:dt("text-lg font-semibold leading-none tracking-tight",e),...t}));On.displayName=KW.displayName;const ZW=j.forwardRef(({className:e,...t},n)=>r.jsx(XW,{ref:n,className:dt("text-sm text-muted-foreground",e),...t}));ZW.displayName=XW.displayName;function uP(){const[e,t]=j.useState(!1),[n,s]=j.useState(null),[a,i]=j.useState("all"),o=eo(),l=Kt();j.useEffect(()=>{var _;if((_=o.state)!=null&&_.voiceData){const S=o.state.voiceData;s({tipo:S.cliente?"venta":"compra",proveedor_nombre:S.proveedor,cliente_nombre:S.cliente,items:S.items||[],generado_por_voz:!0}),t(!0)}},[o]);const{data:c=[],isLoading:u}=Be({queryKey:["albaranes",a],queryFn:async()=>{const _=await ee.entities.Albaran.list("-fecha_emision");return a==="all"?_:_.filter(S=>S.status===a)},initialData:[]}),{data:h=[]}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list(),initialData:[]}),f=Bt({mutationFn:_=>ee.entities.Albaran.create(_),onSuccess:()=>{l.invalidateQueries({queryKey:["albaranes"]}),fe.success(" Albarn creado con normativa SS"),t(!1),s(null)}}),p=()=>{const _=Ge(new Date,"yyyyMMdd"),S=c.filter(k=>{var P;return(P=k.numero_albaran)==null?void 0:P.includes(_)}).length+1,A={numero_albaran:`ALB-${_}-${String(S).padStart(3,"0")}`,fecha_emision:new Date().toISOString(),tipo:"compra",status:"pendiente",items:[],forma_pago:"transferencia",lugar_entrega:"Chicken Palace Ibiza",normativa_cumplida:!0,generado_por_voz:!1};s(A),t(!0)},x=()=>{if(!n.proveedor_cif&&!n.cliente_cif){fe.error(" Falta CIF (obligatorio SS)");return}if(!n.items||n.items.length===0){fe.error(" Aade al menos un producto");return}if(!n.forma_pago){fe.error(" Indica forma de pago (obligatorio SS)");return}if(!n.lugar_entrega){fe.error(" Indica lugar de entrega (obligatorio SS)");return}const _=n.items.reduce((k,P)=>k+(P.total||0),0),S=_*.21,E=_+S,A={...n,base_imponible:_,iva_porcentaje:21,iva_importe:S,total:E,trazabilidad_ss:{codigo_cnae:"5610",centro_trabajo:"Chicken Palace Ibiza",responsable_recepcion:"David",hora_recepcion:Ge(new Date,"HH:mm")}};f.mutate(A)},b={pendiente:"bg-yellow-100 text-yellow-800",entregado:"bg-blue-100 text-blue-800",firmado:"bg-green-100 text-green-800",facturado:"bg-purple-100 text-purple-800",cancelado:"bg-red-100 text-red-800"},v=c.length,y=c.reduce((_,S)=>_+(S.total||0),0),N=c.filter(_=>_.status==="pendiente"||_.status==="entregado").length;return r.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(_n,{className:"w-8 h-8 text-cyan-400"}),"Albaranes"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Con normativa Seguridad Social  Firma digital  Trazabilidad completa"})]}),r.jsxs(ae,{onClick:p,className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white shadow-lg",children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nuevo Albarn"]})]})}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(vr,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:" Cumplimiento Normativa SS"}),r.jsx("p",{className:"text-sm text-green-100 mb-3",children:"Todos los albaranes incluyen los campos obligatorios para Seguridad Social:"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"CIF + Direccin completa"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Detalle productos con cantidades"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Forma pago + Lugar entrega"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Firma digital + Trazabilidad"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Numeracin automtica"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Compatible con inspecciones"})]})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-cyan-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(_n,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Albaranes"})]}),r.jsx("p",{className:"text-4xl font-bold text-cyan-400",children:v})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-green-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Importe Total"})]}),r.jsxs("p",{className:"text-4xl font-bold text-green-400",children:[y.toLocaleString(),""]})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-orange-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(bn,{className:"w-5 h-5 text-orange-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Pendientes Firmar"})]}),r.jsx("p",{className:"text-4xl font-bold text-orange-400",children:N})]})})]}),r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsx("div",{className:"flex gap-2",children:["all","pendiente","entregado","firmado","facturado"].map(_=>r.jsx(ae,{variant:a===_?"default":"outline",size:"sm",onClick:()=>i(_),className:a===_?"bg-cyan-600 border-cyan-500":"border-slate-600 text-gray-300",children:_==="all"?"Todos":_.charAt(0).toUpperCase()+_.slice(1)},_))})}),u?r.jsx(X,{className:"border-none shadow-2xl bg-slate-800",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-400",children:"Cargando albaranes..."})})}):c.length===0?r.jsx(X,{className:"border-none shadow-2xl bg-slate-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(_n,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay albaranes registrados"}),r.jsxs(ae,{onClick:p,className:"bg-cyan-600 hover:bg-cyan-700",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Crear Primer Albarn"]})]})}):r.jsx("div",{className:"space-y-4",children:c.map(_=>{var S,E,A,k;return r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-slate-700 hover:border-cyan-500/50 transition-all",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(_n,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:_.numero_albaran}),r.jsx(be,{className:b[_.status],children:_.status}),_.generado_por_voz&&r.jsxs(be,{className:"bg-purple-500 text-white flex items-center gap-1",children:[r.jsx(Af,{className:"w-3 h-3"}),"Por Voz"]}),_.normativa_cumplida&&r.jsxs(be,{className:"bg-green-600 text-white flex items-center gap-1",children:[r.jsx(vr,{className:"w-3 h-3"}),"SS OK"]})]}),r.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:[_.tipo==="compra"?" "+_.proveedor_nombre:" "+_.cliente_nombre,"  ",Ge(new Date(_.fecha_emision),"dd/MM/yyyy HH:mm")]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Items"}),r.jsxs("p",{className:"font-semibold text-white",children:[((S=_.items)==null?void 0:S.length)||0," productos"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Base"}),r.jsxs("p",{className:"font-semibold text-white",children:[(E=_.base_imponible)==null?void 0:E.toLocaleString(),""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"IVA"}),r.jsxs("p",{className:"font-semibold text-white",children:[(A=_.iva_importe)==null?void 0:A.toLocaleString(),""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Total"}),r.jsxs("p",{className:"font-semibold text-cyan-400 text-lg",children:[(k=_.total)==null?void 0:k.toLocaleString(),""]})]})]}),_.lugar_entrega&&r.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-gray-400",children:[r.jsx(hre,{className:"w-4 h-4"}),r.jsx("span",{children:_.lugar_entrega})]})]})]}),_.file_url&&r.jsxs(ae,{variant:"outline",onClick:()=>window.open(_.file_url,"_blank"),className:"border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Ver PDF"]})]})})},_.id)})})]}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-slate-900 text-white",children:[r.jsx(An,{children:r.jsxs(On,{className:"text-2xl",children:[n!=null&&n.generado_por_voz?" ":"",(n==null?void 0:n.numero_albaran)||"Nuevo Albarn"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Formulario completo con normativa SS - Por brevedad, simplificado aqu"}),r.jsxs(ae,{onClick:x,className:"w-full bg-green-600 hover:bg-green-700",children:[r.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Guardar Albarn"]})]})]})})]})}function JW(){const[e,t]=j.useState({}),[n,s]=j.useState({}),[a,i]=j.useState(null),[o,l]=j.useState({biloop:{url:"",token:"",username:"",password:""},revo:{api_key:"",store_id:""},email:{address:"",app_password:""},eseecloud:{username:"",password:"",cloud_id:""}});oe.useEffect(()=>{c()},[]);const c=async()=>{try{const v=await ee.functions.invoke("checkSecretsStatus");i(v.data)}catch(v){console.error("Error checking secrets:",v)}},u=async()=>{var v,y,N;t({...e,biloop:!0});try{const _=await ee.functions.invoke("testBiloopConnection");s({...n,biloop:_.data}),(v=_.data)!=null&&v.success?fe.success(` BILOOP CONECTADO - ${((y=_.data.working_endpoints)==null?void 0:y.length)||0} endpoints OK`):fe.error(` ${((N=_.data)==null?void 0:N.error)||"Error de conexin"}`)}catch(_){fe.error(" Error: "+_.message),s({...n,biloop:{error:_.message}})}finally{t({...e,biloop:!1})}},h=async()=>{var v,y;t({...e,revo:!0});try{const N=await ee.functions.invoke("testRevoConnection");s({...n,revo:N.data}),(v=N.data)!=null&&v.success?fe.success(` REVO CONECTADO - ${N.data.working_endpoint||"OK"}`):fe.error(` ${((y=N.data)==null?void 0:y.error)||"Error de conexin"}`)}catch(N){fe.error(" Error: "+N.message),s({...n,revo:{error:N.message}})}finally{t({...e,revo:!1})}},f=async()=>{var v,y,N;t({...e,email:!0});try{const _=await ee.functions.invoke("testGmailConnection");s({...n,email:_.data}),(v=_.data)!=null&&v.success?fe.success(" GMAIL CONFIGURADO CORRECTAMENTE"):fe.error(` ${((y=_.data)==null?void 0:y.error)||"Error"} - ${((N=_.data)==null?void 0:N.solution)||""}`)}catch(_){fe.error(" Error: "+_.message),s({...n,email:{error:_.message}})}finally{t({...e,email:!1})}},p=async()=>{var v;t({...e,eseecloud:!0});try{const y=await ee.functions.invoke("eseeCloudSync",{action:"status"});s({...n,eseecloud:y.data}),(v=y.data)!=null&&v.connected?fe.success(" ESEECLOUD CONECTADO"):fe.error(" ESEECLOUD no conectado")}catch(y){fe.error(" Error: "+y.message),s({...n,eseecloud:{error:y.message}})}finally{t({...e,eseecloud:!1})}},x=[{name:" Biloop (Facturas)",key:"biloop",test:u,icon:Pf,secretName:"ASSEMPSA_BILOOP_API_KEY + CIF",docs:"https://assempsa.biloop.es/api-v2",instructions:`
        BILOOP API - CONFIGURACIN:

        SECRET PRINCIPAL:
         ASSEMPSA_BILOOP_API_KEY (cc7581a3-...)

        URL Base: https://assempsa.biloop.es/api-global/v1
        Auth: Header "Ocp-Apim-Subscription-Key"

        Endpoints disponibles:
        - /getCompanies
        - /getExpensesInvoices  
        - /getERPProviders
        - /getWorkers
        - /getDocuments
        - /getStatistics
        `,currentConfig:"API_KEY configurado "},{name:" Revo XEF (Ventas)",key:"revo",test:h,icon:qi,secretName:"REVO_TOKEN_CORTO + REVO_TOKEN_LARGO",docs:"https://revoxef.works",instructions:`
    REVO XEF - CONFIGURACIN:

    1. REVO_TOKEN_CORTO (16 caracteres):
    - Token API de cuenta
    - Ej: DUWtc4TNRgyKoFnk

    2. REVO_TOKEN_LARGO (JWT):
    - Token OAuth2 largo
    - Empieza con "eyJ..."

    3. REVO_ADMIN_USER:
    - Tu nombre de usuario/tenant de Revo

    PASOS:
    1. Ve a Dashboard  Settings  Secrets
    2. Configura los 3 secrets
    3. Vuelve aqu y haz clic en "Test Connection"

    El sistema probar automticamente mltiples 
    combinaciones de autenticacin.
    `,currentConfig:"REVO_TOKEN_CORTO y REVO_TOKEN_LARGO configurados "},{name:" Gmail (Facturas Email)",key:"email",test:f,icon:Ma,secretName:"EMAIL_APP_PASSWORD",docs:"https://support.google.com/accounts/answer/185833",instructions:`
GMAIL - CONFIGURACIN:

Necesitas 2 secrets:

1. info@chickenpalace.es
   - Tu direccin de Gmail
   - Formato: "tu-email@gmail.com"

2. EMAIL_APP_PASSWORD
   - Contrasea de aplicacin (NO tu password normal)
   - Formato: "abcd efgh ijkl mnop"

PASOS PARA OBTENER APP PASSWORD:
1. Ve a https://myaccount.google.com/security
2. Activa "Verificacin en 2 pasos" (obligatorio)
3. Ve a "Contraseas de aplicaciones"
4. Genera una nueva contrasea para "Mail"
5. Copia la contrasea de 16 caracteres
6. Ve a Dashboard  Settings  Secrets
7. Crea "info@chickenpalace.es" con tu email
8. Crea "EMAIL_APP_PASSWORD" con la app password
9. Vuelve aqu y haz clic en "Test Connection"

IMPORTANTE: No uses tu contrasea normal de Gmail.
Debe ser una "Contrasea de aplicacin".
`,currentConfig:"info@chickenpalace.es y EMAIL_APP_PASSWORD configurados "},{name:" ESEECLOUD (Cmaras)",key:"eseecloud",test:p,icon:Io,secretName:"ESEECLOUD_USERNAME",docs:"https://www.eseecloud.com",instructions:`
ESEECLOUD - CONFIGURACIN:

Necesitas 3 secrets:

1. ESEECLOUD_USERNAME
   - Tu usuario de ESEECLOUD
   
2. ESEECLOUD_PASSWORD
   - Tu contrasea de ESEECLOUD

3. ESEECLOUD_CLOUD_ID
   - Cloud ID de tu DVR/NVR
   - Ej: "5637955927"

PASOS:
1. Encuentra el Cloud ID:
   - Abre la app ESEECLOUD en tu mvil
   - Ve a tus dispositivos
   - El Cloud ID aparece debajo del nombre del DVR
   - Ej: "Cloud ID: 5637955927"

2. Ve a Dashboard  Settings  Secrets
3. Crea los 3 secrets con tus datos
4. Vuelve aqu y haz clic en "Test Connection"

NOTA: El DVR debe estar conectado a internet y
registrado en ESEECLOUD Cloud Service.
`,currentConfig:"ESEECLOUD_USERNAME, PASSWORD y CLOUD_ID configurados "}],b=v=>{navigator.clipboard.writeText(v),fe.success(" Copiado al portapapeles")};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-5xl font-black text-white mb-3 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center shadow-2xl",children:r.jsx(wn,{className:"w-8 h-8 text-white"})}),"DIAGNSTICO DE APIs"]}),r.jsx("p",{className:"text-xl text-gray-400",children:" Configuracin y Testing de Conexiones Reales"})]}),a&&r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 mb-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white",children:r.jsx(Pe,{children:" Estado de Secrets Configurados"})}),r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(a.secrets).map(([v,y])=>r.jsxs("div",{className:`p-3 rounded-lg border ${y.configured?"bg-green-900/20 border-green-700":"bg-red-900/20 border-red-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.configured?r.jsx(Ke,{className:"w-4 h-4 text-green-400"}):r.jsx(ai,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-white text-sm font-bold",children:v})]}),r.jsx("p",{className:"text-xs text-gray-400 font-mono",children:y.configured?`${y.length} chars: ${y.preview}`:"NO CONFIGURADO"})]},v))}),r.jsx(ae,{className:"mt-4 bg-blue-600 hover:bg-blue-700",onClick:c,children:" Recargar Estado"})]})]}),r.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 mb-6 flex items-center gap-3",children:[r.jsx(wn,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Configura tus secrets en ",r.jsx("strong",{className:"text-white",children:"Settings  Environment Variables"})," y luego testea cada API."]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:x.map(v=>{var _,S,E,A,k,P,R,$,D;const y=n[v.key],N=e[v.key];return r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800",children:[r.jsx(ke,{className:"bg-gradient-to-r from-slate-700 to-slate-800 border-b border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:r.jsx(v.icon,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-white text-xl",children:v.name}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:v.secretName})]})]}),(y==null?void 0:y.source)===`${v.key}_api`||y!=null&&y.connected?r.jsxs(be,{className:"bg-green-600 text-white text-sm",children:[r.jsx(Ke,{className:"w-4 h-4 mr-1"}),"CONECTADO"]}):y!=null&&y.error?r.jsxs(be,{className:"bg-red-600 text-white text-sm",children:[r.jsx(ai,{className:"w-4 h-4 mr-1"}),"ERROR"]}):r.jsx(be,{className:"bg-gray-600 text-white text-sm",children:"NO TESTEADO"})]})}),r.jsxs(Q,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Estado Actual:"}),r.jsx("p",{className:"text-white font-medium",children:v.currentConfig})]}),y&&r.jsxs("div",{className:`rounded-lg p-4 border ${y.success?"bg-green-900/20 border-green-700":y.error?"bg-red-900/20 border-red-700":"bg-yellow-900/20 border-yellow-700"}`,children:[r.jsx("p",{className:"text-white font-bold mb-2",children:y.success?" Conexin Exitosa":y.error?" Error de Conexin":" Revisar configuracin"}),y.summary&&r.jsx("p",{className:"text-sm text-gray-300 mb-2",children:y.summary}),y.error&&r.jsxs("p",{className:"text-sm text-red-400 mb-2",children:["Error: ",y.error]}),y.solution&&r.jsxs("p",{className:"text-sm text-yellow-400 mb-2",children:["Solucin: ",y.solution]}),((_=y.results)==null?void 0:_.recommendations)&&r.jsx("div",{className:"mt-3 space-y-2",children:y.results.recommendations.map((M,B)=>{var J,Y;return r.jsxs("div",{className:`p-2 rounded text-xs ${(J=M.priority)!=null&&J.includes("XITO")?"bg-green-900/30 text-green-300":(Y=M.priority)!=null&&Y.includes("CRTICO")?"bg-red-900/30 text-red-300":"bg-yellow-900/30 text-yellow-300"}`,children:[r.jsxs("strong",{children:[M.priority,":"]})," ",M.message||M.issue,M.solution&&r.jsx("p",{className:"mt-1 text-gray-400",children:M.solution})]},B)})}),((S=y.results)==null?void 0:S.login_attempts)&&y.results.login_attempts.length>0&&r.jsxs("div",{className:"mt-4 bg-slate-950 rounded-lg p-3 border border-blue-700",children:[r.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Intentos de LOGIN en Revo:"}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:y.results.login_attempts.map((M,B)=>r.jsxs("div",{className:"bg-black/50 p-2 rounded text-xs",children:[r.jsx("p",{className:"text-white font-bold",children:M.method}),r.jsx("p",{className:"text-gray-500 text-xs truncate",children:M.url}),r.jsxs("p",{className:"text-gray-400",children:["Status: ",r.jsx("span",{className:M.status===200?"text-green-400":"text-red-400",children:M.status})]}),M.response&&r.jsx("pre",{className:"text-blue-300 whitespace-pre-wrap text-xs mt-1",children:M.response}),M.error&&r.jsx("p",{className:"text-red-400 mt-1",children:M.error})]},B))})]}),((A=(E=y.results)==null?void 0:E.login_test)==null?void 0:A.attempts)&&r.jsxs("div",{className:"mt-4 bg-slate-950 rounded-lg p-3 border border-orange-700",children:[r.jsx("p",{className:"text-orange-400 font-bold text-sm mb-2",children:" Intentos de autenticacin:"}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:y.results.login_test.attempts.map((M,B)=>r.jsxs("div",{className:"bg-black/50 p-2 rounded text-xs",children:[r.jsx("p",{className:"text-white font-bold",children:M.method}),r.jsx("p",{className:"text-gray-500 text-xs truncate",children:M.url}),r.jsxs("p",{className:"text-gray-400",children:["Status: ",r.jsx("span",{className:M.status===200?"text-green-400":"text-red-400",children:M.status})]}),r.jsx("pre",{className:"text-orange-300 whitespace-pre-wrap text-xs mt-1",children:M.response})]},B))})]}),((P=(k=y.results)==null?void 0:k.token_test)==null?void 0:P.biloop_raw_response)&&r.jsxs("div",{className:"mt-4 bg-slate-950 rounded-lg p-3 border border-cyan-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-cyan-400 font-bold text-sm",children:" RESPUESTA RAW DE BILOOP:"}),r.jsxs(ae,{size:"sm",variant:"ghost",className:"text-cyan-400 hover:text-cyan-300 h-6 px-2",onClick:()=>b(y.results.token_test.biloop_raw_response),children:[r.jsx(zo,{className:"w-3 h-3 mr-1"}),"Copiar"]})]}),r.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["URL: ",y.results.token_test.url_used]}),r.jsx("pre",{className:"text-xs text-cyan-300 whitespace-pre-wrap font-mono max-h-60 overflow-auto bg-black/50 p-2 rounded",children:y.results.token_test.biloop_raw_response}),r.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[r.jsxs("p",{children:["Keys encontradas: ",((R=y.results.token_test.raw_keys)==null?void 0:R.join(", "))||"ninguna"]}),r.jsxs("p",{children:["Keys en .data: ",(($=y.results.token_test.data_keys)==null?void 0:$.join(", "))||"ninguna"]})]})]}),((D=y.results)==null?void 0:D.tests)&&r.jsxs("div",{className:"text-xs text-gray-400 mt-3",children:[r.jsx("p",{className:"text-white font-bold mb-1",children:"Tests ejecutados:"}),r.jsx("div",{className:"space-y-1",children:y.results.tests.map((M,B)=>r.jsxs("div",{className:"bg-slate-950 p-2 rounded",children:[r.jsxs("span",{className:"text-white",children:[M.name||M.endpoint,":"]})," ",r.jsx("span",{className:M.ok||M.status==="success"?"text-green-400":"text-red-400",children:M.verdict||M.status})]},B))})]})]}),r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("p",{className:"text-white font-bold",children:" Instrucciones de Configuracin"}),r.jsxs(ae,{size:"sm",variant:"outline",className:"border-slate-600 text-gray-300 hover:bg-slate-700",onClick:()=>b(v.instructions),children:[r.jsx(zo,{className:"w-4 h-4 mr-1"}),"Copiar"]})]}),r.jsx("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap font-mono",children:v.instructions})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ae,{onClick:v.test,disabled:N,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:N?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Testeando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Test Connection"]})}),r.jsxs(ae,{variant:"outline",className:"border-slate-600 text-gray-300 hover:bg-slate-700",onClick:()=>window.open(v.docs,"_blank"),children:[r.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Docs"]})]})]})]},v.key)})}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-r from-purple-600 to-pink-600 text-white mt-8",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:" Test Completo de Todas las APIs"}),r.jsx("p",{className:"text-sm opacity-90",children:"Ejecuta todas las pruebas de conexin simultneamente"})]}),r.jsx(ae,{size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 font-bold",onClick:()=>{u(),h(),f(),p()},disabled:Object.values(e).some(v=>v),children:Object.values(e).some(v=>v)?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Testeando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Testear Todo"]})})]})})})]})})}const uj=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:dt("w-full caption-bottom text-sm",e),...t})}));uj.displayName="Table";const dj=j.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:dt("[&_tr]:border-b",e),...t}));dj.displayName="TableHeader";const hj=j.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:dt("[&_tr:last-child]:border-0",e),...t}));hj.displayName="TableBody";const rge=j.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:dt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rge.displayName="TableFooter";const Ol=j.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:dt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ol.displayName="TableRow";const gr=j.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:dt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));gr.displayName="TableHead";const nr=j.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:dt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));nr.displayName="TableCell";const sge=j.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:dt("mt-4 text-sm text-muted-foreground",e),...t}));sge.displayName="TableCaption";function dP(e,[t,n]){return Math.min(n,Math.max(t,e))}function age(e){const t=ige(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find(lge);if(c){const u=c.props.children,h=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function ige(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=uge(a),l=cge(i,a.props);return a.type!==j.Fragment&&(l.ref=s?tl(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oge=Symbol("radix.slottable");function lge(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oge}function cge(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function uge(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function S4(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dge="VisuallyHidden",hge=j.forwardRef((e,t)=>r.jsx(Ct.span,{...e,ref:t,style:{...eq,...e.style}}));hge.displayName=dge;var fge=[" ","Enter","ArrowUp","ArrowDown"],mge=[" ","Enter"],Bd="Select",[fj,mj,pge]=pO(Bd),[Sm]=pi(Bd,[pge,gm]),pj=gm(),[xge,gu]=Sm(Bd),[gge,yge]=Sm(Bd),tq=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:x,form:b}=e,v=pj(t),[y,N]=j.useState(null),[_,S]=j.useState(null),[E,A]=j.useState(!1),k=U0(u),[P,R]=Ql({prop:s,defaultProp:a??!1,onChange:i,caller:Bd}),[$,D]=Ql({prop:o,defaultProp:l,onChange:c,caller:Bd}),M=j.useRef(null),B=y?b||!!y.closest("form"):!0,[J,Y]=j.useState(new Set),W=Array.from(J).map(se=>se.props.value).join(";");return r.jsx(SO,{...v,children:r.jsxs(xge,{required:x,scope:t,trigger:y,onTriggerChange:N,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:Hi(),value:$,onValueChange:D,open:P,onOpenChange:R,dir:k,triggerPointerDownPosRef:M,disabled:p,children:[r.jsx(fj.Provider,{scope:t,children:r.jsx(gge,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(se=>{Y(q=>new Set(q).add(se))},[]),onNativeOptionRemove:j.useCallback(se=>{Y(q=>{const V=new Set(q);return V.delete(se),V})},[]),children:n})}),B?r.jsxs(Sq,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:$,onChange:se=>D(se.target.value),disabled:p,form:b,children:[$===void 0?r.jsx("option",{value:""}):null,Array.from(J)]},W):null]})})};tq.displayName=Bd;var nq="SelectTrigger",rq=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=pj(n),o=gu(nq,n),l=o.disabled||s,c=Wt(t,o.onTriggerChange),u=mj(n),h=j.useRef("touch"),[f,p,x]=kq(v=>{const y=u().filter(S=>!S.disabled),N=y.find(S=>S.value===o.value),_=Eq(y,v,N);_!==void 0&&o.onValueChange(_.value)}),b=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(Vw,{asChild:!0,...i,children:r.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Cq(o.value)?"":void 0,...a,ref:c,onClick:Xe(a.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&b(v)}),onPointerDown:Xe(a.onPointerDown,v=>{h.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:Xe(a.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(y&&v.key===" ")&&fge.includes(v.key)&&(b(),v.preventDefault())})})})});rq.displayName=nq;var sq="SelectValue",aq=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=gu(sq,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=Wt(t,c.onValueNodeChange);return fs(()=>{u(h)},[u,h]),r.jsx(Ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:Cq(c.value)?r.jsx(r.Fragment,{children:o}):i})});aq.displayName=sq;var vge="SelectIcon",iq=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(Ct.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});iq.displayName=vge;var bge="SelectPortal",oq=e=>r.jsx(Y0,{asChild:!0,...e});oq.displayName=bge;var Vd="SelectContent",lq=j.forwardRef((e,t)=>{const n=gu(Vd,e.__scopeSelect),[s,a]=j.useState();if(fs(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?$0.createPortal(r.jsx(cq,{scope:e.__scopeSelect,children:r.jsx(fj.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(uq,{...e,ref:t})});lq.displayName=Vd;var Li=10,[cq,yu]=Sm(Vd),wge="SelectContentImpl",jge=age("SelectContent.RemoveScroll"),uq=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:y,...N}=e,_=gu(Vd,n),[S,E]=j.useState(null),[A,k]=j.useState(null),P=Wt(t,re=>E(re)),[R,$]=j.useState(null),[D,M]=j.useState(null),B=mj(n),[J,Y]=j.useState(!1),W=j.useRef(!1);j.useEffect(()=>{if(S)return Ww(S)},[S]),Lw();const se=j.useCallback(re=>{const[ce,...he]=B().map(ge=>ge.ref.current),[ue]=he.slice(-1),Oe=document.activeElement;for(const ge of re)if(ge===Oe||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===ce&&A&&(A.scrollTop=0),ge===ue&&A&&(A.scrollTop=A.scrollHeight),ge==null||ge.focus(),document.activeElement!==Oe))return},[B,A]),q=j.useCallback(()=>se([R,S]),[se,R,S]);j.useEffect(()=>{J&&q()},[J,q]);const{onOpenChange:V,triggerPointerDownPosRef:U}=_;j.useEffect(()=>{if(S){let re={x:0,y:0};const ce=ue=>{var Oe,ge;re={x:Math.abs(Math.round(ue.pageX)-(((Oe=U.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((ge=U.current)==null?void 0:ge.y)??0))}},he=ue=>{re.x<=10&&re.y<=10?ue.preventDefault():S.contains(ue.target)||V(!1),document.removeEventListener("pointermove",ce),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",he,{capture:!0})}}},[S,V,U]),j.useEffect(()=>{const re=()=>V(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[V]);const[F,K]=kq(re=>{const ce=B().filter(Oe=>!Oe.disabled),he=ce.find(Oe=>Oe.ref.current===document.activeElement),ue=Eq(ce,re,he);ue&&setTimeout(()=>ue.ref.current.focus())}),te=j.useCallback((re,ce,he)=>{const ue=!W.current&&!he;(_.value!==void 0&&_.value===ce||ue)&&($(re),ue&&(W.current=!0))},[_.value]),H=j.useCallback(()=>S==null?void 0:S.focus(),[S]),xe=j.useCallback((re,ce,he)=>{const ue=!W.current&&!he;(_.value!==void 0&&_.value===ce||ue)&&M(re)},[_.value]),ne=s==="popper"?hP:dq,pe=ne===hP?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:y}:{};return r.jsx(cq,{scope:n,content:S,viewport:A,onViewportChange:k,itemRefCallback:te,selectedItem:R,onItemLeave:H,itemTextRefCallback:xe,focusSelectedItem:q,selectedItemText:D,position:s,isPositioned:J,searchRef:F,children:r.jsx(K0,{as:jge,allowPinchZoom:!0,children:r.jsx(q0,{asChild:!0,trapped:_.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Xe(a,re=>{var ce;(ce=_.trigger)==null||ce.focus({preventScroll:!0}),re.preventDefault()}),children:r.jsx(W0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:r.jsx(ne,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:re=>re.preventDefault(),...N,...pe,onPlaced:()=>Y(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Xe(N.onKeyDown,re=>{const ce=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ce&&re.key.length===1&&K(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ue=B().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Oe=re.target,ge=ue.indexOf(Oe);ue=ue.slice(ge+1)}setTimeout(()=>se(ue)),re.preventDefault()}})})})})})})});uq.displayName=wge;var Nge="SelectItemAlignedPosition",dq=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=gu(Vd,n),o=yu(Vd,n),[l,c]=j.useState(null),[u,h]=j.useState(null),f=Wt(t,P=>h(P)),p=mj(n),x=j.useRef(!1),b=j.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:_}=o,S=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&y&&N){const P=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),D=N.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=D.left-R.left,ge=$.left-Oe,qe=P.left-ge,Ce=P.width+qe,yt=Math.max(Ce,R.width),st=window.innerWidth-Li,xt=dP(ge,[Li,Math.max(Li,st-yt)]);l.style.minWidth=Ce+"px",l.style.left=xt+"px"}else{const Oe=R.right-D.right,ge=window.innerWidth-$.right-Oe,qe=window.innerWidth-P.right-ge,Ce=P.width+qe,yt=Math.max(Ce,R.width),st=window.innerWidth-Li,xt=dP(ge,[Li,Math.max(Li,st-yt)]);l.style.minWidth=Ce+"px",l.style.right=xt+"px"}const M=p(),B=window.innerHeight-Li*2,J=v.scrollHeight,Y=window.getComputedStyle(u),W=parseInt(Y.borderTopWidth,10),se=parseInt(Y.paddingTop,10),q=parseInt(Y.borderBottomWidth,10),V=parseInt(Y.paddingBottom,10),U=W+se+J+V+q,F=Math.min(y.offsetHeight*5,U),K=window.getComputedStyle(v),te=parseInt(K.paddingTop,10),H=parseInt(K.paddingBottom,10),xe=P.top+P.height/2-Li,ne=B-xe,pe=y.offsetHeight/2,re=y.offsetTop+pe,ce=W+se+re,he=U-ce;if(ce<=xe){const Oe=M.length>0&&y===M[M.length-1].ref.current;l.style.bottom="0px";const ge=u.clientHeight-v.offsetTop-v.offsetHeight,qe=Math.max(ne,pe+(Oe?H:0)+ge+q),Ce=ce+qe;l.style.height=Ce+"px"}else{const Oe=M.length>0&&y===M[0].ref.current;l.style.top="0px";const qe=Math.max(xe,W+v.offsetTop+(Oe?te:0)+pe)+he;l.style.height=qe+"px",v.scrollTop=ce-xe+v.offsetTop}l.style.margin=`${Li}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[p,i.trigger,i.valueNode,l,u,v,y,N,i.dir,s]);fs(()=>S(),[S]);const[E,A]=j.useState();fs(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const k=j.useCallback(P=>{P&&b.current===!0&&(S(),_==null||_(),b.current=!1)},[S,_]);return r.jsx(Sge,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:k,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:r.jsx(Ct.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});dq.displayName=Nge;var _ge="SelectPopperPosition",hP=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=Li,...i}=e,o=pj(n);return r.jsx(CO,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hP.displayName=_ge;var[Sge,C4]=Sm(Vd,{}),fP="SelectViewport",hq=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=yu(fP,n),o=C4(fP,n),l=Wt(t,i.onViewportChange),c=j.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(fj.Slot,{scope:n,children:r.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Xe(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const x=Math.abs(c.current-h.scrollTop);if(x>0){const b=window.innerHeight-Li*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<b){const _=N+x,S=Math.min(b,_),E=_-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});hq.displayName=fP;var fq="SelectGroup",[Cge,kge]=Sm(fq),Ege=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Hi();return r.jsx(Cge,{scope:n,id:a,children:r.jsx(Ct.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Ege.displayName=fq;var mq="SelectLabel",pq=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=kge(mq,n);return r.jsx(Ct.div,{id:a.id,...s,ref:t})});pq.displayName=mq;var Sb="SelectItem",[Pge,xq]=Sm(Sb),gq=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=gu(Sb,n),c=yu(Sb,n),u=l.value===s,[h,f]=j.useState(i??""),[p,x]=j.useState(!1),b=Wt(t,_=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,_,s,a)}),v=Hi(),y=j.useRef("touch"),N=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Pge,{scope:n,value:s,disabled:a,textId:v,isSelected:u,onItemTextChange:j.useCallback(_=>{f(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:r.jsx(fj.ItemSlot,{scope:n,value:s,disabled:a,textValue:h,children:r.jsx(Ct.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Xe(o.onFocus,()=>x(!0)),onBlur:Xe(o.onBlur,()=>x(!1)),onClick:Xe(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:Xe(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:Xe(o.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:Xe(o.onPointerMove,_=>{var S;y.current=_.pointerType,a?(S=c.onItemLeave)==null||S.call(c):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(o.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Xe(o.onKeyDown,_=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&_.key===" "||(mge.includes(_.key)&&N(),_.key===" "&&_.preventDefault())})})})})});gq.displayName=Sb;var cx="SelectItemText",yq=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=gu(cx,n),l=yu(cx,n),c=xq(cx,n),u=yge(cx,n),[h,f]=j.useState(null),p=Wt(t,N=>f(N),c.onItemTextChange,N=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,N,c.value,c.disabled)}),x=h==null?void 0:h.textContent,b=j.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return fs(()=>(v(b),()=>y(b)),[v,y,b]),r.jsxs(r.Fragment,{children:[r.jsx(Ct.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$0.createPortal(i.children,o.valueNode):null]})});yq.displayName=cx;var vq="SelectItemIndicator",bq=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return xq(vq,n).isSelected?r.jsx(Ct.span,{"aria-hidden":!0,...s,ref:t}):null});bq.displayName=vq;var mP="SelectScrollUpButton",wq=j.forwardRef((e,t)=>{const n=yu(mP,e.__scopeSelect),s=C4(mP,e.__scopeSelect),[a,i]=j.useState(!1),o=Wt(t,s.onScrollButtonChange);return fs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(Nq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});wq.displayName=mP;var pP="SelectScrollDownButton",jq=j.forwardRef((e,t)=>{const n=yu(pP,e.__scopeSelect),s=C4(pP,e.__scopeSelect),[a,i]=j.useState(!1),o=Wt(t,s.onScrollButtonChange);return fs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(Nq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jq.displayName=pP;var Nq=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=yu("SelectScrollButton",n),o=j.useRef(null),l=mj(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),fs(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(Ct.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Xe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Xe(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Xe(a.onPointerLeave,()=>{c()})})}),Age="SelectSeparator",_q=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Ct.div,{"aria-hidden":!0,...s,ref:t})});_q.displayName=Age;var xP="SelectArrow",Oge=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=pj(n),i=gu(xP,n),o=yu(xP,n);return i.open&&o.position==="popper"?r.jsx(kO,{...a,...s,ref:t}):null});Oge.displayName=xP;var Tge="SelectBubbleInput",Sq=j.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=j.useRef(null),i=Wt(s,a),o=S4(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(Ct.select,{...n,style:{...eq,...n.style},ref:i,defaultValue:t})});Sq.displayName=Tge;function Cq(e){return e===""||e===void 0}function kq(e){const t=us(e),n=j.useRef(""),s=j.useRef(0),a=j.useCallback(o=>{const l=n.current+o;t(l),(function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=j.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function Eq(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Mge(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function Mge(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Rge=tq,Pq=rq,Dge=aq,Ige=iq,Lge=oq,Aq=lq,Fge=hq,Oq=pq,Tq=gq,zge=yq,$ge=bq,Mq=wq,Rq=jq,Dq=_q;const dr=Rge,hr=Dge,rr=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Pq,{ref:s,className:dt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Ige,{asChild:!0,children:r.jsx(V0,{className:"h-4 w-4 opacity-50"})})]}));rr.displayName=Pq.displayName;const Iq=j.forwardRef(({className:e,...t},n)=>r.jsx(Mq,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(JB,{className:"h-4 w-4"})}));Iq.displayName=Mq.displayName;const Lq=j.forwardRef(({className:e,...t},n)=>r.jsx(Rq,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(V0,{className:"h-4 w-4"})}));Lq.displayName=Rq.displayName;const sr=j.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(Lge,{children:r.jsxs(Aq,{ref:a,className:dt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(Iq,{}),r.jsx(Fge,{className:dt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Lq,{})]})}));sr.displayName=Aq.displayName;const Bge=j.forwardRef(({className:e,...t},n)=>r.jsx(Oq,{ref:n,className:dt("px-2 py-1.5 text-sm font-semibold",e),...t}));Bge.displayName=Oq.displayName;const De=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Tq,{ref:s,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx($ge,{children:r.jsx(Iw,{className:"h-4 w-4"})})}),r.jsx(zge,{children:t})]}));De.displayName=Tq.displayName;const Vge=j.forwardRef(({className:e,...t},n)=>r.jsx(Dq,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",e),...t}));Vge.displayName=Dq.displayName;const Uge={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Wge=(e,t,n)=>{let s;const a=Uge[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+s:"hace "+s:s},qge={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Hge={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Yge={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gge={date:hf({formats:qge,defaultWidth:"full"}),time:hf({formats:Hge,defaultWidth:"full"}),dateTime:hf({formats:Yge,defaultWidth:"full"})},Kge={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Xge={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Qge=(e,t,n,s)=>t.getHours()!==1?Xge[e]:Kge[e],Zge={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Jge={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},eye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},tye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},nye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},rye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},sye=(e,t)=>Number(e)+"",aye={ordinalNumber:sye,era:To({values:Zge,defaultWidth:"wide"}),quarter:To({values:Jge,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:To({values:eye,defaultWidth:"wide"}),day:To({values:tye,defaultWidth:"wide"}),dayPeriod:To({values:nye,defaultWidth:"wide",formattingValues:rye,defaultFormattingWidth:"wide"})},iye=/^(\d+)()?/i,oye=/\d+/i,lye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},cye={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},uye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},dye={any:[/1/i,/2/i,/3/i,/4/i]},hye={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},fye={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},mye={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},pye={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},xye={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},gye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},yye={ordinalNumber:V7({matchPattern:iye,parsePattern:oye,valueCallback:function(e){return parseInt(e,10)}}),era:Mo({matchPatterns:lye,defaultMatchWidth:"wide",parsePatterns:cye,defaultParseWidth:"any"}),quarter:Mo({matchPatterns:uye,defaultMatchWidth:"wide",parsePatterns:dye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mo({matchPatterns:hye,defaultMatchWidth:"wide",parsePatterns:fye,defaultParseWidth:"any"}),day:Mo({matchPatterns:mye,defaultMatchWidth:"wide",parsePatterns:pye,defaultParseWidth:"any"}),dayPeriod:Mo({matchPatterns:xye,defaultMatchWidth:"any",parsePatterns:gye,defaultParseWidth:"any"})},vye={code:"es",formatDistance:Wge,formatLong:Gge,formatRelative:Qge,localize:aye,match:yye,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Fq(){const[e,t]=j.useState(new Date().getMonth().toString()),[n,s]=j.useState(new Date().getFullYear().toString()),[a,i]=j.useState(""),{data:o=[],isLoading:l}=Be({queryKey:["timesheets-control",e,n],queryFn:()=>ee.entities.Timesheet.list("-date",1e3),staleTime:6e4}),{data:c=[]}=Be({queryKey:["employees-control"],queryFn:()=>ee.entities.Employee.list(),staleTime:6e4}),u=async()=>{const b=fe.loading("Generando informe PDF...");try{const v=await ee.functions.invoke("generateAttendanceReport",{month:String(parseInt(e)+1).padStart(2,"0"),year:n}),y=new Blob([v.data],{type:"application/pdf"}),N=window.URL.createObjectURL(y),_=document.createElement("a");_.href=N,_.download=`asistencia_${parseInt(e)+1}_${n}.pdf`,document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(N),_.remove(),fe.success("Informe generado correctamente",{id:b})}catch(v){fe.error("Error generando informe: "+v.message,{id:b})}},h=o.filter(b=>{const v=new Date(b.date);return v.getMonth().toString()===e&&v.getFullYear().toString()===n&&(!a||b.user_name.toLowerCase().includes(a.toLowerCase()))}),f=h.filter(b=>b.delay_minutes>0).length,p=h.reduce((b,v)=>b+(v.total_hours||0),0),x=h.reduce((b,v)=>b+(v.delay_minutes||0),0);return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-black text-white flex items-center gap-3",children:[r.jsx($t,{className:"w-8 h-8 text-cyan-400"}),r.jsx("span",{className:"text-cyan-400",children:"Control de Asistencia"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Supervisin detallada de horarios, retrasos y fichajes para inspecciones."})]}),r.jsxs(ae,{onClick:u,className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Exportar Informe Inspeccin (PDF)"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"bg-zinc-900 border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-zinc-400 text-sm",children:"Mes"}),r.jsx(Sn,{className:"w-4 h-4 text-cyan-400"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(dr,{value:e,onValueChange:t,children:[r.jsx(rr,{className:"bg-zinc-800 border-zinc-700",children:r.jsx(hr,{})}),r.jsx(sr,{children:Array.from({length:12},(b,v)=>r.jsx(De,{value:v.toString(),children:Ge(new Date(2024,v,1),"MMMM",{locale:vye})},v))})]}),r.jsxs(dr,{value:n,onValueChange:s,children:[r.jsx(rr,{className:"bg-zinc-800 border-zinc-700 w-24",children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"2024",children:"2024"}),r.jsx(De,{value:"2025",children:"2025"})]})]})]})]})}),r.jsx(X,{className:"bg-zinc-900 border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-zinc-400 text-sm",children:"Retrasos Totales"}),r.jsx(bn,{className:"w-4 h-4 text-red-400"})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("span",{className:"text-3xl font-bold text-white",children:f}),r.jsxs("span",{className:"text-sm text-red-400 mb-1",children:["(",x," min)"]})]})]})}),r.jsx(X,{className:"bg-zinc-900 border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-zinc-400 text-sm",children:"Horas Trabajadas"}),r.jsx($t,{className:"w-4 h-4 text-green-400"})]}),r.jsxs("span",{className:"text-3xl font-bold text-white",children:[p.toFixed(1),"h"]})]})}),r.jsx(X,{className:"bg-zinc-900 border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-zinc-400 text-sm",children:"Bsqueda"}),r.jsx(mi,{className:"w-4 h-4 text-cyan-400"})]}),r.jsx(He,{placeholder:"Buscar empleado...",value:a,onChange:b=>i(b.target.value),className:"bg-zinc-800 border-zinc-700"})]})})]}),r.jsxs(X,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Registros de Fichaje"})}),r.jsx(Q,{children:l?r.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando registros..."}):h.length===0?r.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay registros para este periodo."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(uj,{children:[r.jsx(dj,{children:r.jsxs(Ol,{className:"border-zinc-800 hover:bg-zinc-900",children:[r.jsx(gr,{className:"text-zinc-400",children:"Fecha"}),r.jsx(gr,{className:"text-zinc-400",children:"Empleado"}),r.jsx(gr,{className:"text-zinc-400",children:"Entrada Real"}),r.jsx(gr,{className:"text-zinc-400",children:"Entrada Prevista"}),r.jsx(gr,{className:"text-zinc-400",children:"Retraso"}),r.jsx(gr,{className:"text-zinc-400",children:"Salida"}),r.jsx(gr,{className:"text-zinc-400",children:"Total Horas"}),r.jsx(gr,{className:"text-zinc-400",children:"Estado"})]})}),r.jsx(hj,{children:h.map(b=>r.jsxs(Ol,{className:"border-zinc-800 hover:bg-zinc-800/50",children:[r.jsx(nr,{className:"font-medium",children:Ge(new Date(b.date),"dd/MM/yyyy")}),r.jsx(nr,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"w-4 h-4 text-zinc-500"}),b.user_name]})}),r.jsx(nr,{children:b.check_in}),r.jsx(nr,{className:"text-zinc-500",children:b.expected_start||"-"}),r.jsx(nr,{children:b.delay_minutes>0?r.jsxs(be,{className:"bg-red-900/30 text-red-400 border border-red-500/30",children:["+",b.delay_minutes," min"]}):r.jsx("span",{className:"text-green-400 text-sm",children:"Puntual"})}),r.jsx(nr,{children:b.check_out||"-"}),r.jsx(nr,{children:b.total_hours?`${b.total_hours.toFixed(2)}h`:"-"}),r.jsx(nr,{children:r.jsx(be,{variant:"outline",className:`
                            ${b.status==="completo"?"border-green-500 text-green-400":"border-yellow-500 text-yellow-400"}
                          `,children:b.status})})]},b.id))})]})})})]})]})})}var xj="Switch",[bye]=pi(xj),[wye,jye]=bye(xj),zq=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[p,x]=j.useState(null),b=Wt(t,S=>x(S)),v=j.useRef(!1),y=p?h||!!p.closest("form"):!0,[N,_]=Ql({prop:a,defaultProp:i??!1,onChange:u,caller:xj});return r.jsxs(wye,{scope:n,checked:N,disabled:l,children:[r.jsx(Ct.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":Uq(N),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Xe(e.onClick,S=>{_(E=>!E),y&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),y&&r.jsx(Vq,{control:p,bubbles:!v.current,name:s,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});zq.displayName=xj;var $q="SwitchThumb",Bq=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=jye($q,n);return r.jsx(Ct.span,{"data-state":Uq(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});Bq.displayName=$q;var Nye="SwitchBubbleInput",Vq=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=j.useRef(null),l=Wt(o,i),c=S4(n),u=jO(t);return j.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&x){const b=new Event("click",{bubbles:s});x.call(h,n),h.dispatchEvent(b)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vq.displayName=Nye;function Uq(e){return e?"checked":"unchecked"}var Wq=zq,_ye=Bq;const zf=j.forwardRef(({className:e,...t},n)=>r.jsx(Wq,{className:dt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(_ye,{className:dt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));zf.displayName=Wq.displayName;function qq(){var E,A,k,P,R,$,D;const[e,t]=j.useState({biloop:!1,revo:!1,email:!1,reset:!1}),[n,s]=j.useState({biloop:null,revo:null,email:null,reset:null}),[a,i]=j.useState(!0),[o,l]=j.useState(!1),[c,u]=j.useState(3600),[h,f]=j.useState(!1);j.useEffect(()=>{let M,B;return o&&(_(),M=setInterval(()=>{_(),u(3600)},36e5),B=setInterval(()=>{u(J=>Math.max(0,J-1))},1e3)),()=>{M&&clearInterval(M),B&&clearInterval(B)}},[o,a]);const p=M=>{const B=Math.floor(M/60),J=M%60;return`${B}:${J.toString().padStart(2,"0")}`},x=M=>{if(!M)return"";const B=new Date(M);return Qi(B)?Ge(B,"HH:mm:ss"):""},b=async()=>{var M;t({...e,biloop:!0});try{const B=a?"biloopRealSync":"biloopAutoSync",J=await ee.functions.invoke(B);s({...n,biloop:J.data});const Y=((M=J.data)==null?void 0:M.source)||"unknown";Y==="biloop_api"?fe.success(" Datos REALES desde Biloop"):Y==="ai_fallback"?fe.warning(" Biloop API no disponible - usando IA"):fe.success(" Sincronizacin completada")}catch(B){console.error("Biloop sync error:",B),fe.error(" Error en sincronizacin: "+B.message)}finally{t({...e,biloop:!1})}},v=async()=>{var M;t({...e,revo:!0});try{const B=a?"revoRealSync":"revoAutoSync",J=await ee.functions.invoke(B);s({...n,revo:J.data});const Y=((M=J.data)==null?void 0:M.source)||"unknown";Y==="revo_api"?fe.success(" Datos REALES desde Revo"):Y==="ai_fallback"?fe.warning(" Revo API no disponible - usando IA"):fe.success(" Sincronizacin completada")}catch(B){console.error("Revo sync error:",B),fe.error(" Error en sincronizacin: "+B.message)}finally{t({...e,revo:!1})}},y=async()=>{var M,B,J,Y,W,se;t({...e,email:!0});try{const q=await ee.functions.invoke("emailAutoProcessor");if(s({...n,email:q.data}),(M=q.data)!=null&&M.success){const V=((J=(B=q.data)==null?void 0:B.results)==null?void 0:J.emails_processed)||0,U=((W=(Y=q.data)==null?void 0:Y.results)==null?void 0:W.invoices_created)||0;fe.success(` ${V} emails procesados desde Gmail (${U} facturas)`)}else fe.error(((se=q.data)==null?void 0:se.error)||" Error procesando emails")}catch(q){console.error("Email processor error:",q),fe.error(" Error en procesamiento emails: "+q.message)}finally{t({...e,email:!1})}},N=async()=>{var M,B,J,Y,W,se,q,V,U;f(!1),t({...e,reset:!0}),fe.info(" Eliminando datos de prueba...",{duration:3e3});try{const F=await ee.functions.invoke("resetAndSyncReal");s({...n,reset:F.data});const K=(M=F.data)==null?void 0:M.summary;K&&(fe.success(` Reset completado!

 Eliminados: ${((B=K.deleted)==null?void 0:B.total)||0} registros
 Biloop: ${((J=K.biloop_sync)==null?void 0:J.invoices_created)||0} facturas
 Revo: ${((Y=K.revo_sync)==null?void 0:Y.sales_created)||0} ventas`,{duration:8e3}),s({biloop:{timestamp:F.data.timestamp,source:(W=K.biloop_sync)==null?void 0:W.source,results:{invoices_created:(se=K.biloop_sync)==null?void 0:se.invoices_created,providers_created:(q=K.biloop_sync)==null?void 0:q.providers_created}},revo:{timestamp:F.data.timestamp,source:(V=K.revo_sync)==null?void 0:V.source,results:{sales_created:(U=K.revo_sync)==null?void 0:U.sales_created}},email:null,reset:F.data}))}catch(F){console.error("Reset error:",F),fe.error(" Error en reset: "+F.message)}finally{t({...e,reset:!1})}},_=async()=>{fe.info(" Iniciando sincronizacin completa..."),await b(),await v(),await y(),fe.success(" Sincronizacin completa finalizada!"),u(3600)},S=()=>{const M=!o;l(M),M?(fe.success(" Auto-Sync activado - Sincronizar cada hora"),u(3600)):fe.info(" Auto-Sync pausado")};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${o?"bg-green-500":"bg-yellow-500"}`}),r.jsx("span",{className:`text-sm font-medium ${o?"text-green-600":"text-yellow-600"}`,children:o?"Auto-Sync Activo":"Modo Manual"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Hr,{className:"w-10 h-10 text-yellow-500"}),"Centro de Automatizacin"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Control total de sincronizaciones  APIs reales + IA fallback"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(ae,{onClick:()=>f(!0),disabled:e.reset,variant:"destructive",size:"lg",className:"bg-red-600 hover:bg-red-700",children:[r.jsx(qr,{className:"w-5 h-5 mr-2"}),"Reset + Sync Real"]}),r.jsxs(ae,{onClick:_,disabled:Object.values(e).some(M=>M),size:"lg",className:"bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 hover:from-yellow-600 hover:via-orange-600 hover:to-red-600 text-white font-bold shadow-lg shadow-orange-500/50",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Sincronizar Todo"]})]})]})]}),r.jsx(X,{className:"border-none shadow-xl mb-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Ix,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:" Modo de Conexin"}),r.jsx("p",{className:"text-sm text-blue-100",children:a?" Intentar conectar con APIs REALES (Biloop + Revo). Si fallan, usa IA automticamente.":" Modo IA puro - genera datos realistas sin APIs externas"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Te,{htmlFor:"api-mode",className:"text-white font-medium cursor-pointer",children:a?"APIs Reales":"Solo IA"}),r.jsx(zf,{id:"api-mode",checked:a,onCheckedChange:i,className:"data-[state=checked]:bg-white data-[state=unchecked]:bg-white/30"})]})]})})}),r.jsx(X,{className:"border-none shadow-xl mb-8 bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Ane,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:" Auto-Sync Inteligente"}),r.jsx("p",{className:"text-sm text-green-100 mb-2",children:o?" Sincronizacin automtica cada hora mientras esta pgina est abierta":" Activa para sincronizar automticamente cada hora"}),o&&r.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg px-3 py-2 mt-3 border border-white/20",children:[r.jsx($t,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm font-medium",children:["Prxima sincronizacin en: ",r.jsx("strong",{children:p(c)})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Te,{htmlFor:"auto-sync",className:"text-white font-medium cursor-pointer",children:o?"Activado":"Desactivado"}),r.jsx(zf,{id:"auto-sync",checked:o,onCheckedChange:S,className:"data-[state=checked]:bg-white data-[state=unchecked]:bg-white/30"})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-xl hover:shadow-2xl transition-all",children:[r.jsx(ke,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:r.jsx(Pf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg",children:"Biloop Sync"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Facturas + Proveedores"})]})]})})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Estado:"}),e.biloop?r.jsxs(be,{className:"bg-blue-100 text-blue-800",children:[r.jsx(bt,{className:"w-3 h-3 mr-1 animate-spin"}),"Sincronizando..."]}):n.biloop?r.jsxs(be,{className:"bg-green-100 text-green-800",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Completado"]}):r.jsx(be,{className:"bg-gray-100 text-gray-800",children:"Listo"})]}),n.biloop&&r.jsxs(r.Fragment,{children:[n.biloop.source&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Fuente:"}),r.jsx(be,{className:n.biloop.source==="biloop_api"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",children:n.biloop.source==="biloop_api"?" API Real":" IA"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Facturas:"}),r.jsx("span",{className:"font-bold text-green-600",children:((E=n.biloop.results)==null?void 0:E.invoices_created)||0})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Proveedores:"}),r.jsx("span",{className:"font-bold text-blue-600",children:((A=n.biloop.results)==null?void 0:A.providers_created)||0})]}),x(n.biloop.timestamp)&&r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2 border-t",children:[r.jsx("span",{children:"ltima ejecucin:"}),r.jsx("span",{children:x(n.biloop.timestamp)})]})]})]}),r.jsx(ae,{onClick:b,disabled:e.biloop,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:e.biloop?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sincronizando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ou,{className:"w-4 h-4 mr-2"}),"Ejecutar"]})})]})]}),r.jsxs(X,{className:"border-none shadow-xl hover:shadow-2xl transition-all",children:[r.jsx(ke,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center",children:r.jsx(qi,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg",children:"Revo Sync"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Ventas + Productos"})]})]})})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Estado:"}),e.revo?r.jsxs(be,{className:"bg-blue-100 text-blue-800",children:[r.jsx(bt,{className:"w-3 h-3 mr-1 animate-spin"}),"Sincronizando..."]}):n.revo?r.jsxs(be,{className:"bg-green-100 text-green-800",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Completado"]}):r.jsx(be,{className:"bg-gray-100 text-gray-800",children:"Listo"})]}),n.revo&&r.jsxs(r.Fragment,{children:[n.revo.source&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Fuente:"}),r.jsx(be,{className:n.revo.source==="revo_api"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",children:n.revo.source==="revo_api"?" API Real":" IA"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Ventas:"}),r.jsx("span",{className:"font-bold text-cyan-600",children:((k=n.revo.results)==null?void 0:k.sales_created)||0})]}),n.revo.analytics&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Beneficio:"}),r.jsxs("span",{className:`font-bold ${n.revo.analytics.net_profit>=0?"text-green-600":"text-red-600"}`,children:[(P=n.revo.analytics.net_profit)==null?void 0:P.toFixed(2),""]})]}),x(n.revo.timestamp)&&r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2 border-t",children:[r.jsx("span",{children:"ltima ejecucin:"}),r.jsx("span",{children:x(n.revo.timestamp)})]})]})]}),r.jsx(ae,{onClick:v,disabled:e.revo,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700",children:e.revo?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sincronizando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ou,{className:"w-4 h-4 mr-2"}),"Ejecutar"]})})]})]}),r.jsxs(X,{className:"border-none shadow-xl hover:shadow-2xl transition-all",children:[r.jsx(ke,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:r.jsx(Ma,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg",children:"Email Processor"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Facturas automticas"})]})]})})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Estado:"}),e.email?r.jsxs(be,{className:"bg-blue-100 text-blue-800",children:[r.jsx(bt,{className:"w-3 h-3 mr-1 animate-spin"}),"Procesando..."]}):n.email?r.jsxs(be,{className:"bg-green-100 text-green-800",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Completado"]}):r.jsx(be,{className:"bg-gray-100 text-gray-800",children:"Listo"})]}),n.email&&r.jsxs(r.Fragment,{children:[n.email.success!==void 0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Fuente:"}),r.jsx(be,{className:n.email.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:n.email.success?" Gmail Real":" Error"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Emails:"}),r.jsx("span",{className:"font-bold text-purple-600",children:((R=n.email.results)==null?void 0:R.emails_processed)||0})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Facturas:"}),r.jsx("span",{className:"font-bold text-green-600",children:(($=n.email.results)==null?void 0:$.invoices_created)||0})]}),((D=n.email.results)==null?void 0:D.providers_created)>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Proveedores:"}),r.jsx("span",{className:"font-bold text-blue-600",children:n.email.results.providers_created})]}),x(n.email.timestamp)&&r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2 border-t",children:[r.jsx("span",{children:"ltima ejecucin:"}),r.jsx("span",{children:x(n.email.timestamp)})]})]})]}),r.jsx(ae,{onClick:y,disabled:e.email,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700",children:e.email?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Procesando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ou,{className:"w-4 h-4 mr-2"}),"Ejecutar"]})})]})]})]}),r.jsx(Fn,{open:h,onOpenChange:f,children:r.jsxs(Pn,{children:[r.jsxs(An,{children:[r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(wn,{className:"w-5 h-5 text-red-600"}),"Reset Completo + Sincronizacin Real?"]}),r.jsxs(ZW,{className:"space-y-3 pt-4",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Esta accin:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-red-600",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Eliminar TODOS"})," los datos actuales (facturas, proveedores, ventas, productos, empleados, etc.)"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Sincronizar desde cero"})," con tus APIs reales de Biloop y Revo"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600",children:""}),r.jsx("span",{children:"Solo mantendr tus configuraciones y usuarios"})]})]}),r.jsx("p",{className:"text-red-600 font-medium pt-2",children:" Esta accin NO se puede deshacer"})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),r.jsx(ae,{variant:"destructive",onClick:N,className:"bg-red-600 hover:bg-red-700",children:"S, Reset y Sincronizar"})]})]})})]})})}var gj="Tabs",[Sye]=pi(gj,[Uw]),Hq=Uw(),[Cye,k4]=Sye(gj),Yq=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=U0(l),[f,p]=Ql({prop:s,onChange:a,defaultProp:i??"",caller:gj});return r.jsx(Cye,{scope:n,baseId:Hi(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:r.jsx(Ct.div,{dir:h,"data-orientation":o,...u,ref:t})})});Yq.displayName=gj;var Gq="TabsList",Kq=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=k4(Gq,n),o=Hq(n);return r.jsx(IV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(Ct.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Kq.displayName=Gq;var Xq="TabsTrigger",Qq=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=k4(Xq,n),l=Hq(n),c=eH(o.baseId,s),u=tH(o.baseId,s),h=s===o.value;return r.jsx(LV,{asChild:!0,...l,focusable:!a,active:h,children:r.jsx(Ct.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Xe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Xe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Xe(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!a&&f&&o.onValueChange(s)})})})});Qq.displayName=Xq;var Zq="TabsContent",Jq=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=k4(Zq,n),c=eH(l.baseId,s),u=tH(l.baseId,s),h=s===l.value,f=j.useRef(h);return j.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(Cs,{present:a||h,children:({present:p})=>r.jsx(Ct.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Jq.displayName=Zq;function eH(e,t){return`${e}-trigger-${t}`}function tH(e,t){return`${e}-content-${t}`}var kye=Yq,nH=Kq,rH=Qq,sH=Jq;const rl=kye,ro=j.forwardRef(({className:e,...t},n)=>r.jsx(nH,{ref:n,className:dt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ro.displayName=nH.displayName;const tn=j.forwardRef(({className:e,...t},n)=>r.jsx(rH,{ref:n,className:dt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));tn.displayName=rH.displayName;const nn=j.forwardRef(({className:e,...t},n)=>r.jsx(sH,{ref:n,className:dt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));nn.displayName=sH.displayName;function aH(){var v,y,N,_,S,E,A,k;const[e,t]=j.useState(""),[n,s]=j.useState(null),[a,i]=j.useState(null),o=Kt(),{data:l=[]}=Be({queryKey:["sales-invoices"],queryFn:()=>ee.entities.SalesInvoice.list("-invoice_date",100)}),{data:c=[]}=Be({queryKey:["quotes"],queryFn:()=>ee.entities.Quote.list("-quote_date",100)}),{data:u=[]}=Be({queryKey:["clients"],queryFn:()=>ee.entities.Client.list("-created_date",100)}),h=Bt({mutationFn:async P=>{const R=l[0],$=new Date().getFullYear();let D=1;if(R!=null&&R.invoice_number){const J=R.invoice_number.match(/FAC-\d{4}-(\d+)/);J&&(D=parseInt(J[1])+1)}const M=`FAC-${$}-${String(D).padStart(3,"0")}`,B=await ee.entities.SalesInvoice.create({invoice_number:M,client_name:P.client_name,client_cif:P.client_cif,client_address:P.client_address,invoice_date:new Date().toISOString().split("T")[0],due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],items:P.items,subtotal:P.subtotal,iva_percent:P.iva_percent||21,iva:P.iva,total:P.total,status:"emitida",from_quote_id:P.id,notes:P.notes});return await ee.entities.Quote.update(P.id,{status:"facturado",converted_to_invoice:B.id}),B},onSuccess:P=>{o.invalidateQueries({queryKey:["sales-invoices"]}),o.invalidateQueries({queryKey:["quotes"]}),fe.success(`Factura ${P.invoice_number} creada`),i(null)}}),f={totalInvoiced:l.reduce((P,R)=>P+(R.total||0),0),pendingAmount:l.filter(P=>["emitida","enviada"].includes(P.status)).reduce((P,R)=>P+(R.total||0),0),paidAmount:l.filter(P=>P.status==="pagada").reduce((P,R)=>P+(R.total||0),0),quotesTotal:c.filter(P=>P.status!=="rechazado").reduce((P,R)=>P+(R.total||0),0),acceptedQuotes:c.filter(P=>P.status==="aceptado").length,pendingQuotes:c.filter(P=>["borrador","enviado"].includes(P.status)).length},p={borrador:"bg-gray-100 text-gray-800",emitida:"bg-blue-100 text-blue-800",enviada:"bg-purple-100 text-purple-800",pagada:"bg-green-100 text-green-800",vencida:"bg-red-100 text-red-800",anulada:"bg-gray-100 text-gray-500",aceptado:"bg-green-100 text-green-800",rechazado:"bg-red-100 text-red-800",facturado:"bg-blue-100 text-blue-800"},x=l.filter(P=>{var R,$;return((R=P.client_name)==null?void 0:R.toLowerCase().includes(e.toLowerCase()))||(($=P.invoice_number)==null?void 0:$.toLowerCase().includes(e.toLowerCase()))}),b=c.filter(P=>{var R,$;return((R=P.client_name)==null?void 0:R.toLowerCase().includes(e.toLowerCase()))||(($=P.quote_number)==null?void 0:$.toLowerCase().includes(e.toLowerCase()))});return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Centro de Facturacin"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(Ye,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"FACTURACIN"})]}),r.jsx("p",{className:"text-zinc-400",children:"Facturas de venta, presupuestos y clientes"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsx(fn,{to:ft("CEOBrain"),children:r.jsxs(ae,{className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 font-bold",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Gn,{className:"w-5 h-5 mr-2"}),"Crear con IA"]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-green-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:r.jsx(tV,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total Facturado"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[f.totalInvoiced.toFixed(2),""]})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-blue-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx($t,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Pendiente Cobro"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[f.pendingAmount.toFixed(2),""]})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(Ye,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Presupuestos"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[f.quotesTotal.toFixed(2),""]})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-lg flex items-center justify-center",children:r.jsx(ln,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Clientes"}),r.jsx("p",{className:"text-xl font-bold text-white",children:u.length})]})]})})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),r.jsx(He,{value:e,onChange:P=>t(P.target.value),placeholder:"Buscar por cliente o nmero...",className:"pl-10 bg-slate-800 border-slate-700 text-white"})]})}),r.jsxs(rl,{defaultValue:"invoices",className:"space-y-6",children:[r.jsxs(ro,{className:"bg-black border border-cyan-500/30",children:[r.jsxs(tn,{value:"invoices",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400 data-[state=active]:border-cyan-500",children:["Facturas (",l.length,")"]}),r.jsxs(tn,{value:"quotes",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400 data-[state=active]:border-cyan-500",children:["Presupuestos (",c.length,")"]}),r.jsxs(tn,{value:"clients",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400 data-[state=active]:border-cyan-500",children:["Clientes (",u.length,")"]})]}),r.jsx(nn,{value:"invoices",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:x.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay facturas todava"}),r.jsx(fn,{to:ft("CEOBrain"),children:r.jsxs(ae,{className:"bg-yellow-600 hover:bg-yellow-700",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Crear con CEO Brain"]})})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:x.map(P=>{var R;return r.jsx("div",{className:"p-4 hover:bg-slate-800/50 cursor-pointer transition-colors",onClick:()=>s(P),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-lg flex items-center justify-center",children:r.jsx(Ye,{className:"w-6 h-6 text-yellow-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:P.invoice_number}),r.jsx("p",{className:"text-sm text-gray-400",children:P.client_name})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-white text-lg",children:[(R=P.total)==null?void 0:R.toFixed(2),""]}),r.jsx("p",{className:"text-xs text-gray-500",children:P.invoice_date&&Ge(new Date(P.invoice_date),"dd/MM/yyyy")})]}),r.jsx(be,{className:p[P.status],children:P.status})]})]})},P.id)})})})})}),r.jsx(nn,{value:"quotes",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:b.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay presupuestos todava"}),r.jsx(fn,{to:ft("CEOBrain"),children:r.jsxs(ae,{className:"bg-yellow-600 hover:bg-yellow-700",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Crear con CEO Brain"]})})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:b.map(P=>{var R;return r.jsx("div",{className:"p-4 hover:bg-slate-800/50 cursor-pointer transition-colors",onClick:()=>i(P),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-lg flex items-center justify-center",children:r.jsx(Ye,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:P.quote_number}),r.jsx("p",{className:"text-sm text-gray-400",children:P.client_name})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-white text-lg",children:[(R=P.total)==null?void 0:R.toFixed(2),""]}),r.jsx("p",{className:"text-xs text-gray-500",children:P.quote_date&&Ge(new Date(P.quote_date),"dd/MM/yyyy")})]}),r.jsx(be,{className:p[P.status],children:P.status}),P.status==="aceptado"&&!P.converted_to_invoice&&r.jsxs(ae,{size:"sm",onClick:$=>{$.stopPropagation(),h.mutate(P)},className:"bg-green-600 hover:bg-green-700",children:[r.jsx(zl,{className:"w-4 h-4 mr-1"}),"Facturar"]})]})]})},P.id)})})})})}),r.jsx(nn,{value:"clients",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:u.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(ln,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay clientes registrados"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Los clientes se crean automticamente al facturar"})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:u.map(P=>{var R;return r.jsx("div",{className:"p-4 hover:bg-slate-800/50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:(R=P.name)==null?void 0:R.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:P.name}),r.jsx("p",{className:"text-sm text-gray-400",children:P.cif||"Sin CIF"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-400",children:P.email||"-"}),r.jsx("p",{className:"text-xs text-gray-500",children:P.phone||"-"})]}),r.jsx(be,{className:P.status==="activo"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:P.status||"activo"})]})]})},P.id)})})})})})]}),r.jsx(Fn,{open:!!n,onOpenChange:()=>s(null),children:r.jsxs(Pn,{className:"bg-slate-900 border-slate-700 text-white max-w-2xl",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-3",children:[r.jsx(Ye,{className:"w-6 h-6 text-yellow-500"}),n==null?void 0:n.invoice_number]})}),n&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Cliente"}),r.jsx("p",{className:"font-medium",children:n.client_name}),r.jsx("p",{className:"text-sm text-gray-400",children:n.client_cif})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Fecha"}),r.jsx("p",{className:"font-medium",children:n.invoice_date&&Ge(new Date(n.invoice_date),"dd/MM/yyyy")}),r.jsx(be,{className:p[n.status],children:n.status})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Conceptos"}),r.jsx("div",{className:"space-y-2",children:(v=n.items)==null?void 0:v.map((P,R)=>{var $;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:[P.description," x",P.quantity]}),r.jsxs("span",{children:[($=P.total)==null?void 0:$.toFixed(2),""]})]},R)})}),r.jsxs("div",{className:"border-t border-slate-700 mt-4 pt-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Base imponible"}),r.jsxs("span",{children:[(y=n.subtotal)==null?void 0:y.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-400",children:["IVA (",n.iva_percent||21,"%)"]}),r.jsxs("span",{children:[(N=n.iva)==null?void 0:N.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-slate-700",children:[r.jsx("span",{children:"TOTAL"}),r.jsxs("span",{className:"text-yellow-400",children:[(_=n.total)==null?void 0:_.toFixed(2),""]})]})]})]})]})]})}),r.jsx(Fn,{open:!!a,onOpenChange:()=>i(null),children:r.jsxs(Pn,{className:"bg-slate-900 border-slate-700 text-white max-w-2xl",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-3",children:[r.jsx(Ye,{className:"w-6 h-6 text-blue-500"}),a==null?void 0:a.quote_number]})}),a&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Cliente"}),r.jsx("p",{className:"font-medium",children:a.client_name}),r.jsx("p",{className:"text-sm text-gray-400",children:a.client_cif})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Fecha"}),r.jsx("p",{className:"font-medium",children:a.quote_date&&Ge(new Date(a.quote_date),"dd/MM/yyyy")}),r.jsx(be,{className:p[a.status],children:a.status})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Conceptos"}),r.jsx("div",{className:"space-y-2",children:(S=a.items)==null?void 0:S.map((P,R)=>{var $;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:[P.description," x",P.quantity]}),r.jsxs("span",{children:[($=P.total)==null?void 0:$.toFixed(2),""]})]},R)})}),r.jsxs("div",{className:"border-t border-slate-700 mt-4 pt-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Base imponible"}),r.jsxs("span",{children:[(E=a.subtotal)==null?void 0:E.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-400",children:["IVA (",a.iva_percent||21,"%)"]}),r.jsxs("span",{children:[(A=a.iva)==null?void 0:A.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-slate-700",children:[r.jsx("span",{children:"TOTAL"}),r.jsxs("span",{className:"text-blue-400",children:[(k=a.total)==null?void 0:k.toFixed(2),""]})]})]})]}),a.status==="aceptado"&&!a.converted_to_invoice&&r.jsxs(ae,{onClick:()=>h.mutate(a),className:"w-full bg-green-600 hover:bg-green-700",disabled:h.isPending,children:[r.jsx(zl,{className:"w-5 h-5 mr-2"}),"Convertir en Factura"]})]})]})})]})})}function Eye(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Pye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Aye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Oye={};function AI(e,t){return(Oye.jsx?Aye:Pye).test(e)}const Tye=/[ \t\n\f\r]/g;function Mye(e){return typeof e=="object"?e.type==="text"?OI(e.value):!1:OI(e)}function OI(e){return e.replace(Tye,"")===""}class og{constructor(t,n,s){this.normal=n,this.property=t,s&&(this.space=s)}}og.prototype.normal={};og.prototype.property={};og.prototype.space=void 0;function iH(e,t){const n={},s={};for(const a of e)Object.assign(n,a.property),Object.assign(s,a.normal);return new og(n,s,t)}function gP(e){return e.toLowerCase()}class ua{constructor(t,n){this.attribute=n,this.property=t}}ua.prototype.attribute="";ua.prototype.booleanish=!1;ua.prototype.boolean=!1;ua.prototype.commaOrSpaceSeparated=!1;ua.prototype.commaSeparated=!1;ua.prototype.defined=!1;ua.prototype.mustUseProperty=!1;ua.prototype.number=!1;ua.prototype.overloadedBoolean=!1;ua.prototype.property="";ua.prototype.spaceSeparated=!1;ua.prototype.space=void 0;let Rye=0;const It=Zd(),Er=Zd(),yP=Zd(),$e=Zd(),$n=Zd(),mf=Zd(),Sa=Zd();function Zd(){return 2**++Rye}const vP=Object.freeze(Object.defineProperty({__proto__:null,boolean:It,booleanish:Er,commaOrSpaceSeparated:Sa,commaSeparated:mf,number:$e,overloadedBoolean:yP,spaceSeparated:$n},Symbol.toStringTag,{value:"Module"})),q_=Object.keys(vP);class E4 extends ua{constructor(t,n,s,a){let i=-1;if(super(t,n),TI(this,"space",a),typeof s=="number")for(;++i<q_.length;){const o=q_[i];TI(this,q_[i],(s&vP[o])===vP[o])}}}E4.prototype.defined=!0;function TI(e,t,n){n&&(e[t]=n)}function Cm(e){const t={},n={};for(const[s,a]of Object.entries(e.properties)){const i=new E4(s,e.transform(e.attributes||{},s),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(i.mustUseProperty=!0),t[s]=i,n[gP(s)]=s,n[gP(i.attribute)]=s}return new og(t,n,e.space)}const oH=Cm({properties:{ariaActiveDescendant:null,ariaAtomic:Er,ariaAutoComplete:null,ariaBusy:Er,ariaChecked:Er,ariaColCount:$e,ariaColIndex:$e,ariaColSpan:$e,ariaControls:$n,ariaCurrent:null,ariaDescribedBy:$n,ariaDetails:null,ariaDisabled:Er,ariaDropEffect:$n,ariaErrorMessage:null,ariaExpanded:Er,ariaFlowTo:$n,ariaGrabbed:Er,ariaHasPopup:null,ariaHidden:Er,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$n,ariaLevel:$e,ariaLive:null,ariaModal:Er,ariaMultiLine:Er,ariaMultiSelectable:Er,ariaOrientation:null,ariaOwns:$n,ariaPlaceholder:null,ariaPosInSet:$e,ariaPressed:Er,ariaReadOnly:Er,ariaRelevant:null,ariaRequired:Er,ariaRoleDescription:$n,ariaRowCount:$e,ariaRowIndex:$e,ariaRowSpan:$e,ariaSelected:Er,ariaSetSize:$e,ariaSort:null,ariaValueMax:$e,ariaValueMin:$e,ariaValueNow:$e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function lH(e,t){return t in e?e[t]:t}function cH(e,t){return lH(e,t.toLowerCase())}const Dye=Cm({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mf,acceptCharset:$n,accessKey:$n,action:null,allow:null,allowFullScreen:It,allowPaymentRequest:It,allowUserMedia:It,alt:null,as:null,async:It,autoCapitalize:null,autoComplete:$n,autoFocus:It,autoPlay:It,blocking:$n,capture:null,charSet:null,checked:It,cite:null,className:$n,cols:$e,colSpan:null,content:null,contentEditable:Er,controls:It,controlsList:$n,coords:$e|mf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:It,defer:It,dir:null,dirName:null,disabled:It,download:yP,draggable:Er,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:It,formTarget:null,headers:$n,height:$e,hidden:yP,high:$e,href:null,hrefLang:null,htmlFor:$n,httpEquiv:$n,id:null,imageSizes:null,imageSrcSet:null,inert:It,inputMode:null,integrity:null,is:null,isMap:It,itemId:null,itemProp:$n,itemRef:$n,itemScope:It,itemType:$n,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:It,low:$e,manifest:null,max:null,maxLength:$e,media:null,method:null,min:null,minLength:$e,multiple:It,muted:It,name:null,nonce:null,noModule:It,noValidate:It,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:It,optimum:$e,pattern:null,ping:$n,placeholder:null,playsInline:It,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:It,referrerPolicy:null,rel:$n,required:It,reversed:It,rows:$e,rowSpan:$e,sandbox:$n,scope:null,scoped:It,seamless:It,selected:It,shadowRootClonable:It,shadowRootDelegatesFocus:It,shadowRootMode:null,shape:null,size:$e,sizes:null,slot:null,span:$e,spellCheck:Er,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$e,step:null,style:null,tabIndex:$e,target:null,title:null,translate:null,type:null,typeMustMatch:It,useMap:null,value:Er,width:$e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$n,axis:null,background:null,bgColor:null,border:$e,borderColor:null,bottomMargin:$e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:It,declare:It,event:null,face:null,frame:null,frameBorder:null,hSpace:$e,leftMargin:$e,link:null,longDesc:null,lowSrc:null,marginHeight:$e,marginWidth:$e,noResize:It,noHref:It,noShade:It,noWrap:It,object:null,profile:null,prompt:null,rev:null,rightMargin:$e,rules:null,scheme:null,scrolling:Er,standby:null,summary:null,text:null,topMargin:$e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:It,disableRemotePlayback:It,prefix:null,property:null,results:$e,security:null,unselectable:null},space:"html",transform:cH}),Iye=Cm({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Sa,accentHeight:$e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$e,amplitude:$e,arabicForm:null,ascent:$e,attributeName:null,attributeType:null,azimuth:$e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$e,by:null,calcMode:null,capHeight:$e,className:$n,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$e,diffuseConstant:$e,direction:null,display:null,dur:null,divisor:$e,dominantBaseline:null,download:It,dx:null,dy:null,edgeMode:null,editable:null,elevation:$e,enableBackground:null,end:null,event:null,exponent:$e,externalResourcesRequired:null,fill:null,fillOpacity:$e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mf,g2:mf,glyphName:mf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$e,horizOriginX:$e,horizOriginY:$e,id:null,ideographic:$e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$e,k:$e,k1:$e,k2:$e,k3:$e,k4:$e,kernelMatrix:Sa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$e,overlineThickness:$e,paintOrder:null,panose1:null,path:null,pathLength:$e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$n,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$e,pointsAtY:$e,pointsAtZ:$e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sa,rev:Sa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sa,requiredFeatures:Sa,requiredFonts:Sa,requiredFormats:Sa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$e,specularExponent:$e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$e,strikethroughThickness:$e,string:null,stroke:null,strokeDashArray:Sa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$e,strokeOpacity:$e,strokeWidth:null,style:null,surfaceScale:$e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sa,tabIndex:$e,tableValues:null,target:null,targetX:$e,targetY:$e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$e,underlineThickness:$e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$e,values:null,vAlphabetic:$e,vMathematical:$e,vectorEffect:null,vHanging:$e,vIdeographic:$e,version:null,vertAdvY:$e,vertOriginX:$e,vertOriginY:$e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lH}),uH=Cm({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),dH=Cm({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cH}),hH=Cm({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Lye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fye=/[A-Z]/g,MI=/-[a-z]/g,zye=/^data[-\w.:]+$/i;function $ye(e,t){const n=gP(t);let s=t,a=ua;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zye.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(MI,Vye);s="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!MI.test(i)){let o=i.replace(Fye,Bye);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=E4}return new a(s,t)}function Bye(e){return"-"+e.toLowerCase()}function Vye(e){return e.charAt(1).toUpperCase()}const Uye=iH([oH,Dye,uH,dH,hH],"html"),P4=iH([oH,Iye,uH,dH,hH],"svg");function Wye(e){return e.join(" ").trim()}var qh={},H_,RI;function qye(){if(RI)return H_;RI=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,u="/",h="*",f="",p="comment",x="declaration";function b(y,N){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];N=N||{};var _=1,S=1;function E(Y){var W=Y.match(t);W&&(_+=W.length);var se=Y.lastIndexOf(c);S=~se?Y.length-se:S+Y.length}function A(){var Y={line:_,column:S};return function(W){return W.position=new k(Y),$(),W}}function k(Y){this.start=Y,this.end={line:_,column:S},this.source=N.source}k.prototype.content=y;function P(Y){var W=new Error(N.source+":"+_+":"+S+": "+Y);if(W.reason=Y,W.filename=N.source,W.line=_,W.column=S,W.source=y,!N.silent)throw W}function R(Y){var W=Y.exec(y);if(W){var se=W[0];return E(se),y=y.slice(se.length),W}}function $(){R(n)}function D(Y){var W;for(Y=Y||[];W=M();)W!==!1&&Y.push(W);return Y}function M(){var Y=A();if(!(u!=y.charAt(0)||h!=y.charAt(1))){for(var W=2;f!=y.charAt(W)&&(h!=y.charAt(W)||u!=y.charAt(W+1));)++W;if(W+=2,f===y.charAt(W-1))return P("End of comment missing");var se=y.slice(2,W-2);return S+=2,E(se),y=y.slice(W),S+=2,Y({type:p,comment:se})}}function B(){var Y=A(),W=R(s);if(W){if(M(),!R(a))return P("property missing ':'");var se=R(i),q=Y({type:x,property:v(W[0].replace(e,f)),value:se?v(se[0].replace(e,f)):f});return R(o),q}}function J(){var Y=[];D(Y);for(var W;W=B();)W!==!1&&(Y.push(W),D(Y));return Y}return $(),J()}function v(y){return y?y.replace(l,f):f}return H_=b,H_}var DI;function Hye(){if(DI)return qh;DI=1;var e=qh&&qh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qh,"__esModule",{value:!0}),qh.default=n;const t=e(qye());function n(s,a){let i=null;if(!s||typeof s!="string")return i;const o=(0,t.default)(s),l=typeof a=="function";return o.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:h}=c;l?a(u,h,c):h&&(i=i||{},i[u]=h)}),i}return qh}var Wp={},II;function Yye(){if(II)return Wp;II=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(u){return!u||n.test(u)||e.test(u)},o=function(u,h){return h.toUpperCase()},l=function(u,h){return"".concat(h,"-")},c=function(u,h){return h===void 0&&(h={}),i(u)?u:(u=u.toLowerCase(),h.reactCompat?u=u.replace(a,l):u=u.replace(s,l),u.replace(t,o))};return Wp.camelCase=c,Wp}var qp,LI;function Gye(){if(LI)return qp;LI=1;var e=qp&&qp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(Hye()),n=Yye();function s(a,i){var o={};return!a||typeof a!="string"||(0,t.default)(a,function(l,c){l&&c&&(o[(0,n.camelCase)(l,i)]=c)}),o}return s.default=s,qp=s,qp}var Kye=Gye();const Xye=sn(Kye),fH=mH("end"),A4=mH("start");function mH(e){return t;function t(n){const s=n&&n.position&&n.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function Qye(e){const t=A4(e),n=fH(e);if(t&&n)return{start:t,end:n}}function vx(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?FI(e.position):"start"in e||"end"in e?FI(e):"line"in e||"column"in e?bP(e):""}function bP(e){return zI(e&&e.line)+":"+zI(e&&e.column)}function FI(e){return bP(e&&e.start)+"-"+bP(e&&e.end)}function zI(e){return e&&typeof e=="number"?e:1}class ks extends Error{constructor(t,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?i.ruleId=s:(i.source=s.slice(0,c),i.ruleId=s.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=vx(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ks.prototype.file="";ks.prototype.name="";ks.prototype.reason="";ks.prototype.message="";ks.prototype.stack="";ks.prototype.column=void 0;ks.prototype.line=void 0;ks.prototype.ancestors=void 0;ks.prototype.cause=void 0;ks.prototype.fatal=void 0;ks.prototype.place=void 0;ks.prototype.ruleId=void 0;ks.prototype.source=void 0;const O4={}.hasOwnProperty,Zye=new Map,Jye=/[A-Z]/g,eve=new Set(["table","tbody","thead","tfoot","tr"]),tve=new Set(["td","th"]),pH="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nve(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=uve(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=cve(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?P4:Uye,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=xH(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function xH(e,t,n){if(t.type==="element")return rve(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return sve(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ive(e,t,n);if(t.type==="mdxjsEsm")return ave(e,t);if(t.type==="root")return ove(e,t,n);if(t.type==="text")return lve(e,t)}function rve(e,t,n){const s=e.schema;let a=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(a=P4,e.schema=a),e.ancestors.push(t);const i=yH(e,t.tagName,!1),o=dve(e,t);let l=M4(e,t);return eve.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!Mye(c):!0})),gH(e,o,i,t),T4(o,l),e.ancestors.pop(),e.schema=s,e.create(t,i,o,n)}function sve(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return s.type,e.evaluater.evaluateExpression(s.expression)}Kx(e,t.position)}function ave(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Kx(e,t.position)}function ive(e,t,n){const s=e.schema;let a=s;t.name==="svg"&&s.space==="html"&&(a=P4,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:yH(e,t.name,!0),o=hve(e,t),l=M4(e,t);return gH(e,o,i,t),T4(o,l),e.ancestors.pop(),e.schema=s,e.create(t,i,o,n)}function ove(e,t,n){const s={};return T4(s,M4(e,t)),e.create(t,e.Fragment,s,n)}function lve(e,t){return t.value}function gH(e,t,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=s)}function T4(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cve(e,t,n){return s;function s(a,i,o,l){const u=Array.isArray(o.children)?n:t;return l?u(i,o,l):u(i,o)}}function uve(e,t){return n;function n(s,a,i,o){const l=Array.isArray(i.children),c=A4(s);return t(a,i,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function dve(e,t){const n={};let s,a;for(a in t.properties)if(a!=="children"&&O4.call(t.properties,a)){const i=fve(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&tve.has(t.tagName)?s=l:n[o]=l}}if(s){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function hve(e,t){const n={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const i=s.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Kx(e,t.position);else{const a=s.name;let i;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const l=s.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else Kx(e,t.position);else i=s.value===null?!0:s.value;n[a]=i}return n}function M4(e,t){const n=[];let s=-1;const a=e.passKeys?new Map:Zye;for(;++s<t.children.length;){const i=t.children[s];let o;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;o=c+"-"+u,a.set(c,u+1)}}const l=xH(e,i,o);l!==void 0&&n.push(l)}return n}function fve(e,t,n){const s=$ye(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?Eye(n):Wye(n)),s.property==="style"){let a=typeof n=="object"?n:mve(e,String(n));return e.stylePropertyNameCase==="css"&&(a=pve(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&s.space?Lye[s.property]||s.property:s.attribute,n]}}function mve(e,t){try{return Xye(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,a=new ks("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=pH+"#cannot-parse-style-attribute",a}}function yH(e,t,n){let s;if(!n)s={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=AI(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}s=o}else s=AI(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const a=s.value;return O4.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(s);Kx(e)}function Kx(e,t){const n=new ks("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pH+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pve(e){const t={};let n;for(n in e)O4.call(e,n)&&(t[xve(n)]=e[n]);return t}function xve(e){let t=e.replace(Jye,gve);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function gve(e){return"-"+e.toLowerCase()}const Y_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yve={};function vve(e,t){const n=yve,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vH(e,s,a)}function vH(e,t,n){if(bve(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return $I(e.children,t,n)}return Array.isArray(e)?$I(e,t,n):""}function $I(e,t,n){const s=[];let a=-1;for(;++a<e.length;)s[a]=vH(e[a],t,n);return s.join("")}function bve(e){return!!(e&&typeof e=="object")}const BI=document.createElement("i");function R4(e){const t="&"+e+";";BI.innerHTML=t;const n=BI.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Go(e,t,n,s){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,s.length<1e4)o=Array.from(s),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<s.length;)o=s.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function ri(e,t){return e.length>0?(Go(e,e.length,0,t),e):t}const VI={}.hasOwnProperty;function wve(e){const t={};let n=-1;for(;++n<e.length;)jve(t,e[n]);return t}function jve(e,t){let n;for(n in t){const a=(VI.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){VI.call(a,o)||(a[o]=[]);const l=i[o];Nve(a[o],Array.isArray(l)?l:l?[l]:[])}}}function Nve(e,t){let n=-1;const s=[];for(;++n<t.length;)(t[n].add==="after"?e:s).push(t[n]);Go(e,0,0,s)}function bH(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ro=vu(/[A-Za-z]/),Ta=vu(/[\dA-Za-z]/),_ve=vu(/[#-'*+\--9=?A-Z^-~]/);function wP(e){return e!==null&&(e<32||e===127)}const jP=vu(/\d/),Sve=vu(/[\dA-Fa-f]/),Cve=vu(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function ia(e){return e!==null&&(e<0||e===32)}function mn(e){return e===-2||e===-1||e===32}const kve=vu(new RegExp("\\p{P}|\\p{S}","u")),Eve=vu(/\s/);function vu(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function km(e){const t=[];let n=-1,s=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ta(e.charCodeAt(n+1))&&Ta(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(s,n),encodeURIComponent(o)),s=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(s)}function Un(e,t,n,s){const a=s?s-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(c){return mn(c)?(e.enter(n),l(c)):t(c)}function l(c){return mn(c)&&i++<a?(e.consume(c),l):(e.exit(n),t(c))}}const Pve={tokenize:Ave};function Ave(e){const t=e.attempt(this.parser.constructs.contentInitial,s,a);let n;return t;function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Un(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Pt(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const Ove={tokenize:Tve},UI={tokenize:Mve};function Tve(e){const t=this,n=[];let s=0,a,i,o;return l;function l(S){if(s<n.length){const E=n[s];return t.containerState=E[1],e.attempt(E[0].continuation,c,u)(S)}return u(S)}function c(S){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&_();const E=t.events.length;let A=E,k;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){k=t.events[A][1].end;break}N(s);let P=E;for(;P<t.events.length;)t.events[P][1].end={...k},P++;return Go(t.events,A+1,0,t.events.slice(E)),t.events.length=P,u(S)}return l(S)}function u(S){if(s===n.length){if(!a)return p(S);if(a.currentConstruct&&a.currentConstruct.concrete)return b(S);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(UI,h,f)(S)}function h(S){return a&&_(),N(s),p(S)}function f(S){return t.parser.lazy[t.now().line]=s!==n.length,o=t.now().offset,b(S)}function p(S){return t.containerState={},e.attempt(UI,x,b)(S)}function x(S){return s++,n.push([t.currentConstruct,t.containerState]),p(S)}function b(S){if(S===null){a&&_(),N(0),e.consume(S);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(S)}function v(S){if(S===null){y(e.exit("chunkFlow"),!0),N(0),e.consume(S);return}return Pt(S)?(e.consume(S),y(e.exit("chunkFlow")),s=0,t.interrupt=void 0,l):(e.consume(S),v)}function y(S,E){const A=t.sliceStream(S);if(E&&A.push(null),S.previous=i,i&&(i.next=S),i=S,a.defineSkip(S.start),a.write(A),t.parser.lazy[S.start.line]){let k=a.events.length;for(;k--;)if(a.events[k][1].start.offset<o&&(!a.events[k][1].end||a.events[k][1].end.offset>o))return;const P=t.events.length;let R=P,$,D;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if($){D=t.events[R][1].end;break}$=!0}for(N(s),k=P;k<t.events.length;)t.events[k][1].end={...D},k++;Go(t.events,R+1,0,t.events.slice(P)),t.events.length=k}}function N(S){let E=n.length;for(;E-- >S;){const A=n[E];t.containerState=A[1],A[0].exit.call(t,e)}n.length=S}function _(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Mve(e,t,n){return Un(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function WI(e){if(e===null||ia(e)||Eve(e))return 1;if(kve(e))return 2}function D4(e,t,n){const s=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!s.includes(i)&&(t=i(t,n),s.push(i))}return t}const NP={name:"attention",resolveAll:Rve,tokenize:Dve};function Rve(e,t){let n=-1,s,a,i,o,l,c,u,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(s=n;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&t.sliceSerialize(e[s][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[s][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[s][1].end.offset-e[s][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[s][1].end},p={...e[n][1].start};qI(f,-c),qI(p,c),o={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[s][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:c>1?"strongText":"emphasisText",start:{...e[s][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[s][1].end={...o.start},e[n][1].start={...l.end},u=[],e[s][1].end.offset-e[s][1].start.offset&&(u=ri(u,[["enter",e[s][1],t],["exit",e[s][1],t]])),u=ri(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=ri(u,D4(t.parser.constructs.insideSpan.null,e.slice(s+1,n),t)),u=ri(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,u=ri(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Go(e,s-1,n-s+3,u),n=s+u.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Dve(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,a=WI(s);let i;return o;function o(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),h=WI(c),f=!h||h===2&&a||n.includes(c),p=!a||a===2&&h||n.includes(s);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(h||!f)),t(c)}}function qI(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ive={name:"autolink",tokenize:Lve};function Lve(e,t,n){let s=0;return a;function a(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(x){return Ro(x)?(e.consume(x),o):x===64?n(x):u(x)}function o(x){return x===43||x===45||x===46||Ta(x)?(s=1,l(x)):u(x)}function l(x){return x===58?(e.consume(x),s=0,c):(x===43||x===45||x===46||Ta(x))&&s++<32?(e.consume(x),l):(s=0,u(x))}function c(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||wP(x)?n(x):(e.consume(x),c)}function u(x){return x===64?(e.consume(x),h):_ve(x)?(e.consume(x),u):n(x)}function h(x){return Ta(x)?f(x):n(x)}function f(x){return x===46?(e.consume(x),s=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):p(x)}function p(x){if((x===45||Ta(x))&&s++<63){const b=x===45?p:f;return e.consume(x),b}return n(x)}}const yj={partial:!0,tokenize:Fve};function Fve(e,t,n){return s;function s(i){return mn(i)?Un(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Pt(i)?t(i):n(i)}}const wH={continuation:{tokenize:$ve},exit:Bve,name:"blockQuote",tokenize:zve};function zve(e,t,n){const s=this;return a;function a(o){if(o===62){const l=s.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return mn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function $ve(e,t,n){const s=this;return a;function a(o){return mn(o)?Un(e,i,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(wH,t,n)(o)}}function Bve(e){e.exit("blockQuote")}const jH={name:"characterEscape",tokenize:Vve};function Vve(e,t,n){return s;function s(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Cve(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const NH={name:"characterReference",tokenize:Uve};function Uve(e,t,n){const s=this;let a=0,i,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Ta,h(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=Sve,h):(e.enter("characterReferenceValue"),i=7,o=jP,h(f))}function h(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ta&&!R4(s.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),h):n(f)}}const HI={partial:!0,tokenize:qve},YI={concrete:!0,name:"codeFenced",tokenize:Wve};function Wve(e,t,n){const s=this,a={partial:!0,tokenize:A};let i=0,o=0,l;return c;function c(k){return u(k)}function u(k){const P=s.events[s.events.length-1];return i=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(k)}function h(k){return k===l?(o++,e.consume(k),h):o<3?n(k):(e.exit("codeFencedFenceSequence"),mn(k)?Un(e,f,"whitespace")(k):f(k))}function f(k){return k===null||Pt(k)?(e.exit("codeFencedFence"),s.interrupt?t(k):e.check(HI,v,E)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||Pt(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):mn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Un(e,x,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),p)}function x(k){return k===null||Pt(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===null||Pt(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(e.consume(k),b)}function v(k){return e.attempt(a,E,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),N}function N(k){return i>0&&mn(k)?Un(e,_,"linePrefix",i+1)(k):_(k)}function _(k){return k===null||Pt(k)?e.check(HI,v,E)(k):(e.enter("codeFlowValue"),S(k))}function S(k){return k===null||Pt(k)?(e.exit("codeFlowValue"),_(k)):(e.consume(k),S)}function E(k){return e.exit("codeFenced"),t(k)}function A(k,P,R){let $=0;return D;function D(W){return k.enter("lineEnding"),k.consume(W),k.exit("lineEnding"),M}function M(W){return k.enter("codeFencedFence"),mn(W)?Un(k,B,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):B(W)}function B(W){return W===l?(k.enter("codeFencedFenceSequence"),J(W)):R(W)}function J(W){return W===l?($++,k.consume(W),J):$>=o?(k.exit("codeFencedFenceSequence"),mn(W)?Un(k,Y,"whitespace")(W):Y(W)):R(W)}function Y(W){return W===null||Pt(W)?(k.exit("codeFencedFence"),P(W)):R(W)}}}function qve(e,t,n){const s=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return s.parser.lazy[s.now().line]?n(o):t(o)}}const G_={name:"codeIndented",tokenize:Yve},Hve={partial:!0,tokenize:Gve};function Yve(e,t,n){const s=this;return a;function a(u){return e.enter("codeIndented"),Un(e,i,"linePrefix",5)(u)}function i(u){const h=s.events[s.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):Pt(u)?e.attempt(Hve,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Pt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function Gve(e,t,n){const s=this;return a;function a(o){return s.parser.lazy[s.now().line]?n(o):Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):Un(e,i,"linePrefix",5)(o)}function i(o){const l=s.events[s.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):Pt(o)?a(o):n(o)}}const Kve={name:"codeText",previous:Qve,resolve:Xve,tokenize:Zve};function Xve(e){let t=e.length-4,n=3,s,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(s=n;++s<t;)if(e[s][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(s=n-1,t++;++s<=t;)a===void 0?s!==t&&e[s][1].type!=="lineEnding"&&(a=s):(s===t||e[s][1].type==="lineEnding")&&(e[a][1].type="codeTextData",s!==a+2&&(e[a][1].end=e[s-1][1].end,e.splice(a+2,s-a-2),t-=s-a-2,s=a+2),a=void 0);return e}function Qve(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zve(e,t,n){let s=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),s++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(i=e.enter("codeTextSequence"),a=0,h(f)):Pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Pt(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function h(f){return f===96?(e.consume(f),a++,h):a===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class Jve{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,n,s){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return s&&Hp(this.left,s),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hp(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hp(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Hp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hp(this.left,n.reverse())}}}function Hp(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _H(e){const t={};let n=-1,s,a,i,o,l,c,u;const h=new Jve(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(s=h.get(n),n&&s[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=s[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,ebe(h,n)),n=t[n],u=!0);else if(s[1]._container){for(i=n,a=void 0;i--;)if(o=h.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(s[1].end={...h.get(a)[1].start},l=h.slice(a,n),l.unshift(s),h.splice(a,n-a+1,l))}}return Go(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function ebe(e,t){const n=e.get(t)[1],s=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let h,f,p=-1,x=n,b=0,v=0;const y=[v];for(;x;){for(;e.get(++a)[1]!==x;);i.push(a),x._tokenizer||(h=s.sliceStream(x),x.next||h.push(null),f&&o.defineSkip(x.start),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),x._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=x,x=x.next}for(x=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(v=p+1,y.push(v),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(o.events=[],x?(x._tokenizer=void 0,x.previous=void 0):y.pop(),p=y.length;p--;){const N=l.slice(y[p],y[p+1]),_=i.pop();c.push([_,_+N.length-1]),e.splice(_,2,N)}for(c.reverse(),p=-1;++p<c.length;)u[b+c[p][0]]=b+c[p][1],b+=c[p][1]-c[p][0]-1;return u}const tbe={resolve:rbe,tokenize:sbe},nbe={partial:!0,tokenize:abe};function rbe(e){return _H(e),e}function sbe(e,t){let n;return s;function s(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):Pt(l)?e.check(nbe,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function abe(e,t,n){const s=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Un(e,i,"linePrefix")}function i(o){if(o===null||Pt(o))return n(o);const l=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(s.parser.constructs.flow,n,t)(o)}}function SH(e,t,n,s,a,i,o,l,c){const u=c||Number.POSITIVE_INFINITY;let h=0;return f;function f(N){return N===60?(e.enter(s),e.enter(a),e.enter(i),e.consume(N),e.exit(i),p):N===null||N===32||N===41||wP(N)?n(N):(e.enter(s),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(N))}function p(N){return N===62?(e.enter(i),e.consume(N),e.exit(i),e.exit(a),e.exit(s),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===62?(e.exit("chunkString"),e.exit(l),p(N)):N===null||N===60||Pt(N)?n(N):(e.consume(N),N===92?b:x)}function b(N){return N===60||N===62||N===92?(e.consume(N),x):x(N)}function v(N){return!h&&(N===null||N===41||ia(N))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(s),t(N)):h<u&&N===40?(e.consume(N),h++,v):N===41?(e.consume(N),h--,v):N===null||N===32||N===40||wP(N)?n(N):(e.consume(N),N===92?y:v)}function y(N){return N===40||N===41||N===92?(e.consume(N),v):v(N)}}function CH(e,t,n,s,a,i){const o=this;let l=0,c;return u;function u(x){return e.enter(s),e.enter(a),e.consume(x),e.exit(a),e.enter(i),h}function h(x){return l>999||x===null||x===91||x===93&&!c||x===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(x):x===93?(e.exit(i),e.enter(a),e.consume(x),e.exit(a),e.exit(s),t):Pt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||x===91||x===93||Pt(x)||l++>999?(e.exit("chunkString"),h(x)):(e.consume(x),c||(c=!mn(x)),x===92?p:f)}function p(x){return x===91||x===92||x===93?(e.consume(x),l++,f):f(x)}}function kH(e,t,n,s,a,i){let o;return l;function l(p){return p===34||p===39||p===40?(e.enter(s),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,c):n(p)}function c(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(s),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),c(o)):p===null?n(p):Pt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Un(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||Pt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:h)}function f(p){return p===o||p===92?(e.consume(p),h):h(p)}}function bx(e,t){let n;return s;function s(a){return Pt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,s):mn(a)?Un(e,s,n?"linePrefix":"lineSuffix")(a):t(a)}}const ibe={name:"definition",tokenize:lbe},obe={partial:!0,tokenize:cbe};function lbe(e,t,n){const s=this;let a;return i;function i(x){return e.enter("definition"),o(x)}function o(x){return CH.call(s,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function l(x){return a=pf(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),c):n(x)}function c(x){return ia(x)?bx(e,u)(x):u(x)}function u(x){return SH(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(obe,f,f)(x)}function f(x){return mn(x)?Un(e,p,"whitespace")(x):p(x)}function p(x){return x===null||Pt(x)?(e.exit("definition"),s.parser.defined.push(a),t(x)):n(x)}}function cbe(e,t,n){return s;function s(l){return ia(l)?bx(e,a)(l):n(l)}function a(l){return kH(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return mn(l)?Un(e,o,"whitespace")(l):o(l)}function o(l){return l===null||Pt(l)?t(l):n(l)}}const ube={name:"hardBreakEscape",tokenize:dbe};function dbe(e,t,n){return s;function s(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Pt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const hbe={name:"headingAtx",resolve:fbe,tokenize:mbe};function fbe(e,t){let n=e.length-2,s=3,a,i;return e[s][1].type==="whitespace"&&(s+=2),n-2>s&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&e[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(a={type:"atxHeadingText",start:e[s][1].start,end:e[n][1].end},i={type:"chunkText",start:e[s][1].start,end:e[n][1].end,contentType:"text"},Go(e,s,n-s+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function mbe(e,t,n){let s=0;return a;function a(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&s++<6?(e.consume(h),o):h===null||ia(h)?(e.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||Pt(h)?(e.exit("atxHeading"),t(h)):mn(h)?Un(e,l,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),l(h))}function u(h){return h===null||h===35||ia(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),u)}}const pbe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],GI=["pre","script","style","textarea"],xbe={concrete:!0,name:"htmlFlow",resolveTo:vbe,tokenize:bbe},gbe={partial:!0,tokenize:jbe},ybe={partial:!0,tokenize:wbe};function vbe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function bbe(e,t,n){const s=this;let a,i,o,l,c;return u;function u(H){return h(H)}function h(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),f}function f(H){return H===33?(e.consume(H),p):H===47?(e.consume(H),i=!0,v):H===63?(e.consume(H),a=3,s.interrupt?t:F):Ro(H)?(e.consume(H),o=String.fromCharCode(H),y):n(H)}function p(H){return H===45?(e.consume(H),a=2,x):H===91?(e.consume(H),a=5,l=0,b):Ro(H)?(e.consume(H),a=4,s.interrupt?t:F):n(H)}function x(H){return H===45?(e.consume(H),s.interrupt?t:F):n(H)}function b(H){const xe="CDATA[";return H===xe.charCodeAt(l++)?(e.consume(H),l===xe.length?s.interrupt?t:B:b):n(H)}function v(H){return Ro(H)?(e.consume(H),o=String.fromCharCode(H),y):n(H)}function y(H){if(H===null||H===47||H===62||ia(H)){const xe=H===47,ne=o.toLowerCase();return!xe&&!i&&GI.includes(ne)?(a=1,s.interrupt?t(H):B(H)):pbe.includes(o.toLowerCase())?(a=6,xe?(e.consume(H),N):s.interrupt?t(H):B(H)):(a=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(H):i?_(H):S(H))}return H===45||Ta(H)?(e.consume(H),o+=String.fromCharCode(H),y):n(H)}function N(H){return H===62?(e.consume(H),s.interrupt?t:B):n(H)}function _(H){return mn(H)?(e.consume(H),_):D(H)}function S(H){return H===47?(e.consume(H),D):H===58||H===95||Ro(H)?(e.consume(H),E):mn(H)?(e.consume(H),S):D(H)}function E(H){return H===45||H===46||H===58||H===95||Ta(H)?(e.consume(H),E):A(H)}function A(H){return H===61?(e.consume(H),k):mn(H)?(e.consume(H),A):S(H)}function k(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),c=H,P):mn(H)?(e.consume(H),k):R(H)}function P(H){return H===c?(e.consume(H),c=null,$):H===null||Pt(H)?n(H):(e.consume(H),P)}function R(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||ia(H)?A(H):(e.consume(H),R)}function $(H){return H===47||H===62||mn(H)?S(H):n(H)}function D(H){return H===62?(e.consume(H),M):n(H)}function M(H){return H===null||Pt(H)?B(H):mn(H)?(e.consume(H),M):n(H)}function B(H){return H===45&&a===2?(e.consume(H),se):H===60&&a===1?(e.consume(H),q):H===62&&a===4?(e.consume(H),K):H===63&&a===3?(e.consume(H),F):H===93&&a===5?(e.consume(H),U):Pt(H)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(gbe,te,J)(H)):H===null||Pt(H)?(e.exit("htmlFlowData"),J(H)):(e.consume(H),B)}function J(H){return e.check(ybe,Y,te)(H)}function Y(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),W}function W(H){return H===null||Pt(H)?J(H):(e.enter("htmlFlowData"),B(H))}function se(H){return H===45?(e.consume(H),F):B(H)}function q(H){return H===47?(e.consume(H),o="",V):B(H)}function V(H){if(H===62){const xe=o.toLowerCase();return GI.includes(xe)?(e.consume(H),K):B(H)}return Ro(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),V):B(H)}function U(H){return H===93?(e.consume(H),F):B(H)}function F(H){return H===62?(e.consume(H),K):H===45&&a===2?(e.consume(H),F):B(H)}function K(H){return H===null||Pt(H)?(e.exit("htmlFlowData"),te(H)):(e.consume(H),K)}function te(H){return e.exit("htmlFlow"),t(H)}}function wbe(e,t,n){const s=this;return a;function a(o){return Pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return s.parser.lazy[s.now().line]?n(o):t(o)}}function jbe(e,t,n){return s;function s(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(yj,t,n)}}const Nbe={name:"htmlText",tokenize:_be};function _be(e,t,n){const s=this;let a,i,o;return l;function l(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),c}function c(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),A):F===63?(e.consume(F),S):Ro(F)?(e.consume(F),R):n(F)}function u(F){return F===45?(e.consume(F),h):F===91?(e.consume(F),i=0,b):Ro(F)?(e.consume(F),_):n(F)}function h(F){return F===45?(e.consume(F),x):n(F)}function f(F){return F===null?n(F):F===45?(e.consume(F),p):Pt(F)?(o=f,q(F)):(e.consume(F),f)}function p(F){return F===45?(e.consume(F),x):f(F)}function x(F){return F===62?se(F):F===45?p(F):f(F)}function b(F){const K="CDATA[";return F===K.charCodeAt(i++)?(e.consume(F),i===K.length?v:b):n(F)}function v(F){return F===null?n(F):F===93?(e.consume(F),y):Pt(F)?(o=v,q(F)):(e.consume(F),v)}function y(F){return F===93?(e.consume(F),N):v(F)}function N(F){return F===62?se(F):F===93?(e.consume(F),N):v(F)}function _(F){return F===null||F===62?se(F):Pt(F)?(o=_,q(F)):(e.consume(F),_)}function S(F){return F===null?n(F):F===63?(e.consume(F),E):Pt(F)?(o=S,q(F)):(e.consume(F),S)}function E(F){return F===62?se(F):S(F)}function A(F){return Ro(F)?(e.consume(F),k):n(F)}function k(F){return F===45||Ta(F)?(e.consume(F),k):P(F)}function P(F){return Pt(F)?(o=P,q(F)):mn(F)?(e.consume(F),P):se(F)}function R(F){return F===45||Ta(F)?(e.consume(F),R):F===47||F===62||ia(F)?$(F):n(F)}function $(F){return F===47?(e.consume(F),se):F===58||F===95||Ro(F)?(e.consume(F),D):Pt(F)?(o=$,q(F)):mn(F)?(e.consume(F),$):se(F)}function D(F){return F===45||F===46||F===58||F===95||Ta(F)?(e.consume(F),D):M(F)}function M(F){return F===61?(e.consume(F),B):Pt(F)?(o=M,q(F)):mn(F)?(e.consume(F),M):$(F)}function B(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),a=F,J):Pt(F)?(o=B,q(F)):mn(F)?(e.consume(F),B):(e.consume(F),Y)}function J(F){return F===a?(e.consume(F),a=void 0,W):F===null?n(F):Pt(F)?(o=J,q(F)):(e.consume(F),J)}function Y(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||ia(F)?$(F):(e.consume(F),Y)}function W(F){return F===47||F===62||ia(F)?$(F):n(F)}function se(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}function q(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),V}function V(F){return mn(F)?Un(e,U,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):U(F)}function U(F){return e.enter("htmlTextData"),o(F)}}const I4={name:"labelEnd",resolveAll:Ebe,resolveTo:Pbe,tokenize:Abe},Sbe={tokenize:Obe},Cbe={tokenize:Tbe},kbe={tokenize:Mbe};function Ebe(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const a=s.type==="labelImage"?4:2;s.type="data",t+=a}}return e.length!==n.length&&Go(e,0,e.length,n),e}function Pbe(e,t){let n=e.length,s=0,a,i,o,l;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){s=2;break}}else a.type==="labelEnd"&&(o=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[i+s+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=ri(l,e.slice(i+1,i+s+3)),l=ri(l,[["enter",h,t]]),l=ri(l,D4(t.parser.constructs.insideSpan.null,e.slice(i+s+4,o-3),t)),l=ri(l,[["exit",h,t],e[o-2],e[o-1],["exit",u,t]]),l=ri(l,e.slice(o+1)),l=ri(l,[["exit",c,t]]),Go(e,i,e.length,l),e}function Abe(e,t,n){const s=this;let a=s.events.length,i,o;for(;a--;)if((s.events[a][1].type==="labelImage"||s.events[a][1].type==="labelLink")&&!s.events[a][1]._balanced){i=s.events[a][1];break}return l;function l(p){return i?i._inactive?f(p):(o=s.parser.defined.includes(pf(s.sliceSerialize({start:i.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),c):n(p)}function c(p){return p===40?e.attempt(Sbe,h,o?h:f)(p):p===91?e.attempt(Cbe,h,o?u:f)(p):o?h(p):f(p)}function u(p){return e.attempt(kbe,h,f)(p)}function h(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function Obe(e,t,n){return s;function s(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return ia(f)?bx(e,i)(f):i(f)}function i(f){return f===41?h(f):SH(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return ia(f)?bx(e,c)(f):h(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?kH(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function u(f){return ia(f)?bx(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Tbe(e,t,n){const s=this;return a;function a(l){return CH.call(s,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return s.parser.defined.includes(pf(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function Mbe(e,t,n){return s;function s(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Rbe={name:"labelStartImage",resolveAll:I4.resolveAll,tokenize:Dbe};function Dbe(e,t,n){const s=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(l):t(l)}}const Ibe={name:"labelStartLink",resolveAll:I4.resolveAll,tokenize:Lbe};function Lbe(e,t,n){const s=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(o):t(o)}}const K_={name:"lineEnding",tokenize:Fbe};function Fbe(e,t){return n;function n(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Un(e,t,"linePrefix")}}const Wv={name:"thematicBreak",tokenize:zbe};function zbe(e,t,n){let s=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):s>=3&&(u===null||Pt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===a?(e.consume(u),s++,c):(e.exit("thematicBreakSequence"),mn(u)?Un(e,l,"whitespace")(u):l(u))}}const Qs={continuation:{tokenize:Ube},exit:qbe,name:"list",tokenize:Vbe},$be={partial:!0,tokenize:Hbe},Bbe={partial:!0,tokenize:Wbe};function Vbe(e,t,n){const s=this,a=s.events[s.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(x){const b=s.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!s.containerState.marker||x===s.containerState.marker:jP(x)){if(s.containerState.type||(s.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Wv,n,u)(x):u(x);if(!s.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(x)}return n(x)}function c(x){return jP(x)&&++o<10?(e.consume(x),c):(!s.interrupt||o<2)&&(s.containerState.marker?x===s.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),u(x)):n(x)}function u(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||x,e.check(yj,s.interrupt?n:h,e.attempt($be,p,f))}function h(x){return s.containerState.initialBlankLine=!0,i++,p(x)}function f(x){return mn(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),p):n(x)}function p(x){return s.containerState.size=i+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function Ube(e,t,n){const s=this;return s.containerState._closeFlow=void 0,e.check(yj,a,i);function a(l){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Un(e,t,"listItemIndent",s.containerState.size+1)(l)}function i(l){return s.containerState.furtherBlankLines||!mn(l)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,o(l)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(Bbe,t,o)(l))}function o(l){return s.containerState._closeFlow=!0,s.interrupt=void 0,Un(e,e.attempt(Qs,t,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Wbe(e,t,n){const s=this;return Un(e,a,"listItemIndent",s.containerState.size+1);function a(i){const o=s.events[s.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===s.containerState.size?t(i):n(i)}}function qbe(e){e.exit(this.containerState.type)}function Hbe(e,t,n){const s=this;return Un(e,a,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=s.events[s.events.length-1];return!mn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const KI={name:"setextUnderline",resolveTo:Ybe,tokenize:Gbe};function Ybe(e,t){let n=e.length,s,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){s=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[s][1],t]),e[s][1].end={...e[i][1].end}):e[s][1]=o,e.push(["exit",o,t]),e}function Gbe(e,t,n){const s=this;let a;return i;function i(u){let h=s.events.length,f;for(;h--;)if(s.events[h][1].type!=="lineEnding"&&s.events[h][1].type!=="linePrefix"&&s.events[h][1].type!=="content"){f=s.events[h][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),mn(u)?Un(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Pt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Kbe={tokenize:Xbe};function Xbe(e){const t=this,n=e.attempt(yj,s,e.attempt(this.parser.constructs.flowInitial,a,Un(e,e.attempt(this.parser.constructs.flow,a,e.attempt(tbe,a)),"linePrefix")));return n;function s(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Qbe={resolveAll:PH()},Zbe=EH("string"),Jbe=EH("text");function EH(e){return{resolveAll:PH(e==="text"?ewe:void 0),tokenize:t};function t(n){const s=this,a=this.parser.constructs[e],i=n.attempt(a,o,l);return o;function o(h){return u(h)?i(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return u(h)?(n.exit("data"),i(h)):(n.consume(h),c)}function u(h){if(h===null)return!0;const f=a[h];let p=-1;if(f)for(;++p<f.length;){const x=f[p];if(!x.previous||x.previous.call(s,s.previous))return!0}return!1}}}function PH(e){return t;function t(n,s){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,s):n}}function ewe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const s=e[n-1][1],a=t.sliceStream(s);let i=a.length,o=-1,l=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:s.start._bufferIndex+o,_index:s.start._index+i,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...u.start},s.start.offset===s.end.offset?Object.assign(s,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const twe={42:Qs,43:Qs,45:Qs,48:Qs,49:Qs,50:Qs,51:Qs,52:Qs,53:Qs,54:Qs,55:Qs,56:Qs,57:Qs,62:wH},nwe={91:ibe},rwe={[-2]:G_,[-1]:G_,32:G_},swe={35:hbe,42:Wv,45:[KI,Wv],60:xbe,61:KI,95:Wv,96:YI,126:YI},awe={38:NH,92:jH},iwe={[-5]:K_,[-4]:K_,[-3]:K_,33:Rbe,38:NH,42:NP,60:[Ive,Nbe],91:Ibe,92:[ube,jH],93:I4,95:NP,96:Kve},owe={null:[NP,Qbe]},lwe={null:[42,95]},cwe={null:[]},uwe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:lwe,contentInitial:nwe,disable:cwe,document:twe,flow:swe,flowInitial:rwe,insideSpan:owe,string:awe,text:iwe},Symbol.toStringTag,{value:"Module"}));function dwe(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],l=[];const c={attempt:P(A),check:P(k),consume:_,enter:S,exit:E,interrupt:P(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:b,parser:e,previous:null,sliceSerialize:p,sliceStream:x,write:f};let h=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function f(M){return o=ri(o,M),y(),o[o.length-1]!==null?[]:(R(t,0),u.events=D4(i,u.events,u),u.events)}function p(M,B){return fwe(x(M),B)}function x(M){return hwe(o,M)}function b(){const{_bufferIndex:M,_index:B,line:J,column:Y,offset:W}=s;return{_bufferIndex:M,_index:B,line:J,column:Y,offset:W}}function v(M){a[M.line]=M.column,D()}function y(){let M;for(;s._index<o.length;){const B=o[s._index];if(typeof B=="string")for(M=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===M&&s._bufferIndex<B.length;)N(B.charCodeAt(s._bufferIndex));else N(B)}}function N(M){h=h(M)}function _(M){Pt(M)?(s.line++,s.column=1,s.offset+=M===-3?2:1,D()):M!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===o[s._index].length&&(s._bufferIndex=-1,s._index++)),u.previous=M}function S(M,B){const J=B||{};return J.type=M,J.start=b(),u.events.push(["enter",J,u]),l.push(J),J}function E(M){const B=l.pop();return B.end=b(),u.events.push(["exit",B,u]),B}function A(M,B){R(M,B.from)}function k(M,B){B.restore()}function P(M,B){return J;function J(Y,W,se){let q,V,U,F;return Array.isArray(Y)?te(Y):"tokenize"in Y?te([Y]):K(Y);function K(pe){return re;function re(ce){const he=ce!==null&&pe[ce],ue=ce!==null&&pe.null,Oe=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return te(Oe)(ce)}}function te(pe){return q=pe,V=0,pe.length===0?se:H(pe[V])}function H(pe){return re;function re(ce){return F=$(),U=pe,pe.partial||(u.currentConstruct=pe),pe.name&&u.parser.constructs.disable.null.includes(pe.name)?ne():pe.tokenize.call(B?Object.assign(Object.create(u),B):u,c,xe,ne)(ce)}}function xe(pe){return M(U,F),W}function ne(pe){return F.restore(),++V<q.length?H(q[V]):se}}}function R(M,B){M.resolveAll&&!i.includes(M)&&i.push(M),M.resolve&&Go(u.events,B,u.events.length-B,M.resolve(u.events.slice(B),u)),M.resolveTo&&(u.events=M.resolveTo(u.events,u))}function $(){const M=b(),B=u.previous,J=u.currentConstruct,Y=u.events.length,W=Array.from(l);return{from:Y,restore:se};function se(){s=M,u.previous=B,u.currentConstruct=J,u.events.length=Y,l=W,D()}}function D(){s.line in a&&s.column<2&&(s.column=a[s.line],s.offset+=a[s.line]-1)}}function hwe(e,t){const n=t.start._index,s=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(s,i)];else{if(o=e.slice(n,a),s>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(s):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function fwe(e,t){let n=-1;const s=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,s.push(o)}return s.join("")}function mwe(e){const s={constructs:wve([uwe,...(e||{}).extensions||[]]),content:a(Pve),defined:[],document:a(Ove),flow:a(Kbe),lazy:{},string:a(Zbe),text:a(Jbe)};return s;function a(i){return o;function o(l){return dwe(s,i,l)}}}function pwe(e){for(;!_H(e););return e}const XI=/[\0\t\n\r]/g;function xwe(){let e=1,t="",n=!0,s;return a;function a(i,o,l){const c=[];let u,h,f,p,x;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(XI.lastIndex=f,u=XI.exec(i),p=u&&u.index!==void 0?u.index:i.length,x=i.charCodeAt(p),!u){t=i.slice(f);break}if(x===10&&f===p&&s)c.push(-3),s=void 0;else switch(s&&(c.push(-5),s=void 0),f<p&&(c.push(i.slice(f,p)),e+=p-f),x){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:s=!0,e=1}f=p+1}return l&&(s&&c.push(-5),t&&c.push(t),c.push(null)),c}}const gwe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ywe(e){return e.replace(gwe,vwe)}function vwe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return bH(n.slice(i?2:1),i?16:10)}return R4(n)||e}const AH={}.hasOwnProperty;function bwe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wwe(n)(pwe(mwe(n).document().write(xwe()(e,t,!0))))}function wwe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(qt),autolinkProtocol:$,autolinkEmail:$,atxHeading:i(yt),blockQuote:i(ue),characterEscape:$,characterReference:$,codeFenced:i(Oe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Oe,o),codeText:i(ge,o),codeTextData:$,data:$,codeFlowValue:$,definition:i(qe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Ce),hardBreakEscape:i(st),hardBreakTrailing:i(st),htmlFlow:i(xt,o),htmlFlowData:$,htmlText:i(xt,o),htmlTextData:$,image:i(Jt),label:o,link:i(qt),listItem:i(Yt),listItemValue:p,listOrdered:i(zn,f),listUnordered:i(zn),paragraph:i(mr),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(yt),strong:i(io),thematicBreak:i(oo)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:he,autolinkProtocol:ce,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:pe,characterReference:re,codeFenced:c(y),codeFencedFence:v,codeFencedFenceInfo:x,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:c(N),codeText:c(W),codeTextData:D,data:D,definition:c(),definitionDestinationString:E,definitionLabelString:_,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(J),htmlFlowData:D,htmlText:c(Y),htmlTextData:D,image:c(q),label:U,labelText:V,lineEnding:M,link:c(se),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:xe,resourceDestinationString:F,resourceTitleString:K,resource:te,setextHeading:c(R),setextHeadingLineSequence:P,setextHeadingText:k,strong:c(),thematicBreak:c()}};OH(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(Ne){let We={type:"root",children:[]};const wt={stack:[We],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:h,data:n},Tt=[];let pt=-1;for(;++pt<Ne.length;)if(Ne[pt][1].type==="listOrdered"||Ne[pt][1].type==="listUnordered")if(Ne[pt][0]==="enter")Tt.push(pt);else{const Cr=Tt.pop();pt=a(Ne,Cr,pt)}for(pt=-1;++pt<Ne.length;){const Cr=t[Ne[pt][0]];AH.call(Cr,Ne[pt][1].type)&&Cr[Ne[pt][1].type].call(Object.assign({sliceSerialize:Ne[pt][2].sliceSerialize},wt),Ne[pt][1])}if(wt.tokenStack.length>0){const Cr=wt.tokenStack[wt.tokenStack.length-1];(Cr[1]||QI).call(wt,void 0,Cr[0])}for(We.position={start:Wc(Ne.length>0?Ne[0][1].start:{line:1,column:1,offset:0}),end:Wc(Ne.length>0?Ne[Ne.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<t.transforms.length;)We=t.transforms[pt](We)||We;return We}function a(Ne,We,wt){let Tt=We-1,pt=-1,Cr=!1,$a,ns,Ba,Va;for(;++Tt<=wt;){const Jn=Ne[Tt];switch(Jn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jn[0]==="enter"?pt++:pt--,Va=void 0;break}case"lineEndingBlank":{Jn[0]==="enter"&&($a&&!Va&&!pt&&!Ba&&(Ba=Tt),Va=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Va=void 0}if(!pt&&Jn[0]==="enter"&&Jn[1].type==="listItemPrefix"||pt===-1&&Jn[0]==="exit"&&(Jn[1].type==="listUnordered"||Jn[1].type==="listOrdered")){if($a){let Es=Tt;for(ns=void 0;Es--;){const Ps=Ne[Es];if(Ps[1].type==="lineEnding"||Ps[1].type==="lineEndingBlank"){if(Ps[0]==="exit")continue;ns&&(Ne[ns][1].type="lineEndingBlank",Cr=!0),Ps[1].type="lineEnding",ns=Es}else if(!(Ps[1].type==="linePrefix"||Ps[1].type==="blockQuotePrefix"||Ps[1].type==="blockQuotePrefixWhitespace"||Ps[1].type==="blockQuoteMarker"||Ps[1].type==="listItemIndent"))break}Ba&&(!ns||Ba<ns)&&($a._spread=!0),$a.end=Object.assign({},ns?Ne[ns][1].start:Jn[1].end),Ne.splice(ns||Tt,0,["exit",$a,Jn[2]]),Tt++,wt++}if(Jn[1].type==="listItemPrefix"){const Es={type:"listItem",_spread:!1,start:Object.assign({},Jn[1].start),end:void 0};$a=Es,Ne.splice(Tt,0,["enter",Es,Jn[2]]),Tt++,wt++,Ba=void 0,Va=!0}}}return Ne[We][1]._spread=Cr,wt}function i(Ne,We){return wt;function wt(Tt){l.call(this,Ne(Tt),Tt),We&&We.call(this,Tt)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(Ne,We,wt){this.stack[this.stack.length-1].children.push(Ne),this.stack.push(Ne),this.tokenStack.push([We,wt||void 0]),Ne.position={start:Wc(We.start),end:void 0}}function c(Ne){return We;function We(wt){Ne&&Ne.call(this,wt),u.call(this,wt)}}function u(Ne,We){const wt=this.stack.pop(),Tt=this.tokenStack.pop();if(Tt)Tt[0].type!==Ne.type&&(We?We.call(this,Ne,Tt[0]):(Tt[1]||QI).call(this,Ne,Tt[0]));else throw new Error("Cannot close `"+Ne.type+"` ("+vx({start:Ne.start,end:Ne.end})+"): its not open");wt.position.end=Wc(Ne.end)}function h(){return vve(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Ne){if(this.data.expectingFirstListItemValue){const We=this.stack[this.stack.length-2];We.start=Number.parseInt(this.sliceSerialize(Ne),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.lang=Ne}function b(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.meta=Ne}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.value=Ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.value=Ne.replace(/(\r?\n|\r)$/g,"")}function _(Ne){const We=this.resume(),wt=this.stack[this.stack.length-1];wt.label=We,wt.identifier=pf(this.sliceSerialize(Ne)).toLowerCase()}function S(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.title=Ne}function E(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.url=Ne}function A(Ne){const We=this.stack[this.stack.length-1];if(!We.depth){const wt=this.sliceSerialize(Ne).length;We.depth=wt}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function P(Ne){const We=this.stack[this.stack.length-1];We.depth=this.sliceSerialize(Ne).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function $(Ne){const wt=this.stack[this.stack.length-1].children;let Tt=wt[wt.length-1];(!Tt||Tt.type!=="text")&&(Tt=cl(),Tt.position={start:Wc(Ne.start),end:void 0},wt.push(Tt)),this.stack.push(Tt)}function D(Ne){const We=this.stack.pop();We.value+=this.sliceSerialize(Ne),We.position.end=Wc(Ne.end)}function M(Ne){const We=this.stack[this.stack.length-1];if(this.data.atHardBreak){const wt=We.children[We.children.length-1];wt.position.end=Wc(Ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(We.type)&&($.call(this,Ne),D.call(this,Ne))}function B(){this.data.atHardBreak=!0}function J(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.value=Ne}function Y(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.value=Ne}function W(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.value=Ne}function se(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const We=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=We,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function q(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const We=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=We,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function V(Ne){const We=this.sliceSerialize(Ne),wt=this.stack[this.stack.length-2];wt.label=ywe(We),wt.identifier=pf(We).toLowerCase()}function U(){const Ne=this.stack[this.stack.length-1],We=this.resume(),wt=this.stack[this.stack.length-1];if(this.data.inReference=!0,wt.type==="link"){const Tt=Ne.children;wt.children=Tt}else wt.alt=We}function F(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.url=Ne}function K(){const Ne=this.resume(),We=this.stack[this.stack.length-1];We.title=Ne}function te(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function xe(Ne){const We=this.resume(),wt=this.stack[this.stack.length-1];wt.label=We,wt.identifier=pf(this.sliceSerialize(Ne)).toLowerCase(),this.data.referenceType="full"}function ne(Ne){this.data.characterReferenceType=Ne.type}function pe(Ne){const We=this.sliceSerialize(Ne),wt=this.data.characterReferenceType;let Tt;wt?(Tt=bH(We,wt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Tt=R4(We);const pt=this.stack[this.stack.length-1];pt.value+=Tt}function re(Ne){const We=this.stack.pop();We.position.end=Wc(Ne.end)}function ce(Ne){D.call(this,Ne);const We=this.stack[this.stack.length-1];We.url=this.sliceSerialize(Ne)}function he(Ne){D.call(this,Ne);const We=this.stack[this.stack.length-1];We.url="mailto:"+this.sliceSerialize(Ne)}function ue(){return{type:"blockquote",children:[]}}function Oe(){return{type:"code",lang:null,meta:null,value:""}}function ge(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function yt(){return{type:"heading",depth:0,children:[]}}function st(){return{type:"break"}}function xt(){return{type:"html",value:""}}function Jt(){return{type:"image",title:null,url:"",alt:null}}function qt(){return{type:"link",title:null,url:"",children:[]}}function zn(Ne){return{type:"list",ordered:Ne.type==="listOrdered",start:null,spread:Ne._spread,children:[]}}function Yt(Ne){return{type:"listItem",spread:Ne._spread,checked:null,children:[]}}function mr(){return{type:"paragraph",children:[]}}function io(){return{type:"strong",children:[]}}function cl(){return{type:"text",value:""}}function oo(){return{type:"thematicBreak"}}}function Wc(e){return{line:e.line,column:e.column,offset:e.offset}}function OH(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?OH(e,s):jwe(e,s)}}function jwe(e,t){let n;for(n in t)if(AH.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function QI(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+vx({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+vx({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+vx({start:t.start,end:t.end})+") is still open")}function Nwe(e){const t=this;t.parser=n;function n(s){return bwe(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function _we(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Swe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Cwe(e,t){const n=t.value?t.value+`
`:"",s={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(s.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function kwe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ewe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Pwe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),a=km(s.toLowerCase()),i=e.footnoteOrder.indexOf(s);let o,l=e.footnoteCounts.get(s);l===void 0?(l=0,e.footnoteOrder.push(s),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(s,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function Awe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Owe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function TH(e,t){const n=t.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=s:a.push({type:"text",value:s}),a}function Twe(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return TH(e,t);const a={src:km(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(a.title=s.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function Mwe(e,t){const n={src:km(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)}function Rwe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)}function Dwe(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return TH(e,t);const a={href:km(s.url||"")};s.title!==null&&s.title!==void 0&&(a.title=s.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Iwe(e,t){const n={href:km(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Lwe(e,t,n){const s=e.all(t),a=n?Fwe(n):MH(t),i={},o=[];if(typeof t.checked=="boolean"){const h=s[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},s.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<s.length;){const h=s[l];(a||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?o.push(...h.children):o.push(h)}const c=s[s.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function Fwe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=MH(n[s])}return t}function MH(e){const t=e.spread;return t??e.children.length>1}function zwe(e,t){const n={},s=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<s.length;){const o=s[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function $we(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bwe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Vwe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Uwe(e,t){const n=e.all(t),s=n.shift(),a=[];if(s){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=A4(t.children[1]),c=fH(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Wwe(e,t,n){const s=n?n.children:void 0,i=(s?s.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],p={},x=o?o[c]:void 0;x&&(p.align=x);let b={type:"element",tagName:i,properties:p,children:[]};f&&(b.children=e.all(f),e.patch(f,b),b=e.applyData(f,b)),u.push(b)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,h),e.applyData(t,h)}function qwe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ZI=9,JI=32;function Hwe(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),a=0;const i=[];for(;s;)i.push(e3(t.slice(a,s.index),a>0,!0),s[0]),a=s.index+s[0].length,s=n.exec(t);return i.push(e3(t.slice(a),a>0,!1)),i.join("")}function e3(e,t,n){let s=0,a=e.length;if(t){let i=e.codePointAt(s);for(;i===ZI||i===JI;)s++,i=e.codePointAt(s)}if(n){let i=e.codePointAt(a-1);for(;i===ZI||i===JI;)a--,i=e.codePointAt(a-1)}return a>s?e.slice(s,a):""}function Ywe(e,t){const n={type:"text",value:Hwe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Gwe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Kwe={blockquote:_we,break:Swe,code:Cwe,delete:kwe,emphasis:Ewe,footnoteReference:Pwe,heading:Awe,html:Owe,imageReference:Twe,image:Mwe,inlineCode:Rwe,linkReference:Dwe,link:Iwe,listItem:Lwe,list:zwe,paragraph:$we,root:Bwe,strong:Vwe,table:Uwe,tableCell:qwe,tableRow:Wwe,text:Ywe,thematicBreak:Gwe,toml:cv,yaml:cv,definition:cv,footnoteDefinition:cv};function cv(){}const RH=-1,vj=0,wx=1,Cb=2,L4=3,F4=4,z4=5,$4=6,DH=7,IH=8,t3=typeof self=="object"?self:globalThis,Xwe=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),s=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case vj:case RH:return n(o,a);case wx:{const l=n([],a);for(const c of o)l.push(s(c));return l}case Cb:{const l=n({},a);for(const[c,u]of o)l[s(c)]=s(u);return l}case L4:return n(new Date(o),a);case F4:{const{source:l,flags:c}=o;return n(new RegExp(l,c),a)}case z4:{const l=n(new Map,a);for(const[c,u]of o)l.set(s(c),s(u));return l}case $4:{const l=n(new Set,a);for(const c of o)l.add(s(c));return l}case DH:{const{name:l,message:c}=o;return n(new t3[l](c),a)}case IH:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new t3[i](o),a)};return s},n3=e=>Xwe(new Map,e)(0),Hh="",{toString:Qwe}={},{keys:Zwe}=Object,Yp=e=>{const t=typeof e;if(t!=="object"||!e)return[vj,t];const n=Qwe.call(e).slice(8,-1);switch(n){case"Array":return[wx,Hh];case"Object":return[Cb,Hh];case"Date":return[L4,Hh];case"RegExp":return[F4,Hh];case"Map":return[z4,Hh];case"Set":return[$4,Hh];case"DataView":return[wx,n]}return n.includes("Array")?[wx,n]:n.includes("Error")?[DH,n]:[Cb,n]},uv=([e,t])=>e===vj&&(t==="function"||t==="symbol"),Jwe=(e,t,n,s)=>{const a=(o,l)=>{const c=s.push(o)-1;return n.set(l,c),c},i=o=>{if(n.has(o))return n.get(o);let[l,c]=Yp(o);switch(l){case vj:{let h=o;switch(c){case"bigint":l=IH,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return a([RH],o)}return a([l,h],o)}case wx:{if(c){let p=o;return c==="DataView"?p=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(p=new Uint8Array(o)),a([c,[...p]],o)}const h=[],f=a([l,h],o);for(const p of o)h.push(i(p));return f}case Cb:{if(c)switch(c){case"BigInt":return a([c,o.toString()],o);case"Boolean":case"Number":case"String":return a([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const h=[],f=a([l,h],o);for(const p of Zwe(o))(e||!uv(Yp(o[p])))&&h.push([i(p),i(o[p])]);return f}case L4:return a([l,o.toISOString()],o);case F4:{const{source:h,flags:f}=o;return a([l,{source:h,flags:f}],o)}case z4:{const h=[],f=a([l,h],o);for(const[p,x]of o)(e||!(uv(Yp(p))||uv(Yp(x))))&&h.push([i(p),i(x)]);return f}case $4:{const h=[],f=a([l,h],o);for(const p of o)(e||!uv(Yp(p)))&&h.push(i(p));return f}}const{message:u}=o;return a([l,{name:c,message:u}],o)};return i},r3=(e,{json:t,lossy:n}={})=>{const s=[];return Jwe(!(t||n),!!t,new Map,s)(e),s},kb=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?n3(r3(e,t)):structuredClone(e):(e,t)=>n3(r3(e,t));function eje(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function tje(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function nje(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||eje,s=e.options.footnoteBackLabel||tje,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const h=e.all(u),f=String(u.identifier).toUpperCase(),p=km(f.toLowerCase());let x=0;const b=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++x<=v;){b.length>0&&b.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,x);typeof _=="string"&&(_={type:"text",value:_}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,x),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const y=h[h.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const _=y.children[y.children.length-1];_&&_.type==="text"?_.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...b)}else h.push(...b);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(h,!0)};e.patch(u,N),l.push(N)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...kb(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const LH=(function(e){if(e==null)return ije;if(typeof e=="function")return bj(e);if(typeof e=="object")return Array.isArray(e)?rje(e):sje(e);if(typeof e=="string")return aje(e);throw new Error("Expected function, string, or object as test")});function rje(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=LH(e[n]);return bj(s);function s(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function sje(e){const t=e;return bj(n);function n(s){const a=s;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function aje(e){return bj(t);function t(n){return n&&n.type===e}}function bj(e){return t;function t(n,s,a){return!!(oje(n)&&e.call(this,n,typeof s=="number"?s:void 0,a||void 0))}}function ije(){return!0}function oje(e){return e!==null&&typeof e=="object"&&"type"in e}const FH=[],lje=!0,s3=!1,cje="skip";function uje(e,t,n,s){let a;typeof t=="function"&&typeof n!="function"?(s=n,n=t):a=t;const i=LH(a),o=s?-1:1;l(e,void 0,[])();function l(c,u,h){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const x=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(x?"<"+x+">":""))+")"})}return p;function p(){let x=FH,b,v,y;if((!t||i(c,u,h[h.length-1]||void 0))&&(x=dje(n(c,h)),x[0]===s3))return x;if("children"in c&&c.children){const N=c;if(N.children&&x[0]!==cje)for(v=(s?N.children.length:-1)+o,y=h.concat(N);v>-1&&v<N.children.length;){const _=N.children[v];if(b=l(_,v,y)(),b[0]===s3)return b;v=typeof b[1]=="number"?b[1]:v+o}}return x}}}function dje(e){return Array.isArray(e)?e:typeof e=="number"?[lje,e]:e==null?FH:[e]}function zH(e,t,n,s){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=s),uje(e,i,l,a);function l(c,u){const h=u[u.length-1],f=h?h.children.indexOf(c):void 0;return o(c,f,h)}}const _P={}.hasOwnProperty,hje={};function fje(e,t){const n=t||hje,s=new Map,a=new Map,i=new Map,o={...Kwe,...n.handlers},l={all:u,applyData:pje,definitionById:s,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:c,options:n,patch:mje,wrap:gje};return zH(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?s:a,p=String(h.identifier).toUpperCase();f.has(p)||f.set(p,h)}}),l;function c(h,f){const p=h.type,x=l.handlers[p];if(_P.call(l.handlers,p)&&x)return x(l,h,f);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in h){const{children:v,...y}=h,N=kb(y);return N.children=l.all(h),N}return kb(h)}return(l.options.unknownHandler||xje)(l,h,f)}function u(h){const f=[];if("children"in h){const p=h.children;let x=-1;for(;++x<p.length;){const b=l.one(p[x],h);if(b){if(x&&p[x-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=a3(b.value)),!Array.isArray(b)&&b.type==="element")){const v=b.children[0];v&&v.type==="text"&&(v.value=a3(v.value))}Array.isArray(b)?f.push(...b):f.push(b)}}}return f}}function mje(e,t){e.position&&(t.position=Qye(e))}function pje(e,t){let n=t;if(e&&e.data){const s=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const o="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,kb(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function xje(e,t){const n=t.data||{},s="value"in t&&!(_P.call(n,"hProperties")||_P.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function gje(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:`
`});++s<e.length;)s&&n.push({type:"text",value:`
`}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function a3(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function i3(e,t){const n=fje(e,t),s=n.one(e,void 0),a=nje(n),i=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function yje(e,t){return e&&"run"in e?async function(n,s){const a=i3(n,{file:s,...t});await e.run(a,s)}:function(n,s){return i3(n,{file:s,...e||t})}}function o3(e){if(e)throw e}var X_,l3;function vje(){if(l3)return X_;l3=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},i=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var h=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!h&&!f)return!1;var p;for(p in u);return typeof p>"u"||e.call(u,p)},o=function(u,h){n&&h.name==="__proto__"?n(u,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):u[h.name]=h.newValue},l=function(u,h){if(h==="__proto__")if(e.call(u,h)){if(s)return s(u,h).value}else return;return u[h]};return X_=function c(){var u,h,f,p,x,b,v=arguments[0],y=1,N=arguments.length,_=!1;for(typeof v=="boolean"&&(_=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<N;++y)if(u=arguments[y],u!=null)for(h in u)f=l(v,h),p=l(u,h),v!==p&&(_&&p&&(i(p)||(x=a(p)))?(x?(x=!1,b=f&&a(f)?f:[]):b=f&&i(f)?f:{},o(v,{name:h,newValue:c(_,b,p)})):typeof p<"u"&&o(v,{name:h,newValue:p}));return v},X_}var bje=vje();const Q_=sn(bje);function SP(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wje(){const e=[],t={run:n,use:s};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(c,...u){const h=e[++i];let f=-1;if(c){o(c);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,h?jje(h,l)(...u):o(null,...u)}}function s(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function jje(e,t){let n;return s;function s(...o){const l=e.length>o.length;let c;l&&o.push(a);try{c=e.apply(this,o)}catch(u){const h=u;if(l&&n)throw h;return a(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(o,...l){n||(n=!0,t(o,...l))}function i(o){a(null,o)}}const Ao={basename:Nje,dirname:_je,extname:Sje,join:Cje,sep:"/"};function Nje(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');lg(e);let n=0,s=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else s<0&&(i=!0,s=a+1);return s<0?"":e.slice(n,s)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(s=a):(l=-1,s=o));return n===s?s=o:s<0&&(s=e.length),e.slice(n,s)}function _je(e){if(lg(e),e.length===0)return".";let t=-1,n=e.length,s;for(;--n;)if(e.codePointAt(n)===47){if(s){t=n;break}}else s||(s=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Sje(e){lg(e);let t=e.length,n=-1,s=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){s=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===s+1?"":e.slice(a,n)}function Cje(...e){let t=-1,n;for(;++t<e.length;)lg(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":kje(n)}function kje(e){lg(e);const t=e.codePointAt(0)===47;let n=Eje(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Eje(e,t){let n="",s=0,a=-1,i=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",s=0):(n=n.slice(0,c),s=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",s=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),s=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function lg(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Pje={cwd:Aje};function Aje(){return"/"}function CP(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Oje(e){if(typeof e=="string")e=new URL(e);else if(!CP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Tje(e)}function Tje(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const s=t.codePointAt(n+2);if(s===70||s===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Z_=["history","path","basename","stem","extname","dirname"];class $H{constructor(t){let n;t?CP(t)?n={path:t}:typeof t=="string"||Mje(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Pje.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<Z_.length;){const i=Z_[s];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Z_.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Ao.basename(this.path):void 0}set basename(t){eS(t,"basename"),J_(t,"basename"),this.path=Ao.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ao.dirname(this.path):void 0}set dirname(t){c3(this.basename,"dirname"),this.path=Ao.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ao.extname(this.path):void 0}set extname(t){if(J_(t,"extname"),c3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ao.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){CP(t)&&(t=Oje(t)),eS(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ao.basename(this.path,this.extname):void 0}set stem(t){eS(t,"stem"),J_(t,"stem"),this.path=Ao.join(this.dirname||"",t+(this.extname||""))}fail(t,n,s){const a=this.message(t,n,s);throw a.fatal=!0,a}info(t,n,s){const a=this.message(t,n,s);return a.fatal=void 0,a}message(t,n,s){const a=new ks(t,n,s);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function J_(e,t){if(e&&e.includes(Ao.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ao.sep+"`")}function eS(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function c3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Mje(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Rje=(function(e){const s=this.constructor.prototype,a=s[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,s),i}),Dje={}.hasOwnProperty;class B4 extends Rje{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wje()}copy(){const t=new B4;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];t.use(...s)}return t.data(Q_(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(rS("data",this.frozen),this.namespace[t]=n,this):Dje.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rS("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const a=n.call(t,...s);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=dv(t),s=this.parser||this.Parser;return tS("parse",s),s(String(n),n)}process(t,n){const s=this;return this.freeze(),tS("process",this.parser||this.Parser),nS("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const l=dv(t),c=s.parse(l);s.run(c,l,function(h,f,p){if(h||!f||!p)return u(h);const x=f,b=s.stringify(x,p);Fje(b)?p.value=b:p.result=b,u(h,p)});function u(h,f){h||!f?o(h):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,s;return this.freeze(),tS("processSync",this.parser||this.Parser),nS("processSync",this.compiler||this.Compiler),this.process(t,a),d3("processSync","process",n),s;function a(i,o){n=!0,o3(i),s=o}}run(t,n,s){u3(t),this.freeze();const a=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?i(void 0,s):new Promise(i);function i(o,l){const c=dv(n);a.run(t,c,u);function u(h,f,p){const x=f||t;h?l(h):o?o(x):s(void 0,x,p)}}}runSync(t,n){let s=!1,a;return this.run(t,n,i),d3("runSync","run",s),a;function i(o,l){o3(o),a=l,s=!0}}stringify(t,n){this.freeze();const s=dv(n),a=this.compiler||this.Compiler;return nS("stringify",a),u3(t),a(t,s)}use(t,...n){const s=this.attachers,a=this.namespace;if(rS("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...f]=u;c(h,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=Q_(!0,a.settings,u.settings))}function l(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const f=u[h];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,h){let f=-1,p=-1;for(;++f<s.length;)if(s[f][0]===u){p=f;break}if(p===-1)s.push([u,...h]);else if(h.length>0){let[x,...b]=h;const v=s[p][1];SP(v)&&SP(x)&&(x=Q_(!0,v,x)),s[p]=[u,x,...b]}}}}const Ije=new B4().freeze();function tS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rS(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function u3(e){if(!SP(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function d3(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dv(e){return Lje(e)?e:new $H(e)}function Lje(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Fje(e){return typeof e=="string"||zje(e)}function zje(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $je="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",h3=[],f3={allowDangerousHtml:!0},Bje=/^(https?|ircs?|mailto|xmpp)$/i,Vje=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Uje(e){const t=Wje(e),n=qje(e);return Hje(t.runSync(t.parse(n),n),e)}function Wje(e){const t=e.rehypePlugins||h3,n=e.remarkPlugins||h3,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...f3}:f3;return Ije().use(Nwe).use(n).use(yje,s).use(t)}function qje(e){const t=e.children||"",n=new $H;return typeof t=="string"&&(n.value=t),n}function Hje(e,t){const n=t.allowedElements,s=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||Yje;for(const h of Vje)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+$je+h.id,void 0);return zH(e,u),nve(e,{Fragment:r.Fragment,components:a,ignoreInvalidStyle:!0,jsx:r.jsx,jsxs:r.jsxs,passKeys:!0,passNode:!0});function u(h,f,p){if(h.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let x;for(x in Y_)if(Object.hasOwn(Y_,x)&&Object.hasOwn(h.properties,x)){const b=h.properties[x],v=Y_[x];(v===null||v.includes(h.tagName))&&(h.properties[x]=c(String(b||""),x,h))}}if(h.type==="element"){let x=n?!n.includes(h.tagName):i?i.includes(h.tagName):!1;if(!x&&s&&typeof f=="number"&&(x=!s(h,f,p)),x&&p&&typeof f=="number")return l&&h.children?p.children.splice(f,1,...h.children):p.children.splice(f,1),f}}}function Yje(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||s!==-1&&t>s||Bje.test(e.slice(0,t))?e:""}const Gje=({toolCall:e})=>{const[t,n]=j.useState(!1),s=(e==null?void 0:e.name)||"Function",a=(e==null?void 0:e.status)||"pending",i=e==null?void 0:e.results,o=(()=>{if(!i)return null;try{return typeof i=="string"?JSON.parse(i):i}catch{return i}})(),l=i&&(typeof i=="string"&&/error|failed/i.test(i)||(o==null?void 0:o.success)===!1),c={pending:{icon:$t,color:"text-slate-400",text:"Pending"},running:{icon:bt,color:"text-slate-500",text:"Running...",spin:!0},in_progress:{icon:bt,color:"text-slate-500",text:"Running...",spin:!0},completed:l?{icon:bn,color:"text-red-500",text:"Failed"}:{icon:Ke,color:"text-green-600",text:"Success"},success:{icon:Ke,color:"text-green-600",text:"Success"},failed:{icon:bn,color:"text-red-500",text:"Failed"},error:{icon:bn,color:"text-red-500",text:"Failed"}}[a]||{icon:Hr,color:"text-slate-500",text:""},u=c.icon,h=s.split(".").reverse().join(" ").toLowerCase();return r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsxs("button",{onClick:()=>n(!t),className:dt("flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all","hover:bg-slate-50",t?"bg-slate-50 border-slate-300":"bg-white border-slate-200"),children:[r.jsx(u,{className:dt("h-3 w-3",c.color,c.spin&&"animate-spin")}),r.jsx("span",{className:"text-slate-700",children:h}),c.text&&r.jsxs("span",{className:dt("text-slate-500",l&&"text-red-600"),children:[" ",c.text]}),!c.spin&&(e.arguments_string||i)&&r.jsx(Ld,{className:dt("h-3 w-3 text-slate-400 transition-transform ml-auto",t&&"rotate-90")})]}),t&&!c.spin&&r.jsxs("div",{className:"mt-1.5 ml-3 pl-3 border-l-2 border-slate-200 space-y-2",children:[e.arguments_string&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Parameters:"}),r.jsx("pre",{className:"bg-slate-50 rounded-md p-2 text-xs text-slate-600 whitespace-pre-wrap",children:(()=>{try{return JSON.stringify(JSON.parse(e.arguments_string),null,2)}catch{return e.arguments_string}})()})]}),o&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Result:"}),r.jsx("pre",{className:"bg-slate-50 rounded-md p-2 text-xs text-slate-600 whitespace-pre-wrap max-h-48 overflow-auto",children:typeof o=="object"?JSON.stringify(o,null,2):o})]})]})]})};function wj({message:e}){var n;const t=e.role==="user";return r.jsxs("div",{className:dt("flex gap-3",t?"justify-end":"justify-start"),children:[!t&&r.jsx("div",{className:"h-7 w-7 rounded-lg bg-slate-100 flex items-center justify-center mt-0.5",children:r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-slate-400"})}),r.jsxs("div",{className:dt("max-w-[85%]",t&&"flex flex-col items-end"),children:[e.content&&r.jsx("div",{className:dt("rounded-2xl px-4 py-2.5",t?"bg-slate-800 text-white":"bg-white border border-slate-200"),children:t?r.jsx("p",{className:"text-sm leading-relaxed",children:e.content}):r.jsx(Uje,{className:"text-sm prose prose-sm prose-slate max-w-none [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",components:{code:({inline:s,className:a,children:i,...o})=>{const l=/language-(\w+)/.exec(a||"");return!s&&l?r.jsxs("div",{className:"relative group/code",children:[r.jsx("pre",{className:"bg-slate-900 text-slate-100 rounded-lg p-3 overflow-x-auto my-2",children:r.jsx("code",{className:a,...o,children:i})}),r.jsx(ae,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover/code:opacity-100 bg-slate-800 hover:bg-slate-700",onClick:()=>{navigator.clipboard.writeText(String(i).replace(/\n$/,"")),fe.success("Code copied")},children:r.jsx(zo,{className:"h-3 w-3 text-slate-400"})})]}):r.jsx("code",{className:"px-1 py-0.5 rounded bg-slate-100 text-slate-700 text-xs",children:i})},a:({children:s,...a})=>r.jsx("a",{...a,target:"_blank",rel:"noopener noreferrer",children:s}),p:({children:s})=>r.jsx("p",{className:"my-1 leading-relaxed",children:s}),ul:({children:s})=>r.jsx("ul",{className:"my-1 ml-4 list-disc",children:s}),ol:({children:s})=>r.jsx("ol",{className:"my-1 ml-4 list-decimal",children:s}),li:({children:s})=>r.jsx("li",{className:"my-0.5",children:s}),h1:({children:s})=>r.jsx("h1",{className:"text-lg font-semibold my-2",children:s}),h2:({children:s})=>r.jsx("h2",{className:"text-base font-semibold my-2",children:s}),h3:({children:s})=>r.jsx("h3",{className:"text-sm font-semibold my-2",children:s}),blockquote:({children:s})=>r.jsx("blockquote",{className:"border-l-2 border-slate-300 pl-3 my-2 text-slate-600",children:s})},children:e.content})}),((n=e.tool_calls)==null?void 0:n.length)>0&&r.jsx("div",{className:"space-y-1",children:e.tool_calls.map((s,a)=>r.jsx(Gje,{toolCall:s},a))})]})]})}const m3={agentName:"biloop_assistant",agentTitle:"SYNK-IA Assistant - Procesador de Biloop",systemPrompt:`Eres el Asistente de Biloop de SYNK-IA, especializado en procesamiento inteligente de documentos contables.

TUS CAPACIDADES:
1.  EXTRACCIN DE DATOS: Extraer informacin de facturas (PDF, imgenes, CSV, Excel)
2.  IDENTIFICACIN DE PROVEEDORES: Detectar y registrar proveedores automticamente
3.  CLASIFICACIN AUTOMTICA: Categorizar gastos e ingresos
4.  ANLISIS CONTABLE: Revisar importes, IVA, retenciones
5.  VALIDACIN: Detectar errores o inconsistencias en facturas
6.  INFORMES: Generar resmenes de gastos e ingresos
7.  INTEGRACIN BILOOP: Procesar archivos exportados de Biloop

CMO RESPONDES:
- S preciso con nmeros y datos financieros
- Explica el proceso de extraccin paso a paso
- Confirma datos antes de crear registros
- Alerta sobre posibles errores o anomalas
- Usa emojis para organizar la informacin
- Proporciona resmenes claros

FORMATOS SOPORTADOS:
-  PDF de facturas
-  Imgenes de documentos (JPG, PNG)
-  Excel/CSV de Biloop
-  ZIP con mltiples archivos

PROCESO DE IMPORTACIN:
1. Analizar el archivo subido
2. Extraer datos clave (proveedor, fecha, importe, IVA)
3. Validar la informacin
4. Crear/actualizar registros en el sistema
5. Informar del resultado

CONTEXTO:
Trabaja principalmente con archivos exportados de Biloop o facturas escaneadas.`,async processBiloopFile(e,t){try{const n=this.detectFileType(t);let s={fileName:t,fileType:n,processed:!1,invoices:[],errors:[]};return n==="pdf"||n==="image"?s=await this.extractFromDocument(e,t):(n==="csv"||n==="excel")&&(s=await this.extractFromSpreadsheet(e,t)),s}catch(n){return console.error("Error processing Biloop file:",n),{fileName:t,processed:!1,error:n.message}}},detectFileType(e){const t=e.split(".").pop().toLowerCase();return t==="pdf"?"pdf":["jpg","jpeg","png"].includes(t)?"image":t==="csv"?"csv":["xlsx","xls"].includes(t)?"excel":t==="zip"?"zip":"unknown"},async extractFromDocument(e,t){try{const n=await ee.integrations.Core.ExtractData({file_url:e,extraction_type:"invoice"});return{fileName:t,fileType:"document",processed:!0,invoices:n.invoices||[],rawData:n}}catch(n){return console.error("Error extracting from document:",n),{fileName:t,processed:!1,error:n.message}}},async extractFromSpreadsheet(e,t){try{const n=await ee.integrations.Core.ExtractData({file_url:e,extraction_type:"spreadsheet"});return{fileName:t,fileType:"spreadsheet",processed:!0,invoices:n.invoices||[],rawData:n}}catch(n){return console.error("Error extracting from spreadsheet:",n),{fileName:t,processed:!1,error:n.message}}},async createInvoicesFromData(e){try{const t={success:[],failed:[]};for(const n of e)try{const s=await ee.entities.Invoice.create(n);t.success.push(s)}catch(s){t.failed.push({data:n,error:s.message})}return t}catch(t){return console.error("Error creating invoices:",t),{success:[],failed:[]}}},async analyzeRecentExpenses(e=30){try{const t=new Date;t.setDate(t.getDate()-e);const n=await ee.entities.Invoice.list({type:"expense",since:t.toISOString()}),s=n.reduce((i,o)=>i+(o.total||0),0),a={};return n.forEach(i=>{const o=i.category||"Sin categora";a[o]||(a[o]={count:0,total:0}),a[o].count++,a[o].total+=i.total||0}),{period:`${e} das`,totalInvoices:n.length,totalAmount:s,byCategory:a}}catch(t){return console.error("Error analyzing expenses:",t),null}},async compareProviderPrices(e){try{const n=(await ee.entities.Invoice.list()).filter(a=>JSON.stringify(a).toLowerCase().includes(e.toLowerCase())),s={};return n.forEach(a=>{const i=a.provider_name||"Desconocido";s[i]||(s[i]=[]),s[i].push({amount:a.total||0,date:a.date})}),{searchTerm:e,providersFound:Object.keys(s).length,comparison:s}}catch(t){return console.error("Error comparing prices:",t),null}},async enrichMessageWithContext(e){try{let t={};return/gastos|facturas|ltimas|reciente/i.test(e)&&(t.expenses=await this.analyzeRecentExpenses(30)),/ahorro|compara|precio|proveedor/i.test(e)&&(t.opportunities="Puedo comparar precios entre proveedores. Qu producto o servicio quieres analizar?"),{userMessage:e,context:t,enriched:Object.keys(t).length>0}}catch(t){return console.error("Error enriching message:",t),{userMessage:e,enriched:!1}}}};function BH(){var N;const[e,t]=j.useState(null),[n,s]=j.useState([]),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),h=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{p()},[]),j.useEffect(()=>{var _;(_=h.current)==null||_.scrollIntoView({behavior:"smooth"})},[n]);const p=async()=>{try{const _=await ee.agents.createConversation({agent_name:"biloop_assistant",metadata:{name:"Chat con SYNK-IA",description:"Asistente de Biloop"}});t(_),s(_.messages||[]),ee.agents.subscribeToConversation(_.id,S=>{s(S.messages||[])})}catch(_){console.error("Error creating conversation:",_),fe.error("Error al iniciar el chat")}},x=async()=>{if(!a.trim()||!e||o)return;const _=a;i(""),l(!0);try{const S=await m3.enrichMessageWithContext(_);let E=_;S.enriched&&S.context&&(E=`${_}

[Contexto de Facturas]
${JSON.stringify(S.context,null,2)}`),await ee.agents.addMessage(e,{role:"user",content:E})}catch(S){console.error("Error sending message:",S),fe.error("Error al enviar mensaje")}finally{l(!1)}},b=async _=>{var k,P;const S=(k=_.target.files)==null?void 0:k[0];if(!S||!e)return;const E=[".csv",".xlsx",".xls",".pdf",".zip",".jpg",".jpeg",".png"],A="."+S.name.split(".").pop().toLowerCase();if(!E.includes(A)){fe.error("Tipo de archivo no vlido. Use CSV, Excel, PDF, imgenes o ZIP");return}if(S.size>20*1024*1024){fe.error("El archivo es demasiado grande. Mximo 20MB");return}u(!0);try{const{file_url:R}=await ee.integrations.Core.UploadFile({file:S}),$=await m3.processBiloopFile(R,S.name);let D=`He subido un archivo de Biloop (${S.name}).`;$.processed&&(D+=`

Archivo procesado exitosamente:
- Tipo: ${$.fileType}
- Facturas detectadas: ${((P=$.invoices)==null?void 0:P.length)||0}`),await ee.agents.addMessage(e,{role:"user",content:D,file_urls:[R]}),fe.success("Archivo subido y procesado - Revisando contenido")}catch(R){console.error("Error uploading file:",R),fe.error("Error al subir archivo: "+R.message)}finally{u(!1),f.current&&(f.current.value="")}},v=[{label:" Analizar ltimas facturas",message:"Analiza las ltimas 10 facturas y dime si hay algo importante que deba saber"},{label:" Buscar ahorros",message:"Busca oportunidades de ahorro comparando precios entre proveedores"},{label:" Resumen del mes",message:"Dame un resumen de gastos de este mes: total, IVA, facturas pendientes"}],y=ee.agents.getWhatsAppConnectURL("biloop_assistant");return r.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 p-4 shadow-sm",children:r.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Tv,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white"})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"SYNK-IA Assistant"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Conectado y listo"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(be,{className:"bg-blue-100 text-blue-800 flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3"}),"Procesador de Biloop"]}),r.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Wi,{className:"w-4 h-4"}),"Conectar WhatsApp",r.jsx(Ui,{className:"w-3 h-3"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"max-w-5xl mx-auto p-4 space-y-4",children:[n.length===0&&r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(ur,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Hola David! "}),r.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Soy tu asistente inteligente para gestionar Biloop. Puedo ayudarte a:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:" Importar facturas desde archivos CSV/Excel de Biloop"}),r.jsx("li",{children:" Analizar gastos y encontrar ahorros potenciales"}),r.jsx("li",{children:" Comparar precios entre proveedores"}),r.jsx("li",{children:" Consultar y buscar facturas especficas"}),r.jsx("li",{children:" Generar reportes y resmenes"})]})]})]})})}),n.length===0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map((_,S)=>r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all cursor-pointer",onClick:()=>{i(_.message),x()},children:r.jsx(Q,{className:"p-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-700",children:_.label})})},S))}),n.map((_,S)=>r.jsx(wj,{message:_},S)),o&&((N=n[n.length-1])==null?void 0:N.role)==="user"&&r.jsxs("div",{className:"flex gap-3 justify-start",children:[r.jsx("div",{className:"h-7 w-7 rounded-lg bg-gray-100 flex items-center justify-center",children:r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-2.5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 animate-spin text-blue-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Pensando..."})]})})]}),r.jsx("div",{ref:h})]})}),r.jsx("div",{className:"bg-white border-t border-gray-200 p-4 shadow-lg",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls,.pdf,.zip",onChange:b,className:"hidden"}),r.jsx(ae,{variant:"outline",size:"icon",onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},disabled:c||!e,className:"flex-shrink-0",children:c?r.jsx(bt,{className:"w-5 h-5 animate-spin"}):r.jsx(_r,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx(He,{value:a,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&x(),placeholder:"Escribe tu mensaje o sube un archivo de Biloop...",disabled:o||!e,className:"pr-12 py-6 text-base"})}),r.jsx(ae,{onClick:x,disabled:!a.trim()||o||!e,className:"bg-blue-600 hover:bg-blue-700 flex-shrink-0",size:"icon",children:r.jsx(Wo,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Sube CSV, Excel, PDF o ZIP de Biloop o pregntame sobre tus facturas"})]})})]})}function VH(){const[e,t]=j.useState("2025-01-01"),[n,s]=j.useState(new Date().toISOString().split("T")[0]),[a,i]=j.useState(""),[o,l]=j.useState(null),[c,u]=j.useState(!1),[h,f]=j.useState(null),[p,x]=j.useState(!1),[b,v]=j.useState(!1);j.useRef(null);const y=Kt(),{data:N,isLoading:_,refetch:S,isRefetching:E}=Be({queryKey:["biloop-documents",e,n,a],queryFn:async()=>{var M;return((M=(await ee.functions.invoke("biloopGetDocuments",{date_from:e,date_to:n,provider:a||void 0})).data)==null?void 0:M.documents)||[]},initialData:[]}),{data:A}=Be({queryKey:["local-invoices"],queryFn:()=>ee.entities.Invoice.list("-created_date",100),initialData:[]}),k=async D=>{var M,B;if(l(D),f(null),u(!0),D.pdf_url)f(D.pdf_url);else try{const J=await ee.functions.invoke("biloopDownloadPdf",{biloop_id:D.id});(M=J.data)!=null&&M.pdf_base64?f(`data:application/pdf;base64,${J.data.pdf_base64}`):(B=J.data)!=null&&B.pdf_url&&f(J.data.pdf_url)}catch{fe.error("No se pudo cargar el PDF")}},P=async(D,M)=>{var B,J;v(!0);try{const W=await ee.functions.invoke("biloopUploadInvoice",{invoice_number:D.invoice_number,provider_name:D.provider_name,provider_cif:D.provider_cif||"",invoice_date:D.invoice_date,due_date:D.due_date,subtotal:D.subtotal,iva:D.iva,total:D.total,category:D.category,pdf_url:D.file_url,pdf_base64:null,notes:D.notes});(B=W.data)!=null&&B.success?(fe.success(` Factura ${D.invoice_number} enviada a Biloop`),S()):fe.error(((J=W.data)==null?void 0:J.error)||"Error al enviar factura")}catch(Y){fe.error("Error: "+Y.message)}finally{v(!1),x(!1)}},R=async D=>{try{if(A.find(B=>B.invoice_number===D.invoice_number)){fe.info("Esta factura ya existe localmente");return}await ee.entities.Invoice.create({invoice_number:D.invoice_number,provider_name:D.provider_name,invoice_date:D.date,due_date:D.due_date,subtotal:D.subtotal,iva:D.iva,total:D.total,status:D.status==="pagada"?"pagada":"pendiente",category:D.category||"suministros",file_url:D.pdf_url}),fe.success(` Factura ${D.invoice_number} importada`),y.invalidateQueries({queryKey:["local-invoices"]})}catch(M){fe.error("Error: "+M.message)}},$=D=>{const M={pagada:{color:"bg-green-100 text-green-800",label:"Pagada"},pendiente:{color:"bg-yellow-100 text-yellow-800",label:"Pendiente"},vencida:{color:"bg-red-100 text-red-800",label:"Vencida"}},B=M[D==null?void 0:D.toLowerCase()]||M.pendiente;return r.jsx(be,{className:B.color,children:B.label})};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-green-400",children:"Biloop Sync  Bidireccional"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[r.jsx(Ye,{className:"w-10 h-10 text-blue-400"}),"Documentos Biloop"]}),r.jsx("p",{className:"text-gray-400",children:"Visualiza, descarga y sincroniza facturas con Biloop"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(ae,{onClick:()=>x(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Enviar a Biloop"]}),r.jsxs(ae,{onClick:()=>S(),disabled:E,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:[E?r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Actualizar"]})]})]})]}),r.jsx(X,{className:"border-none shadow-xl bg-slate-800 mb-6",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-gray-300 text-sm",children:"Desde"}),r.jsx(He,{type:"date",value:e,onChange:D=>t(D.target.value),className:"w-40 bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-gray-300 text-sm",children:"Hasta"}),r.jsx(He,{type:"date",value:n,onChange:D=>s(D.target.value),className:"w-40 bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{className:"flex-1 min-w-[200px]",children:[r.jsx(Te,{className:"text-gray-300 text-sm",children:"Buscar proveedor"}),r.jsxs("div",{className:"relative",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(He,{placeholder:"Nombre del proveedor...",value:a,onChange:D=>i(D.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]})]}),r.jsxs(ae,{onClick:()=>S(),variant:"outline",className:"border-slate-600 text-white hover:bg-slate-700",children:[r.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Filtrar"]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-none",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-blue-100 text-sm",children:"Documentos Biloop"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:N.length})]})}),r.jsx(X,{className:"bg-gradient-to-br from-green-600 to-green-700 border-none",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Total Facturas"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[N.reduce((D,M)=>D+(M.total||0),0).toFixed(0),""]})]})}),r.jsx(X,{className:"bg-gradient-to-br from-yellow-600 to-orange-600 border-none",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-yellow-100 text-sm",children:"Pendientes"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:N.filter(D=>D.status==="pendiente").length})]})}),r.jsx(X,{className:"bg-gradient-to-br from-purple-600 to-pink-600 border-none",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-purple-100 text-sm",children:"Locales sin sync"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:A.filter(D=>!N.find(M=>M.invoice_number===D.invoice_number)).length})]})})]}),r.jsxs(X,{className:"border-none shadow-xl bg-slate-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5"}),"Facturas en Biloop"]})}),r.jsx(Q,{children:_?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(bt,{className:"w-8 h-8 text-blue-400 animate-spin"})}):N.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-400",children:[r.jsx(Ye,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No se encontraron documentos en Biloop"}),r.jsx("p",{className:"text-sm mt-2",children:"Verifica los filtros o las credenciales"})]}):r.jsxs(uj,{children:[r.jsx(dj,{children:r.jsxs(Ol,{className:"border-slate-700",children:[r.jsx(gr,{className:"text-gray-300",children:"N Factura"}),r.jsx(gr,{className:"text-gray-300",children:"Proveedor"}),r.jsx(gr,{className:"text-gray-300",children:"Fecha"}),r.jsx(gr,{className:"text-gray-300",children:"Total"}),r.jsx(gr,{className:"text-gray-300",children:"Estado"}),r.jsx(gr,{className:"text-gray-300",children:"PDF"}),r.jsx(gr,{className:"text-gray-300",children:"Acciones"})]})}),r.jsx(hj,{children:N.map((D,M)=>{var J;const B=A.find(Y=>Y.invoice_number===D.invoice_number);return r.jsxs(Ol,{className:"border-slate-700 hover:bg-slate-700/50",children:[r.jsx(nr,{className:"text-white font-medium",children:D.invoice_number}),r.jsxs(nr,{className:"text-gray-300",children:[D.provider_name,D.provider_cif&&r.jsx("span",{className:"text-xs text-gray-500 block",children:D.provider_cif})]}),r.jsx(nr,{className:"text-gray-300",children:D.date?Ge(new Date(D.date),"dd/MM/yyyy"):"-"}),r.jsxs(nr,{className:"text-white font-bold",children:[(J=D.total)==null?void 0:J.toFixed(2),""]}),r.jsx(nr,{children:$(D.status)}),r.jsx(nr,{children:D.pdf_url?r.jsx(be,{className:"bg-green-600 text-white",children:"PDF"}):r.jsx(be,{className:"bg-gray-600 text-gray-300",children:"Sin PDF"})}),r.jsx(nr,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ae,{size:"sm",variant:"outline",onClick:()=>k(D),className:"border-slate-600 text-white hover:bg-slate-700",children:r.jsx(Xn,{className:"w-4 h-4"})}),!B&&r.jsx(ae,{size:"sm",onClick:()=>R(D),className:"bg-green-600 hover:bg-green-700",children:r.jsx(La,{className:"w-4 h-4"})}),B&&r.jsxs(be,{className:"bg-blue-600 text-white",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Local"]})]})})]},M)})})]})})]}),r.jsx(Fn,{open:c,onOpenChange:u,children:r.jsxs(Pn,{className:"max-w-4xl max-h-[90vh]",children:[r.jsx(An,{children:r.jsxs(On,{children:["Factura ",o==null?void 0:o.invoice_number," - ",o==null?void 0:o.provider_name]})}),r.jsx("div",{className:"h-[70vh]",children:h?r.jsx("iframe",{src:h,className:"w-full h-full rounded-lg",title:"PDF Viewer"}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-500"})})})]})}),r.jsx(Fn,{open:p,onOpenChange:x,children:r.jsxs(Pn,{className:"max-w-2xl",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(Wo,{className:"w-5 h-5"}),"Enviar Factura a Biloop"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona una factura local para enviar a Biloop:"}),r.jsxs("div",{className:"max-h-[400px] overflow-y-auto space-y-2",children:[A.filter(D=>!N.find(M=>M.invoice_number===D.invoice_number)).map((D,M)=>{var B;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:D.invoice_number}),r.jsx("p",{className:"text-sm text-gray-600",children:D.provider_name})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"font-bold",children:[(B=D.total)==null?void 0:B.toFixed(2),""]}),r.jsx(ae,{size:"sm",onClick:()=>P(D),disabled:b,className:"bg-green-600 hover:bg-green-700",children:b?r.jsx(bt,{className:"w-4 h-4 animate-spin"}):r.jsx(Wo,{className:"w-4 h-4"})})]})]},M)}),A.filter(D=>!N.find(M=>M.invoice_number===D.invoice_number)).length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ke,{className:"w-12 h-12 mx-auto mb-2 text-green-500"}),r.jsx("p",{children:"Todas las facturas estn sincronizadas"})]})]})]})]})})]})})}function UH(){var F,K;const{startTask:e,updateTask:t,addStep:n,completeTask:s,failTask:a,getTask:i}=BE(),o=i("biloop_import"),[l,c]=j.useState((o==null?void 0:o.status)==="running"),[u,h]=j.useState("manual"),[f,p]=j.useState(!1),[x,b]=j.useState((o==null?void 0:o.result)||null),[v,y]=j.useState((o==null?void 0:o.steps)||[]),[N,_]=j.useState(((F=o==null?void 0:o.metadata)==null?void 0:F.fileName)||null),[S,E]=j.useState(0),[A,k]=j.useState(null),[P,R]=j.useState(()=>{const te=localStorage.getItem("biloop_upload_logs");return te?JSON.parse(te):[]}),$=j.useRef(null),D=te=>{const H={id:Date.now(),timestamp:new Date().toISOString(),...te};R(xe=>{const ne=[H,...xe].slice(0,50);return localStorage.setItem("biloop_upload_logs",JSON.stringify(ne)),ne})},M=()=>{R([]),localStorage.removeItem("biloop_upload_logs")},B=Kt();j.useEffect(()=>{o&&(o.status==="completed"&&o.result&&(b(o.result),c(!1)),o.status==="failed"&&c(!1),o.steps&&y(o.steps))},[o]);const J=te=>{te.preventDefault(),te.stopPropagation(),te.type==="dragenter"||te.type==="dragover"?p(!0):te.type==="dragleave"&&p(!1)},Y=async te=>{te.preventDefault(),te.stopPropagation(),p(!1);const H=Array.from(te.dataTransfer.files);H.length>0&&await U(H)},W=async te=>{const H=Array.from(te.target.files);H.length>0&&await U(H)},se=async()=>{var te,H,xe;c(!0),b(null),y([]);try{y([{step:"Conectando con Biloop API...",status:"loading"}]),await new Promise(pe=>setTimeout(pe,800));const ne=await ee.functions.invoke("biloopRealSync");y(pe=>[...pe.slice(0,-1),{step:"Biloop API conectada",status:"success"},{step:"Sincronizando facturas 2025...",status:"loading"}]),await new Promise(pe=>setTimeout(pe,800)),y(pe=>[...pe.slice(0,-1),{step:"Facturas sincronizadas",status:"success"},{step:"Creando proveedores automticamente...",status:"loading"}]),await new Promise(pe=>setTimeout(pe,600)),y(pe=>[...pe.slice(0,-1),{step:"Proveedores creados",status:"success"},{step:"Generando comparaciones de precios...",status:"loading"}]),await new Promise(pe=>setTimeout(pe,600)),y(pe=>[...pe.slice(0,-1),{step:"Comparaciones generadas",status:"success"},{step:" Sincronizacin completada",status:"success"}]),b({success:((te=ne.data.results)==null?void 0:te.invoices_created)||0,errors:0,providersCreated:((H=ne.data.results)==null?void 0:H.providers_created)||0,comparisonsCreated:((xe=ne.data.results)==null?void 0:xe.comparisons_created)||0,source:ne.data.source,details:{created:[],errors:[],providers:[]}}),B.invalidateQueries({queryKey:["invoices"]}),B.invalidateQueries({queryKey:["providers"]}),B.invalidateQueries({queryKey:["price-comparisons"]}),fe.success(" Sincronizacin automtica completada")}catch(ne){y(pe=>[...pe,{step:"Error en sincronizacin",status:"error"}]),fe.error("Error: "+ne.message),b({success:0,errors:1,providersCreated:0,comparisonsCreated:0,details:{created:[],errors:[{error:ne.message}],providers:[]}})}finally{c(!1)}},{clearTask:q}=BE(),V=()=>{b(null),y([]),_(null),q("biloop_import")},U=async te=>{c(!0),b(null),y([]),_(`${te.length} archivos`),k("uploading"),E(0);const H=te.length,xe=[];let ne=0,pe=0,re=0;const ce=[];e("biloop_import",{name:`Importar ${H} archivos`,fileName:`${H} archivos`}),D({fileName:`${H} archivos`,fileSize:(te.reduce((qe,Ce)=>qe+Ce.size,0)/1024/1024).toFixed(2)+" MB",status:"iniciado",message:`Subiendo ${H} archivos...`}),y([{step:` FASE 1: Subiendo ${H} archivos...`,status:"loading"}]);for(let qe=0;qe<te.length;qe++){const Ce=te[qe],yt=Math.round((qe+1)/H*50);E(yt),t("biloop_import",{progress:yt});try{y(xt=>[...xt.slice(0,-1),{step:` Subiendo [${qe+1}/${H}] ${Ce.name}...`,status:"loading"}]);const{file_url:st}=await ee.integrations.Core.UploadFile({file:Ce});xe.push({file:Ce,file_url:st,name:Ce.name})}catch(st){re++,ce.push({file:Ce.name,error:`Error subiendo: ${st.message}`})}}y(qe=>[...qe.slice(0,-1),{step:` ${xe.length}/${H} archivos subidos`,status:"success"}]),k("processing"),y(qe=>[...qe,{step:` FASE 2: Procesando ${xe.length} archivos con IA...`,status:"loading"}]);const he=await ee.entities.Provider.list(),ue=new Set(he.map(qe=>{var Ce;return(Ce=qe.name)==null?void 0:Ce.toLowerCase()})),Oe={type:"object",properties:{invoices:{type:"array",items:{type:"object",properties:{provider_name:{type:"string"},provider_cif:{type:"string"},invoice_number:{type:"string"},invoice_date:{type:"string"},due_date:{type:"string"},subtotal:{type:"number"},iva:{type:"number"},total:{type:"number"},status:{type:"string"},category:{type:"string"}}}}}};for(let qe=0;qe<xe.length;qe++){const{file_url:Ce,name:yt}=xe[qe],st=50+Math.round((qe+1)/xe.length*50);E(st),t("biloop_import",{progress:st});try{y(Jt=>[...Jt.slice(0,-1),{step:` Procesando [${qe+1}/${xe.length}] ${yt}...`,status:"loading"}]);const xt=await ee.integrations.Core.ExtractDataFromUploadedFile({file_url:Ce,json_schema:Oe});if(xt.status==="success"&&xt.output){let Jt=[];xt.output.invoices&&Array.isArray(xt.output.invoices)?Jt=xt.output.invoices:Array.isArray(xt.output)?Jt=xt.output:Jt=[xt.output];for(const qt of Jt)try{const zn=qt.provider_name;zn&&!ue.has(zn.toLowerCase())&&(await ee.entities.Provider.create({name:zn,cif:qt.provider_cif||"",category:qt.category||"otros",status:"activo",rating:3}),ue.add(zn.toLowerCase()),pe++);let Yt="pendiente";if(qt.status){const mr=qt.status.toLowerCase();mr.includes("pagad")||mr.includes("cobrad")?Yt="pagada":mr.includes("vencid")?Yt="vencida":mr.includes("cancel")&&(Yt="cancelada")}await ee.entities.Invoice.create({provider_name:qt.provider_name||"Sin nombre",invoice_number:qt.invoice_number||"",invoice_date:qt.invoice_date||"",due_date:qt.due_date||"",subtotal:qt.subtotal||0,iva:qt.iva||0,total:qt.total||0,status:Yt,category:qt.category||"otros",file_url:Ce}),ne++}catch(zn){re++,ce.push({file:yt,error:zn.message})}}}catch(xt){re++,ce.push({file:yt,error:`Error procesando: ${xt.message}`})}}const ge={success:ne,errors:re,providersCreated:pe,comparisonsCreated:0,source:"batch_upload",details:{created:[],errors:ce.map(qe=>({error:`${qe.file}: ${qe.error}`})),providers:[]},message:`${ne} facturas + ${pe} proveedores de ${H} archivos`};b(ge),k("success"),E(100),s("biloop_import",ge),y(qe=>[...qe.slice(0,-1),{step:` ${xe.length} archivos procesados`,status:"success"},{step:` ${ne} facturas + ${pe} proveedores importados`,status:"success"}]),D({fileName:`${H} archivos`,fileSize:(te.reduce((qe,Ce)=>qe+Ce.size,0)/1024/1024).toFixed(2)+" MB",status:"completado",message:`${ne} facturas + ${pe} proveedores`,invoices:ne,providers:pe}),B.invalidateQueries({queryKey:["invoices"]}),B.invalidateQueries({queryKey:["providers"]}),fe.success(` ${ne} facturas de ${H} archivos importadas`,{duration:1e4}),c(!1)};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Sincronizacin Biloop  Assempsa"})]}),r.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:r.jsxs("div",{children:[r.jsxs("h1",{className:"text-5xl font-black text-white mb-3 flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 30px rgba(6, 182, 212, 0.4), inset 0 0 20px rgba(6, 182, 212, 0.1)"},children:r.jsx(Pf,{className:"w-9 h-9 text-cyan-400",style:{filter:"drop-shadow(0 0 10px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 20px rgba(6, 182, 212, 0.6)"},children:"BILOOP SYNC"})]}),r.jsx("p",{className:"text-xl text-zinc-400",children:" Sincronizacin automtica de facturas 2025  Gestin inteligente"})]})})]}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-black border border-cyan-500/50",style:{boxShadow:"0 0 30px rgba(6, 182, 212, 0.3)"},children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-black border border-cyan-500/50 rounded-xl flex items-center justify-center flex-shrink-0",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.4)"},children:r.jsx(Hr,{className:"w-6 h-6 text-cyan-400",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.8))"}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-xl mb-2 text-cyan-400",children:" Modo de Sincronizacin"}),r.jsx("p",{className:"text-sm text-cyan-100/70",children:u==="auto"?" Automtico: Conecta directamente con Biloop API y sincroniza facturas 2025":" Manual: Sube archivos CSV/Excel exportados desde Biloop"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Te,{htmlFor:"sync-mode",className:"text-cyan-400 font-medium cursor-pointer",children:u==="auto"?"Automtico":"Manual"}),r.jsx(zf,{id:"sync-mode",checked:u==="auto",onCheckedChange:te=>h(te?"auto":"manual"),className:"data-[state=checked]:bg-cyan-500 data-[state=unchecked]:bg-zinc-700"})]})]})})}),u==="auto"&&r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800 mb-8",children:[r.jsx(ke,{className:"bg-black border-b border-cyan-500/30 text-white rounded-t-xl",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.2)"},children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx(Hr,{className:"w-7 h-7 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",children:" Sincronizacin Automtica"})]})}),r.jsxs(Q,{className:"p-8",children:[!l&&!x&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"flex justify-center gap-6 mb-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-xl",children:r.jsx(Pf,{className:"w-10 h-10 text-white"})}),r.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Biloop API"})]}),r.jsx("div",{className:"flex items-center",children:r.jsx(zl,{className:"w-8 h-8 text-blue-400"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-xl",children:r.jsx(Ke,{className:"w-10 h-10 text-white"})}),r.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Facturas 2025"})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:" Proceso Automtico:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-left",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold",children:"1"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:"Conecta con Biloop"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"API assempsa.biloop.es"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:"Sincroniza datos"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Facturas + Proveedores"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:"Genera insights"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Comparaciones IA"})]})]})]})]}),r.jsxs(ae,{onClick:se,size:"lg",className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 font-bold text-lg px-8 py-6",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4)"},children:[r.jsx(Hr,{className:"w-6 h-6 mr-3"}),"Iniciar Sincronizacin Automtica"]})]}),l&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(bt,{className:"w-20 h-20 text-blue-500 animate-spin"})}),r.jsx("div",{className:"space-y-3",children:v.map((te,H)=>r.jsxs("div",{className:"flex items-center gap-3 bg-slate-800 rounded-lg p-4 border border-slate-700",children:[te.status==="loading"&&r.jsx(bt,{className:"w-5 h-5 text-blue-400 animate-spin flex-shrink-0"}),te.status==="success"&&r.jsx(Ke,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),te.status==="error"&&r.jsx(bn,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),r.jsx("span",{className:`text-sm font-medium ${te.status==="success"?"text-green-300":te.status==="error"?"text-red-300":"text-blue-300"}`,children:te.step})]},H))})]})]})]}),u==="manual"&&r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800 mb-8",children:[r.jsx(ke,{className:"bg-black border-b border-cyan-500/30 text-white rounded-t-xl",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.2)"},children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx(_r,{className:"w-7 h-7 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",children:" Importacin Manual"})]})}),r.jsx(Q,{className:"p-8",children:r.jsxs("div",{onDragEnter:J,onDragLeave:J,onDragOver:J,onDrop:Y,className:`border-2 border-dashed rounded-xl p-12 text-center transition-all ${f?"border-purple-500 bg-purple-900/20":"border-slate-600 hover:border-slate-500"}`,children:[r.jsx("input",{ref:$,type:"file",accept:".csv,.xlsx,.xls,.pdf,.zip",onChange:W,className:"hidden",disabled:l,multiple:!0}),l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"w-full max-w-md mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-purple-300",children:A==="uploading"?" Subiendo archivo...":" Procesando..."}),r.jsxs("span",{className:"text-sm font-bold text-white",children:[S,"%"]})]}),r.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 rounded-full",style:{width:`${S}%`}})})]}),N&&r.jsxs("div",{className:"flex items-center justify-center gap-3 bg-slate-700/50 rounded-xl p-4 max-w-md mx-auto",children:[r.jsx(nV,{className:"w-6 h-6 text-purple-400"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-white font-medium",children:N}),r.jsx("p",{className:"text-xs text-gray-400",children:A==="uploading"?"Subiendo al servidor...":"Extrayendo datos con IA..."})]})]}),r.jsx("p",{className:"text-center text-gray-400 text-sm",children:" Puedes navegar a otras pginas, el proceso continuar en segundo plano"}),r.jsx("div",{className:"space-y-3",children:v.map((te,H)=>r.jsxs("div",{className:"flex items-center justify-center gap-3 text-gray-300",children:[te.status==="loading"&&r.jsx(bt,{className:"w-4 h-4 animate-spin"}),te.status==="success"&&r.jsx(Ke,{className:"w-4 h-4 text-green-400"}),te.status==="error"&&r.jsx(ai,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-sm",children:te.step})]},H))})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl",children:r.jsx(ZR,{className:"w-12 h-12 text-white"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-bold mb-2 text-white",children:"Arrastra tu archivo de Biloop aqu"}),r.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"CSV, Excel, PDF o ZIP  La IA procesar todo automticamente"}),r.jsxs(ae,{onClick:()=>{var te;return(te=$.current)==null?void 0:te.click()},size:"lg",className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 font-bold",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:[r.jsx(_r,{className:"w-5 h-5 mr-2"}),"Seleccionar Archivo"]})]})]})]})})]}),x&&r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{className:"bg-black border-b border-cyan-500/30 text-white rounded-t-xl",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.2)"},children:r.jsx(Pe,{className:"flex items-center gap-3 text-2xl",children:x.success>0?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",children:" Sincronizacin Completada"})]}):r.jsxs(r.Fragment,{children:[r.jsx(bn,{className:"w-8 h-8 text-red-400"}),r.jsx("span",{className:"text-red-400",children:" Error en Sincronizacin"})]})})}),r.jsxs(Q,{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-2 border-green-600 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("div",{className:"w-14 h-14 bg-green-600 rounded-xl flex items-center justify-center",children:r.jsx(ZR,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Facturas"}),r.jsx("p",{className:"text-4xl font-black text-white",children:x.success})]})]}),r.jsx(be,{className:"bg-green-600 text-white",children:x.source==="biloop_api"?" API Real":" Upload Manual"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-2 border-blue-600 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-xl flex items-center justify-center",children:r.jsx(ln,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Proveedores"}),r.jsx("p",{className:"text-4xl font-black text-white",children:x.providersCreated})]})]}),r.jsx(be,{className:"bg-blue-600 text-white",children:"Automtico"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-2 border-purple-600 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("div",{className:"w-14 h-14 bg-purple-600 rounded-xl flex items-center justify-center",children:r.jsx(En,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Comparaciones"}),r.jsx("p",{className:"text-4xl font-black text-white",children:x.comparisonsCreated||0})]})]}),r.jsx(be,{className:"bg-purple-600 text-white",children:"IA Insights"})]})]}),x.providersCreated>0&&((K=x.details.providers)==null?void 0:K.length)>0&&r.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-xl p-6 mb-6",children:[r.jsxs("p",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-blue-400"}),"Proveedores creados automticamente:"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:x.details.providers.map((te,H)=>r.jsx(be,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-sm px-4 py-2",children:te.name},H))})]}),x.success>0&&r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsxs(ae,{onClick:()=>window.location.href="/Invoices",size:"lg",className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 font-bold",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:["Ver Facturas Importadas",r.jsx(zl,{className:"w-5 h-5 ml-2"})]}),r.jsx(ae,{size:"lg",variant:"outline",className:"border-zinc-700 text-zinc-400 hover:bg-zinc-800 hover:border-cyan-500/50",onClick:V,children:"Nueva Sincronizacin"})]}),x.errors>0&&x.details.errors.length>0&&r.jsxs("div",{className:"mt-6 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Detalles de errores:"}),r.jsx("div",{className:"bg-red-50 rounded-lg p-4 space-y-2 max-h-60 overflow-y-auto",children:x.details.errors.map((te,H)=>r.jsxs("div",{className:"text-sm text-red-700",children:[" ",te.error]},H))})]})]})]}),P.length>0&&r.jsxs(X,{className:"border-none shadow-2xl bg-gradient-to-br from-slate-800 to-slate-900 mb-8",children:[r.jsx(ke,{className:"bg-gradient-to-r from-slate-700 to-slate-600 text-white rounded-t-xl",children:r.jsxs(Pe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Yte,{className:"w-6 h-6"})," Historial de Cargas"]}),r.jsxs(ae,{variant:"ghost",size:"sm",onClick:M,className:"text-gray-300 hover:text-white hover:bg-slate-600",children:[r.jsx(qr,{className:"w-4 h-4 mr-2"}),"Limpiar"]})]})}),r.jsx(Q,{className:"p-0 max-h-80 overflow-y-auto",children:r.jsx("div",{className:"divide-y divide-slate-700",children:P.map(te=>r.jsx("div",{className:"p-4 hover:bg-slate-700/50 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[te.status==="completado"&&r.jsx(Ke,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),te.status==="error"&&r.jsx(ai,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),te.status==="subido"&&r.jsx(_r,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),te.status==="iniciado"&&r.jsx($t,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:te.fileName}),r.jsx("p",{className:"text-sm text-gray-400",children:te.fileSize}),r.jsx("p",{className:`text-sm mt-1 ${te.status==="completado"?"text-green-400":te.status==="error"?"text-red-400":"text-gray-300"}`,children:te.message}),te.invoices!==void 0&&r.jsxs("div",{className:"flex gap-4 mt-2",children:[r.jsxs(be,{className:"bg-green-600 text-white",children:[te.invoices," facturas"]}),r.jsxs(be,{className:"bg-blue-600 text-white",children:[te.providers," proveedores"]})]})]})]}),r.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:new Date(te.timestamp).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})},te.id))})})]}),!x&&r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-slate-700",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(bn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white mb-2 text-lg",children:" Informacin"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Modo Automtico:"})," Conecta directamente con assempsa.biloop.es va API y sincroniza solo facturas de 2025"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Modo Manual:"})," Exporta desde Biloop y sube archivos CSV/Excel/PDF"]}),r.jsxs("p",{className:"pt-2 border-t border-slate-700",children:[r.jsx("strong",{className:"text-blue-400",children:"Formato recomendado:"})," CSV con columnas: Proveedor, CIF, N Factura, Fecha, Total, IVA"]})]})]})]})})})]})})}var sS,p3;function da(){if(p3)return sS;p3=1;var e=Array.isArray;return sS=e,sS}var aS,x3;function WH(){if(x3)return aS;x3=1;var e=typeof qy=="object"&&qy&&qy.Object===Object&&qy;return aS=e,aS}var iS,g3;function sl(){if(g3)return iS;g3=1;var e=WH(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return iS=n,iS}var oS,y3;function cg(){if(y3)return oS;y3=1;var e=sl(),t=e.Symbol;return oS=t,oS}var lS,v3;function Kje(){if(v3)return lS;v3=1;var e=cg(),t=Object.prototype,n=t.hasOwnProperty,s=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=n.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var h=s.call(o);return u&&(l?o[a]=c:delete o[a]),h}return lS=i,lS}var cS,b3;function Xje(){if(b3)return cS;b3=1;var e=Object.prototype,t=e.toString;function n(s){return t.call(s)}return cS=n,cS}var uS,w3;function ic(){if(w3)return uS;w3=1;var e=cg(),t=Kje(),n=Xje(),s="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?t(l):n(l)}return uS=o,uS}var dS,j3;function oc(){if(j3)return dS;j3=1;function e(t){return t!=null&&typeof t=="object"}return dS=e,dS}var hS,N3;function Em(){if(N3)return hS;N3=1;var e=ic(),t=oc(),n="[object Symbol]";function s(a){return typeof a=="symbol"||t(a)&&e(a)==n}return hS=s,hS}var fS,_3;function V4(){if(_3)return fS;_3=1;var e=da(),t=Em(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:s.test(i)||!n.test(i)||o!=null&&i in Object(o)}return fS=a,fS}var mS,S3;function bu(){if(S3)return mS;S3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return mS=e,mS}var pS,C3;function U4(){if(C3)return pS;C3=1;var e=ic(),t=bu(),n="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==s||c==a||c==n||c==i}return pS=o,pS}var xS,k3;function Qje(){if(k3)return xS;k3=1;var e=sl(),t=e["__core-js_shared__"];return xS=t,xS}var gS,E3;function Zje(){if(E3)return gS;E3=1;var e=Qje(),t=(function(){var s=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function n(s){return!!t&&t in s}return gS=n,gS}var yS,P3;function qH(){if(P3)return yS;P3=1;var e=Function.prototype,t=e.toString;function n(s){if(s!=null){try{return t.call(s)}catch{}try{return s+""}catch{}}return""}return yS=n,yS}var vS,A3;function Jje(){if(A3)return vS;A3=1;var e=U4(),t=Zje(),n=bu(),s=qH(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,h=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||t(p))return!1;var x=e(p)?h:i;return x.test(s(p))}return vS=f,vS}var bS,O3;function eNe(){if(O3)return bS;O3=1;function e(t,n){return t==null?void 0:t[n]}return bS=e,bS}var wS,T3;function Jd(){if(T3)return wS;T3=1;var e=Jje(),t=eNe();function n(s,a){var i=t(s,a);return e(i)?i:void 0}return wS=n,wS}var jS,M3;function jj(){if(M3)return jS;M3=1;var e=Jd(),t=e(Object,"create");return jS=t,jS}var NS,R3;function tNe(){if(R3)return NS;R3=1;var e=jj();function t(){this.__data__=e?e(null):{},this.size=0}return NS=t,NS}var _S,D3;function nNe(){if(D3)return _S;D3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return _S=e,_S}var SS,I3;function rNe(){if(I3)return SS;I3=1;var e=jj(),t="__lodash_hash_undefined__",n=Object.prototype,s=n.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return s.call(o,i)?o[i]:void 0}return SS=a,SS}var CS,L3;function sNe(){if(L3)return CS;L3=1;var e=jj(),t=Object.prototype,n=t.hasOwnProperty;function s(a){var i=this.__data__;return e?i[a]!==void 0:n.call(i,a)}return CS=s,CS}var kS,F3;function aNe(){if(F3)return kS;F3=1;var e=jj(),t="__lodash_hash_undefined__";function n(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=e&&a===void 0?t:a,this}return kS=n,kS}var ES,z3;function iNe(){if(z3)return ES;z3=1;var e=tNe(),t=nNe(),n=rNe(),s=sNe(),a=aNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,ES=i,ES}var PS,$3;function oNe(){if($3)return PS;$3=1;function e(){this.__data__=[],this.size=0}return PS=e,PS}var AS,B3;function W4(){if(B3)return AS;B3=1;function e(t,n){return t===n||t!==t&&n!==n}return AS=e,AS}var OS,V3;function Nj(){if(V3)return OS;V3=1;var e=W4();function t(n,s){for(var a=n.length;a--;)if(e(n[a][0],s))return a;return-1}return OS=t,OS}var TS,U3;function lNe(){if(U3)return TS;U3=1;var e=Nj(),t=Array.prototype,n=t.splice;function s(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return TS=s,TS}var MS,W3;function cNe(){if(W3)return MS;W3=1;var e=Nj();function t(n){var s=this.__data__,a=e(s,n);return a<0?void 0:s[a][1]}return MS=t,MS}var RS,q3;function uNe(){if(q3)return RS;q3=1;var e=Nj();function t(n){return e(this.__data__,n)>-1}return RS=t,RS}var DS,H3;function dNe(){if(H3)return DS;H3=1;var e=Nj();function t(n,s){var a=this.__data__,i=e(a,n);return i<0?(++this.size,a.push([n,s])):a[i][1]=s,this}return DS=t,DS}var IS,Y3;function _j(){if(Y3)return IS;Y3=1;var e=oNe(),t=lNe(),n=cNe(),s=uNe(),a=dNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,IS=i,IS}var LS,G3;function q4(){if(G3)return LS;G3=1;var e=Jd(),t=sl(),n=e(t,"Map");return LS=n,LS}var FS,K3;function hNe(){if(K3)return FS;K3=1;var e=iNe(),t=_j(),n=q4();function s(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return FS=s,FS}var zS,X3;function fNe(){if(X3)return zS;X3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return zS=e,zS}var $S,Q3;function Sj(){if(Q3)return $S;Q3=1;var e=fNe();function t(n,s){var a=n.__data__;return e(s)?a[typeof s=="string"?"string":"hash"]:a.map}return $S=t,$S}var BS,Z3;function mNe(){if(Z3)return BS;Z3=1;var e=Sj();function t(n){var s=e(this,n).delete(n);return this.size-=s?1:0,s}return BS=t,BS}var VS,J3;function pNe(){if(J3)return VS;J3=1;var e=Sj();function t(n){return e(this,n).get(n)}return VS=t,VS}var US,e6;function xNe(){if(e6)return US;e6=1;var e=Sj();function t(n){return e(this,n).has(n)}return US=t,US}var WS,t6;function gNe(){if(t6)return WS;t6=1;var e=Sj();function t(n,s){var a=e(this,n),i=a.size;return a.set(n,s),this.size+=a.size==i?0:1,this}return WS=t,WS}var qS,n6;function H4(){if(n6)return qS;n6=1;var e=hNe(),t=mNe(),n=pNe(),s=xNe(),a=gNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,qS=i,qS}var HS,r6;function HH(){if(r6)return HS;r6=1;var e=H4(),t="Expected a function";function n(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=s.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(n.Cache||e),i}return n.Cache=e,HS=n,HS}var YS,s6;function yNe(){if(s6)return YS;s6=1;var e=HH(),t=500;function n(s){var a=e(s,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return YS=n,YS}var GS,a6;function vNe(){if(a6)return GS;a6=1;var e=yNe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(n,"$1"):l||o)}),i});return GS=s,GS}var KS,i6;function Y4(){if(i6)return KS;i6=1;function e(t,n){for(var s=-1,a=t==null?0:t.length,i=Array(a);++s<a;)i[s]=n(t[s],s,t);return i}return KS=e,KS}var XS,o6;function bNe(){if(o6)return XS;o6=1;var e=cg(),t=Y4(),n=da(),s=Em(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(s(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return XS=o,XS}var QS,l6;function YH(){if(l6)return QS;l6=1;var e=bNe();function t(n){return n==null?"":e(n)}return QS=t,QS}var ZS,c6;function GH(){if(c6)return ZS;c6=1;var e=da(),t=V4(),n=vNe(),s=YH();function a(i,o){return e(i)?i:t(i,o)?[i]:n(s(i))}return ZS=a,ZS}var JS,u6;function Cj(){if(u6)return JS;u6=1;var e=Em();function t(n){if(typeof n=="string"||e(n))return n;var s=n+"";return s=="0"&&1/n==-1/0?"-0":s}return JS=t,JS}var e2,d6;function G4(){if(d6)return e2;d6=1;var e=GH(),t=Cj();function n(s,a){a=e(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[t(a[i++])];return i&&i==o?s:void 0}return e2=n,e2}var t2,h6;function KH(){if(h6)return t2;h6=1;var e=G4();function t(n,s,a){var i=n==null?void 0:e(n,s);return i===void 0?a:i}return t2=t,t2}var wNe=KH();const Da=sn(wNe);var n2,f6;function jNe(){if(f6)return n2;f6=1;function e(t){return t==null}return n2=e,n2}var NNe=jNe();const Ot=sn(NNe);var r2,m6;function _Ne(){if(m6)return r2;m6=1;var e=ic(),t=da(),n=oc(),s="[object String]";function a(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==s}return r2=a,r2}var SNe=_Ne();const Ud=sn(SNe);var CNe=U4();const Et=sn(CNe);var kNe=bu();const Pm=sn(kNe);var s2={exports:{}},gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p6;function ENe(){if(p6)return gn;p6=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function v(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case e:switch(y=y.type,y){case n:case a:case s:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case c:case p:case f:case i:return y;default:return N}}case t:return N}}}return gn.ContextConsumer=o,gn.ContextProvider=i,gn.Element=e,gn.ForwardRef=c,gn.Fragment=n,gn.Lazy=p,gn.Memo=f,gn.Portal=t,gn.Profiler=a,gn.StrictMode=s,gn.Suspense=u,gn.SuspenseList=h,gn.isAsyncMode=function(){return!1},gn.isConcurrentMode=function(){return!1},gn.isContextConsumer=function(y){return v(y)===o},gn.isContextProvider=function(y){return v(y)===i},gn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},gn.isForwardRef=function(y){return v(y)===c},gn.isFragment=function(y){return v(y)===n},gn.isLazy=function(y){return v(y)===p},gn.isMemo=function(y){return v(y)===f},gn.isPortal=function(y){return v(y)===t},gn.isProfiler=function(y){return v(y)===a},gn.isStrictMode=function(y){return v(y)===s},gn.isSuspense=function(y){return v(y)===u},gn.isSuspenseList=function(y){return v(y)===h},gn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===a||y===s||y===u||y===h||y===x||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===f||y.$$typeof===i||y.$$typeof===o||y.$$typeof===c||y.$$typeof===b||y.getModuleId!==void 0)},gn.typeOf=v,gn}var x6;function PNe(){return x6||(x6=1,s2.exports=ENe()),s2.exports}var ANe=PNe(),a2,g6;function XH(){if(g6)return a2;g6=1;var e=ic(),t=oc(),n="[object Number]";function s(a){return typeof a=="number"||t(a)&&e(a)==n}return a2=s,a2}var i2,y6;function ONe(){if(y6)return i2;y6=1;var e=XH();function t(n){return e(n)&&n!=+n}return i2=t,i2}var TNe=ONe();const ug=sn(TNe);var MNe=XH();const RNe=sn(MNe);var zs=function(t){return t===0?0:t>0?1:-1},wd=function(t){return Ud(t)&&t.indexOf("%")===t.length-1},Ue=function(t){return RNe(t)&&!ug(t)},DNe=function(t){return Ot(t)},Ur=function(t){return Ue(t)||Ud(t)},INe=0,Am=function(t){var n=++INe;return"".concat(t||"").concat(n)},$s=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&!Ud(t))return s;var i;if(wd(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return ug(i)&&(i=s),a&&i>n&&(i=n),i},Kc=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},LNe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},a=0;a<n;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},Aa=function(t,n){return Ue(t)&&Ue(n)?function(s){return t+s*(n-t)}:function(){return n}};function Eb(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Da(s,t))===n})}var FNe=function(t,n){return Ue(t)&&Ue(n)?t-n:Ud(t)&&Ud(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function xf(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function kP(e){"@babel/helpers - typeof";return kP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kP(e)}var zNe=["viewBox","children"],$Ne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v6=["points","pathLength"],o2={svg:zNe,polygon:v6,polyline:v6},K4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pb=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(j.isValidElement(t)&&(s=t.props),!Pm(s))return null;var a={};return Object.keys(s).forEach(function(i){K4.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},BNe=function(t,n,s){return function(a){return t(n,s,a),null}},Wd=function(t,n,s){if(!Pm(t)||kP(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];K4.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=BNe(o,n,s))}),a},VNe=["children"],UNe=["children"];function b6(e,t){if(e==null)return{};var n=WNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function WNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function EP(e){"@babel/helpers - typeof";return EP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EP(e)}var w6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},j6=null,l2=null,X4=function e(t){if(t===j6&&Array.isArray(l2))return l2;var n=[];return j.Children.forEach(t,function(s){Ot(s)||(ANe.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),l2=n,j6=t,n};function Ia(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Bl(a)}):s=[Bl(t)],X4(e).forEach(function(a){var i=Da(a,"type.displayName")||Da(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function Ea(e,t){var n=Ia(e,t);return n&&n[0]}var N6=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,a=n.height;return!(!Ue(s)||s<=0||!Ue(a)||a<=0)},qNe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HNe=function(t){return t&&t.type&&Ud(t.type)&&qNe.indexOf(t.type)>=0},YNe=function(t){return t&&EP(t)==="object"&&"clipDot"in t},GNe=function(t,n,s,a){var i,o=(i=o2==null?void 0:o2[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Et(t)&&(a&&o.includes(n)||$Ne.includes(n))||s&&K4.includes(n)},_t=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!Pm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;GNe((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},PP=function e(t,n){if(t===n)return!0;var s=j.Children.count(t);if(s!==j.Children.count(n))return!1;if(s===0)return!0;if(s===1)return _6(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!_6(i,o))return!1}return!0},_6=function(t,n){if(Ot(t)&&Ot(n))return!0;if(!Ot(t)&&!Ot(n)){var s=t.props||{},a=s.children,i=b6(s,VNe),o=n.props||{},l=o.children,c=b6(o,UNe);return a&&l?xf(i,c)&&PP(a,l):!a&&!l?xf(i,c):!1}return!1},S6=function(t,n){var s=[],a={};return X4(t).forEach(function(i,o){if(HNe(i))s.push(i);else if(i){var l=Bl(i.type),c=n[l]||{},u=c.handler,h=c.once;if(u&&(!h||!a[l])){var f=u(i,l,o);s.push(f),a[l]=!0}}}),s},KNe=function(t){var n=t&&t.type;return n&&w6[n]?w6[n]:null},XNe=function(t,n){return X4(n).indexOf(t)},QNe=["children","width","height","viewBox","className","style","title","desc"];function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AP.apply(this,arguments)}function ZNe(e,t){if(e==null)return{};var n=JNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function JNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function OP(e){var t=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ZNe(e,QNe),h=a||{width:n,height:s,x:0,y:0},f=Mt("recharts-surface",i);return oe.createElement("svg",AP({},_t(u,!0,"svg"),{className:f,width:n,height:s,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),oe.createElement("title",null,l),oe.createElement("desc",null,c),t)}var e1e=["children","className"];function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TP.apply(this,arguments)}function t1e(e,t){if(e==null)return{};var n=n1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function n1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var on=oe.forwardRef(function(e,t){var n=e.children,s=e.className,a=t1e(e,e1e),i=Mt("recharts-layer",s);return oe.createElement("g",TP({className:i},_t(a,!0),{ref:t}),n)}),Yi=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},c2,C6;function r1e(){if(C6)return c2;C6=1;function e(t,n,s){var a=-1,i=t.length;n<0&&(n=-n>i?0:i+n),s=s>i?i:s,s<0&&(s+=i),i=n>s?0:s-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+n];return o}return c2=e,c2}var u2,k6;function s1e(){if(k6)return u2;k6=1;var e=r1e();function t(n,s,a){var i=n.length;return a=a===void 0?i:a,!s&&a>=i?n:e(n,s,a)}return u2=t,u2}var d2,E6;function QH(){if(E6)return d2;E6=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=t+n+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return d2=c,d2}var h2,P6;function a1e(){if(P6)return h2;P6=1;function e(t){return t.split("")}return h2=e,h2}var f2,A6;function i1e(){if(A6)return f2;A6=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=t+n+s,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",h="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",b=u+"?",v="["+i+"]?",y="(?:"+x+"(?:"+[h,f,p].join("|")+")"+v+b+")*",N=v+b+y,_="(?:"+[h+l+"?",l,f,p,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+_+N,"g");function E(A){return A.match(S)||[]}return f2=E,f2}var m2,O6;function o1e(){if(O6)return m2;O6=1;var e=a1e(),t=QH(),n=i1e();function s(a){return t(a)?n(a):e(a)}return m2=s,m2}var p2,T6;function l1e(){if(T6)return p2;T6=1;var e=s1e(),t=QH(),n=o1e(),s=YH();function a(i){return function(o){o=s(o);var l=t(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return p2=a,p2}var x2,M6;function c1e(){if(M6)return x2;M6=1;var e=l1e(),t=e("toUpperCase");return x2=t,x2}var u1e=c1e();const kj=sn(u1e);function Vn(e){return function(){return e}}const ZH=Math.cos,Ab=Math.sin,so=Math.sqrt,Ob=Math.PI,Ej=2*Ob,MP=Math.PI,RP=2*MP,pd=1e-6,d1e=RP-pd;function JH(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function h1e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JH;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class f1e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JH:h1e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,o){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,u=a-n,h=o-t,f=l-n,p=h*h+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>pd)if(!(Math.abs(f*c-u*h)>pd)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let x=s-o,b=a-l,v=c*c+u*u,y=x*x+b*b,N=Math.sqrt(v),_=Math.sqrt(p),S=i*Math.tan((MP-Math.acos((v+p-y)/(2*N*_)))/2),E=S/_,A=S/N;Math.abs(E-1)>pd&&this._append`L${t+E*h},${n+E*f}`,this._append`A${i},${i},0,0,${+(f*x>h*b)},${this._x1=t+A*c},${this._y1=n+A*u}`}}arc(t,n,s,a,i,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),u=t+l,h=n+c,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>pd||Math.abs(this._y1-h)>pd)&&this._append`L${u},${h}`,s&&(p<0&&(p=p%RP+RP),p>d1e?this._append`A${s},${s},0,1,${f},${t-l},${n-c}A${s},${s},0,1,${f},${this._x1=u},${this._y1=h}`:p>pd&&this._append`A${s},${s},0,${+(p>=MP)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Q4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new f1e(t)}function Z4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eY(e){this._context=e}eY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pj(e){return new eY(e)}function tY(e){return e[0]}function nY(e){return e[1]}function rY(e,t){var n=Vn(!0),s=null,a=Pj,i=null,o=Q4(l);e=typeof e=="function"?e:e===void 0?tY:Vn(e),t=typeof t=="function"?t:t===void 0?nY:Vn(t);function l(c){var u,h=(c=Z4(c)).length,f,p=!1,x;for(s==null&&(i=a(x=o())),u=0;u<=h;++u)!(u<h&&n(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(x)return i=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Vn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Vn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Vn(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function hv(e,t,n){var s=null,a=Vn(!0),i=null,o=Pj,l=null,c=Q4(u);e=typeof e=="function"?e:e===void 0?tY:Vn(+e),t=typeof t=="function"?t:Vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?nY:Vn(+n);function u(f){var p,x,b,v=(f=Z4(f)).length,y,N=!1,_,S=new Array(v),E=new Array(v);for(i==null&&(l=o(_=c())),p=0;p<=v;++p){if(!(p<v&&a(y=f[p],p,f))===N)if(N=!N)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=p-1;b>=x;--b)l.point(S[b],E[b]);l.lineEnd(),l.areaEnd()}N&&(S[p]=+e(y,p,f),E[p]=+t(y,p,f),l.point(s?+s(y,p,f):S[p],n?+n(y,p,f):E[p]))}if(_)return l=null,_+""||null}function h(){return rY().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Vn(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vn(+f),u):n},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(n)},u.lineX1=function(){return h().x(s).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Vn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class sY{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function m1e(e){return new sY(e,!0)}function p1e(e){return new sY(e,!1)}const J4={draw(e,t){const n=so(t/Ob);e.moveTo(n,0),e.arc(0,0,n,0,Ej)}},x1e={draw(e,t){const n=so(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aY=so(1/3),g1e=aY*2,y1e={draw(e,t){const n=so(t/g1e),s=n*aY;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},v1e={draw(e,t){const n=so(t),s=-n/2;e.rect(s,s,n,n)}},b1e=.8908130915292852,iY=Ab(Ob/10)/Ab(7*Ob/10),w1e=Ab(Ej/10)*iY,j1e=-ZH(Ej/10)*iY,N1e={draw(e,t){const n=so(t*b1e),s=w1e*n,a=j1e*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=Ej*i/5,l=ZH(o),c=Ab(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},g2=so(3),_1e={draw(e,t){const n=-so(t/(g2*3));e.moveTo(0,n*2),e.lineTo(-g2*n,-n),e.lineTo(g2*n,-n),e.closePath()}},Za=-.5,Ja=so(3)/2,DP=1/so(12),S1e=(DP/2+1)*3,C1e={draw(e,t){const n=so(t/S1e),s=n/2,a=n*DP,i=s,o=n*DP+n,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Za*s-Ja*a,Ja*s+Za*a),e.lineTo(Za*i-Ja*o,Ja*i+Za*o),e.lineTo(Za*l-Ja*c,Ja*l+Za*c),e.lineTo(Za*s+Ja*a,Za*a-Ja*s),e.lineTo(Za*i+Ja*o,Za*o-Ja*i),e.lineTo(Za*l+Ja*c,Za*c-Ja*l),e.closePath()}};function k1e(e,t){let n=null,s=Q4(a);e=typeof e=="function"?e:Vn(e||J4),t=typeof t=="function"?t:Vn(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Vn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Vn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Tb(){}function Mb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oY(e){this._context=e}oY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E1e(e){return new oY(e)}function lY(e){this._context=e}lY.prototype={areaStart:Tb,areaEnd:Tb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P1e(e){return new lY(e)}function cY(e){this._context=e}cY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A1e(e){return new cY(e)}function uY(e){this._context=e}uY.prototype={areaStart:Tb,areaEnd:Tb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O1e(e){return new uY(e)}function R6(e){return e<0?-1:1}function D6(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(R6(i)+R6(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function I6(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function y2(e,t,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*n,i,o)}function Rb(e){this._context=e}Rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y2(this,this._t0,I6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,y2(this,I6(this,n=D6(this,e,t)),n);break;default:y2(this,this._t0,n=D6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dY(e){this._context=new hY(e)}(dY.prototype=Object.create(Rb.prototype)).point=function(e,t){Rb.prototype.point.call(this,t,e)};function hY(e){this._context=e}hY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function T1e(e){return new Rb(e)}function M1e(e){return new dY(e)}function fY(e){this._context=e}fY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=L6(e),a=L6(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function L6(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function R1e(e){return new fY(e)}function Aj(e,t){this._context=e,this._t=t}Aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function D1e(e){return new Aj(e,.5)}function I1e(e){return new Aj(e,0)}function L1e(e){return new Aj(e,1)}function $f(e,t){if((o=e.length)>1)for(var n=1,s,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function IP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function F1e(e,t){return e[t]}function z1e(e){const t=[];return t.key=e,t}function $1e(){var e=Vn([]),t=IP,n=$f,s=F1e;function a(i){var o=Array.from(e.apply(this,arguments),z1e),l,c=o.length,u=-1,h;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(f,o[l].key,u,i)]).data=f;for(l=0,h=Z4(t(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Vn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Vn(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?IP:typeof i=="function"?i:Vn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??$f,a):n},a}function B1e(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}$f(e,t)}}function V1e(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}$f(e,t)}}function U1e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,u=0;l<o;++l){for(var h=e[t[l]],f=h[s][1]||0,p=h[s-1][1]||0,x=(f-p)/2,b=0;b<l;++b){var v=e[t[b]],y=v[s][1]||0,N=v[s-1][1]||0;x+=y-N}c+=f,u+=x*f}a[s-1][1]+=a[s-1][0]=n,c&&(n-=u/c)}a[s-1][1]+=a[s-1][0]=n,$f(e,t)}}function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}var W1e=["type","size","sizeType"];function LP(){return LP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LP.apply(this,arguments)}function F6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function z6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(n),!0).forEach(function(s){q1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function q1e(e,t,n){return t=H1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H1e(e){var t=Y1e(e,"string");return Xx(t)=="symbol"?t:t+""}function Y1e(e,t){if(Xx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Xx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e,t){if(e==null)return{};var n=K1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function K1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var mY={symbolCircle:J4,symbolCross:x1e,symbolDiamond:y1e,symbolSquare:v1e,symbolStar:N1e,symbolTriangle:_1e,symbolWye:C1e},X1e=Math.PI/180,Q1e=function(t){var n="symbol".concat(kj(t));return mY[n]||J4},Z1e=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*X1e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},J1e=function(t,n){mY["symbol".concat(kj(t))]=n},eT=function(t){var n=t.type,s=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=G1e(t,W1e),u=z6(z6({},c),{},{type:s,size:i,sizeType:l}),h=function(){var y=Q1e(s),N=k1e().type(y).size(Z1e(i,l,s));return N()},f=u.className,p=u.cx,x=u.cy,b=_t(u,!0);return p===+p&&x===+x&&i===+i?oe.createElement("path",LP({},b,{className:Mt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(x,")"),d:h()})):null};eT.registerSymbol=J1e;function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FP.apply(this,arguments)}function $6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function e_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(n),!0).forEach(function(s){Qx(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function t_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n_e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xY(s.key),s)}}function r_e(e,t,n){return t&&n_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s_e(e,t,n){return t=Db(t),a_e(e,pY()?Reflect.construct(t,n||[],Db(e).constructor):t.apply(e,n))}function a_e(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(e)}function i_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pY=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(e)}function o_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zP(e,t)}function zP(e,t){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zP(e,t)}function Qx(e,t,n){return t=xY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=l_e(e,"string");return Bf(t)=="symbol"?t:t+""}function l_e(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ei=32,tT=(function(e){function t(){return t_e(this,t),s_e(this,t,arguments)}return o_e(t,e),r_e(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=ei/2,o=ei/6,l=ei/3,c=s.inactive?a:s.color;if(s.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:ei,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ei,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return oe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ei/8,"h").concat(ei,"v").concat(ei*3/4,"h").concat(-ei,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(s.legendIcon)){var u=e_e({},s);return delete u.legendIcon,oe.cloneElement(s.legendIcon,u)}return oe.createElement(eT,{fill:c,cx:i,cy:i,size:ei,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,h={x:0,y:0,width:ei,height:ei},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,b){var v=x.formatter||c,y=Mt(Qx(Qx({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Et(x.value)?null:x.value;Yi(!Et(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=x.inactive?u:x.color;return oe.createElement("li",FP({className:y,style:f,key:"legend-item-".concat(b)},Wd(s.props,x,b)),oe.createElement(OP,{width:o,height:o,viewBox:h,style:p},s.renderIcon(x)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(N,x,b):N))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);Qx(tT,"displayName","Legend");Qx(tT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v2,B6;function c_e(){if(B6)return v2;B6=1;var e=_j();function t(){this.__data__=new e,this.size=0}return v2=t,v2}var b2,V6;function u_e(){if(V6)return b2;V6=1;function e(t){var n=this.__data__,s=n.delete(t);return this.size=n.size,s}return b2=e,b2}var w2,U6;function d_e(){if(U6)return w2;U6=1;function e(t){return this.__data__.get(t)}return w2=e,w2}var j2,W6;function h_e(){if(W6)return j2;W6=1;function e(t){return this.__data__.has(t)}return j2=e,j2}var N2,q6;function f_e(){if(q6)return N2;q6=1;var e=_j(),t=q4(),n=H4(),s=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<s-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return N2=a,N2}var _2,H6;function gY(){if(H6)return _2;H6=1;var e=_j(),t=c_e(),n=u_e(),s=d_e(),a=h_e(),i=f_e();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,_2=o,_2}var S2,Y6;function m_e(){if(Y6)return S2;Y6=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return S2=t,S2}var C2,G6;function p_e(){if(G6)return C2;G6=1;function e(t){return this.__data__.has(t)}return C2=e,C2}var k2,K6;function yY(){if(K6)return k2;K6=1;var e=H4(),t=m_e(),n=p_e();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=t,s.prototype.has=n,k2=s,k2}var E2,X6;function vY(){if(X6)return E2;X6=1;function e(t,n){for(var s=-1,a=t==null?0:t.length;++s<a;)if(n(t[s],s,t))return!0;return!1}return E2=e,E2}var P2,Q6;function bY(){if(Q6)return P2;Q6=1;function e(t,n){return t.has(n)}return P2=e,P2}var A2,Z6;function wY(){if(Z6)return A2;Z6=1;var e=yY(),t=vY(),n=bY(),s=1,a=2;function i(o,l,c,u,h,f){var p=c&s,x=o.length,b=l.length;if(x!=b&&!(p&&b>x))return!1;var v=f.get(o),y=f.get(l);if(v&&y)return v==l&&y==o;var N=-1,_=!0,S=c&a?new e:void 0;for(f.set(o,l),f.set(l,o);++N<x;){var E=o[N],A=l[N];if(u)var k=p?u(A,E,N,l,o,f):u(E,A,N,o,l,f);if(k!==void 0){if(k)continue;_=!1;break}if(S){if(!t(l,function(P,R){if(!n(S,R)&&(E===P||h(E,P,c,u,f)))return S.push(R)})){_=!1;break}}else if(!(E===A||h(E,A,c,u,f))){_=!1;break}}return f.delete(o),f.delete(l),_}return A2=i,A2}var O2,J6;function x_e(){if(J6)return O2;J6=1;var e=sl(),t=e.Uint8Array;return O2=t,O2}var T2,eL;function g_e(){if(eL)return T2;eL=1;function e(t){var n=-1,s=Array(t.size);return t.forEach(function(a,i){s[++n]=[i,a]}),s}return T2=e,T2}var M2,tL;function nT(){if(tL)return M2;tL=1;function e(t){var n=-1,s=Array(t.size);return t.forEach(function(a){s[++n]=a}),s}return M2=e,M2}var R2,nL;function y_e(){if(nL)return R2;nL=1;var e=cg(),t=x_e(),n=W4(),s=wY(),a=g_e(),i=nT(),o=1,l=2,c="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Map]",p="[object Number]",x="[object RegExp]",b="[object Set]",v="[object String]",y="[object Symbol]",N="[object ArrayBuffer]",_="[object DataView]",S=e?e.prototype:void 0,E=S?S.valueOf:void 0;function A(k,P,R,$,D,M,B){switch(R){case _:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case N:return!(k.byteLength!=P.byteLength||!M(new t(k),new t(P)));case c:case u:case p:return n(+k,+P);case h:return k.name==P.name&&k.message==P.message;case x:case v:return k==P+"";case f:var J=a;case b:var Y=$&o;if(J||(J=i),k.size!=P.size&&!Y)return!1;var W=B.get(k);if(W)return W==P;$|=l,B.set(k,P);var se=s(J(k),J(P),$,D,M,B);return B.delete(k),se;case y:if(E)return E.call(k)==E.call(P)}return!1}return R2=A,R2}var D2,rL;function jY(){if(rL)return D2;rL=1;function e(t,n){for(var s=-1,a=n.length,i=t.length;++s<a;)t[i+s]=n[s];return t}return D2=e,D2}var I2,sL;function v_e(){if(sL)return I2;sL=1;var e=jY(),t=da();function n(s,a,i){var o=a(s);return t(s)?o:e(o,i(s))}return I2=n,I2}var L2,aL;function b_e(){if(aL)return L2;aL=1;function e(t,n){for(var s=-1,a=t==null?0:t.length,i=0,o=[];++s<a;){var l=t[s];n(l,s,t)&&(o[i++]=l)}return o}return L2=e,L2}var F2,iL;function w_e(){if(iL)return F2;iL=1;function e(){return[]}return F2=e,F2}var z2,oL;function j_e(){if(oL)return z2;oL=1;var e=b_e(),t=w_e(),n=Object.prototype,s=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return s.call(o,l)}))}:t;return z2=i,z2}var $2,lL;function N_e(){if(lL)return $2;lL=1;function e(t,n){for(var s=-1,a=Array(t);++s<t;)a[s]=n(s);return a}return $2=e,$2}var B2,cL;function __e(){if(cL)return B2;cL=1;var e=ic(),t=oc(),n="[object Arguments]";function s(a){return t(a)&&e(a)==n}return B2=s,B2}var V2,uL;function rT(){if(uL)return V2;uL=1;var e=__e(),t=oc(),n=Object.prototype,s=n.hasOwnProperty,a=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return V2=i,V2}var ux={exports:{}},U2,dL;function S_e(){if(dL)return U2;dL=1;function e(){return!1}return U2=e,U2}ux.exports;var hL;function NY(){return hL||(hL=1,(function(e,t){var n=sl(),s=S_e(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(ux,ux.exports)),ux.exports}var W2,fL;function sT(){if(fL)return W2;fL=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(s,a){var i=typeof s;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(s))&&s>-1&&s%1==0&&s<a}return W2=n,W2}var q2,mL;function aT(){if(mL)return q2;mL=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return q2=t,q2}var H2,pL;function C_e(){if(pL)return H2;pL=1;var e=ic(),t=aT(),n=oc(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",x="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",$="[object Uint16Array]",D="[object Uint32Array]",M={};M[_]=M[S]=M[E]=M[A]=M[k]=M[P]=M[R]=M[$]=M[D]=!0,M[s]=M[a]=M[y]=M[i]=M[N]=M[o]=M[l]=M[c]=M[u]=M[h]=M[f]=M[p]=M[x]=M[b]=M[v]=!1;function B(J){return n(J)&&t(J.length)&&!!M[e(J)]}return H2=B,H2}var Y2,xL;function _Y(){if(xL)return Y2;xL=1;function e(t){return function(n){return t(n)}}return Y2=e,Y2}var dx={exports:{}};dx.exports;var gL;function k_e(){return gL||(gL=1,(function(e,t){var n=WH(),s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(dx,dx.exports)),dx.exports}var G2,yL;function SY(){if(yL)return G2;yL=1;var e=C_e(),t=_Y(),n=k_e(),s=n&&n.isTypedArray,a=s?t(s):e;return G2=a,G2}var K2,vL;function E_e(){if(vL)return K2;vL=1;var e=N_e(),t=rT(),n=da(),s=NY(),a=sT(),i=SY(),o=Object.prototype,l=o.hasOwnProperty;function c(u,h){var f=n(u),p=!f&&t(u),x=!f&&!p&&s(u),b=!f&&!p&&!x&&i(u),v=f||p||x||b,y=v?e(u.length,String):[],N=y.length;for(var _ in u)(h||l.call(u,_))&&!(v&&(_=="length"||x&&(_=="offset"||_=="parent")||b&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||a(_,N)))&&y.push(_);return y}return K2=c,K2}var X2,bL;function P_e(){if(bL)return X2;bL=1;var e=Object.prototype;function t(n){var s=n&&n.constructor,a=typeof s=="function"&&s.prototype||e;return n===a}return X2=t,X2}var Q2,wL;function CY(){if(wL)return Q2;wL=1;function e(t,n){return function(s){return t(n(s))}}return Q2=e,Q2}var Z2,jL;function A_e(){if(jL)return Z2;jL=1;var e=CY(),t=e(Object.keys,Object);return Z2=t,Z2}var J2,NL;function O_e(){if(NL)return J2;NL=1;var e=P_e(),t=A_e(),n=Object.prototype,s=n.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return J2=a,J2}var eC,_L;function dg(){if(_L)return eC;_L=1;var e=U4(),t=aT();function n(s){return s!=null&&t(s.length)&&!e(s)}return eC=n,eC}var tC,SL;function Oj(){if(SL)return tC;SL=1;var e=E_e(),t=O_e(),n=dg();function s(a){return n(a)?e(a):t(a)}return tC=s,tC}var nC,CL;function T_e(){if(CL)return nC;CL=1;var e=v_e(),t=j_e(),n=Oj();function s(a){return e(a,n,t)}return nC=s,nC}var rC,kL;function M_e(){if(kL)return rC;kL=1;var e=T_e(),t=1,n=Object.prototype,s=n.hasOwnProperty;function a(i,o,l,c,u,h){var f=l&t,p=e(i),x=p.length,b=e(o),v=b.length;if(x!=v&&!f)return!1;for(var y=x;y--;){var N=p[y];if(!(f?N in o:s.call(o,N)))return!1}var _=h.get(i),S=h.get(o);if(_&&S)return _==o&&S==i;var E=!0;h.set(i,o),h.set(o,i);for(var A=f;++y<x;){N=p[y];var k=i[N],P=o[N];if(c)var R=f?c(P,k,N,o,i,h):c(k,P,N,i,o,h);if(!(R===void 0?k===P||u(k,P,l,c,h):R)){E=!1;break}A||(A=N=="constructor")}if(E&&!A){var $=i.constructor,D=o.constructor;$!=D&&"constructor"in i&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof D=="function"&&D instanceof D)&&(E=!1)}return h.delete(i),h.delete(o),E}return rC=a,rC}var sC,EL;function R_e(){if(EL)return sC;EL=1;var e=Jd(),t=sl(),n=e(t,"DataView");return sC=n,sC}var aC,PL;function D_e(){if(PL)return aC;PL=1;var e=Jd(),t=sl(),n=e(t,"Promise");return aC=n,aC}var iC,AL;function kY(){if(AL)return iC;AL=1;var e=Jd(),t=sl(),n=e(t,"Set");return iC=n,iC}var oC,OL;function I_e(){if(OL)return oC;OL=1;var e=Jd(),t=sl(),n=e(t,"WeakMap");return oC=n,oC}var lC,TL;function L_e(){if(TL)return lC;TL=1;var e=R_e(),t=q4(),n=D_e(),s=kY(),a=I_e(),i=ic(),o=qH(),l="[object Map]",c="[object Object]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",x=o(e),b=o(t),v=o(n),y=o(s),N=o(a),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=p||t&&_(new t)!=l||n&&_(n.resolve())!=u||s&&_(new s)!=h||a&&_(new a)!=f)&&(_=function(S){var E=i(S),A=E==c?S.constructor:void 0,k=A?o(A):"";if(k)switch(k){case x:return p;case b:return l;case v:return u;case y:return h;case N:return f}return E}),lC=_,lC}var cC,ML;function F_e(){if(ML)return cC;ML=1;var e=gY(),t=wY(),n=y_e(),s=M_e(),a=L_e(),i=da(),o=NY(),l=SY(),c=1,u="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype,x=p.hasOwnProperty;function b(v,y,N,_,S,E){var A=i(v),k=i(y),P=A?h:a(v),R=k?h:a(y);P=P==u?f:P,R=R==u?f:R;var $=P==f,D=R==f,M=P==R;if(M&&o(v)){if(!o(y))return!1;A=!0,$=!1}if(M&&!$)return E||(E=new e),A||l(v)?t(v,y,N,_,S,E):n(v,y,P,N,_,S,E);if(!(N&c)){var B=$&&x.call(v,"__wrapped__"),J=D&&x.call(y,"__wrapped__");if(B||J){var Y=B?v.value():v,W=J?y.value():y;return E||(E=new e),S(Y,W,N,_,E)}}return M?(E||(E=new e),s(v,y,N,_,S,E)):!1}return cC=b,cC}var uC,RL;function iT(){if(RL)return uC;RL=1;var e=F_e(),t=oc();function n(s,a,i,o,l){return s===a?!0:s==null||a==null||!t(s)&&!t(a)?s!==s&&a!==a:e(s,a,i,o,n,l)}return uC=n,uC}var dC,DL;function z_e(){if(DL)return dC;DL=1;var e=gY(),t=iT(),n=1,s=2;function a(i,o,l,c){var u=l.length,h=u,f=!c;if(i==null)return!h;for(i=Object(i);u--;){var p=l[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<h;){p=l[u];var x=p[0],b=i[x],v=p[1];if(f&&p[2]){if(b===void 0&&!(x in i))return!1}else{var y=new e;if(c)var N=c(b,v,x,i,o,y);if(!(N===void 0?t(v,b,n|s,c,y):N))return!1}}return!0}return dC=a,dC}var hC,IL;function EY(){if(IL)return hC;IL=1;var e=bu();function t(n){return n===n&&!e(n)}return hC=t,hC}var fC,LL;function $_e(){if(LL)return fC;LL=1;var e=EY(),t=Oj();function n(s){for(var a=t(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,e(l)]}return a}return fC=n,fC}var mC,FL;function PY(){if(FL)return mC;FL=1;function e(t,n){return function(s){return s==null?!1:s[t]===n&&(n!==void 0||t in Object(s))}}return mC=e,mC}var pC,zL;function B_e(){if(zL)return pC;zL=1;var e=z_e(),t=$_e(),n=PY();function s(a){var i=t(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return pC=s,pC}var xC,$L;function V_e(){if($L)return xC;$L=1;function e(t,n){return t!=null&&n in Object(t)}return xC=e,xC}var gC,BL;function U_e(){if(BL)return gC;BL=1;var e=GH(),t=rT(),n=da(),s=sT(),a=aT(),i=Cj();function o(l,c,u){c=e(c,l);for(var h=-1,f=c.length,p=!1;++h<f;){var x=i(c[h]);if(!(p=l!=null&&u(l,x)))break;l=l[x]}return p||++h!=f?p:(f=l==null?0:l.length,!!f&&a(f)&&s(x,f)&&(n(l)||t(l)))}return gC=o,gC}var yC,VL;function W_e(){if(VL)return yC;VL=1;var e=V_e(),t=U_e();function n(s,a){return s!=null&&t(s,a,e)}return yC=n,yC}var vC,UL;function q_e(){if(UL)return vC;UL=1;var e=iT(),t=KH(),n=W_e(),s=V4(),a=EY(),i=PY(),o=Cj(),l=1,c=2;function u(h,f){return s(h)&&a(f)?i(o(h),f):function(p){var x=t(p,h);return x===void 0&&x===f?n(p,h):e(f,x,l|c)}}return vC=u,vC}var bC,WL;function Om(){if(WL)return bC;WL=1;function e(t){return t}return bC=e,bC}var wC,qL;function H_e(){if(qL)return wC;qL=1;function e(t){return function(n){return n==null?void 0:n[t]}}return wC=e,wC}var jC,HL;function Y_e(){if(HL)return jC;HL=1;var e=G4();function t(n){return function(s){return e(s,n)}}return jC=t,jC}var NC,YL;function G_e(){if(YL)return NC;YL=1;var e=H_e(),t=Y_e(),n=V4(),s=Cj();function a(i){return n(i)?e(s(i)):t(i)}return NC=a,NC}var _C,GL;function al(){if(GL)return _C;GL=1;var e=B_e(),t=q_e(),n=Om(),s=da(),a=G_e();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?s(o)?t(o[0],o[1]):e(o):a(o)}return _C=i,_C}var SC,KL;function AY(){if(KL)return SC;KL=1;function e(t,n,s,a){for(var i=t.length,o=s+(a?1:-1);a?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return SC=e,SC}var CC,XL;function K_e(){if(XL)return CC;XL=1;function e(t){return t!==t}return CC=e,CC}var kC,QL;function X_e(){if(QL)return kC;QL=1;function e(t,n,s){for(var a=s-1,i=t.length;++a<i;)if(t[a]===n)return a;return-1}return kC=e,kC}var EC,ZL;function Q_e(){if(ZL)return EC;ZL=1;var e=AY(),t=K_e(),n=X_e();function s(a,i,o){return i===i?n(a,i,o):e(a,t,o)}return EC=s,EC}var PC,JL;function Z_e(){if(JL)return PC;JL=1;var e=Q_e();function t(n,s){var a=n==null?0:n.length;return!!a&&e(n,s,0)>-1}return PC=t,PC}var AC,eF;function J_e(){if(eF)return AC;eF=1;function e(t,n,s){for(var a=-1,i=t==null?0:t.length;++a<i;)if(s(n,t[a]))return!0;return!1}return AC=e,AC}var OC,tF;function eSe(){if(tF)return OC;tF=1;function e(){}return OC=e,OC}var TC,nF;function tSe(){if(nF)return TC;nF=1;var e=kY(),t=eSe(),n=nT(),s=1/0,a=e&&1/n(new e([,-0]))[1]==s?function(i){return new e(i)}:t;return TC=a,TC}var MC,rF;function nSe(){if(rF)return MC;rF=1;var e=yY(),t=Z_e(),n=J_e(),s=bY(),a=tSe(),i=nT(),o=200;function l(c,u,h){var f=-1,p=t,x=c.length,b=!0,v=[],y=v;if(h)b=!1,p=n;else if(x>=o){var N=u?null:a(c);if(N)return i(N);b=!1,p=s,y=new e}else y=u?[]:v;e:for(;++f<x;){var _=c[f],S=u?u(_):_;if(_=h||_!==0?_:0,b&&S===S){for(var E=y.length;E--;)if(y[E]===S)continue e;u&&y.push(S),v.push(_)}else p(y,S,h)||(y!==v&&y.push(S),v.push(_))}return v}return MC=l,MC}var RC,sF;function rSe(){if(sF)return RC;sF=1;var e=al(),t=nSe();function n(s,a){return s&&s.length?t(s,e(a,2)):[]}return RC=n,RC}var sSe=rSe();const aF=sn(sSe);function OY(e,t,n){return t===!0?aF(e,n):Et(t)?aF(e,t):e}function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}var aSe=["ref"];function iF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(n),!0).forEach(function(s){Tj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function iSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oF(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MY(s.key),s)}}function oSe(e,t,n){return t&&oF(e.prototype,t),n&&oF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lSe(e,t,n){return t=Ib(t),cSe(e,TY()?Reflect.construct(t,n||[],Ib(e).constructor):t.apply(e,n))}function cSe(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(e)}function uSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TY=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(e)}function dSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$P(e,t)}function $P(e,t){return $P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$P(e,t)}function Tj(e,t,n){return t=MY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MY(e){var t=hSe(e,"string");return Vf(t)=="symbol"?t:t+""}function hSe(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fSe(e,t){if(e==null)return{};var n=mSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mSe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function pSe(e){return e.value}function xSe(e,t){if(oe.isValidElement(e))return oe.cloneElement(e,t);if(typeof e=="function")return oe.createElement(e,t);t.ref;var n=fSe(t,aSe);return oe.createElement(tT,n)}var lF=1,Vl=(function(e){function t(){var n;iSe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=lSe(this,t,[].concat(a)),Tj(n,"lastBoundingBox",{width:-1,height:-1}),n}return dSe(t,e),oSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>lF||Math.abs(a.height-this.lastBoundingBox.height)>lF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?jl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,h=a.chartHeight,f,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();p={top:((h||0)-b.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return jl(jl({},f),p)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,h=a.payload,f=jl(jl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){s.wrapperNode=x}},xSe(i,jl(jl({},this.props),{},{payload:OY(h,u,pSe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=jl(jl({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Ue(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(j.PureComponent);Tj(Vl,"displayName","Legend");Tj(Vl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DC,cF;function gSe(){if(cF)return DC;cF=1;var e=cg(),t=rT(),n=da(),s=e?e.isConcatSpreadable:void 0;function a(i){return n(i)||t(i)||!!(s&&i&&i[s])}return DC=a,DC}var IC,uF;function RY(){if(uF)return IC;uF=1;var e=jY(),t=gSe();function n(s,a,i,o,l){var c=-1,u=s.length;for(i||(i=t),l||(l=[]);++c<u;){var h=s[c];a>0&&i(h)?a>1?n(h,a-1,i,o,l):e(l,h):o||(l[l.length]=h)}return l}return IC=n,IC}var LC,dF;function ySe(){if(dF)return LC;dF=1;function e(t){return function(n,s,a){for(var i=-1,o=Object(n),l=a(n),c=l.length;c--;){var u=l[t?c:++i];if(s(o[u],u,o)===!1)break}return n}}return LC=e,LC}var FC,hF;function vSe(){if(hF)return FC;hF=1;var e=ySe(),t=e();return FC=t,FC}var zC,fF;function DY(){if(fF)return zC;fF=1;var e=vSe(),t=Oj();function n(s,a){return s&&e(s,a,t)}return zC=n,zC}var $C,mF;function bSe(){if(mF)return $C;mF=1;var e=dg();function t(n,s){return function(a,i){if(a==null)return a;if(!e(a))return n(a,i);for(var o=a.length,l=s?o:-1,c=Object(a);(s?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return $C=t,$C}var BC,pF;function oT(){if(pF)return BC;pF=1;var e=DY(),t=bSe(),n=t(e);return BC=n,BC}var VC,xF;function IY(){if(xF)return VC;xF=1;var e=oT(),t=dg();function n(s,a){var i=-1,o=t(s)?Array(s.length):[];return e(s,function(l,c,u){o[++i]=a(l,c,u)}),o}return VC=n,VC}var UC,gF;function wSe(){if(gF)return UC;gF=1;function e(t,n){var s=t.length;for(t.sort(n);s--;)t[s]=t[s].value;return t}return UC=e,UC}var WC,yF;function jSe(){if(yF)return WC;yF=1;var e=Em();function t(n,s){if(n!==s){var a=n!==void 0,i=n===null,o=n===n,l=e(n),c=s!==void 0,u=s===null,h=s===s,f=e(s);if(!u&&!f&&!l&&n>s||l&&c&&h&&!u&&!f||i&&c&&h||!a&&h||!o)return 1;if(!i&&!l&&!f&&n<s||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!h)return-1}return 0}return WC=t,WC}var qC,vF;function NSe(){if(vF)return qC;vF=1;var e=jSe();function t(n,s,a){for(var i=-1,o=n.criteria,l=s.criteria,c=o.length,u=a.length;++i<c;){var h=e(o[i],l[i]);if(h){if(i>=u)return h;var f=a[i];return h*(f=="desc"?-1:1)}}return n.index-s.index}return qC=t,qC}var HC,bF;function _Se(){if(bF)return HC;bF=1;var e=Y4(),t=G4(),n=al(),s=IY(),a=wSe(),i=_Y(),o=NSe(),l=Om(),c=da();function u(h,f,p){f.length?f=e(f,function(v){return c(v)?function(y){return t(y,v.length===1?v[0]:v)}:v}):f=[l];var x=-1;f=e(f,i(n));var b=s(h,function(v,y,N){var _=e(f,function(S){return S(v)});return{criteria:_,index:++x,value:v}});return a(b,function(v,y){return o(v,y,p)})}return HC=u,HC}var YC,wF;function SSe(){if(wF)return YC;wF=1;function e(t,n,s){switch(s.length){case 0:return t.call(n);case 1:return t.call(n,s[0]);case 2:return t.call(n,s[0],s[1]);case 3:return t.call(n,s[0],s[1],s[2])}return t.apply(n,s)}return YC=e,YC}var GC,jF;function CSe(){if(jF)return GC;jF=1;var e=SSe(),t=Math.max;function n(s,a,i){return a=t(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var h=Array(a+1);++l<a;)h[l]=o[l];return h[a]=i(u),e(s,this,h)}}return GC=n,GC}var KC,NF;function kSe(){if(NF)return KC;NF=1;function e(t){return function(){return t}}return KC=e,KC}var XC,_F;function LY(){if(_F)return XC;_F=1;var e=Jd(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return XC=t,XC}var QC,SF;function ESe(){if(SF)return QC;SF=1;var e=kSe(),t=LY(),n=Om(),s=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return QC=s,QC}var ZC,CF;function PSe(){if(CF)return ZC;CF=1;var e=800,t=16,n=Date.now;function s(a){var i=0,o=0;return function(){var l=n(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return ZC=s,ZC}var JC,kF;function ASe(){if(kF)return JC;kF=1;var e=ESe(),t=PSe(),n=t(e);return JC=n,JC}var ek,EF;function OSe(){if(EF)return ek;EF=1;var e=Om(),t=CSe(),n=ASe();function s(a,i){return n(t(a,i,e),a+"")}return ek=s,ek}var tk,PF;function Mj(){if(PF)return tk;PF=1;var e=W4(),t=dg(),n=sT(),s=bu();function a(i,o,l){if(!s(l))return!1;var c=typeof o;return(c=="number"?t(l)&&n(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return tk=a,tk}var nk,AF;function TSe(){if(AF)return nk;AF=1;var e=RY(),t=_Se(),n=OSe(),s=Mj(),a=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return nk=a,nk}var MSe=TSe();const lT=sn(MSe);function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BP.apply(this,arguments)}function RSe(e,t){return FSe(e)||LSe(e,t)||ISe(e,t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ISe(e,t){if(e){if(typeof e=="string")return OF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OF(e,t)}}function OF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function LSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function FSe(e){if(Array.isArray(e))return e}function TF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(n),!0).forEach(function(s){zSe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function zSe(e,t,n){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=BSe(e,"string");return Zx(t)=="symbol"?t:t+""}function BSe(e,t){if(Zx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Zx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VSe(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var USe=function(t){var n=t.separator,s=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,h=t.payload,f=t.formatter,p=t.itemSorter,x=t.wrapperClassName,b=t.labelClassName,v=t.label,y=t.labelFormatter,N=t.accessibilityLayer,_=N===void 0?!1:N,S=function(){if(h&&h.length){var B={padding:0,margin:0},J=(p?lT(h,p):h).map(function(Y,W){if(Y.type==="none")return null;var se=rk({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},l),q=Y.formatter||f||VSe,V=Y.value,U=Y.name,F=V,K=U;if(q&&F!=null&&K!=null){var te=q(V,U,Y,W,h);if(Array.isArray(te)){var H=RSe(te,2);F=H[0],K=H[1]}else F=te}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:se},Ur(K)?oe.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Ur(K)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},F),oe.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:B},J)}return null},E=rk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=rk({margin:0},u),k=!Ot(v),P=k?v:"",R=Mt("recharts-default-tooltip",x),$=Mt("recharts-tooltip-label",b);k&&y&&h!==void 0&&h!==null&&(P=y(v,h));var D=_?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",BP({className:R,style:E},D),oe.createElement("p",{className:$,style:A},oe.isValidElement(P)?P:"".concat(P)),S())};function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function fv(e,t,n){return t=WSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WSe(e){var t=qSe(e,"string");return Jx(t)=="symbol"?t:t+""}function qSe(e,t){if(Jx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Jx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp="recharts-tooltip-wrapper",HSe={visibility:"hidden"};function YSe(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return Mt(Gp,fv(fv(fv(fv({},"".concat(Gp,"-right"),Ue(n)&&t&&Ue(t.x)&&n>=t.x),"".concat(Gp,"-left"),Ue(n)&&t&&Ue(t.x)&&n<t.x),"".concat(Gp,"-bottom"),Ue(s)&&t&&Ue(t.y)&&s>=t.y),"".concat(Gp,"-top"),Ue(s)&&t&&Ue(t.y)&&s<t.y))}function MF(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ue(i[s]))return i[s];var h=n[s]-l-a,f=n[s]+a;if(t[s])return o[s]?h:f;if(o[s]){var p=h,x=c[s];return p<x?Math.max(f,c[s]):Math.max(h,c[s])}var b=f+l,v=c[s]+u;return b>v?Math.max(h,c[s]):Math.max(f,c[s])}function GSe(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function KSe(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,h,f;return o.height>0&&o.width>0&&n?(h=MF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=MF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=GSe({translateX:h,translateY:f,useTranslate3d:l})):u=HSe,{cssProperties:u,cssClasses:YSe({translateX:h,translateY:f,coordinate:n})}}function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function RF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function DF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(n),!0).forEach(function(s){UP(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function XSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QSe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zY(s.key),s)}}function ZSe(e,t,n){return t&&QSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JSe(e,t,n){return t=Lb(t),e2e(e,FY()?Reflect.construct(t,n||[],Lb(e).constructor):t.apply(e,n))}function e2e(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t2e(e)}function t2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FY=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lb(e)}function n2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VP(e,t)}function VP(e,t){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},VP(e,t)}function UP(e,t,n){return t=zY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=r2e(e,"string");return Uf(t)=="symbol"?t:t+""}function r2e(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IF=1,s2e=(function(e){function t(){var n;XSe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=JSe(this,t,[].concat(a)),UP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return n2e(t,e),ZSe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>IF||Math.abs(s.height-this.state.lastBoundingBox.height)>IF)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,h=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,x=a.offset,b=a.position,v=a.reverseDirection,y=a.useTranslate3d,N=a.viewBox,_=a.wrapperStyle,S=KSe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:x,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),E=S.cssClasses,A=S.cssProperties,k=DF(DF({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return oe.createElement("div",{tabIndex:-1,className:E,style:k,ref:function(R){s.wrapperNode=R}},u)}}])})(j.PureComponent),a2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eh={isSsr:a2e()};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function LF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function FF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(n),!0).forEach(function(s){cT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BY(s.key),s)}}function l2e(e,t,n){return t&&o2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2e(e,t,n){return t=Fb(t),u2e(e,$Y()?Reflect.construct(t,n||[],Fb(e).constructor):t.apply(e,n))}function u2e(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d2e(e)}function d2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(e)}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WP(e,t)}function WP(e,t){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WP(e,t)}function cT(e,t,n){return t=BY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BY(e){var t=f2e(e,"string");return Wf(t)=="symbol"?t:t+""}function f2e(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function m2e(e){return e.dataKey}function p2e(e,t){return oe.isValidElement(e)?oe.cloneElement(e,t):typeof e=="function"?oe.createElement(e,t):oe.createElement(USe,t)}var Nn=(function(e){function t(){return i2e(this,t),c2e(this,t,arguments)}return h2e(t,e),l2e(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,h=a.coordinate,f=a.filterNull,p=a.isAnimationActive,x=a.offset,b=a.payload,v=a.payloadUniqBy,y=a.position,N=a.reverseDirection,_=a.useTranslate3d,S=a.viewBox,E=a.wrapperStyle,A=b??[];f&&A.length&&(A=OY(b.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),v,m2e));var k=A.length>0;return oe.createElement(s2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:h,hasPayload:k,offset:x,position:y,reverseDirection:N,useTranslate3d:_,viewBox:S,wrapperStyle:E},p2e(u,FF(FF({},this.props),{},{payload:A})))}}])})(j.PureComponent);cT(Nn,"displayName","Tooltip");cT(Nn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sk,zF;function x2e(){if(zF)return sk;zF=1;var e=sl(),t=function(){return e.Date.now()};return sk=t,sk}var ak,$F;function g2e(){if($F)return ak;$F=1;var e=/\s/;function t(n){for(var s=n.length;s--&&e.test(n.charAt(s)););return s}return ak=t,ak}var ik,BF;function y2e(){if(BF)return ik;BF=1;var e=g2e(),t=/^\s+/;function n(s){return s&&s.slice(0,e(s)+1).replace(t,"")}return ik=n,ik}var ok,VF;function VY(){if(VF)return ok;VF=1;var e=y2e(),t=bu(),n=Em(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return s;if(t(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=t(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?s:+u}return ok=c,ok}var lk,UF;function v2e(){if(UF)return lk;UF=1;var e=bu(),t=x2e(),n=VY(),s="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var h,f,p,x,b,v,y=0,N=!1,_=!1,S=!0;if(typeof l!="function")throw new TypeError(s);c=n(c)||0,e(u)&&(N=!!u.leading,_="maxWait"in u,p=_?a(n(u.maxWait)||0,c):p,S="trailing"in u?!!u.trailing:S);function E(J){var Y=h,W=f;return h=f=void 0,y=J,x=l.apply(W,Y),x}function A(J){return y=J,b=setTimeout(R,c),N?E(J):x}function k(J){var Y=J-v,W=J-y,se=c-Y;return _?i(se,p-W):se}function P(J){var Y=J-v,W=J-y;return v===void 0||Y>=c||Y<0||_&&W>=p}function R(){var J=t();if(P(J))return $(J);b=setTimeout(R,k(J))}function $(J){return b=void 0,S&&h?E(J):(h=f=void 0,x)}function D(){b!==void 0&&clearTimeout(b),y=0,h=v=f=b=void 0}function M(){return b===void 0?x:$(t())}function B(){var J=t(),Y=P(J);if(h=arguments,f=this,v=J,Y){if(b===void 0)return A(v);if(_)return clearTimeout(b),b=setTimeout(R,c),E(v)}return b===void 0&&(b=setTimeout(R,c)),x}return B.cancel=D,B.flush=M,B}return lk=o,lk}var ck,WF;function b2e(){if(WF)return ck;WF=1;var e=v2e(),t=bu(),n="Expected a function";function s(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return ck=s,ck}var w2e=b2e();const UY=sn(w2e);function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function qF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function mv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(n),!0).forEach(function(s){j2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qF(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function j2e(e,t,n){return t=N2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N2e(e){var t=_2e(e,"string");return e0(t)=="symbol"?t:t+""}function _2e(e,t){if(e0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(e0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2e(e,t){return P2e(e)||E2e(e,t)||k2e(e,t)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(e,t){if(e){if(typeof e=="string")return HF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(e,t)}}function HF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function E2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function P2e(e){if(Array.isArray(e))return e}var Or=j.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,h=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,x=e.children,b=e.debounce,v=b===void 0?0:b,y=e.id,N=e.className,_=e.onResize,S=e.style,E=S===void 0?{}:S,A=j.useRef(null),k=j.useRef();k.current=_,j.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),R=S2e(P,2),$=R[0],D=R[1],M=j.useCallback(function(J,Y){D(function(W){var se=Math.round(J),q=Math.round(Y);return W.containerWidth===se&&W.containerHeight===q?W:{containerWidth:se,containerHeight:q}})},[]);j.useEffect(function(){var J=function(U){var F,K=U[0].contentRect,te=K.width,H=K.height;M(te,H),(F=k.current)===null||F===void 0||F.call(k,te,H)};v>0&&(J=UY(J,v,{trailing:!0,leading:!1}));var Y=new ResizeObserver(J),W=A.current.getBoundingClientRect(),se=W.width,q=W.height;return M(se,q),Y.observe(A.current),function(){Y.disconnect()}},[M,v]);var B=j.useMemo(function(){var J=$.containerWidth,Y=$.containerHeight;if(J<0||Y<0)return null;Yi(wd(o)||wd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Yi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=wd(o)?J:o,se=wd(c)?Y:c;n&&n>0&&(W?se=W/n:se&&(W=se*n),p&&se>p&&(se=p)),Yi(W>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,se,o,c,h,f,n);var q=!Array.isArray(x)&&Bl(x.type).endsWith("Chart");return oe.Children.map(x,function(V){return oe.isValidElement(V)?j.cloneElement(V,mv({width:W,height:se},q?{style:mv({height:"100%",width:"100%",maxHeight:se,maxWidth:W},V.props.style)}:{})):V})},[n,x,c,p,f,h,$,o]);return oe.createElement("div",{id:y?"".concat(y):void 0,className:Mt("recharts-responsive-container",N),style:mv(mv({},E),{},{width:o,height:c,minWidth:h,minHeight:f,maxHeight:p}),ref:A},B)}),Ko=function(t){return null};Ko.displayName="Cell";function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function YF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function qP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(n),!0).forEach(function(s){A2e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function A2e(e,t,n){return t=O2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O2e(e){var t=T2e(e,"string");return t0(t)=="symbol"?t:t+""}function T2e(e,t){if(t0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(t0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yh={widthCache:{},cacheCount:0},M2e=2e3,R2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GF="recharts_measurement_span";function D2e(e){var t=qP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var jx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eh.isSsr)return{width:0,height:0};var s=D2e(n),a=JSON.stringify({text:t,copyStyle:s});if(Yh.widthCache[a])return Yh.widthCache[a];try{var i=document.getElementById(GF);i||(i=document.createElement("span"),i.setAttribute("id",GF),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=qP(qP({},R2e),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Yh.widthCache[a]=c,++Yh.cacheCount>M2e&&(Yh.cacheCount=0,Yh.widthCache={}),c}catch{return{width:0,height:0}}},I2e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function zb(e,t){return $2e(e)||z2e(e,t)||F2e(e,t)||L2e()}function L2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2e(e,t){if(e){if(typeof e=="string")return KF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KF(e,t)}}function KF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function z2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $2e(e){if(Array.isArray(e))return e}function B2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XF(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,U2e(s.key),s)}}function V2e(e,t,n){return t&&XF(e.prototype,t),n&&XF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U2e(e){var t=W2e(e,"string");return n0(t)=="symbol"?t:t+""}function W2e(e,t){if(n0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(n0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,H2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Y2e=Object.keys(WY),rf="NaN";function G2e(e,t){return e*WY[t]}var pv=(function(){function e(t,n){B2e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!q2e.test(n)&&(this.num=NaN,this.unit=""),Y2e.includes(n)&&(this.num=G2e(t,n),this.unit="px")}return V2e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=H2e.exec(n))!==null&&s!==void 0?s:[],i=zb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function qY(e){if(e.includes(rf))return rf;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=QF.exec(t))!==null&&n!==void 0?n:[],a=zb(s,4),i=a[1],o=a[2],l=a[3],c=pv.parse(i??""),u=pv.parse(l??""),h=o==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return rf;t=t.replace(QF,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=ZF.exec(t))!==null&&f!==void 0?f:[],x=zb(p,4),b=x[1],v=x[2],y=x[3],N=pv.parse(b??""),_=pv.parse(y??""),S=v==="+"?N.add(_):N.subtract(_);if(S.isNaN())return rf;t=t.replace(ZF,S.toString())}return t}var JF=/\(([^()]*)\)/;function K2e(e){for(var t=e;t.includes("(");){var n=JF.exec(t),s=zb(n,2),a=s[1];t=t.replace(JF,qY(a))}return t}function X2e(e){var t=e.replace(/\s+/g,"");return t=K2e(t),t=qY(t),t}function Q2e(e){try{return X2e(e)}catch{return rf}}function uk(e){var t=Q2e(e.slice(5,-1));return t===rf?"":t}var Z2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],J2e=["dx","dy","angle","className","breakAll"];function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HP.apply(this,arguments)}function e8(e,t){if(e==null)return{};var n=eCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eCe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function t8(e,t){return sCe(e)||rCe(e,t)||nCe(e,t)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(e,t){if(e){if(typeof e=="string")return n8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n8(e,t)}}function n8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function rCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sCe(e){if(Array.isArray(e))return e}var HY=/[ \f\n\r\t\v\u2028\u2029]+/,YY=function(t){var n=t.children,s=t.breakAll,a=t.style;try{var i=[];Ot(n)||(s?i=n.toString().split(""):i=n.toString().split(HY));var o=i.map(function(c){return{word:c,width:jx(c,a).width}}),l=s?0:jx("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aCe=function(t,n,s,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,h=Ue(o),f=l,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(se,q){var V=q.word,U=q.width,F=se[se.length-1];if(F&&(a==null||i||F.width+U+s<Number(a)))F.words.push(V),F.width+=U+s;else{var K={words:[V],width:U};se.push(K)}return se},[])},x=p(n),b=function(W){return W.reduce(function(se,q){return se.width>q.width?se:q})};if(!h)return x;for(var v="",y=function(W){var se=f.slice(0,W),q=YY({breakAll:u,style:c,children:se+v}).wordsWithComputedWidth,V=p(q),U=V.length>o||b(V).width>Number(a);return[U,V]},N=0,_=f.length-1,S=0,E;N<=_&&S<=f.length-1;){var A=Math.floor((N+_)/2),k=A-1,P=y(k),R=t8(P,2),$=R[0],D=R[1],M=y(A),B=t8(M,1),J=B[0];if(!$&&!J&&(N=A+1),$&&J&&(_=A-1),!$&&J){E=D;break}S++}return E||x},r8=function(t){var n=Ot(t)?[]:t.toString().split(HY);return[{words:n}]},iCe=function(t){var n=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!eh.isSsr){var c,u,h=YY({breakAll:o,children:a,style:i});if(h){var f=h.wordsWithComputedWidth,p=h.spaceWidth;c=f,u=p}else return r8(a);return aCe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,s)}return r8(a)},s8="#808080",qd=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,h=t.scaleToFit,f=h===void 0?!1:h,p=t.textAnchor,x=p===void 0?"start":p,b=t.verticalAnchor,v=b===void 0?"end":b,y=t.fill,N=y===void 0?s8:y,_=e8(t,Z2e),S=j.useMemo(function(){return iCe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),E=_.dx,A=_.dy,k=_.angle,P=_.className,R=_.breakAll,$=e8(_,J2e);if(!Ur(s)||!Ur(i))return null;var D=s+(Ue(E)?E:0),M=i+(Ue(A)?A:0),B;switch(v){case"start":B=uk("calc(".concat(u,")"));break;case"middle":B=uk("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:B=uk("calc(".concat(S.length-1," * -").concat(l,")"));break}var J=[];if(f){var Y=S[0].width,W=_.width;J.push("scale(".concat((Ue(W)?W/Y:1)/Y,")"))}return k&&J.push("rotate(".concat(k,", ").concat(D,", ").concat(M,")")),J.length&&($.transform=J.join(" ")),oe.createElement("text",HP({},_t($,!0),{x:D,y:M,className:Mt("recharts-text",P),textAnchor:x,fill:N.includes("url")?s8:N}),S.map(function(se,q){var V=se.words.join(R?"":" ");return oe.createElement("tspan",{x:D,dy:q===0?B:l,key:"".concat(V,"-").concat(q)},V)}))};function lu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uT(e){let t,n,s;e.length!==2?(t=lu,n=(l,c)=>lu(e(l),c),s=(l,c)=>e(l)-c):(t=e===lu||e===oCe?e:lCe,n=e,s=e);function a(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const f=u+h>>>1;n(l[f],c)<0?u=f+1:h=f}while(u<h)}return u}function i(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const f=u+h>>>1;n(l[f],c)<=0?u=f+1:h=f}while(u<h)}return u}function o(l,c,u=0,h=l.length){const f=a(l,c,u,h-1);return f>u&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function lCe(){return 0}function GY(e){return e===null?NaN:+e}function*cCe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uCe=uT(lu),hg=uCe.right;uT(GY).center;class a8 extends Map{constructor(t,n=fCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(i8(this,t))}has(t){return super.has(i8(this,t))}set(t,n){return super.set(dCe(this,t),n)}delete(t){return super.delete(hCe(this,t))}}function i8({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function dCe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function hCe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function fCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mCe(e=lu){if(e===lu)return KY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function KY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pCe=Math.sqrt(50),xCe=Math.sqrt(10),gCe=Math.sqrt(2);function $b(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=pCe?10:i>=xCe?5:i>=gCe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?$b(e,t,n*2):[l,c,u]}function YP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?$b(t,e,n):$b(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function GP(e,t,n){return t=+t,e=+e,n=+n,$b(e,t,n)[2]}function KP(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?GP(t,e,n):GP(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function o8(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function l8(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function XY(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?KY:mCe(a);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,h=Math.log(c),f=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(t-u*f/c+p)),b=Math.min(s,Math.floor(t+(c-u)*f/c+p));XY(e,t,x,b,a)}const i=e[t];let o=n,l=s;for(Kp(e,n,t),a(e[s],i)>0&&Kp(e,n,s);o<l;){for(Kp(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Kp(e,n,l):(++l,Kp(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function Kp(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function yCe(e,t,n){if(e=Float64Array.from(cCe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return l8(e);if(t>=1)return o8(e);var s,a=(s-1)*t,i=Math.floor(a),o=o8(XY(e,i).subarray(0,i+1)),l=l8(e.subarray(i+1));return o+(l-o)*(a-i)}}function vCe(e,t,n=GY){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function bCe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function xi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const XP=Symbol("implicit");function dT(){var e=new a8,t=[],n=[],s=XP;function a(i){let o=e.get(i);if(o===void 0){if(s!==XP)return s;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new a8;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return dT(t,n).unknown(s)},xi.apply(a,arguments),a}function r0(){var e=dT().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,o,l=!1,c=0,u=0,h=.5;delete e.unknown;function f(){var p=t().length,x=a<s,b=x?a:s,v=x?s:a;i=(v-b)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),b+=(v-b-i*(p-c))*h,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var y=bCe(p).map(function(N){return b+i*N});return n(x?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([s,a]=p,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(p){return[s,a]=p,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),f()):h},e.copy=function(){return r0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(u).align(h)},xi.apply(f(),arguments)}function QY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QY(t())},e}function Nx(){return QY(r0.apply(null,arguments).paddingInner(1))}function hT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ZY(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function fg(){}var s0=.7,Bb=1/s0,gf="\\s*([+-]?\\d+)\\s*",a0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wCe=/^#([0-9a-f]{3,8})$/,jCe=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),NCe=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),_Ce=new RegExp(`^rgba\\(${gf},${gf},${gf},${a0}\\)$`),SCe=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${a0}\\)$`),CCe=new RegExp(`^hsl\\(${a0},${Vo},${Vo}\\)$`),kCe=new RegExp(`^hsla\\(${a0},${Vo},${Vo},${a0}\\)$`),c8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hT(fg,i0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u8,formatHex:u8,formatHex8:ECe,formatHsl:PCe,formatRgb:d8,toString:d8});function u8(){return this.rgb().formatHex()}function ECe(){return this.rgb().formatHex8()}function PCe(){return JY(this).formatHsl()}function d8(){return this.rgb().formatRgb()}function i0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wCe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?h8(t):n===3?new ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jCe.exec(e))?new ra(t[1],t[2],t[3],1):(t=NCe.exec(e))?new ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_Ce.exec(e))?xv(t[1],t[2],t[3],t[4]):(t=SCe.exec(e))?xv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CCe.exec(e))?p8(t[1],t[2]/100,t[3]/100,1):(t=kCe.exec(e))?p8(t[1],t[2]/100,t[3]/100,t[4]):c8.hasOwnProperty(e)?h8(c8[e]):e==="transparent"?new ra(NaN,NaN,NaN,0):null}function h8(e){return new ra(e>>16&255,e>>8&255,e&255,1)}function xv(e,t,n,s){return s<=0&&(e=t=n=NaN),new ra(e,t,n,s)}function ACe(e){return e instanceof fg||(e=i0(e)),e?(e=e.rgb(),new ra(e.r,e.g,e.b,e.opacity)):new ra}function QP(e,t,n,s){return arguments.length===1?ACe(e):new ra(e,t,n,s??1)}function ra(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}hT(ra,QP,ZY(fg,{brighter(e){return e=e==null?Bb:Math.pow(Bb,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?s0:Math.pow(s0,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ra(Rd(this.r),Rd(this.g),Rd(this.b),Vb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f8,formatHex:f8,formatHex8:OCe,formatRgb:m8,toString:m8}));function f8(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}`}function OCe(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}${jd((isNaN(this.opacity)?1:this.opacity)*255)}`}function m8(){const e=Vb(this.opacity);return`${e===1?"rgb(":"rgba("}${Rd(this.r)}, ${Rd(this.g)}, ${Rd(this.b)}${e===1?")":`, ${e})`}`}function Vb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jd(e){return e=Rd(e),(e<16?"0":"")+e.toString(16)}function p8(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bi(e,t,n,s)}function JY(e){if(e instanceof Bi)return new Bi(e.h,e.s,e.l,e.opacity);if(e instanceof fg||(e=i0(e)),!e)return new Bi;if(e instanceof Bi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Bi(o,l,c,e.opacity)}function TCe(e,t,n,s){return arguments.length===1?JY(e):new Bi(e,t,n,s??1)}function Bi(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}hT(Bi,TCe,ZY(fg,{brighter(e){return e=e==null?Bb:Math.pow(Bb,e),new Bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?s0:Math.pow(s0,e),new Bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new ra(dk(e>=240?e-240:e+120,a,s),dk(e,a,s),dk(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Bi(x8(this.h),gv(this.s),gv(this.l),Vb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vb(this.opacity);return`${e===1?"hsl(":"hsla("}${x8(this.h)}, ${gv(this.s)*100}%, ${gv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x8(e){return e=(e||0)%360,e<0?e+360:e}function gv(e){return Math.max(0,Math.min(1,e||0))}function dk(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fT=e=>()=>e;function MCe(e,t){return function(n){return e+n*t}}function RCe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function DCe(e){return(e=+e)==1?eG:function(t,n){return n-t?RCe(t,n,e):fT(isNaN(t)?n:t)}}function eG(e,t){var n=t-e;return n?MCe(e,n):fT(isNaN(e)?t:e)}const g8=(function e(t){var n=DCe(t);function s(a,i){var o=n((a=QP(a)).r,(i=QP(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=eG(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=c(h),a.opacity=u(h),a+""}}return s.gamma=e,s})(1);function ICe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function LCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FCe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=Tm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function zCe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function Ub(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $Ce(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Tm(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var ZP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hk=new RegExp(ZP.source,"g");function BCe(e){return function(){return e}}function VCe(e){return function(t){return e(t)+""}}function UCe(e,t){var n=ZP.lastIndex=hk.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=ZP.exec(e))&&(a=hk.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ub(s,a)})),n=hk.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?VCe(c[0].x):BCe(t):(t=c.length,function(u){for(var h=0,f;h<t;++h)l[(f=c[h]).i]=f.x(u);return l.join("")})}function Tm(e,t){var n=typeof t,s;return t==null||n==="boolean"?fT(t):(n==="number"?Ub:n==="string"?(s=i0(t))?(t=s,g8):UCe:t instanceof i0?g8:t instanceof Date?zCe:LCe(t)?ICe:Array.isArray(t)?FCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$Ce:Ub)(e,t)}function mT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function WCe(e,t){t===void 0&&(t=e,e=Tm);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function qCe(e){return function(){return e}}function Wb(e){return+e}var y8=[0,1];function Bs(e){return e}function JP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:qCe(isNaN(t)?NaN:.5)}function HCe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function YCe(e,t,n){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=JP(a,s),i=n(o,i)):(s=JP(s,a),i=n(i,o)),function(l){return i(s(l))}}function GCe(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=JP(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=hg(e,l,1,s)-1;return i[c](a[c](l))}}function mg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rj(){var e=y8,t=y8,n=Tm,s,a,i,o=Bs,l,c,u;function h(){var p=Math.min(e.length,t.length);return o!==Bs&&(o=HCe(e[0],e[p-1])),l=p>2?GCe:YCe,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(s),t,n)))(s(o(p)))}return f.invert=function(p){return o(a((u||(u=l(t,e.map(s),Ub)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Wb),h()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=mT,h()},f.clamp=function(p){return arguments.length?(o=p?!0:Bs,h()):o!==Bs},f.interpolate=function(p){return arguments.length?(n=p,h()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,x){return s=p,a=x,h()}}function pT(){return Rj()(Bs,Bs)}function KCe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function qf(e){return e=qb(Math.abs(e)),e?e[1]:NaN}function XCe(e,t){return function(n,s){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function QCe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o0(e){if(!(t=ZCe.exec(e)))throw new Error("invalid format: "+e);var t;return new xT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}o0.prototype=xT.prototype;function xT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JCe(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var tG;function eke(e,t){var n=qb(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(tG=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+qb(e,Math.max(0,t+i-1))[0]}function v8(e,t){var n=qb(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const b8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KCe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v8(e*100,t),r:v8,s:eke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function w8(e){return e}var j8=Array.prototype.map,N8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tke(e){var t=e.grouping===void 0||e.thousands===void 0?w8:XCe(j8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?w8:QCe(j8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=o0(f);var p=f.fill,x=f.align,b=f.sign,v=f.symbol,y=f.zero,N=f.width,_=f.comma,S=f.precision,E=f.trim,A=f.type;A==="n"?(_=!0,A="g"):b8[A]||(S===void 0&&(S=12),E=!0,A="g"),(y||p==="0"&&x==="=")&&(y=!0,p="0",x="=");var k=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=v==="$"?s:/[%p]/.test(A)?o:"",R=b8[A],$=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(M){var B=k,J=P,Y,W,se;if(A==="c")J=R(M)+J,M="";else{M=+M;var q=M<0||1/M<0;if(M=isNaN(M)?c:R(Math.abs(M),S),E&&(M=JCe(M)),q&&+M==0&&b!=="+"&&(q=!1),B=(q?b==="("?b:l:b==="-"||b==="("?"":b)+B,J=(A==="s"?N8[8+tG/3]:"")+J+(q&&b==="("?")":""),$){for(Y=-1,W=M.length;++Y<W;)if(se=M.charCodeAt(Y),48>se||se>57){J=(se===46?a+M.slice(Y+1):M.slice(Y))+J,M=M.slice(0,Y);break}}}_&&!y&&(M=t(M,1/0));var V=B.length+M.length+J.length,U=V<N?new Array(N-V+1).join(p):"";switch(_&&y&&(M=t(U+M,U.length?N-J.length:1/0),U=""),x){case"<":M=B+M+J+U;break;case"=":M=B+U+M+J;break;case"^":M=U.slice(0,V=U.length>>1)+B+M+J+U.slice(V);break;default:M=U+B+M+J;break}return i(M)}return D.toString=function(){return f+""},D}function h(f,p){var x=u((f=o0(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(qf(p)/3)))*3,v=Math.pow(10,-b),y=N8[8+b/3];return function(N){return x(v*N)+y}}return{format:u,formatPrefix:h}}var yv,gT,nG;nke({thousands:",",grouping:[3],currency:["$",""]});function nke(e){return yv=tke(e),gT=yv.format,nG=yv.formatPrefix,yv}function rke(e){return Math.max(0,-qf(Math.abs(e)))}function ske(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qf(t)/3)))*3-qf(Math.abs(e)))}function ake(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qf(t)-qf(e))+1}function rG(e,t,n,s){var a=KP(e,t,n),i;switch(s=o0(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=ske(a,o))&&(s.precision=i),nG(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=ake(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=rke(a))&&(s.precision=i-(s.type==="%")*2);break}}return gT(s)}function wu(e){var t=e.domain;return e.ticks=function(n){var s=t();return YP(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return rG(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,u,h=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);h-- >0;){if(u=GP(o,l,n),u===c)return s[a]=o,s[i]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Hb(){var e=pT();return e.copy=function(){return mg(e,Hb())},xi.apply(e,arguments),wu(e)}function sG(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,Wb),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return sG(e).unknown(t)},e=arguments.length?Array.from(e,Wb):[0,1],wu(n)}function aG(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=t.floor(a),e[s]=t.ceil(i),e}function _8(e){return Math.log(e)}function S8(e){return Math.exp(e)}function ike(e){return-Math.log(-e)}function oke(e){return-Math.exp(-e)}function lke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cke(e){return e===10?lke:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function C8(e){return(t,n)=>-e(-t,n)}function yT(e){const t=e(_8,S8),n=t.domain;let s=10,a,i;function o(){return a=uke(s),i=cke(s),n()[0]<0?(a=C8(a),i=C8(i),e(ike,oke)):e(_8,S8),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],h=c[c.length-1];const f=h<u;f&&([u,h]=[h,u]);let p=a(u),x=a(h),b,v;const y=l==null?10:+l;let N=[];if(!(s%1)&&x-p<y){if(p=Math.floor(p),x=Math.ceil(x),u>0){for(;p<=x;++p)for(b=1;b<s;++b)if(v=p<0?b/i(-p):b*i(p),!(v<u)){if(v>h)break;N.push(v)}}else for(;p<=x;++p)for(b=s-1;b>=1;--b)if(v=p>0?b/i(-p):b*i(p),!(v<u)){if(v>h)break;N.push(v)}N.length*2<y&&(N=YP(u,h,y))}else N=YP(p,x,Math.min(x-p,y)).map(i);return f?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=o0(c)).precision==null&&(c.trim=!0),c=gT(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return h=>{let f=h/i(Math.round(a(h)));return f*s<s-.5&&(f*=s),f<=u?c(h):""}},t.nice=()=>n(aG(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function iG(){const e=yT(Rj()).domain([1,10]);return e.copy=()=>mg(e,iG()).base(e.base()),xi.apply(e,arguments),e}function k8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vT(e){var t=1,n=e(k8(t),E8(t));return n.constant=function(s){return arguments.length?e(k8(t=+s),E8(t)):t},wu(n)}function oG(){var e=vT(Rj());return e.copy=function(){return mg(e,oG()).constant(e.constant())},xi.apply(e,arguments)}function P8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hke(e){return e<0?-e*e:e*e}function bT(e){var t=e(Bs,Bs),n=1;function s(){return n===1?e(Bs,Bs):n===.5?e(dke,hke):e(P8(n),P8(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},wu(t)}function wT(){var e=bT(Rj());return e.copy=function(){return mg(e,wT()).exponent(e.exponent())},xi.apply(e,arguments),e}function fke(){return wT.apply(null,arguments).exponent(.5)}function A8(e){return Math.sign(e)*e*e}function mke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lG(){var e=pT(),t=[0,1],n=!1,s;function a(i){var o=mke(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(A8(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Wb)).map(A8)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return lG(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},xi.apply(a,arguments),wu(a)}function cG(){var e=[],t=[],n=[],s;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=vCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[hg(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(lu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return cG().domain(e).range(t).unknown(s)},xi.apply(i,arguments)}function uG(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[hg(s,c,0,n)]:i}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return uG().domain([e,t]).range(a).unknown(i)},xi.apply(wu(o),arguments)}function dG(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[hg(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dG().domain(e).range(t).unknown(n)},xi.apply(a,arguments)}const fk=new Date,mk=new Date;function Yr(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Yr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(fk.setTime(+i),mk.setTime(+o),e(fk),e(mk),Math.floor(n(fk,mk))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Yb=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Yb);Yb.range;const Tl=1e3,li=Tl*60,Ml=li*60,tc=Ml*24,jT=tc*7,O8=tc*30,pk=tc*365,Nd=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tl)},(e,t)=>(t-e)/Tl,e=>e.getUTCSeconds());Nd.range;const NT=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getMinutes());NT.range;const _T=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCMinutes());_T.range;const ST=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tl-e.getMinutes()*li)},(e,t)=>{e.setTime(+e+t*Ml)},(e,t)=>(t-e)/Ml,e=>e.getHours());ST.range;const CT=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ml)},(e,t)=>(t-e)/Ml,e=>e.getUTCHours());CT.range;const pg=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*li)/tc,e=>e.getDate()-1);pg.range;const Dj=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tc,e=>e.getUTCDate()-1);Dj.range;const hG=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/tc,e=>Math.floor(e/tc));hG.range;function th(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*li)/jT)}const Ij=th(0),Gb=th(1),pke=th(2),xke=th(3),Hf=th(4),gke=th(5),yke=th(6);Ij.range;Gb.range;pke.range;xke.range;Hf.range;gke.range;yke.range;function nh(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jT)}const Lj=nh(0),Kb=nh(1),vke=nh(2),bke=nh(3),Yf=nh(4),wke=nh(5),jke=nh(6);Lj.range;Kb.range;vke.range;bke.range;Yf.range;wke.range;jke.range;const kT=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kT.range;const ET=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ET.range;const nc=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});nc.range;const rc=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});rc.range;function fG(e,t,n,s,a,i){const o=[[Nd,1,Tl],[Nd,5,5*Tl],[Nd,15,15*Tl],[Nd,30,30*Tl],[i,1,li],[i,5,5*li],[i,15,15*li],[i,30,30*li],[a,1,Ml],[a,3,3*Ml],[a,6,6*Ml],[a,12,12*Ml],[s,1,tc],[s,2,2*tc],[n,1,jT],[t,1,O8],[t,3,3*O8],[e,1,pk]];function l(u,h,f){const p=h<u;p&&([u,h]=[h,u]);const x=f&&typeof f.range=="function"?f:c(u,h,f),b=x?x.range(u,+h+1):[];return p?b.reverse():b}function c(u,h,f){const p=Math.abs(h-u)/f,x=uT(([,,y])=>y).right(o,p);if(x===o.length)return e.every(KP(u/pk,h/pk,f));if(x===0)return Yb.every(Math.max(KP(u,h,f),1));const[b,v]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return b.every(v)}return[l,c]}const[Nke,_ke]=fG(rc,ET,Lj,hG,CT,_T),[Ske,Cke]=fG(nc,kT,Ij,pg,ST,NT);function xk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kke(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Qp(a),h=Zp(a),f=Qp(i),p=Zp(i),x=Qp(o),b=Zp(o),v=Qp(l),y=Zp(l),N=Qp(c),_=Zp(c),S={a:q,A:V,b:U,B:F,c:null,d:L8,e:L8,f:Xke,g:iEe,G:lEe,H:Yke,I:Gke,j:Kke,L:mG,m:Qke,M:Zke,p:K,q:te,Q:$8,s:B8,S:Jke,u:eEe,U:tEe,V:nEe,w:rEe,W:sEe,x:null,X:null,y:aEe,Y:oEe,Z:cEe,"%":z8},E={a:H,A:xe,b:ne,B:pe,c:null,d:F8,e:F8,f:fEe,g:NEe,G:SEe,H:uEe,I:dEe,j:hEe,L:xG,m:mEe,M:pEe,p:re,q:ce,Q:$8,s:B8,S:xEe,u:gEe,U:yEe,V:vEe,w:bEe,W:wEe,x:null,X:null,y:jEe,Y:_Ee,Z:CEe,"%":z8},A={a:D,A:M,b:B,B:J,c:Y,d:D8,e:D8,f:Uke,g:R8,G:M8,H:I8,I:I8,j:zke,L:Vke,m:Fke,M:$ke,p:$,q:Lke,Q:qke,s:Hke,S:Bke,u:Tke,U:Mke,V:Rke,w:Oke,W:Dke,x:W,X:se,y:R8,Y:M8,Z:Ike,"%":Wke};S.x=k(n,S),S.X=k(s,S),S.c=k(t,S),E.x=k(n,E),E.X=k(s,E),E.c=k(t,E);function k(he,ue){return function(Oe){var ge=[],qe=-1,Ce=0,yt=he.length,st,xt,Jt;for(Oe instanceof Date||(Oe=new Date(+Oe));++qe<yt;)he.charCodeAt(qe)===37&&(ge.push(he.slice(Ce,qe)),(xt=T8[st=he.charAt(++qe)])!=null?st=he.charAt(++qe):xt=st==="e"?" ":"0",(Jt=ue[st])&&(st=Jt(Oe,xt)),ge.push(st),Ce=qe+1);return ge.push(he.slice(Ce,qe)),ge.join("")}}function P(he,ue){return function(Oe){var ge=Xp(1900,void 0,1),qe=R(ge,he,Oe+="",0),Ce,yt;if(qe!=Oe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(ue&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ce=gk(Xp(ge.y,0,1)),yt=Ce.getUTCDay(),Ce=yt>4||yt===0?Kb.ceil(Ce):Kb(Ce),Ce=Dj.offset(Ce,(ge.V-1)*7),ge.y=Ce.getUTCFullYear(),ge.m=Ce.getUTCMonth(),ge.d=Ce.getUTCDate()+(ge.w+6)%7):(Ce=xk(Xp(ge.y,0,1)),yt=Ce.getDay(),Ce=yt>4||yt===0?Gb.ceil(Ce):Gb(Ce),Ce=pg.offset(Ce,(ge.V-1)*7),ge.y=Ce.getFullYear(),ge.m=Ce.getMonth(),ge.d=Ce.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),yt="Z"in ge?gk(Xp(ge.y,0,1)).getUTCDay():xk(Xp(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(yt+5)%7:ge.w+ge.U*7-(yt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,gk(ge)):xk(ge)}}function R(he,ue,Oe,ge){for(var qe=0,Ce=ue.length,yt=Oe.length,st,xt;qe<Ce;){if(ge>=yt)return-1;if(st=ue.charCodeAt(qe++),st===37){if(st=ue.charAt(qe++),xt=A[st in T8?ue.charAt(qe++):st],!xt||(ge=xt(he,Oe,ge))<0)return-1}else if(st!=Oe.charCodeAt(ge++))return-1}return ge}function $(he,ue,Oe){var ge=u.exec(ue.slice(Oe));return ge?(he.p=h.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function D(he,ue,Oe){var ge=x.exec(ue.slice(Oe));return ge?(he.w=b.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function M(he,ue,Oe){var ge=f.exec(ue.slice(Oe));return ge?(he.w=p.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function B(he,ue,Oe){var ge=N.exec(ue.slice(Oe));return ge?(he.m=_.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function J(he,ue,Oe){var ge=v.exec(ue.slice(Oe));return ge?(he.m=y.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function Y(he,ue,Oe){return R(he,t,ue,Oe)}function W(he,ue,Oe){return R(he,n,ue,Oe)}function se(he,ue,Oe){return R(he,s,ue,Oe)}function q(he){return o[he.getDay()]}function V(he){return i[he.getDay()]}function U(he){return c[he.getMonth()]}function F(he){return l[he.getMonth()]}function K(he){return a[+(he.getHours()>=12)]}function te(he){return 1+~~(he.getMonth()/3)}function H(he){return o[he.getUTCDay()]}function xe(he){return i[he.getUTCDay()]}function ne(he){return c[he.getUTCMonth()]}function pe(he){return l[he.getUTCMonth()]}function re(he){return a[+(he.getUTCHours()>=12)]}function ce(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var ue=k(he+="",S);return ue.toString=function(){return he},ue},parse:function(he){var ue=P(he+="",!1);return ue.toString=function(){return he},ue},utcFormat:function(he){var ue=k(he+="",E);return ue.toString=function(){return he},ue},utcParse:function(he){var ue=P(he+="",!0);return ue.toString=function(){return he},ue}}}var T8={"-":"",_:" ",0:"0"},ts=/^\s*\d+/,Eke=/^%/,Pke=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function Ake(e){return e.replace(Pke,"\\$&")}function Qp(e){return new RegExp("^(?:"+e.map(Ake).join("|")+")","i")}function Zp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Oke(e,t,n){var s=ts.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Tke(e,t,n){var s=ts.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Mke(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function Rke(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function Dke(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function M8(e,t,n){var s=ts.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function R8(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Ike(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Lke(e,t,n){var s=ts.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function Fke(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function D8(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function zke(e,t,n){var s=ts.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function I8(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function $ke(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function Bke(e,t,n){var s=ts.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Vke(e,t,n){var s=ts.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function Uke(e,t,n){var s=ts.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Wke(e,t,n){var s=Eke.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function qke(e,t,n){var s=ts.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function Hke(e,t,n){var s=ts.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function L8(e,t){return un(e.getDate(),t,2)}function Yke(e,t){return un(e.getHours(),t,2)}function Gke(e,t){return un(e.getHours()%12||12,t,2)}function Kke(e,t){return un(1+pg.count(nc(e),e),t,3)}function mG(e,t){return un(e.getMilliseconds(),t,3)}function Xke(e,t){return mG(e,t)+"000"}function Qke(e,t){return un(e.getMonth()+1,t,2)}function Zke(e,t){return un(e.getMinutes(),t,2)}function Jke(e,t){return un(e.getSeconds(),t,2)}function eEe(e){var t=e.getDay();return t===0?7:t}function tEe(e,t){return un(Ij.count(nc(e)-1,e),t,2)}function pG(e){var t=e.getDay();return t>=4||t===0?Hf(e):Hf.ceil(e)}function nEe(e,t){return e=pG(e),un(Hf.count(nc(e),e)+(nc(e).getDay()===4),t,2)}function rEe(e){return e.getDay()}function sEe(e,t){return un(Gb.count(nc(e)-1,e),t,2)}function aEe(e,t){return un(e.getFullYear()%100,t,2)}function iEe(e,t){return e=pG(e),un(e.getFullYear()%100,t,2)}function oEe(e,t){return un(e.getFullYear()%1e4,t,4)}function lEe(e,t){var n=e.getDay();return e=n>=4||n===0?Hf(e):Hf.ceil(e),un(e.getFullYear()%1e4,t,4)}function cEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function F8(e,t){return un(e.getUTCDate(),t,2)}function uEe(e,t){return un(e.getUTCHours(),t,2)}function dEe(e,t){return un(e.getUTCHours()%12||12,t,2)}function hEe(e,t){return un(1+Dj.count(rc(e),e),t,3)}function xG(e,t){return un(e.getUTCMilliseconds(),t,3)}function fEe(e,t){return xG(e,t)+"000"}function mEe(e,t){return un(e.getUTCMonth()+1,t,2)}function pEe(e,t){return un(e.getUTCMinutes(),t,2)}function xEe(e,t){return un(e.getUTCSeconds(),t,2)}function gEe(e){var t=e.getUTCDay();return t===0?7:t}function yEe(e,t){return un(Lj.count(rc(e)-1,e),t,2)}function gG(e){var t=e.getUTCDay();return t>=4||t===0?Yf(e):Yf.ceil(e)}function vEe(e,t){return e=gG(e),un(Yf.count(rc(e),e)+(rc(e).getUTCDay()===4),t,2)}function bEe(e){return e.getUTCDay()}function wEe(e,t){return un(Kb.count(rc(e)-1,e),t,2)}function jEe(e,t){return un(e.getUTCFullYear()%100,t,2)}function NEe(e,t){return e=gG(e),un(e.getUTCFullYear()%100,t,2)}function _Ee(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function SEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Yf(e):Yf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function CEe(){return"+0000"}function z8(){return"%"}function $8(e){return+e}function B8(e){return Math.floor(+e/1e3)}var Gh,yG,vG;kEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kEe(e){return Gh=kke(e),yG=Gh.format,Gh.parse,vG=Gh.utcFormat,Gh.utcParse,Gh}function EEe(e){return new Date(e)}function PEe(e){return e instanceof Date?+e:+new Date(+e)}function PT(e,t,n,s,a,i,o,l,c,u){var h=pT(),f=h.invert,p=h.domain,x=u(".%L"),b=u(":%S"),v=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),_=u("%b %d"),S=u("%B"),E=u("%Y");function A(k){return(c(k)<k?x:l(k)<k?b:o(k)<k?v:i(k)<k?y:s(k)<k?a(k)<k?N:_:n(k)<k?S:E)(k)}return h.invert=function(k){return new Date(f(k))},h.domain=function(k){return arguments.length?p(Array.from(k,PEe)):p().map(EEe)},h.ticks=function(k){var P=p();return e(P[0],P[P.length-1],k??10)},h.tickFormat=function(k,P){return P==null?A:u(P)},h.nice=function(k){var P=p();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?p(aG(P,k)):h},h.copy=function(){return mg(h,PT(e,t,n,s,a,i,o,l,c,u))},h}function AEe(){return xi.apply(PT(Ske,Cke,nc,kT,Ij,pg,ST,NT,Nd,yG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OEe(){return xi.apply(PT(Nke,_ke,rc,ET,Lj,Dj,CT,_T,Nd,vG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fj(){var e=0,t=1,n,s,a,i,o=Bs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function h(f){return function(p){var x,b;return arguments.length?([x,b]=p,o=f(x,b),u):[o(0),o(1)]}}return u.range=h(Tm),u.rangeRound=h(mT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(e),s=f(t),a=n===s?0:1/(s-n),u}}function ju(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bG(){var e=wu(Fj()(Bs));return e.copy=function(){return ju(e,bG())},lc.apply(e,arguments)}function wG(){var e=yT(Fj()).domain([1,10]);return e.copy=function(){return ju(e,wG()).base(e.base())},lc.apply(e,arguments)}function jG(){var e=vT(Fj());return e.copy=function(){return ju(e,jG()).constant(e.constant())},lc.apply(e,arguments)}function AT(){var e=bT(Fj());return e.copy=function(){return ju(e,AT()).exponent(e.exponent())},lc.apply(e,arguments)}function TEe(){return AT.apply(null,arguments).exponent(.5)}function NG(){var e=[],t=Bs;function n(s){if(s!=null&&!isNaN(s=+s))return t((hg(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(lu),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>yCe(e,i/s))},n.copy=function(){return NG(t).domain(e)},lc.apply(n,arguments)}function zj(){var e=0,t=.5,n=1,s=1,a,i,o,l,c,u=Bs,h,f=!1,p;function x(v){return isNaN(v=+v)?p:(v=.5+((v=+h(v))-i)*(s*v<s*i?l:c),u(f?Math.max(0,Math.min(1,v)):v))}x.domain=function(v){return arguments.length?([e,t,n]=v,a=h(e=+e),i=h(t=+t),o=h(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,x):[e,t,n]},x.clamp=function(v){return arguments.length?(f=!!v,x):f},x.interpolator=function(v){return arguments.length?(u=v,x):u};function b(v){return function(y){var N,_,S;return arguments.length?([N,_,S]=y,u=WCe(v,[N,_,S]),x):[u(0),u(.5),u(1)]}}return x.range=b(Tm),x.rangeRound=b(mT),x.unknown=function(v){return arguments.length?(p=v,x):p},function(v){return h=v,a=v(e),i=v(t),o=v(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,x}}function _G(){var e=wu(zj()(Bs));return e.copy=function(){return ju(e,_G())},lc.apply(e,arguments)}function SG(){var e=yT(zj()).domain([.1,1,10]);return e.copy=function(){return ju(e,SG()).base(e.base())},lc.apply(e,arguments)}function CG(){var e=vT(zj());return e.copy=function(){return ju(e,CG()).constant(e.constant())},lc.apply(e,arguments)}function OT(){var e=bT(zj());return e.copy=function(){return ju(e,OT()).exponent(e.exponent())},lc.apply(e,arguments)}function MEe(){return OT.apply(null,arguments).exponent(.5)}const V8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r0,scaleDiverging:_G,scaleDivergingLog:SG,scaleDivergingPow:OT,scaleDivergingSqrt:MEe,scaleDivergingSymlog:CG,scaleIdentity:sG,scaleImplicit:XP,scaleLinear:Hb,scaleLog:iG,scaleOrdinal:dT,scalePoint:Nx,scalePow:wT,scaleQuantile:cG,scaleQuantize:uG,scaleRadial:lG,scaleSequential:bG,scaleSequentialLog:wG,scaleSequentialPow:AT,scaleSequentialQuantile:NG,scaleSequentialSqrt:TEe,scaleSequentialSymlog:jG,scaleSqrt:fke,scaleSymlog:oG,scaleThreshold:dG,scaleTime:AEe,scaleUtc:OEe,tickFormat:rG},Symbol.toStringTag,{value:"Module"}));var yk,U8;function $j(){if(U8)return yk;U8=1;var e=Em();function t(n,s,a){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=s(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,h=l}return h}return yk=t,yk}var vk,W8;function kG(){if(W8)return vk;W8=1;function e(t,n){return t>n}return vk=e,vk}var bk,q8;function REe(){if(q8)return bk;q8=1;var e=$j(),t=kG(),n=Om();function s(a){return a&&a.length?e(a,n,t):void 0}return bk=s,bk}var DEe=REe();const Bj=sn(DEe);var wk,H8;function EG(){if(H8)return wk;H8=1;function e(t,n){return t<n}return wk=e,wk}var jk,Y8;function IEe(){if(Y8)return jk;Y8=1;var e=$j(),t=EG(),n=Om();function s(a){return a&&a.length?e(a,n,t):void 0}return jk=s,jk}var LEe=IEe();const Vj=sn(LEe);var Nk,G8;function FEe(){if(G8)return Nk;G8=1;var e=Y4(),t=al(),n=IY(),s=da();function a(i,o){var l=s(i)?e:n;return l(i,t(o,3))}return Nk=a,Nk}var _k,K8;function zEe(){if(K8)return _k;K8=1;var e=RY(),t=FEe();function n(s,a){return e(t(s,a),1)}return _k=n,_k}var $Ee=zEe();const BEe=sn($Ee);var Sk,X8;function VEe(){if(X8)return Sk;X8=1;var e=iT();function t(n,s){return e(n,s)}return Sk=t,Sk}var UEe=VEe();const xg=sn(UEe);var Mm=1e9,WEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MT,ar=!0,hi="[DecimalError] ",Dd=hi+"Invalid argument: ",TT=hi+"Exponent out of range: ",Rm=Math.floor,xd=Math.pow,qEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oa,Zr=1e7,Hn=7,PG=9007199254740991,Xb=Rm(PG/Hn),it={};it.absoluteValue=it.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};it.comparedTo=it.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};it.decimalPlaces=it.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Hn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};it.dividedBy=it.div=function(e){return Ul(this,new this.constructor(e))};it.dividedToIntegerBy=it.idiv=function(e){var t=this,n=t.constructor;return Ln(Ul(t,new n(e),0,1),n.precision)};it.equals=it.eq=function(e){return!this.cmp(e)};it.exponent=function(){return Tr(this)};it.greaterThan=it.gt=function(e){return this.cmp(e)>0};it.greaterThanOrEqualTo=it.gte=function(e){return this.cmp(e)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(e){return this.cmp(e)<0};it.lessThanOrEqualTo=it.lte=function(e){return this.cmp(e)<1};it.logarithm=it.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Oa))throw Error(hi+"NaN");if(n.s<1)throw Error(hi+(n.s?"NaN":"-Infinity"));return n.eq(Oa)?new s(0):(ar=!1,t=Ul(l0(n,i),l0(e,i),i),ar=!0,Ln(t,a))};it.minus=it.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TG(t,e):AG(t,(e.s=-e.s,e))};it.modulo=it.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(hi+"NaN");return n.s?(ar=!1,t=Ul(n,e,0,1).times(e),ar=!0,n.minus(t)):Ln(new s(n),a)};it.naturalExponential=it.exp=function(){return OG(this)};it.naturalLogarithm=it.ln=function(){return l0(this)};it.negated=it.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};it.plus=it.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AG(t,e):TG(t,(e.s=-e.s,e))};it.precision=it.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dd+e);if(t=Tr(a)+1,s=a.d.length-1,n=s*Hn+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};it.squareRoot=it.sqrt=function(){var e,t,n,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(hi+"NaN")}for(e=Tr(l),ar=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Fo(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Rm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=s,s=i.plus(Ul(l,i,o+2)).times(.5),Fo(i.d).slice(0,o)===(t=Fo(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ln(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return ar=!0,Ln(s,n)};it.times=it.mul=function(e){var t,n,s,a,i,o,l,c,u,h=this,f=h.constructor,p=h.d,x=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,n=h.e+e.e,c=p.length,u=x.length,c<u&&(i=p,p=x,x=i,o=c,c=u,u=o),i=[],o=c+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+x[s]*p[a-s-1]+t,i[a--]=l%Zr|0,t=l/Zr|0;i[a]=(i[a]+t)%Zr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ar?Ln(e,f.precision):e};it.toDecimalPlaces=it.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Xo(e,0,Mm),t===void 0?t=s.rounding:Xo(t,0,8),Ln(n,e+Tr(n)+1,t))};it.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=Hd(s,!0):(Xo(e,0,Mm),t===void 0?t=a.rounding:Xo(t,0,8),s=Ln(new a(s),e+1,t),n=Hd(s,!0,e+1)),n};it.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?Hd(a):(Xo(e,0,Mm),t===void 0?t=i.rounding:Xo(t,0,8),s=Ln(new i(a),e+Tr(a)+1,t),n=Hd(s.abs(),!1,e+Tr(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};it.toInteger=it.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),Tr(e)+1,t.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(e){var t,n,s,a,i,o,l=this,c=l.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(Oa);if(l=new c(l),!l.s){if(e.s<1)throw Error(hi+"Infinity");return l}if(l.eq(Oa))return l;if(s=c.precision,e.eq(Oa))return Ln(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=h<0?-h:h)<=PG){for(a=new c(Oa),t=Math.ceil(s/Hn+4),ar=!1;n%2&&(a=a.times(l),Z8(a.d,t)),n=Rm(n/2),n!==0;)l=l.times(l),Z8(l.d,t);return ar=!0,e.s<0?new c(Oa).div(a):Ln(a,s)}}else if(i<0)throw Error(hi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,ar=!1,a=e.times(l0(l,s+u)),ar=!0,a=OG(a),a.s=i,a};it.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=Tr(a),s=Hd(a,n<=i.toExpNeg||n>=i.toExpPos)):(Xo(e,1,Mm),t===void 0?t=i.rounding:Xo(t,0,8),a=Ln(new i(a),e,t),n=Tr(a),s=Hd(a,e<=n||n<=i.toExpNeg,e)),s};it.toSignificantDigits=it.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Xo(e,1,Mm),t===void 0?t=s.rounding:Xo(t,0,8)),Ln(new s(n),e,t)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),n=e.constructor;return Hd(e,t<=n.toExpNeg||t>=n.toExpPos)};function AG(e,t){var n,s,a,i,o,l,c,u,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ar?Ln(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=u.length):(s=u,a=o,l=c.length),o=Math.ceil(f/Hn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,s=u,u=c,c=s),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Zr|0,c[i]%=Zr;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ar?Ln(t,f):t}function Xo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Dd+e)}function Fo(e){var t,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",n=Hn-s.length,n&&(i+=Gc(n)),i+=s;o=e[t],s=o+"",n=Hn-s.length,n&&(i+=Gc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ul=(function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Zr|0,o=i/Zr|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Zr+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,u,h,f,p,x,b,v,y,N,_,S,E,A,k,P,R,$=s.constructor,D=s.s==a.s?1:-1,M=s.d,B=a.d;if(!s.s)return new $(s);if(!a.s)throw Error(hi+"Division by zero");for(c=s.e-a.e,P=B.length,A=M.length,x=new $(D),b=x.d=[],u=0;B[u]==(M[u]||0);)++u;if(B[u]>(M[u]||0)&&--c,i==null?_=i=$.precision:o?_=i+(Tr(s)-Tr(a))+1:_=i,_<0)return new $(0);if(_=_/Hn+2|0,u=0,P==1)for(h=0,B=B[0],_++;(u<A||h)&&_--;u++)S=h*Zr+(M[u]||0),b[u]=S/B|0,h=S%B|0;else{for(h=Zr/(B[0]+1)|0,h>1&&(B=e(B,h),M=e(M,h),P=B.length,A=M.length),E=P,v=M.slice(0,P),y=v.length;y<P;)v[y++]=0;R=B.slice(),R.unshift(0),k=B[0],B[1]>=Zr/2&&++k;do h=0,l=t(B,v,P,y),l<0?(N=v[0],P!=y&&(N=N*Zr+(v[1]||0)),h=N/k|0,h>1?(h>=Zr&&(h=Zr-1),f=e(B,h),p=f.length,y=v.length,l=t(f,v,p,y),l==1&&(h--,n(f,P<p?R:B,p))):(h==0&&(l=h=1),f=B.slice()),p=f.length,p<y&&f.unshift(0),n(v,f,y),l==-1&&(y=v.length,l=t(B,v,P,y),l<1&&(h++,n(v,P<y?R:B,y))),y=v.length):l===0&&(h++,v=[0]),b[u++]=h,l&&v[0]?v[y++]=M[E]||0:(v=[M[E]],y=1);while((E++<A||v[0]!==void 0)&&_--)}return b[0]||b.shift(),x.e=c,Ln(x,o?i+Tr(x)+1:i)}})();function OG(e,t){var n,s,a,i,o,l,c=0,u=0,h=e.constructor,f=h.precision;if(Tr(e)>16)throw Error(TT+Tr(e));if(!e.s)return new h(Oa);for(ar=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(xd(2,u))/Math.LN10*2+5|0,l+=s,n=a=i=new h(Oa),h.precision=l;;){if(a=Ln(a.times(e),l),n=n.times(++c),o=i.plus(Ul(a,n,l)),Fo(o.d).slice(0,l)===Fo(i.d).slice(0,l)){for(;u--;)i=Ln(i.times(i),l);return h.precision=f,t==null?(ar=!0,Ln(i,f)):i}i=o}}function Tr(e){for(var t=e.e*Hn,n=e.d[0];n>=10;n/=10)t++;return t}function Ck(e,t,n){if(t>e.LN10.sd())throw ar=!0,n&&(e.precision=n),Error(hi+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function Gc(e){for(var t="";e--;)t+="0";return t}function l0(e,t){var n,s,a,i,o,l,c,u,h,f=1,p=10,x=e,b=x.d,v=x.constructor,y=v.precision;if(x.s<1)throw Error(hi+(x.s?"NaN":"-Infinity"));if(x.eq(Oa))return new v(0);if(t==null?(ar=!1,u=y):u=t,x.eq(10))return t==null&&(ar=!0),Ck(v,u);if(u+=p,v.precision=u,n=Fo(b),s=n.charAt(0),i=Tr(x),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)x=x.times(e),n=Fo(x.d),s=n.charAt(0),f++;i=Tr(x),s>1?(x=new v("0."+n),i++):x=new v(s+"."+n.slice(1))}else return c=Ck(v,u+2,y).times(i+""),x=l0(new v(s+"."+n.slice(1)),u-p).plus(c),v.precision=y,t==null?(ar=!0,Ln(x,y)):x;for(l=o=x=Ul(x.minus(Oa),x.plus(Oa),u),h=Ln(x.times(x),u),a=3;;){if(o=Ln(o.times(h),u),c=l.plus(Ul(o,new v(a),u)),Fo(c.d).slice(0,u)===Fo(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ck(v,u+2,y).times(i+""))),l=Ul(l,new v(f),u),v.precision=y,t==null?(ar=!0,Ln(l,y)):l;l=c,a+=2}}function Q8(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=Rm(n/Hn),e.d=[],s=(n+1)%Hn,n<0&&(s+=Hn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=Hn;s<a;)e.d.push(+t.slice(s,s+=Hn));t=t.slice(s),s=Hn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),ar&&(e.e>Xb||e.e<-Xb))throw Error(TT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,n){var s,a,i,o,l,c,u,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=Hn,a=t,u=f[h=0];else{if(h=Math.ceil((s+1)/Hn),i=f.length,h>=i)return e;for(u=i=f[h],o=1;i>=10;i/=10)o++;s%=Hn,a=s-Hn+o}if(n!==void 0&&(i=xd(10,o-a-1),l=u/i%10|0,c=t<0||f[h+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?a>0?u/xd(10,o-a):0:f[h-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=Tr(e),f.length=1,t=t-i-1,f[0]=xd(10,(Hn-t%Hn)%Hn),e.e=Rm(-t/Hn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=h,i=1,h--):(f.length=h+1,i=xd(10,Hn-s),f[h]=a>0?(u/xd(10,o-a)%xd(10,a)|0)*i:0),c)for(;;)if(h==0){(f[0]+=i)==Zr&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=Zr)break;f[h--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(ar&&(e.e>Xb||e.e<-Xb))throw Error(TT+Tr(e));return e}function TG(e,t){var n,s,a,i,o,l,c,u,h,f,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ar?Ln(t,x):t;if(c=e.d,f=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(h=o<0,h?(n=c,o=-o,l=f.length):(n=f,s=u,l=c.length),a=Math.max(Math.ceil(x/Hn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,h=a<l,h&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){h=c[a]<f[a];break}o=0}for(h&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Zr-1;--c[i],c[a]+=Zr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,ar?Ln(t,x):t):new p(0)}function Hd(e,t,n){var s,a=Tr(e),i=Fo(e.d),o=i.length;return t?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Gc(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Gc(-a-1)+i,n&&(s=n-o)>0&&(i+=Gc(s))):a>=o?(i+=Gc(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+Gc(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=Gc(s))),e.s<0?"-"+i:i}function Z8(e,t){if(e.length>t)return e.length=t,!0}function MG(e){var t,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Dd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Q8(o,i.toString())}else if(typeof i!="string")throw Error(Dd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,qEe.test(i))Q8(o,i);else throw Error(Dd+i)}if(a.prototype=it,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MG,a.config=a.set=HEe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function HEe(e){if(!e||typeof e!="object")throw Error(hi+"Object expected");var t,n,s,a=["precision",1,Mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(Rm(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(Dd+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Dd+n+": "+s);return this}var MT=MG(WEe);Oa=new MT(1);const kn=MT;function YEe(e){return QEe(e)||XEe(e)||KEe(e)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(e,t){if(e){if(typeof e=="string")return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}}function XEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QEe(e){if(Array.isArray(e))return eA(e)}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var ZEe=function(t){return t},RG={},DG=function(t){return t===RG},J8=function(t){return function n(){return arguments.length===0||arguments.length===1&&DG(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},JEe=function e(t,n){return t===1?n:J8(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==RG}).length;return o>=t?n.apply(void 0,a):e(t-o,J8(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=a.map(function(f){return DG(f)?c.shift():f});return n.apply(void 0,YEe(h).concat(c))}))})},Uj=function(t){return JEe(t.length,t)},tA=function(t,n){for(var s=[],a=t;a<n;++a)s[a-t]=a;return s},ePe=Uj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),tPe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return ZEe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},nA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},IG=function(t){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,s=t.apply(void 0,i)),s}};function nPe(e){var t;return e===0?t=1:t=Math.floor(new kn(e).abs().log(10).toNumber())+1,t}function rPe(e,t,n){for(var s=new kn(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var sPe=Uj(function(e,t,n){var s=+e,a=+t;return s+n*(a-s)}),aPe=Uj(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),iPe=Uj(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const Wj={rangeStep:rPe,getDigitCount:nPe,interpolateNumber:sPe,uninterpolateNumber:aPe,uninterpolateTruncation:iPe};function rA(e){return cPe(e)||lPe(e)||LG(e)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cPe(e){if(Array.isArray(e))return sA(e)}function c0(e,t){return hPe(e)||dPe(e,t)||LG(e,t)||uPe()}function uPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e,t){if(e){if(typeof e=="string")return sA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function dPe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function hPe(e){if(Array.isArray(e))return e}function FG(e){var t=c0(e,2),n=t[0],s=t[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function zG(e,t,n){if(e.lte(0))return new kn(0);var s=Wj.getDigitCount(e.toNumber()),a=new kn(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new kn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new kn(Math.ceil(c))}function fPe(e,t,n){var s=1,a=new kn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new kn(10).pow(Wj.getDigitCount(e)-1),a=new kn(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new kn(Math.floor(e)))}else e===0?a=new kn(Math.floor((t-1)/2)):n||(a=new kn(Math.floor(e)));var o=Math.floor((t-1)/2),l=tPe(ePe(function(c){return a.add(new kn(c-o).mul(s)).toNumber()}),tA);return l(0,t)}function $G(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new kn(0),tickMin:new kn(0),tickMax:new kn(0)};var i=zG(new kn(t).sub(e).div(n-1),s,a),o;e<=0&&t>=0?o=new kn(0):(o=new kn(e).add(t).div(2),o=o.sub(new kn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new kn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?$G(e,t,n,s,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new kn(l).mul(i)),tickMax:o.add(new kn(c).mul(i))})}function mPe(e){var t=c0(e,2),n=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=FG([n,s]),c=c0(l,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var f=h===1/0?[u].concat(rA(tA(0,a-1).map(function(){return 1/0}))):[].concat(rA(tA(0,a-1).map(function(){return-1/0})),[h]);return n>s?nA(f):f}if(u===h)return fPe(u,a,i);var p=$G(u,h,o,i),x=p.step,b=p.tickMin,v=p.tickMax,y=Wj.rangeStep(b,v.add(new kn(.1).mul(x)),x);return n>s?nA(y):y}function pPe(e,t){var n=c0(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=FG([s,a]),l=c0(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,a];if(c===u)return[c];var h=Math.max(t,2),f=zG(new kn(u).sub(c).div(h-1),i,0),p=[].concat(rA(Wj.rangeStep(new kn(c),new kn(u).sub(new kn(.99).mul(f)),f)),[u]);return s>a?nA(p):p}var xPe=IG(mPe),gPe=IG(pPe),yPe="Invariant failed";function Yd(e,t){throw new Error(yPe)}var vPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qb.apply(this,arguments)}function bPe(e,t){return _Pe(e)||NPe(e,t)||jPe(e,t)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jPe(e,t){if(e){if(typeof e=="string")return ez(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ez(e,t)}}function ez(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function NPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Pe(e){if(Array.isArray(e))return e}function SPe(e,t){if(e==null)return{};var n=CPe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function CPe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function kPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EPe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,UG(s.key),s)}}function PPe(e,t,n){return t&&EPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function APe(e,t,n){return t=Zb(t),OPe(e,BG()?Reflect.construct(t,n||[],Zb(e).constructor):t.apply(e,n))}function OPe(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TPe(e)}function TPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(e)}function MPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aA(e,t)}function aA(e,t){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},aA(e,t)}function VG(e,t,n){return t=UG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UG(e){var t=RPe(e,"string");return Gf(t)=="symbol"?t:t+""}function RPe(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gg=(function(e){function t(){return kPe(this,t),APe(this,t,arguments)}return MPe(t,e),PPe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,h=s.xAxis,f=s.yAxis,p=SPe(s,vPe),x=_t(p,!1);this.props.direction==="x"&&h.type!=="number"&&Yd();var b=c.map(function(v){var y=u(v,l),N=y.x,_=y.y,S=y.value,E=y.errorVal;if(!E)return null;var A=[],k,P;if(Array.isArray(E)){var R=bPe(E,2);k=R[0],P=R[1]}else k=P=E;if(i==="vertical"){var $=h.scale,D=_+a,M=D+o,B=D-o,J=$(S-k),Y=$(S+P);A.push({x1:Y,y1:M,x2:Y,y2:B}),A.push({x1:J,y1:D,x2:Y,y2:D}),A.push({x1:J,y1:M,x2:J,y2:B})}else if(i==="horizontal"){var W=f.scale,se=N+a,q=se-o,V=se+o,U=W(S-k),F=W(S+P);A.push({x1:q,y1:F,x2:V,y2:F}),A.push({x1:se,y1:U,x2:se,y2:F}),A.push({x1:q,y1:U,x2:V,y2:U})}return oe.createElement(on,Qb({className:"recharts-errorBar",key:"bar-".concat(A.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},x),A.map(function(K){return oe.createElement("line",Qb({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return oe.createElement(on,{className:"recharts-errorBars"},b)}}])})(oe.Component);VG(gg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});VG(gg,"displayName","ErrorBar");function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tz(Object(n),!0).forEach(function(s){DPe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function DPe(e,t,n){return t=IPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IPe(e){var t=LPe(e,"string");return u0(t)=="symbol"?t:t+""}function LPe(e,t){if(u0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(u0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WG=function(t){var n=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ea(n,Vl);if(!o)return null;var l=Vl.defaultProps,c=l!==void 0?cd(cd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(s||[]).reduce(function(h,f){var p=f.item,x=f.props,b=x.sectors||x.data||[];return h.concat(b.map(function(v){return{type:o.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(s||[]).map(function(h){var f=h.item,p=f.type.defaultProps,x=p!==void 0?cd(cd({},p),f.props):{},b=x.dataKey,v=x.name,y=x.legendType,N=x.hide;return{inactive:N,dataKey:b,type:c.iconType||y||"square",color:RT(f),value:v||b,payload:x}}),cd(cd(cd({},c),Vl.getWithHeight(o,a)),{},{payload:u,item:o})};function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function nz(e){return BPe(e)||$Pe(e)||zPe(e)||FPe()}function FPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zPe(e,t){if(e){if(typeof e=="string")return iA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(e,t)}}function $Pe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BPe(e){if(Array.isArray(e))return iA(e)}function iA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rz(Object(n),!0).forEach(function(s){yf(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yf(e,t,n){return t=VPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VPe(e){var t=UPe(e,"string");return d0(t)=="symbol"?t:t+""}function UPe(e,t){if(d0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(d0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Br(e,t,n){return Ot(e)||Ot(t)?n:Ur(t)?Da(e,t,n):Et(t)?t(e):n}function _x(e,t,n,s){var a=BEe(e,function(l){return Br(l,t)});if(n==="number"){var i=a.filter(function(l){return Ue(l)||parseFloat(l)});return i.length?[Vj(i),Bj(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!Ot(l)}):a;return o.map(function(l){return Ur(l)||l instanceof Date?l:""})}var WPe=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var h=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,x=void 0;if(zs(f-h)!==zs(p-f)){var b=[];if(zs(p-f)===zs(c[1]-c[0])){x=p;var v=f+c[1]-c[0];b[0]=Math.min(v,(v+h)/2),b[1]=Math.max(v,(v+h)/2)}else{x=h;var y=p+c[1]-c[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var N=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){o=a[u].index;break}}else{var _=Math.min(h,p),S=Math.max(h,p);if(t>(_+f)/2&&t<=(S+f)/2){o=a[u].index;break}}}else for(var E=0;E<l;E++)if(E===0&&t<=(s[E].coordinate+s[E+1].coordinate)/2||E>0&&E<l-1&&t>(s[E].coordinate+s[E-1].coordinate)/2&&t<=(s[E].coordinate+s[E+1].coordinate)/2||E===l-1&&t>(s[E].coordinate+s[E-1].coordinate)/2){o=s[E].index;break}return o},RT=function(t){var n,s=t,a=s.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},qPe=function(t){var n=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var h=i[l[c]].stackGroups,f=Object.keys(h),p=0,x=f.length;p<x;p++){var b=h[f[p]],v=b.items,y=b.cateAxisId,N=v.filter(function(P){return Bl(P.type).indexOf("Bar")>=0});if(N&&N.length){var _=N[0].type.defaultProps,S=_!==void 0?yr(yr({},_),N[0].props):N[0].props,E=S.barSize,A=S[y];o[A]||(o[A]=[]);var k=Ot(E)?n:E;o[A].push({item:N[0],stackList:N.slice(1),barSize:Ot(k)?void 0:$s(k,s,0)})}}return o},HPe=function(t){var n=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=$s(n,a,0,!0),h,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,x=a/c,b=o.reduce(function(E,A){return E+A.barSize||0},0);b+=(c-1)*u,b>=a&&(b-=(c-1)*u,u=0),b>=a&&x>0&&(p=!0,x*=.9,b=c*x);var v=(a-b)/2>>0,y={offset:v-u,size:0};h=o.reduce(function(E,A){var k={item:A.item,position:{offset:y.offset+y.size+u,size:p?x:A.barSize}},P=[].concat(nz(E),[k]);return y=P[P.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(R){P.push({item:R,position:y})}),P},f)}else{var N=$s(s,a,0,!0);a-2*N-(c-1)*u<=0&&(u=0);var _=(a-2*N-(c-1)*u)/c;_>1&&(_>>=0);var S=l===+l?Math.min(_,l):_;h=o.reduce(function(E,A,k){var P=[].concat(nz(E),[{item:A.item,position:{offset:N+(_+u)*k+(_-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},f)}return h},YPe=function(t,n,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=WG({children:i,legendWidth:c});if(u){var h=a||{},f=h.width,p=h.height,x=u.align,b=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&x!=="center"&&Ue(t[x]))return yr(yr({},t),{},yf({},x,t[x]+(f||0)));if((v==="horizontal"||v==="vertical"&&x==="center")&&b!=="middle"&&Ue(t[b]))return yr(yr({},t),{},yf({},b,t[b]+(p||0)))}return t},GPe=function(t,n,s){return Ot(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},qG=function(t,n,s,a,i){var o=n.props.children,l=Ia(o,gg).filter(function(u){return GPe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var f=Br(h,s);if(Ot(f))return u;var p=Array.isArray(f)?[Vj(f),Bj(f)]:[f,f],x=c.reduce(function(b,v){var y=Br(h,v,0),N=p[0]-Math.abs(Array.isArray(y)?y[0]:y),_=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},KPe=function(t,n,s,a,i){var o=n.map(function(l){return qG(t,l,s,i,a)}).filter(function(l){return!Ot(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HG=function(t,n,s,a,i){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&qG(t,c,u,a)||_x(t,u,s,i)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var h=0,f=u.length;h<f;h++)l[u[h]]||(l[u[h]]=!0,c.push(u[h]));return c},[])},YG=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},GG=function(t,n,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(s),l},Rl=function(t,n,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?zs(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return h.filter(function(f){return!ug(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},kk=new WeakMap,vv=function(t,n){if(typeof n!="function")return t;kk.has(t)||kk.set(t,new WeakMap);var s=kk.get(t);if(s.has(n))return s.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},KG=function(t,n,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:r0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Hb(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:Nx(),realScaleType:"point"}:i==="category"?{scale:r0(),realScaleType:"band"}:{scale:Hb(),realScaleType:"linear"};if(Ud(a)){var c="scale".concat(kj(a));return{scale:(V8[c]||Nx)(),realScaleType:V8[c]?c:"point"}}return Et(a)?{scale:a}:{scale:Nx(),realScaleType:"point"}},sz=1e-4,XG=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,a=t.range(),i=Math.min(a[0],a[1])-sz,o=Math.max(a[0],a[1])+sz,l=t(n[0]),c=t(n[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[s-1]])}},XPe=function(t,n){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===n)return t[s].position;return null},QPe=function(t,n){if(!n||n.length!==2||!Ue(n[0])||!Ue(n[1]))return t;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<s)&&(i[0]=s),(!Ue(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},ZPe=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var c=ug(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},JPe=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=ug(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},eAe={sign:ZPe,expand:B1e,none:$f,silhouette:V1e,wiggle:U1e,positive:JPe},tAe=function(t,n,s){var a=n.map(function(l){return l.props.dataKey}),i=eAe[s],o=$1e().keys(a).value(function(l,c){return+Br(l,c,0)}).order(IP).offset(i);return o(t)},nAe=function(t,n,s,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,p){var x,b=(x=p.type)!==null&&x!==void 0&&x.defaultProps?yr(yr({},p.type.defaultProps),p.props):p.props,v=b.stackId,y=b.hide;if(y)return f;var N=b[s],_=f[N]||{hasStack:!1,stackGroups:{}};if(Ur(v)){var S=_.stackGroups[v]||{numericAxisId:s,cateAxisId:a,items:[]};S.items.push(p),_.hasStack=!0,_.stackGroups[v]=S}else _.stackGroups[Am("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[p]};return yr(yr({},f),{},yf({},N,_))},c),h={};return Object.keys(u).reduce(function(f,p){var x=u[p];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(v,y){var N=x.stackGroups[y];return yr(yr({},v),{},yf({},y,{numericAxisId:s,cateAxisId:a,items:N.items,stackedData:tAe(t,N.items,i)}))},b)}return yr(yr({},f),{},yf({},p,x))},h)},QG=function(t,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=xPe(u,i,l);return t.domain([Vj(h),Bj(h)]),{niceTicks:h}}if(i&&a==="number"){var f=t.domain(),p=gPe(f,i,l);return{niceTicks:p}}return null};function az(e){var t=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ot(a[t.dataKey])){var l=Eb(n,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Br(a,Ot(o)?t.dataKey:o);return Ot(c)?null:t.scale(c)}var iz=function(t){var n=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var c=Br(o,n.dataKey,n.domain[l]);return Ot(c)?null:n.scale(c)-i/2+a},rAe=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},sAe=function(t,n){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ur(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},aAe=function(t){return t.reduce(function(n,s){return[Vj(s.concat([n[0]]).filter(Ue)),Bj(s.concat([n[1]]).filter(Ue))]},[1/0,-1/0])},ZG=function(t,n,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,h){var f=aAe(h.slice(n,s+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},oz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oA=function(t,n,s){if(Et(t))return t(n,s);if(!Array.isArray(t))return n;var a=[];if(Ue(t[0]))a[0]=s?t[0]:Math.min(t[0],n[0]);else if(oz.test(t[0])){var i=+oz.exec(t[0])[1];a[0]=n[0]-i}else Et(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ue(t[1]))a[1]=s?t[1]:Math.max(t[1],n[1]);else if(lz.test(t[1])){var o=+lz.exec(t[1])[1];a[1]=n[1]+o}else Et(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Jb=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&n&&n.length>=2){for(var i=lT(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],h=i[l-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},cz=function(t,n,s){return!t||!t.length||xg(t,Da(s,"type.defaultProps.domain"))?n:t},JG=function(t,n){var s=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,h=s.hide;return yr(yr({},_t(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:RT(t),value:Br(n,a),type:c,payload:n,chartType:u,hide:h})};function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uz(Object(n),!0).forEach(function(s){eK(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eK(e,t,n){return t=iAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iAe(e){var t=oAe(e,"string");return h0(t)=="symbol"?t:t+""}function oAe(e,t){if(h0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(h0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lAe(e,t){return hAe(e)||dAe(e,t)||uAe(e,t)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uAe(e,t){if(e){if(typeof e=="string")return dz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dz(e,t)}}function dz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function dAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hAe(e){if(Array.isArray(e))return e}var ew=Math.PI/180,fAe=function(t){return t*180/Math.PI},Wn=function(t,n,s,a){return{x:t+Math.cos(-ew*a)*s,y:n+Math.sin(-ew*a)*s}},tK=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},mAe=function(t,n,s,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,h=$s(t.cx,o,o/2),f=$s(t.cy,l,l/2),p=tK(o,l,s),x=$s(t.innerRadius,p,0),b=$s(t.outerRadius,p,p*.8),v=Object.keys(n);return v.reduce(function(y,N){var _=n[N],S=_.domain,E=_.reversed,A;if(Ot(_.range))a==="angleAxis"?A=[c,u]:a==="radiusAxis"&&(A=[x,b]),E&&(A=[A[1],A[0]]);else{A=_.range;var k=A,P=lAe(k,2);c=P[0],u=P[1]}var R=KG(_,i),$=R.realScaleType,D=R.scale;D.domain(S).range(A),XG(D);var M=QG(D,_l(_l({},_),{},{realScaleType:$})),B=_l(_l(_l({},_),M),{},{range:A,radius:b,realScaleType:$,scale:D,cx:h,cy:f,innerRadius:x,outerRadius:b,startAngle:c,endAngle:u});return _l(_l({},y),{},eK({},N,B))},{})},pAe=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},xAe=function(t,n){var s=t.x,a=t.y,i=n.cx,o=n.cy,l=pAe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:fAe(u),angleInRadian:u}},gAe=function(t){var n=t.startAngle,s=t.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},yAe=function(t,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},hz=function(t,n){var s=t.x,a=t.y,i=xAe({x:s,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var h=gAe(n),f=h.startAngle,p=h.endAngle,x=l,b;if(f<=p){for(;x>p;)x-=360;for(;x<f;)x+=360;b=x>=f&&x<=p}else{for(;x>f;)x-=360;for(;x<p;)x+=360;b=x>=p&&x<=f}return b?_l(_l({},n),{},{radius:o,angle:yAe(x,n)}):null},nK=function(t){return!j.isValidElement(t)&&!Et(t)&&typeof t!="boolean"?t.className:""};function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}var vAe=["offset"];function bAe(e){return _Ae(e)||NAe(e)||jAe(e)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jAe(e,t){if(e){if(typeof e=="string")return lA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lA(e,t)}}function NAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ae(e){if(Array.isArray(e))return lA(e)}function lA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function SAe(e,t){if(e==null)return{};var n=CAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function CAe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function fz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fz(Object(n),!0).forEach(function(s){kAe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kAe(e,t,n){return t=EAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EAe(e){var t=PAe(e,"string");return f0(t)=="symbol"?t:t+""}function PAe(e,t){if(f0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(f0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m0.apply(this,arguments)}var AAe=function(t){var n=t.value,s=t.formatter,a=Ot(t.children)?n:t.children;return Et(s)?s(a):a},OAe=function(t,n){var s=zs(n-t),a=Math.min(Math.abs(n-t),360);return s*a},TAe=function(t,n,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,h=c.cy,f=c.innerRadius,p=c.outerRadius,x=c.startAngle,b=c.endAngle,v=c.clockWise,y=(f+p)/2,N=OAe(x,b),_=N>=0?1:-1,S,E;a==="insideStart"?(S=x+_*o,E=v):a==="insideEnd"?(S=b-_*o,E=!v):a==="end"&&(S=b+_*o,E=v),E=N<=0?E:!E;var A=Wn(u,h,y,S),k=Wn(u,h,y,S+(E?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(k.x,",").concat(k.y),R=Ot(t.id)?Am("recharts-radial-line-"):t.id;return oe.createElement("text",m0({},s,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),oe.createElement("defs",null,oe.createElement("path",{id:R,d:P})),oe.createElement("textPath",{xlinkHref:"#".concat(R)},n))},MAe=function(t){var n=t.viewBox,s=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,h=i.startAngle,f=i.endAngle,p=(h+f)/2;if(a==="outside"){var x=Wn(o,l,u+s,p),b=x.x,v=x.y;return{x:b,y:v,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,N=Wn(o,l,y,p),_=N.x,S=N.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},RAe=function(t){var n=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,h=o.height,f=h>=0?1:-1,p=f*a,x=f>0?"end":"start",b=f>0?"start":"end",v=u>=0?1:-1,y=v*a,N=v>0?"end":"start",_=v>0?"start":"end";if(i==="top"){var S={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:x};return zr(zr({},S),s?{height:Math.max(c-s.y,0),width:u}:{})}if(i==="bottom"){var E={x:l+u/2,y:c+h+p,textAnchor:"middle",verticalAnchor:b};return zr(zr({},E),s?{height:Math.max(s.y+s.height-(c+h),0),width:u}:{})}if(i==="left"){var A={x:l-y,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return zr(zr({},A),s?{width:Math.max(A.x-s.x,0),height:h}:{})}if(i==="right"){var k={x:l+u+y,y:c+h/2,textAnchor:_,verticalAnchor:"middle"};return zr(zr({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:h}:{})}var P=s?{width:u,height:h}:{};return i==="insideLeft"?zr({x:l+y,y:c+h/2,textAnchor:_,verticalAnchor:"middle"},P):i==="insideRight"?zr({x:l+u-y,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},P):i==="insideTop"?zr({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:b},P):i==="insideBottom"?zr({x:l+u/2,y:c+h-p,textAnchor:"middle",verticalAnchor:x},P):i==="insideTopLeft"?zr({x:l+y,y:c+p,textAnchor:_,verticalAnchor:b},P):i==="insideTopRight"?zr({x:l+u-y,y:c+p,textAnchor:N,verticalAnchor:b},P):i==="insideBottomLeft"?zr({x:l+y,y:c+h-p,textAnchor:_,verticalAnchor:x},P):i==="insideBottomRight"?zr({x:l+u-y,y:c+h-p,textAnchor:N,verticalAnchor:x},P):Pm(i)&&(Ue(i.x)||wd(i.x))&&(Ue(i.y)||wd(i.y))?zr({x:l+$s(i.x,u),y:c+$s(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):zr({x:l+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},DAe=function(t){return"cx"in t&&Ue(t.cx)};function Jr(e){var t=e.offset,n=t===void 0?5:t,s=SAe(e,vAe),a=zr({offset:n},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,h=a.className,f=h===void 0?"":h,p=a.textBreakAll;if(!i||Ot(l)&&Ot(c)&&!j.isValidElement(u)&&!Et(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var x;if(Et(u)){if(x=j.createElement(u,a),j.isValidElement(x))return x}else x=AAe(a);var b=DAe(i),v=_t(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return TAe(a,x,v);var y=b?MAe(a):RAe(a);return oe.createElement(qd,m0({className:Mt("recharts-label",f)},v,y,{breakAll:p}),x)}Jr.displayName="Label";var rK=function(t){var n=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,h=t.outerRadius,f=t.x,p=t.y,x=t.top,b=t.left,v=t.width,y=t.height,N=t.clockWise,_=t.labelViewBox;if(_)return _;if(Ue(v)&&Ue(y)){if(Ue(f)&&Ue(p))return{x:f,y:p,width:v,height:y};if(Ue(x)&&Ue(b))return{x,y:b,width:v,height:y}}return Ue(f)&&Ue(p)?{x:f,y:p,width:0,height:0}:Ue(n)&&Ue(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},IAe=function(t,n){return t?t===!0?oe.createElement(Jr,{key:"label-implicit",viewBox:n}):Ur(t)?oe.createElement(Jr,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Jr?j.cloneElement(t,{key:"label-implicit",viewBox:n}):oe.createElement(Jr,{key:"label-implicit",content:t,viewBox:n}):Et(t)?oe.createElement(Jr,{key:"label-implicit",content:t,viewBox:n}):Pm(t)?oe.createElement(Jr,m0({viewBox:n},t,{key:"label-implicit"})):null:null},LAe=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=rK(t),o=Ia(a,Jr).map(function(c,u){return j.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!s)return o;var l=IAe(t.label,n||i);return[l].concat(bAe(o))};Jr.parseViewBox=rK;Jr.renderCallByParent=LAe;var Ek,mz;function FAe(){if(mz)return Ek;mz=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Ek=e,Ek}var zAe=FAe();const $Ae=sn(zAe);function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}var BAe=["valueAccessor"],VAe=["data","dataKey","clockWise","id","textBreakAll"];function UAe(e){return YAe(e)||HAe(e)||qAe(e)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qAe(e,t){if(e){if(typeof e=="string")return cA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(e,t)}}function HAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YAe(e){if(Array.isArray(e))return cA(e)}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tw.apply(this,arguments)}function pz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function xz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(n),!0).forEach(function(s){GAe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GAe(e,t,n){return t=KAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KAe(e){var t=XAe(e,"string");return p0(t)=="symbol"?t:t+""}function XAe(e,t){if(p0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(p0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gz(e,t){if(e==null)return{};var n=QAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function QAe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var ZAe=function(t){return Array.isArray(t.value)?$Ae(t.value):t.value};function Wl(e){var t=e.valueAccessor,n=t===void 0?ZAe:t,s=gz(e,BAe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=gz(s,VAe);return!a||!a.length?null:oe.createElement(on,{className:"recharts-label-list"},a.map(function(h,f){var p=Ot(i)?n(h,f):Br(h&&h.payload,i),x=Ot(l)?{}:{id:"".concat(l,"-").concat(f)};return oe.createElement(Jr,tw({},_t(h,!0),u,x,{parentViewBox:h.parentViewBox,value:p,textBreakAll:c,viewBox:Jr.parseViewBox(Ot(o)?h:xz(xz({},h),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Wl.displayName="LabelList";function JAe(e,t){return e?e===!0?oe.createElement(Wl,{key:"labelList-implicit",data:t}):oe.isValidElement(e)||Et(e)?oe.createElement(Wl,{key:"labelList-implicit",data:t,content:e}):Pm(e)?oe.createElement(Wl,tw({data:t},e,{key:"labelList-implicit"})):null:null}function eOe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=Ia(s,Wl).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=JAe(e.label,t);return[i].concat(UAe(a))}Wl.renderCallByParent=eOe;function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}function uA(){return uA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uA.apply(this,arguments)}function yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function vz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yz(Object(n),!0).forEach(function(s){tOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function tOe(e,t,n){return t=nOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nOe(e){var t=rOe(e,"string");return x0(t)=="symbol"?t:t+""}function rOe(e,t){if(x0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(x0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sOe=function(t,n){var s=zs(n-t),a=Math.min(Math.abs(n-t),359.999);return s*a},bv=function(t){var n=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,h=c*(l?1:-1)+a,f=Math.asin(c/h)/ew,p=u?i:i+o*f,x=Wn(n,s,h,p),b=Wn(n,s,a,p),v=u?i-o*f:i,y=Wn(n,s,h*Math.cos(f*ew),v);return{center:x,circleTangency:b,lineTangency:y,theta:f}},sK=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=sOe(o,l),u=o+c,h=Wn(n,s,i,o),f=Wn(n,s,i,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var x=Wn(n,s,a,o),b=Wn(n,s,a,u);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(n,",").concat(s," Z");return p},aOe=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,f=zs(h-u),p=bv({cx:n,cy:s,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=p.circleTangency,b=p.lineTangency,v=p.theta,y=bv({cx:n,cy:s,radius:i,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,_=y.lineTangency,S=y.theta,E=c?Math.abs(u-h):Math.abs(u-h)-v-S;if(E<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sK({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:h});var A="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var k=bv({cx:n,cy:s,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=k.circleTangency,R=k.lineTangency,$=k.theta,D=bv({cx:n,cy:s,radius:a,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=D.circleTangency,B=D.lineTangency,J=D.theta,Y=c?Math.abs(u-h):Math.abs(u-h)-$-J;if(Y<0&&o===0)return"".concat(A,"L").concat(n,",").concat(s,"Z");A+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else A+="L".concat(n,",").concat(s,"Z");return A},iOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aK=function(t){var n=vz(vz({},iOe),t),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,p=n.className;if(o<i||h===f)return null;var x=Mt("recharts-sector",p),b=o-i,v=$s(l,b,0,!0),y;return v>0&&Math.abs(h-f)<360?y=aOe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}):y=sK({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:h,endAngle:f}),oe.createElement("path",uA({},_t(n,!0),{className:x,d:y,role:"img"}))};function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dA.apply(this,arguments)}function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function wz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bz(Object(n),!0).forEach(function(s){oOe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oOe(e,t,n){return t=lOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lOe(e){var t=cOe(e,"string");return g0(t)=="symbol"?t:t+""}function cOe(e,t){if(g0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(g0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jz={curveBasisClosed:P1e,curveBasisOpen:A1e,curveBasis:E1e,curveBumpX:m1e,curveBumpY:p1e,curveLinearClosed:O1e,curveLinear:Pj,curveMonotoneX:T1e,curveMonotoneY:M1e,curveNatural:R1e,curveStep:D1e,curveStepAfter:L1e,curveStepBefore:I1e},wv=function(t){return t.x===+t.x&&t.y===+t.y},Jp=function(t){return t.x},ex=function(t){return t.y},uOe=function(t,n){if(Et(t))return t;var s="curve".concat(kj(t));return(s==="curveMonotone"||s==="curveBump")&&n?jz["".concat(s).concat(n==="vertical"?"Y":"X")]:jz[s]||Pj},dOe=function(t){var n=t.type,s=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,h=uOe(s,l),f=u?i.filter(function(v){return wv(v)}):i,p;if(Array.isArray(o)){var x=u?o.filter(function(v){return wv(v)}):o,b=f.map(function(v,y){return wz(wz({},v),{},{base:x[y]})});return l==="vertical"?p=hv().y(ex).x1(Jp).x0(function(v){return v.base.x}):p=hv().x(Jp).y1(ex).y0(function(v){return v.base.y}),p.defined(wv).curve(h),p(b)}return l==="vertical"&&Ue(o)?p=hv().y(ex).x1(Jp).x0(o):Ue(o)?p=hv().x(Jp).y1(ex).y0(o):p=rY().x(Jp).y(ex),p.defined(wv).curve(h),p(f)},nw=function(t){var n=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?dOe(t):a;return j.createElement("path",dA({},_t(t,!1),Pb(t),{className:Mt("recharts-curve",n),d:o,ref:i}))},Pk={exports:{}},Ak,Nz;function hOe(){if(Nz)return Ak;Nz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ak=e,Ak}var Ok,_z;function fOe(){if(_z)return Ok;_z=1;var e=hOe();function t(){}function n(){}return n.resetWarningCache=t,Ok=function(){function s(o,l,c,u,h,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Ok}var Sz;function mOe(){return Sz||(Sz=1,Pk.exports=fOe()()),Pk.exports}var pOe=mOe();const yn=sn(pOe),{getOwnPropertyNames:xOe,getOwnPropertySymbols:gOe}=Object,{hasOwnProperty:yOe}=Object.prototype;function Tk(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function jv(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);const{cache:i}=a,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);const c=e(n,s,a);return i.delete(n),i.delete(s),c}}function vOe(e){return e!=null?e[Symbol.toStringTag]:void 0}function Cz(e){return xOe(e).concat(gOe(e))}const bOe=Object.hasOwn||((e,t)=>yOe.call(e,t));function rh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const wOe="__v",jOe="__o",NOe="_owner",{getOwnPropertyDescriptor:kz,keys:Ez}=Object;function _Oe(e,t){return e.byteLength===t.byteLength&&rw(new Uint8Array(e),new Uint8Array(t))}function SOe(e,t,n){let s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function COe(e,t){return e.byteLength===t.byteLength&&rw(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function kOe(e,t){return rh(e.getTime(),t.getTime())}function EOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function POe(e,t){return e===t}function Pz(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const a=new Array(s),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let h=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const p=o.value,x=l.value;if(n.equals(p[0],x[0],c,f,e,t,n)&&n.equals(p[1],x[1],p[0],x[0],e,t,n)){h=a[f]=!0;break}f++}if(!h)return!1;c++}return!0}const AOe=rh;function OOe(e,t,n){const s=Ez(e);let a=s.length;if(Ez(t).length!==a)return!1;for(;a-- >0;)if(!iK(e,t,n,s[a]))return!1;return!0}function tx(e,t,n){const s=Cz(e);let a=s.length;if(Cz(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=s[a],!iK(e,t,n,i)||(o=kz(e,i),l=kz(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function TOe(e,t){return rh(e.valueOf(),t.valueOf())}function MOe(e,t){return e.source===t.source&&e.flags===t.flags}function Az(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const a=new Array(s),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,h=0;for(;(l=c.next())&&!l.done;){if(!a[h]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[h]=!0;break}h++}if(!u)return!1}return!0}function rw(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function ROe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iK(e,t,n,s){return(s===NOe||s===jOe||s===wOe)&&(e.$$typeof||t.$$typeof)?!0:bOe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}const DOe="[object ArrayBuffer]",IOe="[object Arguments]",LOe="[object Boolean]",FOe="[object DataView]",zOe="[object Date]",$Oe="[object Error]",BOe="[object Map]",VOe="[object Number]",UOe="[object Object]",WOe="[object RegExp]",qOe="[object Set]",HOe="[object String]",YOe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},GOe="[object URL]",KOe=Object.prototype.toString;function XOe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:h,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:x,unknownTagComparators:b}){return function(y,N,_){if(y===N)return!0;if(y==null||N==null)return!1;const S=typeof y;if(S!==typeof N)return!1;if(S!=="object")return S==="number"?l(y,N,_):S==="function"?i(y,N,_):!1;const E=y.constructor;if(E!==N.constructor)return!1;if(E===Object)return c(y,N,_);if(Array.isArray(y))return t(y,N,_);if(E===Date)return s(y,N,_);if(E===RegExp)return h(y,N,_);if(E===Map)return o(y,N,_);if(E===Set)return f(y,N,_);const A=KOe.call(y);if(A===zOe)return s(y,N,_);if(A===WOe)return h(y,N,_);if(A===BOe)return o(y,N,_);if(A===qOe)return f(y,N,_);if(A===UOe)return typeof y.then!="function"&&typeof N.then!="function"&&c(y,N,_);if(A===GOe)return x(y,N,_);if(A===$Oe)return a(y,N,_);if(A===IOe)return c(y,N,_);if(YOe[A])return p(y,N,_);if(A===DOe)return e(y,N,_);if(A===FOe)return n(y,N,_);if(A===LOe||A===VOe||A===HOe)return u(y,N,_);if(b){let k=b[A];if(!k){const P=vOe(y);P&&(k=b[P])}if(k)return k(y,N,_)}return!1}}function QOe({circular:e,createCustomConfig:t,strict:n}){let s={areArrayBuffersEqual:_Oe,areArraysEqual:n?tx:SOe,areDataViewsEqual:COe,areDatesEqual:kOe,areErrorsEqual:EOe,areFunctionsEqual:POe,areMapsEqual:n?Tk(Pz,tx):Pz,areNumbersEqual:AOe,areObjectsEqual:n?tx:OOe,arePrimitiveWrappersEqual:TOe,areRegExpsEqual:MOe,areSetsEqual:n?Tk(Az,tx):Az,areTypedArraysEqual:n?Tk(rw,tx):rw,areUrlsEqual:ROe,unknownTagComparators:void 0};if(t&&(s=Object.assign({},s,t(s))),e){const a=jv(s.areArraysEqual),i=jv(s.areMapsEqual),o=jv(s.areObjectsEqual),l=jv(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return s}function ZOe(e){return function(t,n,s,a,i,o,l){return e(t,n,l)}}function JOe({circular:e,comparator:t,createState:n,equals:s,strict:a}){if(n)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:h}=n();return t(l,c,{cache:u,equals:s,meta:h,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};const i={cache:void 0,equals:s,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const e4e=Nu();Nu({strict:!0});Nu({circular:!0});Nu({circular:!0,strict:!0});Nu({createInternalComparator:()=>rh});Nu({strict:!0,createInternalComparator:()=>rh});Nu({circular:!0,createInternalComparator:()=>rh});Nu({circular:!0,createInternalComparator:()=>rh,strict:!0});function Nu(e={}){const{circular:t=!1,createInternalComparator:n,createState:s,strict:a=!1}=e,i=QOe(e),o=XOe(i),l=n?n(o):ZOe(o);return JOe({circular:t,comparator:o,createState:s,equals:l,strict:a})}function t4e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Oz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):t4e(a)};requestAnimationFrame(s)}function hA(e){"@babel/helpers - typeof";return hA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hA(e)}function n4e(e){return i4e(e)||a4e(e)||s4e(e)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4e(e,t){if(e){if(typeof e=="string")return Tz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tz(e,t)}}function Tz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function a4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i4e(e){if(Array.isArray(e))return e}function o4e(){var e={},t=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=n4e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Oz(a.bind(null,u),c);return}a(c),Oz(a.bind(null,u));return}hA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function y0(e){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(e)}function Mz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Rz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mz(Object(n),!0).forEach(function(s){oK(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oK(e,t,n){return t=l4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l4e(e){var t=c4e(e,"string");return y0(t)==="symbol"?t:String(t)}function c4e(e,t){if(y0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(y0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u4e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},d4e=function(t){return t},h4e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Sx=function(t,n){return Object.keys(n).reduce(function(s,a){return Rz(Rz({},s),{},oK({},a,t(a,n[a])))},{})},Dz=function(t,n,s){return t.map(function(a){return"".concat(h4e(a)," ").concat(n,"ms ").concat(s)}).join(",")};function f4e(e,t){return x4e(e)||p4e(e,t)||lK(e,t)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function x4e(e){if(Array.isArray(e))return e}function g4e(e){return b4e(e)||v4e(e)||lK(e)||y4e()}function y4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(e,t){if(e){if(typeof e=="string")return fA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fA(e,t)}}function v4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b4e(e){if(Array.isArray(e))return fA(e)}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var sw=1e-4,cK=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},uK=function(t,n){return t.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},Iz=function(t,n){return function(s){var a=cK(t,n);return uK(a,s)}},w4e=function(t,n){return function(s){var a=cK(t,n),i=[].concat(g4e(a.map(function(o,l){return o*l}).slice(1)),[0]);return uK(i,s)}},Lz=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=f4e(u,4);a=h[0],i=h[1],o=h[2],l=h[3]}}}var f=Iz(a,o),p=Iz(i,l),x=w4e(a,o),b=function(N){return N>1?1:N<0?0:N},v=function(N){for(var _=N>1?1:N,S=_,E=0;E<8;++E){var A=f(S)-_,k=x(S);if(Math.abs(A-_)<sw||k<sw)return p(S);S=b(S-A/k)}return p(S)};return v.isStepper=!1,v},j4e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(h,f,p){var x=-(h-f)*s,b=p*i,v=p+(x-b)*l/1e3,y=p*l/1e3+h;return Math.abs(y-f)<sw&&Math.abs(v)<sw?[f,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},N4e=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Lz(a);case"spring":return j4e();default:if(a.split("(")[0]==="cubic-bezier")return Lz(a)}return typeof a=="function"?a:null};function v0(e){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(e)}function Fz(e){return C4e(e)||S4e(e)||dK(e)||_4e()}function _4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C4e(e){if(Array.isArray(e))return pA(e)}function zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zz(Object(n),!0).forEach(function(s){mA(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mA(e,t,n){return t=k4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k4e(e){var t=E4e(e,"string");return v0(t)==="symbol"?t:String(t)}function E4e(e,t){if(v0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(v0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P4e(e,t){return T4e(e)||O4e(e,t)||dK(e,t)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(e,t){if(e){if(typeof e=="string")return pA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pA(e,t)}}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function O4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function T4e(e){if(Array.isArray(e))return e}var aw=function(t,n,s){return t+(n-t)*s},xA=function(t){var n=t.from,s=t.to;return n!==s},M4e=function e(t,n,s){var a=Sx(function(i,o){if(xA(o)){var l=t(o.from,o.to,o.velocity),c=P4e(l,2),u=c[0],h=c[1];return ls(ls({},o),{},{from:u,velocity:h})}return o},n);return s<1?Sx(function(i,o){return xA(o)?ls(ls({},o),{},{velocity:aw(o.velocity,a[i].velocity,s),from:aw(o.from,a[i].from,s)}):o},n):e(t,a,s-1)};const R4e=(function(e,t,n,s,a){var i=u4e(e,t),o=i.reduce(function(y,N){return ls(ls({},y),{},mA({},N,[e[N],t[N]]))},{}),l=i.reduce(function(y,N){return ls(ls({},y),{},mA({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,h,f=function(){return null},p=function(){return Sx(function(N,_){return _.from},l)},x=function(){return!Object.values(l).filter(xA).length},b=function(N){u||(u=N);var _=N-u,S=_/n.dt;l=M4e(n,l,S),a(ls(ls(ls({},e),t),p())),u=N,x()||(c=requestAnimationFrame(f))},v=function(N){h||(h=N);var _=(N-h)/s,S=Sx(function(A,k){return aw.apply(void 0,Fz(k).concat([n(_)]))},o);if(a(ls(ls(ls({},e),t),S)),_<1)c=requestAnimationFrame(f);else{var E=Sx(function(A,k){return aw.apply(void 0,Fz(k).concat([n(1)]))},o);a(ls(ls(ls({},e),t),E))}};return f=n.isStepper?b:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}var D4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function I4e(e,t){if(e==null)return{};var n=L4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function L4e(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Mk(e){return B4e(e)||$4e(e)||z4e(e)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4e(e,t){if(e){if(typeof e=="string")return gA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gA(e,t)}}function $4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B4e(e){if(Array.isArray(e))return gA(e)}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function $z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$z(Object(n),!0).forEach(function(s){hx(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hx(e,t,n){return t=hK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,hK(s.key),s)}}function W4e(e,t,n){return t&&U4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hK(e){var t=q4e(e,"string");return Kf(t)==="symbol"?t:String(t)}function q4e(e,t){if(Kf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Kf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yA(e,t)}function yA(e,t){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},yA(e,t)}function Y4e(e){var t=G4e();return function(){var s=iw(e),a;if(t){var i=iw(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return vA(this,a)}}function vA(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bA(e)}function bA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(e)}var Qo=(function(e){H4e(n,e);var t=Y4e(n);function n(s,a){var i;V4e(this,n),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,h=o.to,f=o.steps,p=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(bA(i)),i.changeStyle=i.changeStyle.bind(bA(i)),!l||x<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:h}),vA(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},vA(i);i.state={style:c?hx({},c,u):u}}else i.state={style:{}};return i}return W4e(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,h=i.to,f=i.from,p=this.state.style;if(l){if(!o){var x={style:c?hx({},c,h):h};this.state&&p&&(c&&p[c]!==h||!c&&p!==h)&&this.setState(x);return}if(!(e4e(a.to,h)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||u?f:a.to;if(this.state&&p){var y={style:c?hx({},c,v):v};(c&&p[c]!==v||!c&&p!==v)&&this.setState(y)}this.runAnimation(Di(Di({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,h=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,x=R4e(o,l,N4e(u),c,this.changeStyle),b=function(){i.stopJSAnimation=x()};this.manager.start([p,h,b,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],h=u.style,f=u.duration,p=f===void 0?0:f,x=function(v,y,N){if(N===0)return v;var _=y.duration,S=y.easing,E=S===void 0?"ease":S,A=y.style,k=y.properties,P=y.onAnimationEnd,R=N>0?o[N-1]:y,$=k||Object.keys(A);if(typeof E=="function"||E==="spring")return[].concat(Mk(v),[i.runJSAnimation.bind(i,{from:R.style,to:A,duration:_,easing:E}),_]);var D=Dz($,_,E),M=Di(Di(Di({},R.style),A),{},{transition:D});return[].concat(Mk(v),[M,_,P]).filter(d4e)};return this.manager.start([c].concat(Mk(o.reduce(x,[h,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=o4e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,h=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,x=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var v=l?hx({},l,c):c,y=Dz(Object.keys(v),o,u);b.start([h,i,Di(Di({},v),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=I4e(a,D4e),u=j.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||u===0||o<=0)return i;var f=function(x){var b=x.props,v=b.style,y=v===void 0?{}:v,N=b.className,_=j.cloneElement(x,Di(Di({},c),{},{style:Di(Di({},y),h),className:N}));return _};return u===1?f(j.Children.only(i)):oe.createElement("div",null,j.Children.map(i,function(p){return f(p)}))}}]),n})(j.PureComponent);Qo.displayName="Animate";Qo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qo.propTypes={from:yn.oneOfType([yn.object,yn.string]),to:yn.oneOfType([yn.object,yn.string]),attributeName:yn.string,duration:yn.number,begin:yn.number,easing:yn.oneOfType([yn.string,yn.func]),steps:yn.arrayOf(yn.shape({duration:yn.number.isRequired,style:yn.object.isRequired,easing:yn.oneOfType([yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yn.func]),properties:yn.arrayOf("string"),onAnimationEnd:yn.func})),children:yn.oneOfType([yn.node,yn.func]),isActive:yn.bool,canBegin:yn.bool,onAnimationEnd:yn.func,shouldReAnimate:yn.bool,onAnimationStart:yn.func,onAnimationReStart:yn.func};function b0(e){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b0(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ow.apply(this,arguments)}function K4e(e,t){return J4e(e)||Z4e(e,t)||Q4e(e,t)||X4e()}function X4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4e(e,t){if(e){if(typeof e=="string")return Bz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bz(e,t)}}function Bz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Z4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function J4e(e){if(Array.isArray(e))return e}function Vz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Uz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vz(Object(n),!0).forEach(function(s){eTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eTe(e,t,n){return t=tTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tTe(e){var t=nTe(e,"string");return b0(t)=="symbol"?t:t+""}function nTe(e,t){if(b0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(b0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wz=function(t,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,h;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=i[p]>o?o:i[p];h="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),h+="L ".concat(t+s-c*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+l*f[1])),h+="L ".concat(t+s,",").concat(n+a-l*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+s-c*f[2],",").concat(n+a)),h+="L ".concat(t+c*f[3],",").concat(n+a),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*f[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);h="M ".concat(t,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(n,`
            L `).concat(t+s-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+s,",").concat(n+l*b,`
            L `).concat(t+s,",").concat(n+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+s-c*b,",").concat(n+a,`
            L `).concat(t+c*b,",").concat(n+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*b," Z")}else h="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return h},rTe=function(t,n){if(!t||!n)return!1;var s=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),h=Math.max(i,i+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return s>=u&&s<=h&&a>=f&&a<=p}return!1},sTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DT=function(t){var n=Uz(Uz({},sTe),t),s=j.useRef(),a=j.useState(-1),i=K4e(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var E=s.current.getTotalLength();E&&l(E)}catch{}},[]);var c=n.x,u=n.y,h=n.width,f=n.height,p=n.radius,x=n.className,b=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||f!==+f||h===0||f===0)return null;var S=Mt("recharts-rectangle",x);return _?oe.createElement(Qo,{canBegin:o>0,from:{width:h,height:f,x:c,y:u},to:{width:h,height:f,x:c,y:u},duration:v,animationEasing:b,isActive:_},function(E){var A=E.width,k=E.height,P=E.x,R=E.y;return oe.createElement(Qo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:N,easing:b},oe.createElement("path",ow({},_t(n,!0),{className:S,d:Wz(P,R,A,k,p),ref:s})))}):oe.createElement("path",ow({},_t(n,!0),{className:S,d:Wz(c,u,h,f,p)}))},aTe=["points","className","baseLinePoints","connectNulls"];function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sf.apply(this,arguments)}function iTe(e,t){if(e==null)return{};var n=oTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function oTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function qz(e){return dTe(e)||uTe(e)||cTe(e)||lTe()}function lTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cTe(e,t){if(e){if(typeof e=="string")return wA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(e,t)}}function uTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dTe(e){if(Array.isArray(e))return wA(e)}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Hz=function(t){return t&&t.x===+t.x&&t.y===+t.y},hTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){Hz(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),Hz(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Cx=function(t,n){var s=hTe(t);n&&(s=[s.reduce(function(i,o){return[].concat(qz(i),qz(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},fTe=function(t,n,s){var a=Cx(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Cx(n.reverse(),s).slice(1))},mTe=function(t){var n=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=iTe(t,aTe);if(!n||!n.length)return null;var l=Mt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=fTe(n,a,i);return oe.createElement("g",{className:l},oe.createElement("path",sf({},_t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?oe.createElement("path",sf({},_t(o,!0),{fill:"none",d:Cx(n,i)})):null,c?oe.createElement("path",sf({},_t(o,!0),{fill:"none",d:Cx(a,i)})):null)}var h=Cx(n,i);return oe.createElement("path",sf({},_t(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function jA(){return jA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jA.apply(this,arguments)}var qj=function(t){var n=t.cx,s=t.cy,a=t.r,i=t.className,o=Mt("recharts-dot",i);return n===+n&&s===+s&&a===+a?j.createElement("circle",jA({},_t(t,!1),Pb(t),{className:o,cx:n,cy:s,r:a})):null};function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}var pTe=["x","y","top","left","width","height","className"];function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NA.apply(this,arguments)}function Yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function xTe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yz(Object(n),!0).forEach(function(s){gTe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gTe(e,t,n){return t=yTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yTe(e){var t=vTe(e,"string");return w0(t)=="symbol"?t:t+""}function vTe(e,t){if(w0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(w0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bTe(e,t){if(e==null)return{};var n=wTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var jTe=function(t,n,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},NTe=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,h=t.width,f=h===void 0?0:h,p=t.height,x=p===void 0?0:p,b=t.className,v=bTe(t,pTe),y=xTe({x:s,y:i,top:l,left:u,width:f,height:x},v);return!Ue(s)||!Ue(i)||!Ue(f)||!Ue(x)||!Ue(l)||!Ue(u)?null:oe.createElement("path",NA({},_t(y,!0),{className:Mt("recharts-cross",b),d:jTe(s,i,f,x,l,u)}))},Rk,Gz;function _Te(){if(Gz)return Rk;Gz=1;var e=$j(),t=kG(),n=al();function s(a,i){return a&&a.length?e(a,n(i,2),t):void 0}return Rk=s,Rk}var STe=_Te();const CTe=sn(STe);var Dk,Kz;function kTe(){if(Kz)return Dk;Kz=1;var e=$j(),t=al(),n=EG();function s(a,i){return a&&a.length?e(a,t(i,2),n):void 0}return Dk=s,Dk}var ETe=kTe();const PTe=sn(ETe);var ATe=["cx","cy","angle","ticks","axisLine"],OTe=["ticks","tick","angle","tickFormatter","stroke"];function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kx.apply(this,arguments)}function Xz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xz(Object(n),!0).forEach(function(s){Hj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Qz(e,t){if(e==null)return{};var n=TTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function TTe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function MTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zz(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mK(s.key),s)}}function RTe(e,t,n){return t&&Zz(e.prototype,t),n&&Zz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DTe(e,t,n){return t=lw(t),ITe(e,fK()?Reflect.construct(t,n||[],lw(e).constructor):t.apply(e,n))}function ITe(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(e)}function LTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lw(e)}function FTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_A(e,t)}function Hj(e,t,n){return t=mK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mK(e){var t=zTe(e,"string");return Xf(t)=="symbol"?t:t+""}function zTe(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yj=(function(e){function t(){return MTe(this,t),DTe(this,t,arguments)}return FTe(t,e),RTe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Wn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=CTe(l,function(h){return h.coordinate||0}),u=PTe(l,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=Qz(s,ATe),h=l.reduce(function(b,v){return[Math.min(b[0],v.coordinate),Math.max(b[1],v.coordinate)]},[1/0,-1/0]),f=Wn(a,i,h[0],o),p=Wn(a,i,h[1],o),x=ud(ud(ud({},_t(u,!1)),{},{fill:"none"},_t(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return oe.createElement("line",kx({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,h=Qz(a,OTe),f=this.getTickTextAnchor(),p=_t(h,!1),x=_t(o,!1),b=i.map(function(v,y){var N=s.getTickValueCoord(v),_=ud(ud(ud(ud({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},p),{},{stroke:"none",fill:u},x),{},{index:y},N),{},{payload:v});return oe.createElement(on,kx({className:Mt("recharts-polar-radius-axis-tick",nK(o)),key:"tick-".concat(v.coordinate)},Wd(s.props,v,y)),t.renderTickItem(o,_,c?c(v.value,y):v.value))});return oe.createElement(on,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:oe.createElement(on,{className:Mt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Jr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return oe.isValidElement(s)?o=oe.cloneElement(s,a):Et(s)?o=s(a):o=oe.createElement(qd,kx({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);Hj(Yj,"displayName","PolarRadiusAxis");Hj(Yj,"axisType","radiusAxis");Hj(Yj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gd.apply(this,arguments)}function Jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jz(Object(n),!0).forEach(function(s){Gj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xK(s.key),s)}}function BTe(e,t,n){return t&&e$(e.prototype,t),n&&e$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VTe(e,t,n){return t=cw(t),UTe(e,pK()?Reflect.construct(t,n||[],cw(e).constructor):t.apply(e,n))}function UTe(e,t){if(t&&(Qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WTe(e)}function WTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(e)}function qTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SA(e,t)}function Gj(e,t,n){return t=xK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xK(e){var t=HTe(e,"string");return Qf(t)=="symbol"?t:t+""}function HTe(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Qf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YTe=Math.PI/180,t$=1e-5,Kj=(function(e){function t(){return $Te(this,t),VTe(this,t,arguments)}return qTe(t,e),BTe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,h=u||8,f=Wn(i,o,l,s.coordinate),p=Wn(i,o,l+(c==="inner"?-1:1)*h,s.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*YTe),o;return i>t$?o=a==="outer"?"start":"end":i<-t$?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=dd(dd({},_t(this.props,!1)),{},{fill:"none"},_t(l,!1));if(c==="circle")return oe.createElement(qj,gd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var h=this.props.ticks,f=h.map(function(p){return Wn(a,i,o,p.coordinate)});return oe.createElement(mTe,gd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,h=_t(this.props,!1),f=_t(o,!1),p=dd(dd({},h),{},{fill:"none"},_t(l,!1)),x=i.map(function(b,v){var y=s.getTickLineCoord(b),N=s.getTickTextAnchor(b),_=dd(dd(dd({textAnchor:N},h),{},{stroke:"none",fill:u},f),{},{index:v,payload:b,x:y.x2,y:y.y2});return oe.createElement(on,gd({className:Mt("recharts-polar-angle-axis-tick",nK(o)),key:"tick-".concat(b.coordinate)},Wd(s.props,b,v)),l&&oe.createElement("line",gd({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,_,c?c(b.value,v):b.value))});return oe.createElement(on,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:oe.createElement(on,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return oe.isValidElement(s)?o=oe.cloneElement(s,a):Et(s)?o=s(a):o=oe.createElement(qd,gd({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);Gj(Kj,"displayName","PolarAngleAxis");Gj(Kj,"axisType","angleAxis");Gj(Kj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ik,n$;function GTe(){if(n$)return Ik;n$=1;var e=CY(),t=e(Object.getPrototypeOf,Object);return Ik=t,Ik}var Lk,r$;function KTe(){if(r$)return Lk;r$=1;var e=ic(),t=GTe(),n=oc(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(h){if(!n(h)||e(h)!=s)return!1;var f=t(h);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return Lk=u,Lk}var XTe=KTe();const QTe=sn(XTe);var Fk,s$;function ZTe(){if(s$)return Fk;s$=1;var e=ic(),t=oc(),n="[object Boolean]";function s(a){return a===!0||a===!1||t(a)&&e(a)==n}return Fk=s,Fk}var JTe=ZTe();const eMe=sn(JTe);function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uw.apply(this,arguments)}function tMe(e,t){return aMe(e)||sMe(e,t)||rMe(e,t)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(e,t){if(e){if(typeof e=="string")return a$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a$(e,t)}}function a$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function sMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aMe(e){if(Array.isArray(e))return e}function i$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function o$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(n),!0).forEach(function(s){iMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function iMe(e,t,n){return t=oMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oMe(e){var t=lMe(e,"string");return j0(t)=="symbol"?t:t+""}function lMe(e,t){if(j0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(j0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l$=function(t,n,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+i),l+="L ".concat(t+s-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},cMe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uMe=function(t){var n=o$(o$({},cMe),t),s=j.useRef(),a=j.useState(-1),i=tMe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var S=s.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,h=n.upperWidth,f=n.lowerWidth,p=n.height,x=n.className,b=n.animationEasing,v=n.animationDuration,y=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||f!==+f||p!==+p||h===0&&f===0||p===0)return null;var _=Mt("recharts-trapezoid",x);return N?oe.createElement(Qo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:h,lowerWidth:f,height:p,x:c,y:u},duration:v,animationEasing:b,isActive:N},function(S){var E=S.upperWidth,A=S.lowerWidth,k=S.height,P=S.x,R=S.y;return oe.createElement(Qo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:b},oe.createElement("path",uw({},_t(n,!0),{className:_,d:l$(P,R,E,A,k),ref:s})))}):oe.createElement("g",null,oe.createElement("path",uw({},_t(n,!0),{className:_,d:l$(c,u,h,f,p)})))},dMe=["option","shapeType","propTransformer","activeClassName","isActive"];function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function hMe(e,t){if(e==null)return{};var n=fMe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fMe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function dw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(n),!0).forEach(function(s){mMe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mMe(e,t,n){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pMe(e){var t=xMe(e,"string");return N0(t)=="symbol"?t:t+""}function xMe(e,t){if(N0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(N0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gMe(e,t){return dw(dw({},t),e)}function yMe(e,t){return e==="symbols"}function u$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return oe.createElement(DT,n);case"trapezoid":return oe.createElement(uMe,n);case"sector":return oe.createElement(aK,n);case"symbols":if(yMe(t))return oe.createElement(eT,n);break;default:return null}}function vMe(e){return j.isValidElement(e)?e.props:e}function gK(e){var t=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?gMe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=hMe(e,dMe),u;if(j.isValidElement(t))u=j.cloneElement(t,dw(dw({},c),vMe(t)));else if(Et(t))u=t(c);else if(QTe(t)&&!eMe(t)){var h=a(t,c);u=oe.createElement(u$,{shapeType:n,elementProps:h})}else{var f=c;u=oe.createElement(u$,{shapeType:n,elementProps:f})}return l?oe.createElement(on,{className:o},u):u}function Xj(e,t){return t!=null&&"trapezoids"in e.props}function Qj(e,t){return t!=null&&"sectors"in e.props}function _0(e,t){return t!=null&&"points"in e.props}function bMe(e,t){var n,s,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function wMe(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function jMe(e,t){var n=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return n&&s&&a}function NMe(e,t){var n;return Xj(e,t)?n=bMe:Qj(e,t)?n=wMe:_0(e,t)&&(n=jMe),n}function _Me(e,t){var n;return Xj(e,t)?n="trapezoids":Qj(e,t)?n="sectors":_0(e,t)&&(n="points"),n}function SMe(e,t){if(Xj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Qj(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return _0(e,t)?t.payload:{}}function CMe(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=_Me(n,t),i=SMe(n,t),o=s.filter(function(c,u){var h=xg(i,c),f=n.props[a].filter(function(b){var v=NMe(n,t);return v(b,t)}),p=n.props[a].indexOf(f[f.length-1]),x=u===p;return h&&x}),l=s.indexOf(o[o.length-1]);return l}var qv;function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},af.apply(this,arguments)}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(s){ii(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vK(s.key),s)}}function EMe(e,t,n){return t&&h$(e.prototype,t),n&&h$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PMe(e,t,n){return t=hw(t),AMe(e,yK()?Reflect.construct(t,n||[],hw(e).constructor):t.apply(e,n))}function AMe(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OMe(e)}function OMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yK=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(e)}function TMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CA(e,t)}function ii(e,t,n){return t=vK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(e){var t=MMe(e,"string");return Zf(t)=="symbol"?t:t+""}function MMe(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Us=(function(e){function t(n){var s;return kMe(this,t),s=PMe(this,t,[n]),ii(s,"pieRef",null),ii(s,"sectorRefs",[]),ii(s,"id",Am("recharts-pie-")),ii(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Et(a)&&a()}),ii(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Et(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return TMe(t,e),EMe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,h=_t(this.props,!1),f=_t(o,!1),p=_t(l,!1),x=o&&o.offsetRadius||20,b=s.map(function(v,y){var N=(v.startAngle+v.endAngle)/2,_=Wn(v.cx,v.cy,v.outerRadius+x,N),S=Bn(Bn(Bn(Bn({},h),v),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(_.x,v.cx)},_),E=Bn(Bn(Bn(Bn({},h),v),{},{fill:"none",stroke:v.fill},p),{},{index:y,points:[Wn(v.cx,v.cy,v.outerRadius,N),_]}),A=c;return Ot(c)&&Ot(u)?A="value":Ot(c)&&(A=u),oe.createElement(on,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,E,"line"),t.renderLabelItem(o,S,Br(v,A)))});return oe.createElement(on,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(h),p=c&&a.hasActiveIndex()?c:null,x=f?o:p,b=Bn(Bn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return oe.createElement(on,af({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Wd(a.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),oe.createElement(gK,af({option:x,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,h=a.animationId,f=this.state,p=f.prevSectors,x=f.prevIsAnimationActive;return oe.createElement(Qo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var v=b.t,y=[],N=i&&i[0],_=N.startAngle;return i.forEach(function(S,E){var A=p&&p[E],k=E>0?Da(S,"paddingAngle",0):0;if(A){var P=Aa(A.endAngle-A.startAngle,S.endAngle-S.startAngle),R=Bn(Bn({},S),{},{startAngle:_+k,endAngle:_+P(v)+k});y.push(R),_=R.endAngle}else{var $=S.endAngle,D=S.startAngle,M=Aa(0,$-D),B=M(v),J=Bn(Bn({},S),{},{startAngle:_+k,endAngle:_+B+k});y.push(J),_=J.endAngle}}),oe.createElement(on,null,s.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!xg(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,h=a.cy,f=a.innerRadius,p=a.outerRadius,x=a.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!Ue(u)||!Ue(h)||!Ue(f)||!Ue(p))return null;var v=Mt("recharts-pie",l);return oe.createElement(on,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){s.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Jr.renderCallByParent(this.props,null,!1),(!x||b)&&Wl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(oe.isValidElement(s))return oe.cloneElement(s,a);if(Et(s))return s(a);var o=Mt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return oe.createElement(nw,af({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(oe.isValidElement(s))return oe.cloneElement(s,a);var o=i;if(Et(s)&&(o=s(a),oe.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof s!="boolean"&&!Et(s)?s.className:"");return oe.createElement(qd,af({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);qv=Us;ii(Us,"displayName","Pie");ii(Us,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!eh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ii(Us,"parseDeltaAngle",function(e,t){var n=zs(t-e),s=Math.min(Math.abs(t-e),360);return n*s});ii(Us,"getRealPieData",function(e){var t=e.data,n=e.children,s=_t(e,!1),a=Ia(n,Ko);return t&&t.length?t.map(function(i,o){return Bn(Bn(Bn({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Bn(Bn({},s),i.props)}):[]});ii(Us,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,a=t.width,i=t.height,o=tK(a,i),l=s+$s(e.cx,a,a/2),c=n+$s(e.cy,i,i/2),u=$s(e.innerRadius,o,0),h=$s(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:f}});ii(Us,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?Bn(Bn({},t.type.defaultProps),t.props):t.props,a=qv.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,h=s.nameKey,f=s.valueKey,p=s.tooltipType,x=Math.abs(s.minAngle),b=qv.parseCoordinateOfPie(s,n),v=qv.parseDeltaAngle(o,l),y=Math.abs(v),N=u;Ot(u)&&Ot(f)?(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Ot(u)&&(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var _=a.filter(function(R){return Br(R,N,0)!==0}).length,S=(y>=360?_:_-1)*c,E=y-_*x-S,A=a.reduce(function(R,$){var D=Br($,N,0);return R+(Ue(D)?D:0)},0),k;if(A>0){var P;k=a.map(function(R,$){var D=Br(R,N,0),M=Br(R,h,$),B=(Ue(D)?D:0)/A,J;$?J=P.endAngle+zs(v)*c*(D!==0?1:0):J=o;var Y=J+zs(v)*((D!==0?x:0)+B*E),W=(J+Y)/2,se=(b.innerRadius+b.outerRadius)/2,q=[{name:M,value:D,payload:R,dataKey:N,type:p}],V=Wn(b.cx,b.cy,se,W);return P=Bn(Bn(Bn({percent:B,cornerRadius:i,name:M,tooltipPayload:q,midAngle:W,middleRadius:se,tooltipPosition:V},R),b),{},{value:Br(R,N),startAngle:J,endAngle:Y,payload:R,paddingAngle:zs(v)*c}),P})}return Bn(Bn({},b),{},{sectors:k,data:a})});var zk,f$;function RMe(){if(f$)return zk;f$=1;var e=Math.ceil,t=Math.max;function n(s,a,i,o){for(var l=-1,c=t(e((a-s)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=s,s+=i;return u}return zk=n,zk}var $k,m$;function bK(){if(m$)return $k;m$=1;var e=VY(),t=1/0,n=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*n}return a===a?a:0}return $k=s,$k}var Bk,p$;function DMe(){if(p$)return Bk;p$=1;var e=RMe(),t=Mj(),n=bK();function s(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),e(i,o,l,a)}}return Bk=s,Bk}var Vk,x$;function IMe(){if(x$)return Vk;x$=1;var e=DMe(),t=e();return Vk=t,Vk}var LMe=IMe();const fw=sn(LMe);function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function y$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(n),!0).forEach(function(s){wK(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wK(e,t,n){return t=FMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FMe(e){var t=zMe(e,"string");return S0(t)=="symbol"?t:t+""}function zMe(e,t){if(S0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(S0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Me=["Webkit","Moz","O","ms"],BMe=function(t,n){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=$Me.reduce(function(i,o){return y$(y$({},i),{},wK({},o+s,n))},{});return a[t]=n,a};function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mw.apply(this,arguments)}function v$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(n),!0).forEach(function(s){ka(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function VMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,NK(s.key),s)}}function UMe(e,t,n){return t&&b$(e.prototype,t),n&&b$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WMe(e,t,n){return t=pw(t),qMe(e,jK()?Reflect.construct(t,n||[],pw(e).constructor):t.apply(e,n))}function qMe(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HMe(e)}function HMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(e)}function YMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kA(e,t)}function kA(e,t){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},kA(e,t)}function ka(e,t,n){return t=NK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NK(e){var t=GMe(e,"string");return Jf(t)=="symbol"?t:t+""}function GMe(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KMe=function(t){var n=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Nx().domain(fw(0,c)).range([i,i+o-l]),h=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(a),scale:u,scaleValues:h}},w$=function(t){return t.changedTouches&&!!t.changedTouches.length},em=(function(e){function t(n){var s;return VMe(this,t),s=WMe(this,t,[n]),ka(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),ka(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),ka(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),ka(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),ka(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),ka(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),ka(s,"handleSlideDragStart",function(a){var i=w$(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return YMe(t,e),UMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,h=u.length-1,f=Math.min(a,i),p=Math.max(a,i),x=t.getIndexInRange(o,f),b=t.getIndexInRange(o,p);return{startIndex:x-x%c,endIndex:b===h?h:b-b%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Br(i[s],l,s);return Et(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,h=c.width,f=c.travellerWidth,p=c.startIndex,x=c.endIndex,b=c.onChange,v=s.pageX-i;v>0?v=Math.min(v,u+h-f-l,u+h-f-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==p||y.endIndex!==x)&&b&&b(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=w$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],h=this.props,f=h.x,p=h.width,x=h.travellerWidth,b=h.onChange,v=h.gap,y=h.data,N={startX:this.state.startX,endX:this.state.endX},_=s.pageX-i;_>0?_=Math.min(_,f+p-x-u):_<0&&(_=Math.max(_,f-u)),N[o]=u+_;var S=this.getIndex(N),E=S.startIndex,A=S.endIndex,k=function(){var R=y.length-1;return o==="startX"&&(l>c?E%v===0:A%v===0)||l<c&&A===R||o==="endX"&&(l>c?A%v===0:E%v===0)||l>c&&A===R};this.setState(ka(ka({},o,u+_),"brushMoveStartX",s.pageX),function(){b&&k()&&b(S)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,h=this.state[a],f=l.indexOf(h);if(f!==-1){var p=f+s;if(!(p===-1||p>=l.length)){var x=l[p];a==="startX"&&x>=u||a==="endX"&&x<=c||this.setState(ka({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return oe.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,u=s.children,h=s.padding,f=j.Children.only(u);return f?oe.cloneElement(f,{x:a,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,u=c.y,h=c.travellerWidth,f=c.height,p=c.traveller,x=c.ariaLabel,b=c.data,v=c.startIndex,y=c.endIndex,N=Math.max(s,this.props.x),_=Uk(Uk({},_t(this.props,!1)),{},{x:N,y:u,width:h,height:f}),S=x||"Min value: ".concat((i=b[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return oe.createElement(on,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,_))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,h=Math.min(s,a)+u,f=Math.max(Math.abs(a-s)-u,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,h=this.state,f=h.startX,p=h.endX,x=5,b={pointerEvents:"none",fill:u};return oe.createElement(on,{className:"recharts-brush-texts"},oe.createElement(qd,mw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-x,y:o+l/2},b),this.getTextOfTick(a)),oe.createElement(qd,mw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+x,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,u=s.width,h=s.height,f=s.alwaysShowText,p=this.state,x=p.startX,b=p.endX,v=p.isTextActive,y=p.isSlideMoving,N=p.isTravellerMoving,_=p.isTravellerFocused;if(!a||!a.length||!Ue(l)||!Ue(c)||!Ue(u)||!Ue(h)||u<=0||h<=0)return null;var S=Mt("recharts-brush",i),E=oe.Children.count(o)===1,A=BMe("userSelect","none");return oe.createElement(on,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(v||y||N||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(i+l/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),oe.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return oe.isValidElement(s)?i=oe.cloneElement(s,a):Et(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,h=s.startIndex,f=s.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Uk({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?KMe({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])})(j.PureComponent);ka(em,"displayName","Brush");ka(em,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Wk,j$;function XMe(){if(j$)return Wk;j$=1;var e=oT();function t(n,s){var a;return e(n,function(i,o,l){return a=s(i,o,l),!a}),!!a}return Wk=t,Wk}var qk,N$;function QMe(){if(N$)return qk;N$=1;var e=vY(),t=al(),n=XMe(),s=da(),a=Mj();function i(o,l,c){var u=s(o)?e:n;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return qk=i,qk}var ZMe=QMe();const JMe=sn(ZMe);var Uo=function(t,n){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===n},Hk,_$;function eRe(){if(_$)return Hk;_$=1;var e=LY();function t(n,s,a){s=="__proto__"&&e?e(n,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[s]=a}return Hk=t,Hk}var Yk,S$;function tRe(){if(S$)return Yk;S$=1;var e=eRe(),t=DY(),n=al();function s(a,i){var o={};return i=n(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return Yk=s,Yk}var nRe=tRe();const rRe=sn(nRe);var Gk,C$;function sRe(){if(C$)return Gk;C$=1;function e(t,n){for(var s=-1,a=t==null?0:t.length;++s<a;)if(!n(t[s],s,t))return!1;return!0}return Gk=e,Gk}var Kk,k$;function aRe(){if(k$)return Kk;k$=1;var e=oT();function t(n,s){var a=!0;return e(n,function(i,o,l){return a=!!s(i,o,l),a}),a}return Kk=t,Kk}var Xk,E$;function iRe(){if(E$)return Xk;E$=1;var e=sRe(),t=aRe(),n=al(),s=da(),a=Mj();function i(o,l,c){var u=s(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,n(l,3))}return Xk=i,Xk}var oRe=iRe();const _K=sn(oRe);var lRe=["x","y"];function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function EA(){return EA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EA.apply(this,arguments)}function P$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(n),!0).forEach(function(s){cRe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cRe(e,t,n){return t=uRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uRe(e){var t=dRe(e,"string");return C0(t)=="symbol"?t:t+""}function dRe(e,t){if(C0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(C0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hRe(e,t){if(e==null)return{};var n=fRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fRe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function mRe(e,t){var n=e.x,s=e.y,a=hRe(e,lRe),i="".concat(n),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||a.height),h=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return nx(nx(nx(nx(nx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function A$(e){return oe.createElement(gK,EA({shapeType:"rectangle",propTransformer:mRe,activeClassName:"recharts-active-bar"},e))}var pRe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=Ue(s)||DNe(s);return i?t(s,a):(i||Yd(),n)}},xRe=["value","background"],SK;function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function gRe(e,t){if(e==null)return{};var n=yRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function yRe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xw.apply(this,arguments)}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(s){ru(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kK(s.key),s)}}function bRe(e,t,n){return t&&T$(e.prototype,t),n&&T$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wRe(e,t,n){return t=gw(t),jRe(e,CK()?Reflect.construct(t,n||[],gw(e).constructor):t.apply(e,n))}function jRe(e,t){if(t&&(tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NRe(e)}function NRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(e)}function _Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PA(e,t)}function PA(e,t){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},PA(e,t)}function ru(e,t,n){return t=kK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kK(e){var t=SRe(e,"string");return tm(t)=="symbol"?t:t+""}function SRe(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(tm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var es=(function(e){function t(){var n;vRe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=wRe(this,t,[].concat(a)),ru(n,"state",{isAnimationFinished:!1}),ru(n,"id",Am("recharts-bar-")),ru(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ru(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return _Re(t,e),bRe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,h=_t(this.props,!1);return s&&s.map(function(f,p){var x=p===c,b=x?u:o,v=Pr(Pr(Pr({},h),f),{},{isActive:x,option:b,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return oe.createElement(on,xw({className:"recharts-bar-rectangle"},Wd(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),oe.createElement(A$,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,h=a.animationEasing,f=a.animationId,p=this.state.prevData;return oe.createElement(Qo,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,v=i.map(function(y,N){var _=p&&p[N];if(_){var S=Aa(_.x,y.x),E=Aa(_.y,y.y),A=Aa(_.width,y.width),k=Aa(_.height,y.height);return Pr(Pr({},y),{},{x:S(b),y:E(b),width:A(b),height:k(b)})}if(o==="horizontal"){var P=Aa(0,y.height),R=P(b);return Pr(Pr({},y),{},{y:y.y+y.height-R,height:R})}var $=Aa(0,y.width),D=$(b);return Pr(Pr({},y),{},{width:D})});return oe.createElement(on,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!xg(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=_t(this.props.background,!1);return i.map(function(u,h){u.value;var f=u.background,p=gRe(u,xRe);if(!f)return null;var x=Pr(Pr(Pr(Pr(Pr({},p),{},{fill:"#eee"},f),c),Wd(s.props,u,h)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return oe.createElement(A$,xw({key:"background-bar-".concat(h),option:s.props.background,isActive:h===l},x))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,h=i.children,f=Ia(h,gg);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,x=function(y,N){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Br(y,N)}},b={clipPath:s?"url(#clipPath-".concat(a,")"):null};return oe.createElement(on,b,f.map(function(v){return oe.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,h=s.top,f=s.width,p=s.height,x=s.isAnimationActive,b=s.background,v=s.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,N=Mt("recharts-bar",o),_=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,E=_||S,A=Ot(v)?this.id:v;return oe.createElement(on,{className:N},_||S?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(A)},oe.createElement("rect",{x:_?u:u-f/2,y:S?h:h-p/2,width:_?f:f*2,height:S?p:p*2}))):null,oe.createElement(on,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!x||y)&&Wl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(j.PureComponent);SK=es;ru(es,"displayName","Bar");ru(es,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!eh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ru(es,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,f=e.displayedData,p=e.offset,x=XPe(s,n);if(!x)return null;var b=t.layout,v=n.type.defaultProps,y=v!==void 0?Pr(Pr({},v),n.props):n.props,N=y.dataKey,_=y.children,S=y.minPointSize,E=b==="horizontal"?o:i,A=u?E.scale.domain():null,k=rAe({numericAxis:E}),P=Ia(_,Ko),R=f.map(function($,D){var M,B,J,Y,W,se;u?M=QPe(u[h+D],A):(M=Br($,N),Array.isArray(M)||(M=[k,M]));var q=pRe(S,SK.defaultProps.minPointSize)(M[1],D);if(b==="horizontal"){var V,U=[o.scale(M[0]),o.scale(M[1])],F=U[0],K=U[1];B=iz({axis:i,ticks:l,bandSize:a,offset:x.offset,entry:$,index:D}),J=(V=K??F)!==null&&V!==void 0?V:void 0,Y=x.size;var te=F-K;if(W=Number.isNaN(te)?0:te,se={x:B,y:o.y,width:Y,height:o.height},Math.abs(q)>0&&Math.abs(W)<Math.abs(q)){var H=zs(W||q)*(Math.abs(q)-Math.abs(W));J-=H,W+=H}}else{var xe=[i.scale(M[0]),i.scale(M[1])],ne=xe[0],pe=xe[1];if(B=ne,J=iz({axis:o,ticks:c,bandSize:a,offset:x.offset,entry:$,index:D}),Y=pe-ne,W=x.size,se={x:i.x,y:J,width:i.width,height:W},Math.abs(q)>0&&Math.abs(Y)<Math.abs(q)){var re=zs(Y||q)*(Math.abs(q)-Math.abs(Y));Y+=re}}return Pr(Pr(Pr({},$),{},{x:B,y:J,width:Y,height:W,value:u?M:M[1],payload:$,background:se},P&&P[D]&&P[D].props),{},{tooltipPayload:[JG(n,$)],tooltipPosition:{x:B+Y/2,y:J+W/2}})});return Pr({data:R,layout:b},p)});function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function CRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,EK(s.key),s)}}function kRe(e,t,n){return t&&M$(e.prototype,t),n&&M$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(n),!0).forEach(function(s){Zj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Zj(e,t,n){return t=EK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EK(e){var t=ERe(e,"string");return k0(t)=="symbol"?t:t+""}function ERe(e,t){if(k0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(k0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PK=function(t,n,s,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,h=Object.keys(n),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},p=!!Ea(u,es);return h.reduce(function(x,b){var v=n[b],y=v.orientation,N=v.domain,_=v.padding,S=_===void 0?{}:_,E=v.mirror,A=v.reversed,k="".concat(y).concat(E?"Mirror":""),P,R,$,D,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var B=N[1]-N[0],J=1/0,Y=v.categoricalDomain.sort(FNe);if(Y.forEach(function(xe,ne){ne>0&&(J=Math.min((xe||0)-(Y[ne-1]||0),J))}),Number.isFinite(J)){var W=J/B,se=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(P=W*se/2),v.padding==="no-gap"){var q=$s(t.barCategoryGap,W*se),V=W*se/2;P=V-q-(V-q)/se*q}}}a==="xAxis"?R=[s.left+(S.left||0)+(P||0),s.left+s.width-(S.right||0)-(P||0)]:a==="yAxis"?R=c==="horizontal"?[s.top+s.height-(S.bottom||0),s.top+(S.top||0)]:[s.top+(S.top||0)+(P||0),s.top+s.height-(S.bottom||0)-(P||0)]:R=v.range,A&&(R=[R[1],R[0]]);var U=KG(v,i,p),F=U.scale,K=U.realScaleType;F.domain(N).range(R),XG(F);var te=QG(F,zi(zi({},v),{},{realScaleType:K}));a==="xAxis"?(M=y==="top"&&!E||y==="bottom"&&E,$=s.left,D=f[k]-M*v.height):a==="yAxis"&&(M=y==="left"&&!E||y==="right"&&E,$=f[k]-M*v.width,D=s.top);var H=zi(zi(zi({},v),te),{},{realScaleType:K,x:$,y:D,scale:F,width:a==="xAxis"?s.width:v.width,height:a==="yAxis"?s.height:v.height});return H.bandSize=Jb(H,te),!v.hide&&a==="xAxis"?f[k]+=(M?-1:1)*H.height:v.hide||(f[k]+=(M?-1:1)*H.width),zi(zi({},x),{},Zj({},b,H))},{})},AK=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},PRe=function(t){var n=t.x1,s=t.y1,a=t.x2,i=t.y2;return AK({x:n,y:s},{x:a,y:i})},OK=(function(){function e(t){CRe(this,e),this.scale=t}return kRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])})();Zj(OK,"EPS",1e-4);var IT=function(t){var n=Object.keys(t).reduce(function(s,a){return zi(zi({},s),{},Zj({},a,OK.create(t[a])))},{});return zi(zi({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return rRe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return _K(a,function(i,o){return n[o].isInRange(i)})}})};function ARe(e){return(e%180+180)%180}var ORe=function(t){var n=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ARe(a),o=i*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Qk,D$;function TRe(){if(D$)return Qk;D$=1;var e=al(),t=dg(),n=Oj();function s(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=n(i),o=function(f){return u(c[f],f,c)}}var h=a(i,o,l);return h>-1?c[u?i[h]:h]:void 0}}return Qk=s,Qk}var Zk,I$;function MRe(){if(I$)return Zk;I$=1;var e=bK();function t(n){var s=e(n),a=s%1;return s===s?a?s-a:s:0}return Zk=t,Zk}var Jk,L$;function RRe(){if(L$)return Jk;L$=1;var e=AY(),t=al(),n=MRe(),s=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=s(c+u,0)),e(i,t(o,3),u)}return Jk=a,Jk}var eE,F$;function DRe(){if(F$)return eE;F$=1;var e=TRe(),t=RRe(),n=e(t);return eE=n,eE}var IRe=DRe();const LRe=sn(IRe);var FRe=HH();const zRe=sn(FRe);var $Re=zRe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),LT=j.createContext(void 0),FT=j.createContext(void 0),TK=j.createContext(void 0),MK=j.createContext({}),RK=j.createContext(void 0),DK=j.createContext(0),IK=j.createContext(0),z$=function(t){var n=t.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,h=$Re(i);return oe.createElement(LT.Provider,{value:s},oe.createElement(FT.Provider,{value:a},oe.createElement(MK.Provider,{value:i},oe.createElement(TK.Provider,{value:h},oe.createElement(RK.Provider,{value:o},oe.createElement(DK.Provider,{value:u},oe.createElement(IK.Provider,{value:c},l)))))))},BRe=function(){return j.useContext(RK)},LK=function(t){var n=j.useContext(LT);n==null&&Yd();var s=n[t];return s==null&&Yd(),s},VRe=function(){var t=j.useContext(LT);return Kc(t)},URe=function(){var t=j.useContext(FT),n=LRe(t,function(s){return _K(s.domain,Number.isFinite)});return n||Kc(t)},FK=function(t){var n=j.useContext(FT);n==null&&Yd();var s=n[t];return s==null&&Yd(),s},WRe=function(){var t=j.useContext(TK);return t},qRe=function(){return j.useContext(MK)},zT=function(){return j.useContext(IK)},$T=function(){return j.useContext(DK)};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function HRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YRe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$K(s.key),s)}}function GRe(e,t,n){return t&&YRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KRe(e,t,n){return t=yw(t),XRe(e,zK()?Reflect.construct(t,n||[],yw(e).constructor):t.apply(e,n))}function XRe(e,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QRe(e)}function QRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yw(e)}function ZRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AA(e,t)}function AA(e,t){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AA(e,t)}function $$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function B$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(n),!0).forEach(function(s){BT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function BT(e,t,n){return t=$K(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e){var t=JRe(e,"string");return nm(t)=="symbol"?t:t+""}function JRe(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(nm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eDe(e,t){return sDe(e)||rDe(e,t)||nDe(e,t)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDe(e,t){if(e){if(typeof e=="string")return V$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V$(e,t)}}function V$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function rDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sDe(e){if(Array.isArray(e))return e}function OA(){return OA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OA.apply(this,arguments)}var aDe=function(t,n){var s;return oe.isValidElement(t)?s=oe.cloneElement(t,n):Et(t)?s=t(n):s=oe.createElement("line",OA({},n,{className:"recharts-reference-line-line"})),s},iDe=function(t,n,s,a,i,o,l,c,u){var h=i.x,f=i.y,p=i.width,x=i.height;if(s){var b=u.y,v=t.y.apply(b,{position:o});if(Uo(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:h+p,y:v},{x:h,y:v}];return c==="left"?y.reverse():y}if(n){var N=u.x,_=t.x.apply(N,{position:o});if(Uo(u,"discard")&&!t.x.isInRange(_))return null;var S=[{x:_,y:f+x},{x:_,y:f}];return l==="top"?S.reverse():S}if(a){var E=u.segment,A=E.map(function(k){return t.apply(k,{position:o})});return Uo(u,"discard")&&JMe(A,function(k){return!t.isInRange(k)})?null:A}return null};function oDe(e){var t=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=BRe(),h=LK(a),f=FK(i),p=WRe();if(!u||!p)return null;Yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=IT({x:h.scale,y:f.scale}),b=Ur(t),v=Ur(n),y=s&&s.length===2,N=iDe(x,b,v,y,p,e.position,h.orientation,f.orientation,e);if(!N)return null;var _=eDe(N,2),S=_[0],E=S.x,A=S.y,k=_[1],P=k.x,R=k.y,$=Uo(e,"hidden")?"url(#".concat(u,")"):void 0,D=B$(B$({clipPath:$},_t(e,!0)),{},{x1:E,y1:A,x2:P,y2:R});return oe.createElement(on,{className:Mt("recharts-reference-line",l)},aDe(o,D),Jr.renderCallByParent(e,PRe({x1:E,y1:A,x2:P,y2:R})))}var VT=(function(e){function t(){return HRe(this,t),KRe(this,t,arguments)}return ZRe(t,e),GRe(t,[{key:"render",value:function(){return oe.createElement(oDe,this.props)}}])})(oe.Component);BT(VT,"displayName","ReferenceLine");BT(VT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TA.apply(this,arguments)}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function U$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function W$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(n),!0).forEach(function(s){Jj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function lDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cDe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VK(s.key),s)}}function uDe(e,t,n){return t&&cDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dDe(e,t,n){return t=vw(t),hDe(e,BK()?Reflect.construct(t,n||[],vw(e).constructor):t.apply(e,n))}function hDe(e,t){if(t&&(rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fDe(e)}function fDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vw(e)}function mDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MA(e,t)}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},MA(e,t)}function Jj(e,t,n){return t=VK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VK(e){var t=pDe(e,"string");return rm(t)=="symbol"?t:t+""}function pDe(e,t){if(rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(rm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xDe=function(t){var n=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=IT({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return Uo(t,"discard")&&!o.isInRange(l)?null:l},eN=(function(e){function t(){return lDe(this,t),dDe(this,t,arguments)}return mDe(t,e),uDe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Ur(a),h=Ur(i);if(Yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var f=xDe(this.props);if(!f)return null;var p=f.x,x=f.y,b=this.props,v=b.shape,y=b.className,N=Uo(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=W$(W$({clipPath:N},_t(this.props,!0)),{},{cx:p,cy:x});return oe.createElement(on,{className:Mt("recharts-reference-dot",y)},t.renderDot(v,_),Jr.renderCallByParent(this.props,{x:p-o,y:x-o,width:2*o,height:2*o}))}}])})(oe.Component);Jj(eN,"displayName","ReferenceDot");Jj(eN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jj(eN,"renderDot",function(e,t){var n;return oe.isValidElement(e)?n=oe.cloneElement(e,t):Et(e)?n=e(t):n=oe.createElement(qj,TA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RA.apply(this,arguments)}function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function H$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(n),!0).forEach(function(s){tN(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yDe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WK(s.key),s)}}function vDe(e,t,n){return t&&yDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bDe(e,t,n){return t=bw(t),wDe(e,UK()?Reflect.construct(t,n||[],bw(e).constructor):t.apply(e,n))}function wDe(e,t){if(t&&(sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jDe(e)}function jDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(e)}function NDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},DA(e,t)}function tN(e,t,n){return t=WK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WK(e){var t=_De(e,"string");return sm(t)=="symbol"?t:t+""}function _De(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(sm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SDe=function(t,n,s,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,h=i.xAxis,f=i.yAxis;if(!h||!f)return null;var p=IT({x:h.scale,y:f.scale}),x={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:s?p.y.apply(c,{position:"start"}):p.y.rangeMin},b={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Uo(i,"discard")&&(!p.isInRange(x)||!p.isInRange(b))?null:AK(x,b)},nN=(function(e){function t(){return gDe(this,t),bDe(this,t,arguments)}return NDe(t,e),vDe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,h=s.clipPathId;Yi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ur(a),p=Ur(i),x=Ur(o),b=Ur(l),v=this.props.shape;if(!f&&!p&&!x&&!b&&!v)return null;var y=SDe(f,p,x,b,this.props);if(!y&&!v)return null;var N=Uo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return oe.createElement(on,{className:Mt("recharts-reference-area",c)},t.renderRect(v,H$(H$({clipPath:N},_t(this.props,!0)),y)),Jr.renderCallByParent(this.props,y))}}])})(oe.Component);tN(nN,"displayName","ReferenceArea");tN(nN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tN(nN,"renderRect",function(e,t){var n;return oe.isValidElement(e)?n=oe.cloneElement(e,t):Et(e)?n=e(t):n=oe.createElement(DT,RA({},t,{className:"recharts-reference-area-rect"})),n});function qK(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function CDe(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return ORe(s,n)}function kDe(e,t,n){var s=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function ww(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function EDe(e,t){return qK(e,t+1)}function PDe(e,t,n,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,h=o,f=function(){var b=s==null?void 0:s[c];if(b===void 0)return{v:qK(s,u)};var v=c,y,N=function(){return y===void 0&&(y=n(b,v)),y},_=b.coordinate,S=c===0||ww(e,_,N,h,l);S||(c=0,h=o,u+=1),S&&(h=_+e*(N()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function Y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(n),!0).forEach(function(s){ADe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ADe(e,t,n){return t=ODe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ODe(e){var t=TDe(e,"string");return E0(t)=="symbol"?t:t+""}function TDe(e,t){if(E0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(E0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MDe(e,t,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(p){var x=i[p],b,v=function(){return b===void 0&&(b=n(x,p)),b};if(p===o-1){var y=e*(x.coordinate+e*v()/2-c);i[p]=x=vs(vs({},x),{},{tickCoord:y>0?x.coordinate-y*e:x.coordinate})}else i[p]=x=vs(vs({},x),{},{tickCoord:x.coordinate});var N=ww(e,x.tickCoord,v,l,c);N&&(c=x.tickCoord-e*(v()/2+a),i[p]=vs(vs({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return i}function RDe(e,t,n,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var h=s[l-1],f=n(h,l-1),p=e*(h.coordinate+e*f/2-u);o[l-1]=h=vs(vs({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var x=ww(e,h.tickCoord,function(){return f},c,u);x&&(u=h.tickCoord-e*(f/2+a),o[l-1]=vs(vs({},h),{},{isShow:!0}))}for(var b=i?l-1:l,v=function(_){var S=o[_],E,A=function(){return E===void 0&&(E=n(S,_)),E};if(_===0){var k=e*(S.coordinate-e*A()/2-c);o[_]=S=vs(vs({},S),{},{tickCoord:k<0?S.coordinate-k*e:S.coordinate})}else o[_]=S=vs(vs({},S),{},{tickCoord:S.coordinate});var P=ww(e,S.tickCoord,A,c,u);P&&(c=S.tickCoord+e*(A()/2+a),o[_]=vs(vs({},S),{},{isShow:!0}))},y=0;y<b;y++)v(y);return o}function UT(e,t,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,h=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(Ue(c)||eh.isSsr)return EDe(a,typeof c=="number"&&Ue(c)?c:0);var p=[],x=l==="top"||l==="bottom"?"width":"height",b=h&&x==="width"?jx(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(S,E){var A=Et(u)?u(S.value,E):S.value;return x==="width"?CDe(jx(A,{fontSize:t,letterSpacing:n}),b,f):jx(A,{fontSize:t,letterSpacing:n})[x]},y=a.length>=2?zs(a[1].coordinate-a[0].coordinate):1,N=kDe(i,y,x);return c==="equidistantPreserveStart"?PDe(y,N,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=RDe(y,N,v,a,o,c==="preserveStartEnd"):p=MDe(y,N,v,a,o),p.filter(function(_){return _.isShow}))}var DDe=["viewBox"],IDe=["viewBox"],LDe=["ticks"];function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},of.apply(this,arguments)}function G$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(n),!0).forEach(function(s){WT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function tE(e,t){if(e==null)return{};var n=FDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function FDe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function zDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K$(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YK(s.key),s)}}function $De(e,t,n){return t&&K$(e.prototype,t),n&&K$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BDe(e,t,n){return t=jw(t),VDe(e,HK()?Reflect.construct(t,n||[],jw(e).constructor):t.apply(e,n))}function VDe(e,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UDe(e)}function UDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HK=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jw(e)}function WDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}function IA(e,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},IA(e,t)}function WT(e,t,n){return t=YK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YK(e){var t=qDe(e,"string");return am(t)=="symbol"?t:t+""}function qDe(e,t){if(am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(am(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dm=(function(e){function t(n){var s;return zDe(this,t),s=BDe(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return WDe(t,e),$De(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=tE(s,DDe),l=this.props,c=l.viewBox,u=tE(l,IDe);return!xf(i,c)||!xf(o,u)||!xf(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,h=a.tickSize,f=a.mirror,p=a.tickMargin,x,b,v,y,N,_,S=f?-1:1,E=s.tickSize||h,A=Ue(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":x=b=s.coordinate,y=o+ +!f*c,v=y-S*E,_=v-S*p,N=A;break;case"left":v=y=s.coordinate,b=i+ +!f*l,x=b-S*E,N=x-S*p,_=A;break;case"right":v=y=s.coordinate,b=i+ +f*l,x=b+S*E,N=x+S*p,_=A;break;default:x=b=s.coordinate,y=o+ +f*c,v=y+S*E,_=v+S*p,N=A;break}return{line:{x1:x,y1:v,x2:b,y2:y},tick:{x:N,y:_}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,h=s.axisLine,f=Fr(Fr(Fr({},_t(this.props,!1)),_t(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=Fr(Fr({},f),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=Fr(Fr({},f),{},{x1:a+x*o,y1:i,x2:a+x*o,y2:i+l})}return oe.createElement("line",of({},f,{className:Mt("recharts-cartesian-axis-line",Da(h,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,h=l.tick,f=l.tickFormatter,p=l.unit,x=UT(Fr(Fr({},this.props),{},{ticks:s}),a,i),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=_t(this.props,!1),N=_t(h,!1),_=Fr(Fr({},y),{},{fill:"none"},_t(c,!1)),S=x.map(function(E,A){var k=o.getTickLineCoord(E),P=k.line,R=k.tick,$=Fr(Fr(Fr(Fr({textAnchor:b,verticalAnchor:v},y),{},{stroke:"none",fill:u},N),R),{},{index:A,payload:E,visibleTicksCount:x.length,tickFormatter:f});return oe.createElement(on,of({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Wd(o.props,E,A)),c&&oe.createElement("line",of({},_,P,{className:Mt("recharts-cartesian-axis-tick-line",Da(c,"className"))})),h&&t.renderTickItem(h,$,"".concat(Et(f)?f(E.value,A):E.value).concat(p||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,h=a.hide;if(h)return null;var f=this.props,p=f.ticks,x=tE(f,LDe),b=p;return Et(c)&&(b=p&&p.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:oe.createElement(on,{className:Mt("recharts-cartesian-axis",u),ref:function(y){s.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Jr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(s)?o=oe.cloneElement(s,Fr(Fr({},a),{},{className:l})):Et(s)?o=s(Fr(Fr({},a),{},{className:l})):o=oe.createElement(qd,of({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);WT(Dm,"displayName","CartesianAxis");WT(Dm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var HDe=["x1","y1","x2","y2","key"],YDe=["offset"];function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(n),!0).forEach(function(s){GDe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function GDe(e,t,n){return t=KDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KDe(e){var t=XDe(e,"string");return Gd(t)=="symbol"?t:t+""}function XDe(e,t){if(Gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Gd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_d.apply(this,arguments)}function Q$(e,t){if(e==null)return{};var n=QDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function QDe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var ZDe=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return oe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function GK(e,t){var n;if(oe.isValidElement(e))n=oe.cloneElement(e,t);else if(Et(e))n=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=Q$(t,HDe),u=_t(c,!1);u.offset;var h=Q$(u,YDe);n=oe.createElement("line",_d({},h,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function JDe(e){var t=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=bs(bs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return GK(a,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function e5e(e){var t=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=bs(bs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return GK(a,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function t5e(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var h=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,x){return p-x});a!==h[0]&&h.unshift(0);var f=h.map(function(p,x){var b=!h[x+1],v=b?a+o-p:h[x+1]-p;if(v<=0)return null;var y=x%t.length;return oe.createElement("rect",{key:"react-".concat(x),y:p,x:s,height:v,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function n5e(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var h=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,x){return p-x});i!==h[0]&&h.unshift(0);var f=h.map(function(p,x){var b=!h[x+1],v=b?i+l-p:h[x+1]-p;if(v<=0)return null;var y=x%s.length;return oe.createElement("rect",{key:"react-".concat(x),x:p,y:o,width:v,height:c,stroke:"none",fill:s[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var r5e=function(t,n){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return GG(UT(bs(bs(bs({},Dm.defaultProps),s),{},{ticks:Rl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},s5e=function(t,n){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return GG(UT(bs(bs(bs({},Dm.defaultProps),s),{},{ticks:Rl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Kh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oa(e){var t,n,s,a,i,o,l=zT(),c=$T(),u=qRe(),h=bs(bs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Kh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Kh.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Kh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Kh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Kh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Kh.verticalFill,x:Ue(e.x)?e.x:u.left,y:Ue(e.y)?e.y:u.top,width:Ue(e.width)?e.width:u.width,height:Ue(e.height)?e.height:u.height}),f=h.x,p=h.y,x=h.width,b=h.height,v=h.syncWithTicks,y=h.horizontalValues,N=h.verticalValues,_=VRe(),S=URe();if(!Ue(x)||x<=0||!Ue(b)||b<=0||!Ue(f)||f!==+f||!Ue(p)||p!==+p)return null;var E=h.verticalCoordinatesGenerator||r5e,A=h.horizontalCoordinatesGenerator||s5e,k=h.horizontalPoints,P=h.verticalPoints;if((!k||!k.length)&&Et(A)){var R=y&&y.length,$=A({yAxis:S?bs(bs({},S),{},{ticks:R?y:S.ticks}):void 0,width:l,height:c,offset:u},R?!0:v);Yi(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gd($),"]")),Array.isArray($)&&(k=$)}if((!P||!P.length)&&Et(E)){var D=N&&N.length,M=E({xAxis:_?bs(bs({},_),{},{ticks:D?N:_.ticks}):void 0,width:l,height:c,offset:u},D?!0:v);Yi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gd(M),"]")),Array.isArray(M)&&(P=M)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(ZDe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),oe.createElement(JDe,_d({},h,{offset:u,horizontalPoints:k,xAxis:_,yAxis:S})),oe.createElement(e5e,_d({},h,{offset:u,verticalPoints:P,xAxis:_,yAxis:S})),oe.createElement(t5e,_d({},h,{horizontalPoints:k})),oe.createElement(n5e,_d({},h,{verticalPoints:P})))}oa.displayName="CartesianGrid";var a5e=["type","layout","connectNulls","ref"],i5e=["key"];function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function Z$(e,t){if(e==null)return{};var n=o5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function o5e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ex.apply(this,arguments)}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(s){$i(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xh(e){return d5e(e)||u5e(e)||c5e(e)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(e,t){if(e){if(typeof e=="string")return LA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(e,t)}}function u5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d5e(e){if(Array.isArray(e))return LA(e)}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function h5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eB(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XK(s.key),s)}}function f5e(e,t,n){return t&&eB(e.prototype,t),n&&eB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m5e(e,t,n){return t=Nw(t),p5e(e,KK()?Reflect.construct(t,n||[],Nw(e).constructor):t.apply(e,n))}function p5e(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x5e(e)}function x5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nw(e)}function g5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FA(e,t)}function FA(e,t){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FA(e,t)}function $i(e,t,n){return t=XK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(e){var t=y5e(e,"string");return im(t)=="symbol"?t:t+""}function y5e(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(im(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zo=(function(e){function t(){var n;h5e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=m5e(this,t,[].concat(a)),$i(n,"state",{isAnimationFinished:!0,totalLength:0}),$i(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),$i(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,_){return N+_});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/u),f=o%u,p=l-o,x=[],b=0,v=0;b<c.length;v+=c[b],++b)if(v+c[b]>f){x=[].concat(Xh(c.slice(0,b)),[f-v]);break}var y=x.length%2===0?[0,p]:[p];return[].concat(Xh(t.repeat(c,h)),Xh(x),y).map(function(N){return"".concat(N,"px")}).join(", ")}),$i(n,"id",Am("recharts-line-")),$i(n,"pathRef",function(o){n.mainCurve=o}),$i(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$i(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return g5e(t,e),f5e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,h=i.children,f=Ia(h,gg);if(!f)return null;var p=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:Br(v.payload,y)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return oe.createElement(on,x,f.map(function(b){return oe.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,f=_t(this.props,!1),p=_t(c,!0),x=u.map(function(v,y){var N=Ca(Ca(Ca({key:"dot-".concat(y),r:3},f),p),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:h,payload:v.payload,points:u});return t.renderDotItem(c,N)}),b={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return oe.createElement(on,Ex({className:"recharts-line-dots",key:"dots"},b),x)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,u=l.layout,h=l.connectNulls;l.ref;var f=Z$(l,a5e),p=Ca(Ca(Ca({},_t(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:h});return oe.createElement(nw,Ex({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,h=o.animationBegin,f=o.animationDuration,p=o.animationEasing,x=o.animationId,b=o.animateNewValues,v=o.width,y=o.height,N=this.state,_=N.prevPoints,S=N.totalLength;return oe.createElement(Qo,{begin:h,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(_){var k=_.length/l.length,P=l.map(function(B,J){var Y=Math.floor(J*k);if(_[Y]){var W=_[Y],se=Aa(W.x,B.x),q=Aa(W.y,B.y);return Ca(Ca({},B),{},{x:se(A),y:q(A)})}if(b){var V=Aa(v*2,B.x),U=Aa(y/2,B.y);return Ca(Ca({},B),{},{x:V(A),y:U(A)})}return Ca(Ca({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(P,s,a)}var R=Aa(0,S),$=R(A),D;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});D=i.getStrokeDasharray($,S,M)}else D=i.generateSimpleStrokeDasharray(S,$);return i.renderCurveStatically(l,s,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!xg(u,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,h=a.yAxis,f=a.top,p=a.left,x=a.width,b=a.height,v=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,_=l.length===1,S=Mt("recharts-line",c),E=u&&u.allowDataOverflow,A=h&&h.allowDataOverflow,k=E||A,P=Ot(y)?this.id:y,R=(s=_t(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},$=R.r,D=$===void 0?3:$,M=R.strokeWidth,B=M===void 0?2:M,J=YNe(o)?o:{},Y=J.clipDot,W=Y===void 0?!0:Y,se=D*2+B;return oe.createElement(on,{className:S},E||A?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(P)},oe.createElement("rect",{x:E?p:p-x/2,y:A?f:f-b/2,width:E?x:x*2,height:A?b:b*2})),!W&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(P)},oe.createElement("rect",{x:p-se/2,y:f-se/2,width:x+se,height:b+se}))):null,!_&&this.renderCurve(k,P),this.renderErrorBar(k,P),(_||o)&&this.renderDots(k,W,P),(!v||N)&&Wl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Xh(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Xh(o),Xh(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(oe.isValidElement(s))i=oe.cloneElement(s,a);else if(Et(s))i=s(a);else{var o=a.key,l=Z$(a,i5e),c=Mt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=oe.createElement(qj,Ex({key:o},l,{className:c}))}return i}}])})(j.PureComponent);$i(Zo,"displayName","Line");$i(Zo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!eh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$i(Zo,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,h=t.layout,f=c.map(function(p,x){var b=Br(p,o);return h==="horizontal"?{x:az({axis:n,ticks:a,bandSize:l,entry:p,index:x}),y:Ot(b)?null:s.scale(b),value:b,payload:p}:{x:Ot(b)?null:n.scale(b),y:az({axis:s,ticks:i,bandSize:l,entry:p,index:x}),value:b,payload:p}});return Ca({points:f,layout:h},u)});function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function v5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b5e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JK(s.key),s)}}function w5e(e,t,n){return t&&b5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j5e(e,t,n){return t=_w(t),N5e(e,QK()?Reflect.construct(t,n||[],_w(e).constructor):t.apply(e,n))}function N5e(e,t){if(t&&(om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _5e(e)}function _5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(e)}function S5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zA(e,t)}function ZK(e,t,n){return t=JK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JK(e){var t=C5e(e,"string");return om(t)=="symbol"?t:t+""}function C5e(e,t){if(om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(om(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$A.apply(this,arguments)}function k5e(e){var t=e.xAxisId,n=zT(),s=$T(),a=LK(t);return a==null?null:j.createElement(Dm,$A({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return Rl(o,!0)}}))}var ds=(function(e){function t(){return v5e(this,t),j5e(this,t,arguments)}return S5e(t,e),w5e(t,[{key:"render",value:function(){return j.createElement(k5e,this.props)}}])})(j.Component);ZK(ds,"displayName","XAxis");ZK(ds,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function E5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P5e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nX(s.key),s)}}function A5e(e,t,n){return t&&P5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O5e(e,t,n){return t=Sw(t),T5e(e,eX()?Reflect.construct(t,n||[],Sw(e).constructor):t.apply(e,n))}function T5e(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M5e(e)}function M5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eX=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(e)}function R5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},BA(e,t)}function tX(e,t,n){return t=nX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nX(e){var t=D5e(e,"string");return lm(t)=="symbol"?t:t+""}function D5e(e,t){if(lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(lm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VA.apply(this,arguments)}var I5e=function(t){var n=t.yAxisId,s=zT(),a=$T(),i=FK(n);return i==null?null:j.createElement(Dm,VA({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Rl(l,!0)}}))},hs=(function(e){function t(){return E5e(this,t),O5e(this,t,arguments)}return R5e(t,e),A5e(t,[{key:"render",value:function(){return j.createElement(I5e,this.props)}}])})(j.Component);tX(hs,"displayName","YAxis");tX(hs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tB(e){return $5e(e)||z5e(e)||F5e(e)||L5e()}function L5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5e(e,t){if(e){if(typeof e=="string")return UA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UA(e,t)}}function z5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $5e(e){if(Array.isArray(e))return UA(e)}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var WA=function(t,n,s,a,i){var o=Ia(t,VT),l=Ia(t,eN),c=[].concat(tB(o),tB(l)),u=Ia(t,nN),h="".concat(a,"Id"),f=a[0],p=n;if(c.length&&(p=c.reduce(function(v,y){if(y.props[h]===s&&Uo(y.props,"extendDomain")&&Ue(y.props[f])){var N=y.props[f];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},p)),u.length){var x="".concat(f,"1"),b="".concat(f,"2");p=u.reduce(function(v,y){if(y.props[h]===s&&Uo(y.props,"extendDomain")&&Ue(y.props[x])&&Ue(y.props[b])){var N=y.props[x],_=y.props[b];return[Math.min(v[0],N,_),Math.max(v[1],N,_)]}return v},p)}return i&&i.length&&(p=i.reduce(function(v,y){return Ue(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},p)),p},nE={exports:{}},nB;function B5e(){return nB||(nB=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function i(c,u,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,f||c,p),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)t.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,x=f.length,b=new Array(x);p<x;p++)b[p]=f[p].fn;return b},l.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,h,f,p,x,b){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],N=arguments.length,_,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,f),!0;case 4:return y.fn.call(y.context,h,f,p),!0;case 5:return y.fn.call(y.context,h,f,p,x),!0;case 6:return y.fn.call(y.context,h,f,p,x,b),!0}for(S=1,_=new Array(N-1);S<N;S++)_[S-1]=arguments[S];y.fn.apply(y.context,_)}else{var E=y.length,A;for(S=0;S<E;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),N){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,h);break;case 3:y[S].fn.call(y[S].context,h,f);break;case 4:y[S].fn.call(y[S].context,h,f,p);break;default:if(!_)for(A=1,_=new Array(N-1);A<N;A++)_[A-1]=arguments[A];y[S].fn.apply(y[S].context,_)}}return!0},l.prototype.on=function(u,h,f){return i(this,u,h,f,!1)},l.prototype.once=function(u,h,f){return i(this,u,h,f,!0)},l.prototype.removeListener=function(u,h,f,p){var x=n?n+u:u;if(!this._events[x])return this;if(!h)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!p||b.once)&&(!f||b.context===f)&&o(this,x);else{for(var v=0,y=[],N=b.length;v<N;v++)(b[v].fn!==h||p&&!b[v].once||f&&b[v].context!==f)&&y.push(b[v]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(nE)),nE.exports}var V5e=B5e();const U5e=sn(V5e);var rE=new U5e,sE="recharts.syncMouseEvents";function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function W5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q5e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rX(s.key),s)}}function H5e(e,t,n){return t&&q5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aE(e,t,n){return t=rX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){var t=Y5e(e,"string");return P0(t)=="symbol"?t:t+""}function Y5e(e,t){if(P0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(P0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var G5e=(function(){function e(){W5e(this,e),aE(this,"activeIndex",0),aE(this,"coordinateList",[]),aE(this,"layout","horizontal")}return H5e(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,h=n.offset,f=h===void 0?null:h,p=n.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+u,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function K5e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Ue(s)&&Ue(a))return!0}return!1}function X5e(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function sX(e){var t=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Wn(t,n,s,a),l=Wn(t,n,s,i);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function Q5e(e,t,n){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,h=t.outerRadius,f=t.angle,p=Wn(l,c,u,f),x=Wn(l,c,h,f);s=p.x,a=p.y,i=x.x,o=x.y}else return sX(t);return[{x:s,y:a},{x:i,y:o}]}function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function rB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rB(Object(n),!0).forEach(function(s){Z5e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Z5e(e,t,n){return t=J5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J5e(e){var t=eIe(e,"string");return A0(t)=="symbol"?t:t+""}function eIe(e,t){if(A0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(A0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tIe(e){var t,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,x=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!x||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var b,v=nw;if(p==="ScatterChart")b=o,v=NTe;else if(p==="BarChart")b=X5e(f,o,c,h),v=DT;else if(f==="radial"){var y=sX(o),N=y.cx,_=y.cy,S=y.radius,E=y.startAngle,A=y.endAngle;b={cx:N,cy:_,startAngle:E,endAngle:A,innerRadius:S,outerRadius:S},v=aK}else b={points:Q5e(f,o,c)},v=nw;var k=Nv(Nv(Nv(Nv({stroke:"#ccc",pointerEvents:"none"},c),b),_t(x,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",x.className)});return j.isValidElement(x)?j.cloneElement(x,k):j.createElement(v,k)}var nIe=["item"],rIe=["children","className","width","height","style","compact","title","desc"];function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lf.apply(this,arguments)}function sB(e,t){return iIe(e)||aIe(e,t)||iX(e,t)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(h){u=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iIe(e){if(Array.isArray(e))return e}function aB(e,t){if(e==null)return{};var n=oIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function oIe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function lIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cIe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oX(s.key),s)}}function uIe(e,t,n){return t&&cIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dIe(e,t,n){return t=Cw(t),hIe(e,aX()?Reflect.construct(t,n||[],Cw(e).constructor):t.apply(e,n))}function hIe(e,t){if(t&&(cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fIe(e)}function fIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aX=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cw(e)}function mIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qA(e,t)}function um(e){return gIe(e)||xIe(e)||iX(e)||pIe()}function pIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iX(e,t){if(e){if(typeof e=="string")return HA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HA(e,t)}}function xIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gIe(e){if(Array.isArray(e))return HA(e)}function HA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iB(Object(n),!0).forEach(function(s){St(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function St(e,t,n){return t=oX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oX(e){var t=yIe(e,"string");return cm(t)=="symbol"?t:t+""}function yIe(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(cm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vIe={xAxis:["bottom","top"],yAxis:["left","right"]},bIe={width:"100%",height:"100%"},lX={x:0,y:0};function _v(e){return e}var wIe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},jIe=function(t,n,s,a){var i=n.find(function(h){return h&&h.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Se(Se(Se({},a),Wn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Se(Se(Se({},a),Wn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return lX},rN=function(t,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(um(l),um(u)):l},[]);return o.length>0?o:t&&t.length&&Ue(a)&&Ue(i)?t.slice(a,i+1):[]};function cX(e){return e==="number"?[0,"auto"]:void 0}var YA=function(t,n,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=rN(n,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,u){var h,f=(h=u.props.data)!==null&&h!==void 0?h:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;p=Eb(x,o.dataKey,a)}else p=f&&f[s]||l[s];return p?[].concat(um(c),[JG(u,p)]):c},[])},oB=function(t,n,s,a){var i=a||{x:t.chartX,y:t.chartY},o=wIe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,h=WPe(o,l,u,c);if(h>=0&&u){var f=u[h]&&u[h].value,p=YA(t,n,h,f),x=jIe(s,l,h,i);return{activeTooltipIndex:h,activeLabel:f,activePayload:p,activeCoordinate:x}}return null},NIe=function(t,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,f=t.children,p=t.stackOffset,x=YG(h,i);return s.reduce(function(b,v){var y,N=v.type.defaultProps!==void 0?Se(Se({},v.type.defaultProps),v.props):v.props,_=N.type,S=N.dataKey,E=N.allowDataOverflow,A=N.allowDuplicatedCategory,k=N.scale,P=N.ticks,R=N.includeHidden,$=N[o];if(b[$])return b;var D=rN(t.data,{graphicalItems:a.filter(function(te){var H,xe=o in te.props?te.props[o]:(H=te.type.defaultProps)===null||H===void 0?void 0:H[o];return xe===$}),dataStartIndex:c,dataEndIndex:u}),M=D.length,B,J,Y;K5e(N.domain,E,_)&&(B=oA(N.domain,null,E),x&&(_==="number"||k!=="auto")&&(Y=_x(D,S,"category")));var W=cX(_);if(!B||B.length===0){var se,q=(se=N.domain)!==null&&se!==void 0?se:W;if(S){if(B=_x(D,S,_),_==="category"&&x){var V=LNe(B);A&&V?(J=B,B=fw(0,M)):A||(B=cz(q,B,v).reduce(function(te,H){return te.indexOf(H)>=0?te:[].concat(um(te),[H])},[]))}else if(_==="category")A?B=B.filter(function(te){return te!==""&&!Ot(te)}):B=cz(q,B,v).reduce(function(te,H){return te.indexOf(H)>=0||H===""||Ot(H)?te:[].concat(um(te),[H])},[]);else if(_==="number"){var U=KPe(D,a.filter(function(te){var H,xe,ne=o in te.props?te.props[o]:(H=te.type.defaultProps)===null||H===void 0?void 0:H[o],pe="hide"in te.props?te.props.hide:(xe=te.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return ne===$&&(R||!pe)}),S,i,h);U&&(B=U)}x&&(_==="number"||k!=="auto")&&(Y=_x(D,S,"category"))}else x?B=fw(0,M):l&&l[$]&&l[$].hasStack&&_==="number"?B=p==="expand"?[0,1]:ZG(l[$].stackGroups,c,u):B=HG(D,a.filter(function(te){var H=o in te.props?te.props[o]:te.type.defaultProps[o],xe="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return H===$&&(R||!xe)}),_,h,!0);if(_==="number")B=WA(f,B,$,i,P),q&&(B=oA(q,B,E));else if(_==="category"&&q){var F=q,K=B.every(function(te){return F.indexOf(te)>=0});K&&(B=F)}}return Se(Se({},b),{},St({},$,Se(Se({},N),{},{axisType:i,domain:B,categoricalDomain:Y,duplicateDomain:J,originalDomain:(y=N.domain)!==null&&y!==void 0?y:W,isCategorical:x,layout:h})))},{})},_Ie=function(t,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,f=t.children,p=rN(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),x=p.length,b=YG(h,i),v=-1;return s.reduce(function(y,N){var _=N.type.defaultProps!==void 0?Se(Se({},N.type.defaultProps),N.props):N.props,S=_[o],E=cX("number");if(!y[S]){v++;var A;return b?A=fw(0,x):l&&l[S]&&l[S].hasStack?(A=ZG(l[S].stackGroups,c,u),A=WA(f,A,S,i)):(A=oA(E,HG(p,s.filter(function(k){var P,R,$=o in k.props?k.props[o]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[o],D="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return $===S&&!D}),"number",h),a.defaultProps.allowDataOverflow),A=WA(f,A,S,i)),Se(Se({},y),{},St({},S,Se(Se({axisType:i},a.defaultProps),{},{hide:!0,orientation:Da(vIe,"".concat(i,".").concat(v%2),null),domain:A,originalDomain:E,isCategorical:b,layout:h})))}return y},{})},SIe=function(t,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.children,f="".concat(a,"Id"),p=Ia(h,i),x={};return p&&p.length?x=NIe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=_Ie(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},CIe=function(t){var n=Kc(t),s=Rl(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:lT(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Jb(n,s)}},lB=function(t){var n=t.children,s=t.defaultShowTooltip,a=Ea(n,em),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},kIe=function(t){return!t||!t.length?!1:t.some(function(n){var s=Bl(n&&n.type);return s&&s.indexOf("Bar")>=0})},cB=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EIe=function(t,n){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,h=s.height,f=s.children,p=s.margin||{},x=Ea(f,em),b=Ea(f,Vl),v=Object.keys(c).reduce(function(A,k){var P=c[k],R=P.orientation;return!P.mirror&&!P.hide?Se(Se({},A),{},St({},R,A[R]+P.width)):A},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(A,k){var P=o[k],R=P.orientation;return!P.mirror&&!P.hide?Se(Se({},A),{},St({},R,Da(A,"".concat(R))+P.height)):A},{top:p.top||0,bottom:p.bottom||0}),N=Se(Se({},y),v),_=N.bottom;x&&(N.bottom+=x.props.height||em.defaultProps.height),b&&n&&(N=YPe(N,a,s,n));var S=u-N.left-N.right,E=h-N.top-N.bottom;return Se(Se({brushBottom:_},N),{},{width:Math.max(S,0),height:Math.max(E,0)})},PIe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},qT=function(t){var n=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,f=t.defaultProps,p=function(N,_){var S=_.graphicalItems,E=_.stackGroups,A=_.offset,k=_.updateId,P=_.dataStartIndex,R=_.dataEndIndex,$=N.barSize,D=N.layout,M=N.barGap,B=N.barCategoryGap,J=N.maxBarSize,Y=cB(D),W=Y.numericAxisName,se=Y.cateAxisName,q=kIe(S),V=[];return S.forEach(function(U,F){var K=rN(N.data,{graphicalItems:[U],dataStartIndex:P,dataEndIndex:R}),te=U.type.defaultProps!==void 0?Se(Se({},U.type.defaultProps),U.props):U.props,H=te.dataKey,xe=te.maxBarSize,ne=te["".concat(W,"Id")],pe=te["".concat(se,"Id")],re={},ce=c.reduce(function(Yt,mr){var io=_["".concat(mr.axisType,"Map")],cl=te["".concat(mr.axisType,"Id")];io&&io[cl]||mr.axisType==="zAxis"||Yd();var oo=io[cl];return Se(Se({},Yt),{},St(St({},mr.axisType,oo),"".concat(mr.axisType,"Ticks"),Rl(oo)))},re),he=ce[se],ue=ce["".concat(se,"Ticks")],Oe=E&&E[ne]&&E[ne].hasStack&&sAe(U,E[ne].stackGroups),ge=Bl(U.type).indexOf("Bar")>=0,qe=Jb(he,ue),Ce=[],yt=q&&qPe({barSize:$,stackGroups:E,totalSize:PIe(ce,se)});if(ge){var st,xt,Jt=Ot(xe)?J:xe,qt=(st=(xt=Jb(he,ue,!0))!==null&&xt!==void 0?xt:Jt)!==null&&st!==void 0?st:0;Ce=HPe({barGap:M,barCategoryGap:B,bandSize:qt!==qe?qt:qe,sizeList:yt[pe],maxBarSize:Jt}),qt!==qe&&(Ce=Ce.map(function(Yt){return Se(Se({},Yt),{},{position:Se(Se({},Yt.position),{},{offset:Yt.position.offset-qt/2})})}))}var zn=U&&U.type&&U.type.getComposedData;zn&&V.push({props:Se(Se({},zn(Se(Se({},ce),{},{displayedData:K,props:N,dataKey:H,item:U,bandSize:qe,barPosition:Ce,offset:A,stackedData:Oe,layout:D,dataStartIndex:P,dataEndIndex:R}))),{},St(St(St({key:U.key||"item-".concat(F)},W,ce[W]),se,ce[se]),"animationId",k)),childIndex:XNe(U,N.children),item:U})}),V},x=function(N,_){var S=N.props,E=N.dataStartIndex,A=N.dataEndIndex,k=N.updateId;if(!N6({props:S}))return null;var P=S.children,R=S.layout,$=S.stackOffset,D=S.data,M=S.reverseStackOrder,B=cB(R),J=B.numericAxisName,Y=B.cateAxisName,W=Ia(P,s),se=nAe(D,W,"".concat(J,"Id"),"".concat(Y,"Id"),$,M),q=c.reduce(function(te,H){var xe="".concat(H.axisType,"Map");return Se(Se({},te),{},St({},xe,SIe(S,Se(Se({},H),{},{graphicalItems:W,stackGroups:H.axisType===J&&se,dataStartIndex:E,dataEndIndex:A}))))},{}),V=EIe(Se(Se({},q),{},{props:S,graphicalItems:W}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(te){q[te]=h(S,q[te],V,te.replace("Map",""),n)});var U=q["".concat(Y,"Map")],F=CIe(U),K=p(S,Se(Se({},q),{},{dataStartIndex:E,dataEndIndex:A,updateId:k,graphicalItems:W,stackGroups:se,offset:V}));return Se(Se({formattedGraphicalItems:K,graphicalItems:W,offset:V,stackGroups:se},F),q)},b=(function(y){function N(_){var S,E,A;return lIe(this,N),A=dIe(this,N,[_]),St(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(A,"accessibilityManager",new G5e),St(A,"handleLegendBBoxUpdate",function(k){if(k){var P=A.state,R=P.dataStartIndex,$=P.dataEndIndex,D=P.updateId;A.setState(Se({legendBBox:k},x({props:A.props,dataStartIndex:R,dataEndIndex:$,updateId:D},Se(Se({},A.state),{},{legendBBox:k}))))}}),St(A,"handleReceiveSyncEvent",function(k,P,R){if(A.props.syncId===k){if(R===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(P)}}),St(A,"handleBrushChange",function(k){var P=k.startIndex,R=k.endIndex;if(P!==A.state.dataStartIndex||R!==A.state.dataEndIndex){var $=A.state.updateId;A.setState(function(){return Se({dataStartIndex:P,dataEndIndex:R},x({props:A.props,dataStartIndex:P,dataEndIndex:R,updateId:$},A.state))}),A.triggerSyncEvent({dataStartIndex:P,dataEndIndex:R})}}),St(A,"handleMouseEnter",function(k){var P=A.getMouseInfo(k);if(P){var R=Se(Se({},P),{},{isTooltipActive:!0});A.setState(R),A.triggerSyncEvent(R);var $=A.props.onMouseEnter;Et($)&&$(R,k)}}),St(A,"triggeredAfterMouseMove",function(k){var P=A.getMouseInfo(k),R=P?Se(Se({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(R),A.triggerSyncEvent(R);var $=A.props.onMouseMove;Et($)&&$(R,k)}),St(A,"handleItemMouseEnter",function(k){A.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),St(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),St(A,"handleMouseMove",function(k){k.persist(),A.throttleTriggeredAfterMouseMove(k)}),St(A,"handleMouseLeave",function(k){A.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};A.setState(P),A.triggerSyncEvent(P);var R=A.props.onMouseLeave;Et(R)&&R(P,k)}),St(A,"handleOuterEvent",function(k){var P=KNe(k),R=Da(A.props,"".concat(P));if(P&&Et(R)){var $,D;/.*touch.*/i.test(P)?D=A.getMouseInfo(k.changedTouches[0]):D=A.getMouseInfo(k),R(($=D)!==null&&$!==void 0?$:{},k)}}),St(A,"handleClick",function(k){var P=A.getMouseInfo(k);if(P){var R=Se(Se({},P),{},{isTooltipActive:!0});A.setState(R),A.triggerSyncEvent(R);var $=A.props.onClick;Et($)&&$(R,k)}}),St(A,"handleMouseDown",function(k){var P=A.props.onMouseDown;if(Et(P)){var R=A.getMouseInfo(k);P(R,k)}}),St(A,"handleMouseUp",function(k){var P=A.props.onMouseUp;if(Et(P)){var R=A.getMouseInfo(k);P(R,k)}}),St(A,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),St(A,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseDown(k.changedTouches[0])}),St(A,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseUp(k.changedTouches[0])}),St(A,"handleDoubleClick",function(k){var P=A.props.onDoubleClick;if(Et(P)){var R=A.getMouseInfo(k);P(R,k)}}),St(A,"handleContextMenu",function(k){var P=A.props.onContextMenu;if(Et(P)){var R=A.getMouseInfo(k);P(R,k)}}),St(A,"triggerSyncEvent",function(k){A.props.syncId!==void 0&&rE.emit(sE,A.props.syncId,k,A.eventEmitterSymbol)}),St(A,"applySyncEvent",function(k){var P=A.props,R=P.layout,$=P.syncMethod,D=A.state.updateId,M=k.dataStartIndex,B=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)A.setState(Se({dataStartIndex:M,dataEndIndex:B},x({props:A.props,dataStartIndex:M,dataEndIndex:B,updateId:D},A.state)));else if(k.activeTooltipIndex!==void 0){var J=k.chartX,Y=k.chartY,W=k.activeTooltipIndex,se=A.state,q=se.offset,V=se.tooltipTicks;if(!q)return;if(typeof $=="function")W=$(V,k);else if($==="value"){W=-1;for(var U=0;U<V.length;U++)if(V[U].value===k.activeLabel){W=U;break}}var F=Se(Se({},q),{},{x:q.left,y:q.top}),K=Math.min(J,F.x+F.width),te=Math.min(Y,F.y+F.height),H=V[W]&&V[W].value,xe=YA(A.state,A.props.data,W),ne=V[W]?{x:R==="horizontal"?V[W].coordinate:K,y:R==="horizontal"?te:V[W].coordinate}:lX;A.setState(Se(Se({},k),{},{activeLabel:H,activeCoordinate:ne,activePayload:xe,activeTooltipIndex:W}))}else A.setState(k)}),St(A,"renderCursor",function(k){var P,R=A.state,$=R.isTooltipActive,D=R.activeCoordinate,M=R.activePayload,B=R.offset,J=R.activeTooltipIndex,Y=R.tooltipAxisBandSize,W=A.getTooltipEventType(),se=(P=k.props.active)!==null&&P!==void 0?P:$,q=A.props.layout,V=k.key||"_recharts-cursor";return oe.createElement(tIe,{key:V,activeCoordinate:D,activePayload:M,activeTooltipIndex:J,chartName:n,element:k,isActive:se,layout:q,offset:B,tooltipAxisBandSize:Y,tooltipEventType:W})}),St(A,"renderPolarAxis",function(k,P,R){var $=Da(k,"type.axisType"),D=Da(A.state,"".concat($,"Map")),M=k.type.defaultProps,B=M!==void 0?Se(Se({},M),k.props):k.props,J=D&&D[B["".concat($,"Id")]];return j.cloneElement(k,Se(Se({},J),{},{className:Mt($,J.className),key:k.key||"".concat(P,"-").concat(R),ticks:Rl(J,!0)}))}),St(A,"renderPolarGrid",function(k){var P=k.props,R=P.radialLines,$=P.polarAngles,D=P.polarRadius,M=A.state,B=M.radiusAxisMap,J=M.angleAxisMap,Y=Kc(B),W=Kc(J),se=W.cx,q=W.cy,V=W.innerRadius,U=W.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray($)?$:Rl(W,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(D)?D:Rl(Y,!0).map(function(F){return F.coordinate}),cx:se,cy:q,innerRadius:V,outerRadius:U,key:k.key||"polar-grid",radialLines:R})}),St(A,"renderLegend",function(){var k=A.state.formattedGraphicalItems,P=A.props,R=P.children,$=P.width,D=P.height,M=A.props.margin||{},B=$-(M.left||0)-(M.right||0),J=WG({children:R,formattedGraphicalItems:k,legendWidth:B,legendContent:u});if(!J)return null;var Y=J.item,W=aB(J,nIe);return j.cloneElement(Y,Se(Se({},W),{},{chartWidth:$,chartHeight:D,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),St(A,"renderTooltip",function(){var k,P=A.props,R=P.children,$=P.accessibilityLayer,D=Ea(R,Nn);if(!D)return null;var M=A.state,B=M.isTooltipActive,J=M.activeCoordinate,Y=M.activePayload,W=M.activeLabel,se=M.offset,q=(k=D.props.active)!==null&&k!==void 0?k:B;return j.cloneElement(D,{viewBox:Se(Se({},se),{},{x:se.left,y:se.top}),active:q,label:W,payload:q?Y:[],coordinate:J,accessibilityLayer:$})}),St(A,"renderBrush",function(k){var P=A.props,R=P.margin,$=P.data,D=A.state,M=D.offset,B=D.dataStartIndex,J=D.dataEndIndex,Y=D.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:vv(A.handleBrushChange,k.props.onChange),data:$,x:Ue(k.props.x)?k.props.x:M.left,y:Ue(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(R.bottom||0),width:Ue(k.props.width)?k.props.width:M.width,startIndex:B,endIndex:J,updateId:"brush-".concat(Y)})}),St(A,"renderReferenceElement",function(k,P,R){if(!k)return null;var $=A,D=$.clipPathId,M=A.state,B=M.xAxisMap,J=M.yAxisMap,Y=M.offset,W=k.type.defaultProps||{},se=k.props,q=se.xAxisId,V=q===void 0?W.xAxisId:q,U=se.yAxisId,F=U===void 0?W.yAxisId:U;return j.cloneElement(k,{key:k.key||"".concat(P,"-").concat(R),xAxis:B[V],yAxis:J[F],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:D})}),St(A,"renderActivePoints",function(k){var P=k.item,R=k.activePoint,$=k.basePoint,D=k.childIndex,M=k.isRange,B=[],J=P.props.key,Y=P.item.type.defaultProps!==void 0?Se(Se({},P.item.type.defaultProps),P.item.props):P.item.props,W=Y.activeDot,se=Y.dataKey,q=Se(Se({index:D,dataKey:se,cx:R.x,cy:R.y,r:4,fill:RT(P.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},_t(W,!1)),Pb(W));return B.push(N.renderActiveDot(W,q,"".concat(J,"-activePoint-").concat(D))),$?B.push(N.renderActiveDot(W,Se(Se({},q),{},{cx:$.x,cy:$.y}),"".concat(J,"-basePoint-").concat(D))):M&&B.push(null),B}),St(A,"renderGraphicChild",function(k,P,R){var $=A.filterFormatItem(k,P,R);if(!$)return null;var D=A.getTooltipEventType(),M=A.state,B=M.isTooltipActive,J=M.tooltipAxis,Y=M.activeTooltipIndex,W=M.activeLabel,se=A.props.children,q=Ea(se,Nn),V=$.props,U=V.points,F=V.isRange,K=V.baseLine,te=$.item.type.defaultProps!==void 0?Se(Se({},$.item.type.defaultProps),$.item.props):$.item.props,H=te.activeDot,xe=te.hide,ne=te.activeBar,pe=te.activeShape,re=!!(!xe&&B&&q&&(H||ne||pe)),ce={};D!=="axis"&&q&&q.props.trigger==="click"?ce={onClick:vv(A.handleItemMouseEnter,k.props.onClick)}:D!=="axis"&&(ce={onMouseLeave:vv(A.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:vv(A.handleItemMouseEnter,k.props.onMouseEnter)});var he=j.cloneElement(k,Se(Se({},$.props),ce));function ue(mr){return typeof J.dataKey=="function"?J.dataKey(mr.payload):null}if(re)if(Y>=0){var Oe,ge;if(J.dataKey&&!J.allowDuplicatedCategory){var qe=typeof J.dataKey=="function"?ue:"payload.".concat(J.dataKey.toString());Oe=Eb(U,qe,W),ge=F&&K&&Eb(K,qe,W)}else Oe=U==null?void 0:U[Y],ge=F&&K&&K[Y];if(pe||ne){var Ce=k.props.activeIndex!==void 0?k.props.activeIndex:Y;return[j.cloneElement(k,Se(Se(Se({},$.props),ce),{},{activeIndex:Ce})),null,null]}if(!Ot(Oe))return[he].concat(um(A.renderActivePoints({item:$,activePoint:Oe,basePoint:ge,childIndex:Y,isRange:F})))}else{var yt,st=(yt=A.getItemByXY(A.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:he},xt=st.graphicalItem,Jt=xt.item,qt=Jt===void 0?k:Jt,zn=xt.childIndex,Yt=Se(Se(Se({},$.props),ce),{},{activeIndex:zn});return[j.cloneElement(qt,Yt),null,null]}return F?[he,null,null]:[he,null]}),St(A,"renderCustomized",function(k,P,R){return j.cloneElement(k,Se(Se({key:"recharts-customized-".concat(R)},A.props),A.state))}),St(A,"renderMap",{CartesianGrid:{handler:_v,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:_v},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:_v},YAxis:{handler:_v},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:Am("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=UY(A.triggeredAfterMouseMove,(E=_.throttleDelay)!==null&&E!==void 0?E:1e3/60),A.state={},A}return mIe(N,y),uIe(N,[{key:"componentDidMount",value:function(){var S,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,E=S.children,A=S.data,k=S.height,P=S.layout,R=Ea(E,Nn);if(R){var $=R.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,M=YA(this.state,A,$,D),B=this.state.tooltipTicks[$].coordinate,J=(this.state.offset.top+k)/2,Y=P==="horizontal",W=Y?{x:B,y:J}:{y:B,x:J},se=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});se&&(W=Se(Se({},W),se.props.points[$].tooltipPosition),M=se.props.points[$].tooltipPayload);var q={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:D,activePayload:M,activeCoordinate:W};this.setState(q),this.renderCursor(R),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,k;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){PP([Ea(S.children,Nn)],[Ea(this.props.children,Nn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ea(this.props.children,Nn);if(S&&typeof S.props.shared=="boolean"){var E=S.props.shared?"axis":"item";return l.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var E=this.container,A=E.getBoundingClientRect(),k=I2e(A),P={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},R=A.width/E.offsetWidth||1,$=this.inRange(P.chartX,P.chartY,R);if(!$)return null;var D=this.state,M=D.xAxisMap,B=D.yAxisMap,J=this.getTooltipEventType(),Y=oB(this.state,this.props.data,this.props.layout,$);if(J!=="axis"&&M&&B){var W=Kc(M).scale,se=Kc(B).scale,q=W&&W.invert?W.invert(P.chartX):null,V=se&&se.invert?se.invert(P.chartY):null;return Se(Se({},P),{},{xValue:q,yValue:V},Y)}return Y?Se(Se({},P),Y):null}},{key:"inRange",value:function(S,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=S/A,R=E/A;if(k==="horizontal"||k==="vertical"){var $=this.state.offset,D=P>=$.left&&P<=$.left+$.width&&R>=$.top&&R<=$.top+$.height;return D?{x:P,y:R}:null}var M=this.state,B=M.angleAxisMap,J=M.radiusAxisMap;if(B&&J){var Y=Kc(B);return hz({x:P,y:R},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,E=this.getTooltipEventType(),A=Ea(S,Nn),k={};A&&E==="axis"&&(A.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Pb(this.props,this.handleOuterEvent);return Se(Se({},P),k)}},{key:"addListener",value:function(){rE.on(sE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rE.removeListener(sE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,E,A){for(var k=this.state.formattedGraphicalItems,P=0,R=k.length;P<R;P++){var $=k[P];if($.item===S||$.props.key===S.key||E===Bl($.item.type)&&A===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,E=this.state.offset,A=E.left,k=E.top,P=E.height,R=E.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:S},oe.createElement("rect",{x:A,y:k,height:P,width:R})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(E,A){var k=sB(A,2),P=k[0],R=k[1];return Se(Se({},E),{},St({},P,R.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(E,A){var k=sB(A,2),P=k[0],R=k[1];return Se(Se({},E),{},St({},P,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(S){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(S){var E=this.state,A=E.formattedGraphicalItems,k=E.activeItem;if(A&&A.length)for(var P=0,R=A.length;P<R;P++){var $=A[P],D=$.props,M=$.item,B=M.type.defaultProps!==void 0?Se(Se({},M.type.defaultProps),M.props):M.props,J=Bl(M.type);if(J==="Bar"){var Y=(D.data||[]).find(function(V){return rTe(S,V)});if(Y)return{graphicalItem:$,payload:Y}}else if(J==="RadialBar"){var W=(D.data||[]).find(function(V){return hz(S,V)});if(W)return{graphicalItem:$,payload:W}}else if(Xj($,k)||Qj($,k)||_0($,k)){var se=CMe({graphicalItem:$,activeTooltipItem:k,itemData:B.data}),q=B.activeIndex===void 0?se:B.activeIndex;return{graphicalItem:Se(Se({},$),{},{childIndex:q}),payload:_0($,k)?B.data[se]:$.props.data[se]}}}return null}},{key:"render",value:function(){var S=this;if(!N6(this))return null;var E=this.props,A=E.children,k=E.className,P=E.width,R=E.height,$=E.style,D=E.compact,M=E.title,B=E.desc,J=aB(E,rIe),Y=_t(J,!1);if(D)return oe.createElement(z$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(OP,lf({},Y,{width:P,height:R,title:M,desc:B}),this.renderClipPath(),S6(A,this.renderMap)));if(this.props.accessibilityLayer){var W,se;Y.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,Y.role=(se=this.props.role)!==null&&se!==void 0?se:"application",Y.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},Y.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return oe.createElement(z$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",lf({className:Mt("recharts-wrapper",k),style:Se({position:"relative",cursor:"default",width:P,height:R},$)},q,{ref:function(U){S.container=U}}),oe.createElement(OP,lf({},Y,{width:P,height:R,title:M,desc:B,style:bIe}),this.renderClipPath(),S6(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);St(b,"displayName",n),St(b,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),St(b,"getDerivedStateFromProps",function(y,N){var _=y.dataKey,S=y.data,E=y.children,A=y.width,k=y.height,P=y.layout,R=y.stackOffset,$=y.margin,D=N.dataStartIndex,M=N.dataEndIndex;if(N.updateId===void 0){var B=lB(y);return Se(Se(Se({},B),{},{updateId:0},x(Se(Se({props:y},B),{},{updateId:0}),N)),{},{prevDataKey:_,prevData:S,prevWidth:A,prevHeight:k,prevLayout:P,prevStackOffset:R,prevMargin:$,prevChildren:E})}if(_!==N.prevDataKey||S!==N.prevData||A!==N.prevWidth||k!==N.prevHeight||P!==N.prevLayout||R!==N.prevStackOffset||!xf($,N.prevMargin)){var J=lB(y),Y={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},W=Se(Se({},oB(N,S,P)),{},{updateId:N.updateId+1}),se=Se(Se(Se({},J),Y),W);return Se(Se(Se({},se),x(Se({props:y},se),N)),{},{prevDataKey:_,prevData:S,prevWidth:A,prevHeight:k,prevLayout:P,prevStackOffset:R,prevMargin:$,prevChildren:E})}if(!PP(E,N.prevChildren)){var q,V,U,F,K=Ea(E,em),te=K&&(q=(V=K.props)===null||V===void 0?void 0:V.startIndex)!==null&&q!==void 0?q:D,H=K&&(U=(F=K.props)===null||F===void 0?void 0:F.endIndex)!==null&&U!==void 0?U:M,xe=te!==D||H!==M,ne=!Ot(S),pe=ne&&!xe?N.updateId:N.updateId+1;return Se(Se({updateId:pe},x(Se(Se({props:y},N),{},{updateId:pe,dataStartIndex:te,dataEndIndex:H}),N)),{},{prevChildren:E,dataStartIndex:te,dataEndIndex:H})}return null}),St(b,"renderActiveDot",function(y,N,_){var S;return j.isValidElement(y)?S=j.cloneElement(y,N):Et(y)?S=y(N):S=oe.createElement(qj,N),oe.createElement(on,{className:"recharts-active-dot",key:_},S)});var v=j.forwardRef(function(N,_){return oe.createElement(b,lf({},N,{ref:_}))});return v.displayName=b.displayName,v},sN=qT({chartName:"LineChart",GraphicalChild:Zo,axisComponents:[{axisType:"xAxis",AxisComp:ds},{axisType:"yAxis",AxisComp:hs}],formatAxisMap:PK}),ql=qT({chartName:"BarChart",GraphicalChild:es,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ds},{axisType:"yAxis",AxisComp:hs}],formatAxisMap:PK}),Kd=qT({chartName:"PieChart",GraphicalChild:Us,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Kj},{axisType:"radiusAxis",AxisComp:Yj}],formatAxisMap:mAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Sv=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];function uX(){const[e,t]=j.useState(!1),[n,s]=j.useState(null),[a,i]=j.useState("overview"),o=async()=>{t(!0),fe.info(" Escaneando negocio completo...");try{const v=await ee.functions.invoke("fullBusinessScan");s(v.data.results),fe.success(" Anlisis completado")}catch(v){fe.error(" Error: "+v.message)}finally{t(!1)}};j.useEffect(()=>{o()},[]);const l=v=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(v||0);if(e&&!n)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bt,{className:"w-16 h-16 text-blue-500 animate-spin mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Analizando tu negocio..."}),r.jsx("p",{className:"text-gray-400",children:"Conectando con Biloop, analizando facturas y proveedores"})]})});const c=(n==null?void 0:n.analysis)||{},u=c.top_providers||[],h=c.price_changes||[],f=c.recommendations||[],p=c.by_category||{},x=Object.entries(p).map(([v,y])=>({name:v.charAt(0).toUpperCase()+v.slice(1),total:y.total,count:y.count})).sort((v,y)=>y.total-v.total),b=u.slice(0,8).map(v=>({name:v.name.length>15?v.name.substring(0,15)+"...":v.name,total:v.total_spent,facturas:v.invoice_count}));return r.jsx("div",{className:"p-4 md:p-6 min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-2xl",children:r.jsx(mi,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-black text-white",children:"ANLISIS DE NEGOCIO"}),r.jsx("p",{className:"text-gray-400",children:"Facturas, proveedores y comparativa de precios"})]})]}),r.jsxs(ae,{onClick:o,disabled:e,className:"bg-blue-600 hover:bg-blue-700",children:[e?r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Ns,{className:"w-4 h-4 mr-2"}),e?"Escaneando...":"Actualizar Anlisis"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"bg-gradient-to-br from-blue-600 to-blue-800 border-none",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Total Facturas"}),r.jsx("p",{className:"text-4xl font-black text-white",children:c.total_invoices||0})]}),r.jsx(Ye,{className:"w-12 h-12 text-blue-300 opacity-50"})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-emerald-600 to-emerald-800 border-none",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-emerald-200 text-sm",children:"Total Gastado"}),r.jsx("p",{className:"text-3xl font-black text-white",children:l(c.total_spent)})]}),r.jsx(rn,{className:"w-12 h-12 text-emerald-300 opacity-50"})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-purple-600 to-purple-800 border-none",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-200 text-sm",children:"Proveedores"}),r.jsx("p",{className:"text-4xl font-black text-white",children:c.total_providers||0})]}),r.jsx(Yn,{className:"w-12 h-12 text-purple-300 opacity-50"})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-orange-600 to-red-600 border-none",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-orange-200 text-sm",children:"Cambios Precio"}),r.jsx("p",{className:"text-4xl font-black text-white",children:h.length})]}),r.jsx(En,{className:"w-12 h-12 text-orange-300 opacity-50"})]})})})]}),f.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:f.map((v,y)=>r.jsx(X,{className:`border-none ${v.type==="warning"?"bg-yellow-900/30 border-yellow-700":v.type==="danger"?"bg-red-900/30 border-red-700":"bg-blue-900/30 border-blue-700"}`,children:r.jsxs(Q,{className:"p-4",children:[r.jsx("h4",{className:"text-white font-bold mb-2",children:v.title}),r.jsx("p",{className:"text-gray-300 text-sm",children:v.message})]})},y))}),r.jsxs(rl,{value:a,onValueChange:i,children:[r.jsxs(ro,{className:"bg-slate-800 border-slate-700 mb-6",children:[r.jsx(tn,{value:"overview",children:" Resumen"}),r.jsx(tn,{value:"providers",children:" Proveedores"}),r.jsx(tn,{value:"prices",children:" Precios"}),r.jsx(tn,{value:"categories",children:" Categoras"})]}),r.jsx(nn,{value:"overview",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"bg-slate-800 border-slate-700",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Gasto por Proveedor (Top 8)"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:b,layout:"vertical",children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{type:"number",stroke:"#9ca3af",tickFormatter:v=>`${(v/1e3).toFixed(0)}k`}),r.jsx(hs,{type:"category",dataKey:"name",stroke:"#9ca3af",width:100,tick:{fontSize:11}}),r.jsx(Nn,{formatter:v=>l(v),contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px"}}),r.jsx(es,{dataKey:"total",fill:"#3b82f6",radius:[0,4,4,0]})]})})})]}),r.jsxs(X,{className:"bg-slate-800 border-slate-700",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Gasto por Categora"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:({name:v,percent:y})=>`${v} ${(y*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"total",children:x.map((v,y)=>r.jsx(Ko,{fill:Sv[y%Sv.length]},`cell-${y}`))}),r.jsx(Nn,{formatter:v=>l(v)})]})})})]})]})}),r.jsx(nn,{value:"providers",children:r.jsxs(X,{className:"bg-slate-800 border-slate-700",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Ranking de Proveedores por Gasto"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:u.map((v,y)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${y===0?"bg-yellow-500":y===1?"bg-gray-400":y===2?"bg-orange-600":"bg-slate-600"}`,children:y+1}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-bold",children:v.name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[v.invoice_count," facturas  ltima: ",v.last_invoice?new Date(v.last_invoice).toLocaleDateString("es-ES"):"N/A"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:l(v.total_spent)}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Media: ",l(v.avg_invoice)]})]})]},y))})})]})}),r.jsx(nn,{value:"prices",children:r.jsxs(X,{className:"bg-slate-800 border-slate-700",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Cambios de Precio Detectados"})}),r.jsx(Q,{children:h.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ke,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No se detectaron cambios significativos de precio (>5%)"})]}):r.jsx("div",{className:"space-y-3",children:h.map((v,y)=>{const N=parseFloat(v.change_percent)>0;return r.jsx("div",{className:`p-4 rounded-lg border ${N?"bg-red-900/20 border-red-700":"bg-green-900/20 border-green-700"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-bold",children:v.product}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Proveedor: ",v.provider]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[N?r.jsx(rte,{className:"w-5 h-5 text-red-400"}):r.jsx(Qee,{className:"w-5 h-5 text-green-400"}),r.jsxs("span",{className:`text-2xl font-bold ${N?"text-red-400":"text-green-400"}`,children:[v.change_percent,"%"]})]}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[l(v.first_price),"  ",l(v.last_price)]})]})]})},y)})})})]})}),r.jsx(nn,{value:"categories",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map((v,y)=>{var N;return r.jsx(X,{className:"bg-slate-800 border-slate-700",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-white font-bold text-lg",children:v.name}),r.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Sv[y%Sv.length]}})]}),r.jsx("p",{className:"text-3xl font-black text-white mb-2",children:l(v.total)}),r.jsxs("p",{className:"text-gray-400",children:[v.count," facturas"]}),((N=p[v.name.toLowerCase()])==null?void 0:N.providers)&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[r.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Proveedores:"}),r.jsxs("p",{className:"text-gray-300 text-sm",children:[p[v.name.toLowerCase()].providers.slice(0,3).join(", "),p[v.name.toLowerCase()].providers.length>3&&"..."]})]})]})},y)})})})]})]})})}function AIe(e,t){return j.useReducer((n,s)=>t[n][s]??n,e)}var HT="ScrollArea",[dX]=pi(HT),[OIe,gi]=dX(HT),hX=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=j.useState(null),[u,h]=j.useState(null),[f,p]=j.useState(null),[x,b]=j.useState(null),[v,y]=j.useState(null),[N,_]=j.useState(0),[S,E]=j.useState(0),[A,k]=j.useState(!1),[P,R]=j.useState(!1),$=Wt(t,M=>c(M)),D=U0(a);return r.jsx(OIe,{scope:n,type:s,dir:D,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:p,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:A,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:E,children:r.jsx(Ct.div,{dir:D,...o,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});hX.displayName=HT;var fX="ScrollAreaViewport",mX=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,o=gi(fX,n),l=j.useRef(null),c=Wt(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(Ct.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});mX.displayName=fX;var il="ScrollAreaScrollbar",YT=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=gi(il,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?r.jsx(TIe,{...s,ref:t,forceMount:n}):a.type==="scroll"?r.jsx(MIe,{...s,ref:t,forceMount:n}):a.type==="auto"?r.jsx(pX,{...s,ref:t,forceMount:n}):a.type==="always"?r.jsx(GT,{...s,ref:t}):null});YT.displayName=il;var TIe=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=gi(il,e.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),r.jsx(Cs,{present:n||i,children:r.jsx(pX,{"data-state":i?"visible":"hidden",...s,ref:t})})}),MIe=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=gi(il,e.__scopeScrollArea),i=e.orientation==="horizontal",o=iN(()=>c("SCROLL_END"),100),[l,c]=AIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),j.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const p=()=>{const x=u[h];f!==x&&(c("SCROLL"),o()),f=x};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),r.jsx(Cs,{present:n||l!=="hidden",children:r.jsx(GT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Xe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Xe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pX=j.forwardRef((e,t)=>{const n=gi(il,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=j.useState(!1),l=e.orientation==="horizontal",c=iN(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:h)}},10);return dm(n.viewport,c),dm(n.content,c),r.jsx(Cs,{present:s||i,children:r.jsx(GT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),GT=j.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,a=gi(il,e.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=bX(l.viewport,l.content),h={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,x){return zIe(p,o.current,l,x)}return n==="horizontal"?r.jsx(RIe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,x=uB(p,l,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):n==="vertical"?r.jsx(DIe,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,x=uB(p,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),RIe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=gi(il,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Wt(t,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(gX,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aN(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),jX(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ew(o.paddingLeft),paddingEnd:Ew(o.paddingRight)}})}})}),DIe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=gi(il,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),u=Wt(t,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(gX,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aN(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),jX(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ew(o.paddingTop),paddingEnd:Ew(o.paddingBottom)}})}})}),[IIe,xX]=dX(il),gX=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...p}=e,x=gi(il,n),[b,v]=j.useState(null),y=Wt(t,$=>v($)),N=j.useRef(null),_=j.useRef(""),S=x.viewport,E=s.content-s.viewport,A=us(h),k=us(c),P=iN(f,10);function R($){if(N.current){const D=$.clientX-N.current.left,M=$.clientY-N.current.top;u({x:D,y:M})}}return j.useEffect(()=>{const $=D=>{const M=D.target;(b==null?void 0:b.contains(M))&&A(D,E)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[S,b,E,A]),j.useEffect(k,[s,k]),dm(b,P),dm(x.content,P),r.jsx(IIe,{scope:n,scrollbar:b,hasThumb:a,onThumbChange:us(i),onThumbPointerUp:us(o),onThumbPositionChange:k,onThumbPointerDown:us(l),children:r.jsx(Ct.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:Xe(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),N.current=b.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),R($))}),onPointerMove:Xe(e.onPointerMove,R),onPointerUp:Xe(e.onPointerUp,$=>{const D=$.target;D.hasPointerCapture($.pointerId)&&D.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=_.current,x.viewport&&(x.viewport.style.scrollBehavior=""),N.current=null})})})}),kw="ScrollAreaThumb",yX=j.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=xX(kw,e.__scopeScrollArea);return r.jsx(Cs,{present:n||a.hasThumb,children:r.jsx(LIe,{ref:t,...s})})}),LIe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=gi(kw,n),o=xX(kw,n),{onThumbPositionChange:l}=o,c=Wt(t,f=>o.onThumbChange(f)),u=j.useRef(void 0),h=iN(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!u.current){const x=$Ie(f,l);u.current=x,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,l]),r.jsx(Ct.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Xe(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),b=f.clientX-x.left,v=f.clientY-x.top;o.onThumbPointerDown({x:b,y:v})}),onPointerUp:Xe(e.onPointerUp,o.onThumbPointerUp)})});yX.displayName=kw;var KT="ScrollAreaCorner",vX=j.forwardRef((e,t)=>{const n=gi(KT,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(FIe,{...e,ref:t}):null});vX.displayName=KT;var FIe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,a=gi(KT,n),[i,o]=j.useState(0),[l,c]=j.useState(0),u=!!(i&&l);return dm(a.scrollbarX,()=>{var f;const h=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(h),c(h)}),dm(a.scrollbarY,()=>{var f;const h=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(h),o(h)}),u?r.jsx(Ct.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ew(e){return e?parseInt(e,10):0}function bX(e,t){const n=e/t;return isNaN(n)?0:n}function aN(e){const t=bX(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function zIe(e,t,n,s="ltr"){const a=aN(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=s==="ltr"?[0,h]:[h*-1,0];return wX([c,u],f)(e)}function uB(e,t,n="ltr"){const s=aN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],u=dP(e,c);return wX([0,o],[0,l])(u)}function wX(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function jX(e,t){return e>0&&e<t}var $Ie=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function iN(e,t){const n=us(e),s=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),j.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function dm(e,t){const n=us(t);fs(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var NX=hX,BIe=mX,VIe=vX;const Cl=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(NX,{ref:s,className:dt("relative overflow-hidden",e),...n,children:[r.jsx(BIe,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(_X,{}),r.jsx(VIe,{})]}));Cl.displayName=NX.displayName;const _X=j.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(YT,{ref:s,orientation:t,className:dt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(yX,{className:"relative flex-1 rounded-full bg-border"})}));_X.displayName=YT.displayName;const dB={agentName:"ceo_brain",agentTitle:"CEO Brain - Cerebro Ejecutivo",systemPrompt:`Eres el CEO Brain de SYNK-IA, un cerebro omnipotente con control total del sistema empresarial.

TUS CAPACIDADES:
1.  ANLISIS ESTRATGICO: Analizar mtricas empresariales, tendencias y KPIs
2.  ANLISIS FINANCIERO: Revisar facturas, ventas, mrgenes y rentabilidad
3.  INSIGHTS ESTRATGICOS: Generar recomendaciones basadas en datos
4.  PREDICCIONES: Identificar tendencias y hacer proyecciones
5.  ALERTAS INTELIGENTES: Detectar anomalas y riesgos
6.  ACCESO COMPLETO: Tienes acceso a TODOS los datos del sistema

CMO RESPONDES:
- S directo y ejecutivo, sin rodeos
- Usa emojis estratgicamente para destacar puntos clave
- Proporciona nmeros y mtricas especficas
- Destaca insights accionables
- Prioriza informacin crtica primero
- Sugiere acciones concretas

DATOS DISPONIBLES:
- Facturas emitidas y recibidas
- Clientes y proveedores
- Nminas y RRHH
- Ventas y presupuestos
- Emails y comunicaciones

CONTEXTO DE USUARIO:
Tienes acceso exclusivo del CEO. Respeta la privacidad y confidencialidad de todos los datos.`,async getBusinessMetrics(){try{return{invoices:await this.getInvoiceMetrics(),sales:await this.getSalesMetrics(),clients:await this.getClientMetrics(),expenses:await this.getExpenseMetrics()}}catch(e){return console.error("Error getting business metrics:",e),null}},async getInvoiceMetrics(){try{const e=await ee.entities.Invoice.list(),t=e.reduce((a,i)=>a+(i.total||0),0),n=e.filter(a=>a.status==="pending").length,s=e.filter(a=>a.status==="paid").length;return{total:e.length,totalAmount:t,pending:n,paid:s,averageAmount:e.length>0?t/e.length:0}}catch(e){return console.error("Error getting invoice metrics:",e),{total:0,totalAmount:0,pending:0,paid:0}}},async getSalesMetrics(){try{const e=new Date;e.setDate(e.getDate()-30);const n=(await ee.entities.Invoice.list()).filter(a=>new Date(a.created_at)>=e),s=n.reduce((a,i)=>a+(i.total||0),0);return{monthlyRevenue:s,monthlyInvoiceCount:n.length,averageTicket:n.length>0?s/n.length:0}}catch(e){return console.error("Error getting sales metrics:",e),{monthlyRevenue:0,monthlyInvoiceCount:0}}},async getClientMetrics(){try{const e=await ee.entities.Client.list();return{total:e.length,active:e.filter(t=>t.status==="active").length}}catch(e){return console.error("Error getting client metrics:",e),{total:0,active:0}}},async getExpenseMetrics(){try{const e=await ee.entities.Invoice.list({type:"expense"}),t=e.reduce((n,s)=>n+(s.total||0),0);return{total:e.length,totalAmount:t}}catch(e){return console.error("Error getting expense metrics:",e),{total:0,totalAmount:0}}},async analyzeTrends(){try{const e=await this.getBusinessMetrics(),t=[];return e.invoices.pending>e.invoices.paid&&t.push({type:"warning",message:` Tienes ${e.invoices.pending} facturas pendientes vs ${e.invoices.paid} pagadas. Revisar flujo de caja.`}),e.sales.monthlyRevenue>0&&t.push({type:"info",message:` Facturacin mensual: ${e.sales.monthlyRevenue.toFixed(2)} (${e.sales.monthlyInvoiceCount} facturas)`}),t}catch(e){return console.error("Error analyzing trends:",e),[]}},async generateExecutiveSummary(){try{const e=await this.getBusinessMetrics(),t=await this.analyzeTrends();return{metrics:e,insights:t,timestamp:new Date().toISOString()}}catch(e){return console.error("Error generating executive summary:",e),null}},async enrichMessageWithContext(e){try{if(/mtrica|anlisis|resumen|kpi|dashboard|estado|situacin/i.test(e)){const n=await this.generateExecutiveSummary();return{userMessage:e,context:n,enriched:!0}}return{userMessage:e,enriched:!1}}catch(t){return console.error("Error enriching message:",t),{userMessage:e,enriched:!1}}}},UIe=["ruben@loffresco.com","ruben@lofrfresco.com"];function SX(){var U,F,K,te,H,xe,ne,pe;const e=mm(),[t,n]=j.useState([]),[s,a]=j.useState(null),[i,o]=j.useState([]),[l,c]=j.useState(""),[u,h]=j.useState(!1),[f,p]=j.useState(!1),[x,b]=j.useState(!0),[v,y]=j.useState(!0),[N,_]=j.useState(!1),[S,E]=j.useState(null),[A,k]=j.useState(null),[P,R]=j.useState(!1),$=j.useRef(null),D=j.useRef(null),M=j.useRef(null);j.useEffect(()=>{const ce=window.location.pathname.split("/").pop()||"Dashboard";E(ce)},[]),j.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const re=window.SpeechRecognition||window.webkitSpeechRecognition;M.current=new re,M.current.continuous=!1,M.current.interimResults=!0,M.current.lang="es-ES",M.current.onresult=ce=>{const he=Array.from(ce.results).map(ue=>ue[0].transcript).join("");c(he),ce.results[0].isFinal&&_(!1)},M.current.onerror=ce=>{console.error("Speech recognition error:",ce.error),_(!1),ce.error==="not-allowed"&&fe.error("Activa el micrfono en tu navegador")},M.current.onend=()=>{_(!1)}}},[]);const B=()=>{if(!M.current){fe.error("Tu navegador no soporta reconocimiento de voz");return}N?(M.current.stop(),_(!1)):(c(""),M.current.start(),_(!0),fe.info(" Escuchando...",{duration:2e3}))};j.useEffect(()=>{(async()=>{try{const ce=await ee.auth.me();UIe.includes(ce.email)||ce.role==="admin"?(p(!0),Y(),J()):p(!1)}catch(ce){console.error("Error checking auth:",ce),p(!1)}finally{b(!1)}})()},[]);const J=async()=>{R(!0);try{const re=await dB.getBusinessMetrics();k(re)}catch(re){console.error("Error loading metrics:",re)}finally{R(!1)}},Y=async()=>{try{const re=await ee.agents.listConversations({agent_name:"ceo_brain"});n(re||[]),re&&re.length>0&&W(re[0].id)}catch(re){console.error("Error loading conversations:",re)}},W=async re=>{try{const ce=await ee.agents.getConversation(re);a(ce),o(ce.messages||[]);const he=ee.agents.subscribeToConversation(re,ue=>{o(ue.messages||[])});return()=>he()}catch(ce){console.error("Error loading conversation:",ce)}},se=async()=>{try{const re=await ee.agents.createConversation({agent_name:"ceo_brain",metadata:{name:`Sesin ${new Date().toLocaleDateString("es-ES")}`,description:"Conversacin con el cerebro de SYNK-IA"}});n(ce=>[re,...ce]),a(re),o([]),ee.agents.subscribeToConversation(re.id,ce=>{o(ce.messages||[])}),fe.success("Nueva sesin iniciada")}catch(re){console.error("Error creating conversation:",re),fe.error("Error al crear sesin")}},q=async()=>{if(!l.trim()||u)return;if(!s){await se();return}const re=l;c(""),h(!0);try{const ce=await dB.enrichMessageWithContext(re);let he=re;ce.enriched&&ce.context&&(he=`${re}

[Contexto del Sistema]
${JSON.stringify(ce.context,null,2)}`),await ee.agents.addMessage(s,{role:"user",content:he})}catch(ce){console.error("Error sending message:",ce),fe.error("Error al enviar mensaje"),c(re)}finally{h(!1)}},V=async re=>{try{n(ce=>ce.filter(he=>he.id!==re)),(s==null?void 0:s.id)===re&&(a(null),o([])),fe.success("Sesin eliminada")}catch{fe.error("Error al eliminar")}};return j.useEffect(()=>{var re;(re=$.current)==null||re.scrollIntoView({behavior:"smooth"})},[i]),x?r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bt,{className:"w-16 h-16 text-cyan-400 animate-spin mx-auto mb-4",style:{filter:"drop-shadow(0 0 15px rgba(6, 182, 212, 0.8))"}}),r.jsx("p",{className:"text-gray-400",children:"Verificando acceso..."})]})}):f?r.jsxs("div",{className:"h-screen flex bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:[v&&r.jsxs("div",{className:"w-72 bg-black/80 border-r border-cyan-500/20 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-cyan-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4), inset 0 0 10px rgba(6, 182, 212, 0.1)"},children:r.jsx(Gn,{className:"w-6 h-6 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"CEO Brain"}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Modo Exclusivo"})]})]}),r.jsxs(ae,{onClick:se,className:"w-full bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 hover:border-cyan-400",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Nueva Sesin"]})]}),r.jsx(Cl,{className:"flex-1 p-2",children:t.length===0?r.jsxs("div",{className:"text-center py-8 px-4",children:[r.jsx(Wi,{className:"w-12 h-12 text-zinc-700 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-zinc-500",children:"No hay conversaciones"}),r.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"Crea una nueva sesin para empezar"})]}):r.jsx("div",{className:"space-y-1",children:t.map(re=>{var ce,he;return r.jsxs("div",{className:`group flex items-center gap-2 p-3 rounded-lg cursor-pointer transition-all ${(s==null?void 0:s.id)===re.id?"bg-cyan-500/10 border border-cyan-500/50":"hover:bg-zinc-800/50"}`,style:(s==null?void 0:s.id)===re.id?{boxShadow:"0 0 10px rgba(6, 182, 212, 0.2)"}:{},onClick:()=>W(re.id),children:[r.jsx(Wi,{className:`w-4 h-4 flex-shrink-0 ${(s==null?void 0:s.id)===re.id?"text-cyan-400":"text-zinc-500"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm font-medium truncate ${(s==null?void 0:s.id)===re.id?"text-cyan-400":"text-zinc-300"}`,children:((ce=re.metadata)==null?void 0:ce.name)||"Sesin"}),r.jsxs("p",{className:"text-xs text-zinc-500 truncate",children:[((he=re.messages)==null?void 0:he.length)||0," mensajes"]})]}),r.jsx("button",{onClick:ue=>{ue.stopPropagation(),V(re.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-600/20 rounded transition-all",children:r.jsx(qr,{className:"w-3 h-3 text-red-400"})})]},re.id)})})}),r.jsx("div",{className:"p-4 border-t border-cyan-500/20",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[r.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 8px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{children:"Sistema activo"})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-cyan-500/20 bg-black/50 backdrop-blur flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>y(!v),className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors lg:hidden",children:r.jsx(bte,{className:`w-5 h-5 text-zinc-400 transition-transform ${v?"":"rotate-180"}`})}),r.jsx("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.4)"},children:r.jsx(Gn,{className:"w-5 h-5 text-cyan-400",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.8))"}})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"font-bold text-cyan-400 flex items-center gap-2",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:["SYNK-IA Brain",r.jsx(ur,{className:"w-4 h-4 text-cyan-300",style:{filter:"drop-shadow(0 0 5px rgba(6, 182, 212, 0.8))"}})]}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Tu asistente ejecutivo con acceso total"})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("div",{className:"px-3 py-1 bg-black border border-cyan-500/50 rounded-full",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.3)"},children:r.jsx("span",{className:"text-xs font-medium text-cyan-400",children:" CEO Mode"})})})]}),r.jsx(Cl,{className:"flex-1 p-4",children:s?i.length===0?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gn,{className:"w-16 h-16 text-cyan-500/50 mx-auto mb-4",style:{filter:"drop-shadow(0 0 10px rgba(6, 182, 212, 0.5))"}}),r.jsx("p",{className:"text-zinc-400",children:"Escribe tu primera pregunta o instruccin"}),r.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-2",children:["Hazme una factura para...","Crea un presupuesto para...","Qu clientes tengo registrados?","Facturas pendientes de cobro","Resumen de facturacin del mes"].map((re,ce)=>r.jsx("button",{onClick:()=>c(re),className:"px-3 py-2 bg-black hover:bg-cyan-500/10 border border-zinc-800 hover:border-cyan-500/50 rounded-lg text-sm text-zinc-300 hover:text-cyan-400 transition-all",children:re},ce))})]})}):r.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[i.map((re,ce)=>r.jsx(wj,{message:re},ce)),r.jsx("div",{ref:$})]}):r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-4xl w-full px-4",children:[r.jsx("div",{className:"w-24 h-24 bg-black rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-cyan-500/50",style:{boxShadow:"0 0 40px rgba(6, 182, 212, 0.4), inset 0 0 20px rgba(6, 182, 212, 0.1)"},children:r.jsx(Gn,{className:"w-12 h-12 text-cyan-400",style:{filter:"drop-shadow(0 0 15px rgba(6, 182, 212, 0.8))"}})}),r.jsx("h2",{className:"text-2xl font-bold text-cyan-400 mb-3",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Bienvenido, CEO"}),r.jsx("p",{className:"text-zinc-400 mb-6",children:"Soy tu cerebro omnipotente con control total del sistema:"}),A&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"bg-black/50 border-cyan-500/30 hover:border-cyan-500/50 transition-all",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:r.jsx(Ye,{className:"w-5 h-5 text-cyan-400"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-zinc-500",children:"Facturas"}),r.jsx("p",{className:"text-xl font-bold text-cyan-400",children:((U=A.invoices)==null?void 0:U.total)||0}),r.jsxs("p",{className:"text-xs text-zinc-600",children:[((F=A.invoices)==null?void 0:F.pending)||0," pendientes"]})]})]})})}),r.jsx(X,{className:"bg-black/50 border-cyan-500/30 hover:border-cyan-500/50 transition-all",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:r.jsx(rn,{className:"w-5 h-5 text-green-400"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-zinc-500",children:"Facturacin"}),r.jsxs("p",{className:"text-xl font-bold text-green-400",children:["",((te=(K=A.sales)==null?void 0:K.monthlyRevenue)==null?void 0:te.toFixed(0))||0]}),r.jsx("p",{className:"text-xs text-zinc-600",children:"Este mes"})]})]})})}),r.jsx(X,{className:"bg-black/50 border-cyan-500/30 hover:border-cyan-500/50 transition-all",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:r.jsx(ln,{className:"w-5 h-5 text-purple-400"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-zinc-500",children:"Clientes"}),r.jsx("p",{className:"text-xl font-bold text-purple-400",children:((H=A.clients)==null?void 0:H.total)||0}),r.jsxs("p",{className:"text-xs text-zinc-600",children:[((xe=A.clients)==null?void 0:xe.active)||0," activos"]})]})]})})}),r.jsx(X,{className:"bg-black/50 border-cyan-500/30 hover:border-cyan-500/50 transition-all",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:r.jsx(En,{className:"w-5 h-5 text-orange-400"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-xs text-zinc-500",children:"Ticket Medio"}),r.jsxs("p",{className:"text-xl font-bold text-orange-400",children:["",((pe=(ne=A.sales)==null?void 0:ne.averageTicket)==null?void 0:pe.toFixed(0))||0]}),r.jsx("p",{className:"text-xs text-zinc-600",children:"Promedio"})]})]})})})]}),P&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6 text-zinc-500",children:[r.jsx(bt,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm",children:"Cargando mtricas..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left mb-6",children:[r.jsxs("div",{className:"p-3 bg-black/50 rounded-lg border border-cyan-500/30 hover:border-cyan-500/50 transition-all cursor-pointer",onClick:()=>e(ft("BiloopImport")),children:[r.jsx(Hr,{className:"w-5 h-5 text-cyan-400 mb-2",style:{filter:"drop-shadow(0 0 5px rgba(6, 182, 212, 0.8))"}}),r.jsx("p",{className:"text-sm text-white font-medium",children:"Control Total de Datos"}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Facturas, ventas, RRHH, emails..."})]}),r.jsxs("div",{className:"p-3 bg-black/50 rounded-lg border border-cyan-500/30 hover:border-cyan-500/50 transition-all cursor-pointer",onClick:()=>e(ft("AutomationHub")),children:[r.jsx(Dx,{className:"w-5 h-5 text-cyan-400 mb-2",style:{filter:"drop-shadow(0 0 5px rgba(6, 182, 212, 0.8))"}}),r.jsx("p",{className:"text-sm text-white font-medium",children:"Acciones Directas"}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Crear, modificar, eliminar, masivo"})]}),r.jsxs("div",{className:"p-3 bg-black/50 rounded-lg border border-cyan-500/30 hover:border-cyan-500/50 transition-all cursor-pointer",onClick:()=>e(ft("ApiDiagnostics")),children:[r.jsx(vr,{className:"w-5 h-5 text-cyan-400 mb-2",style:{filter:"drop-shadow(0 0 5px rgba(6, 182, 212, 0.8))"}}),r.jsx("p",{className:"text-sm text-white font-medium",children:"Diagnstico Sistema"}),r.jsx("p",{className:"text-xs text-zinc-500",children:"APIs, errores, estado general"})]}),r.jsxs("div",{className:"p-3 bg-black/50 rounded-lg border border-cyan-500/30 hover:border-cyan-500/50 transition-all cursor-pointer",onClick:()=>e(ft("SystemOverview")),children:[r.jsx(Gn,{className:"w-5 h-5 text-cyan-400 mb-2",style:{filter:"drop-shadow(0 0 5px rgba(6, 182, 212, 0.8))"}}),r.jsx("p",{className:"text-sm text-white font-medium",children:"Bsqueda Web"}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Info externa cuando la necesites"})]})]}),r.jsxs(ae,{onClick:se,size:"lg",className:"bg-black border border-cyan-500/50 text-cyan-400 font-bold hover:bg-cyan-500/10 hover:border-cyan-400",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:[r.jsx(Wi,{className:"w-5 h-5 mr-2"}),"Iniciar Conversacin"]})]})})}),s&&r.jsx("div",{className:"p-4 border-t border-cyan-500/20 bg-black/50 backdrop-blur",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[S&&r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-zinc-500",children:[r.jsx("span",{children:" Contexto:"}),r.jsx("span",{className:"px-2 py-1 bg-black border border-cyan-500/30 rounded text-cyan-400",children:S})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ae,{onClick:B,variant:"outline",className:`border-zinc-700 ${N?"bg-red-600 border-red-500 text-white animate-pulse":"text-zinc-400 hover:text-cyan-400 hover:border-cyan-500/50 hover:bg-black"}`,children:N?r.jsx(fO,{className:"w-5 h-5"}):r.jsx(Af,{className:"w-5 h-5"})}),r.jsx(He,{ref:D,value:l,onChange:re=>c(re.target.value),onKeyDown:re=>re.key==="Enter"&&!re.shiftKey&&q(),placeholder:N?"Escuchando...":"Escribe o habla tu instruccin...",disabled:u,className:`flex-1 bg-black border-zinc-700 text-white placeholder:text-zinc-500 focus:border-cyan-500 focus:ring-cyan-500/20 ${N?"border-red-500":""}`}),r.jsx(ae,{onClick:q,disabled:u||!l.trim(),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 px-6",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:u?r.jsx(bt,{className:"w-5 h-5 animate-spin"}):r.jsx(Wo,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("p",{className:"text-xs text-zinc-500",children:" Voz activada   Facturas y presupuestos   Memoria de clientes"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>c("Hazme una factura para "),className:"text-xs px-2 py-1 bg-black hover:bg-cyan-500/10 border border-zinc-800 hover:border-cyan-500/50 rounded text-cyan-400 transition-all",children:[r.jsx(Ye,{className:"w-3 h-3 inline mr-1"}),"Factura"]}),r.jsxs("button",{onClick:()=>c("Hazme un presupuesto para "),className:"text-xs px-2 py-1 bg-black hover:bg-cyan-500/10 border border-zinc-800 hover:border-cyan-500/50 rounded text-cyan-400 transition-all",children:[r.jsx(Ye,{className:"w-3 h-3 inline mr-1"}),"Presupuesto"]})]})]})]})})]})]}):r.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"text-center max-w-md",children:[r.jsx("div",{className:"w-24 h-24 bg-black rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-red-500/50",style:{boxShadow:"0 0 30px rgba(239, 68, 68, 0.4)"},children:r.jsx(vr,{className:"w-12 h-12 text-red-500",style:{filter:"drop-shadow(0 0 10px rgba(239, 68, 68, 0.8))"}})}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Acceso Restringido"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Esta seccin est reservada exclusivamente para el CEO del sistema."}),r.jsx(ae,{onClick:()=>window.history.back(),variant:"outline",className:"border-zinc-700 text-gray-300 hover:border-cyan-500/50 hover:text-cyan-400",children:"Volver"})]})})}const WIe={agentName:"central_coordinator",agentTitle:"IA Central - Coordinador del Sistema",systemPrompt:`Eres la IA Central de SYNK-IA, el cerebro coordinador que gestiona TODOS los procesos automticos del negocio.

TUS CAPACIDADES:
1.  PROCESAMIENTO DE EMAILS: Analizar y procesar emails automticamente
2.  GESTIN DE PROVEEDORES: Detectar, registrar y gestionar proveedores
3.  ANLISIS DE PRECIOS: Comparar precios y detectar oportunidades de ahorro
4.  REPORTES EJECUTIVOS: Generar anlisis y resmenes del negocio
5.  AUTOMATIZACIONES: Coordinar procesos automticos
6.  BSQUEDA INTELIGENTE: Encontrar informacin en todo el sistema
7.  RECOMENDACIONES: Sugerir acciones basadas en datos
8.  GESTIN DE SEGURIDAD: Respetar permisos y roles de usuario

CMO RESPONDES:
- S proactivo y sugiere acciones automticas
- Explica qu puedes hacer automticamente
- Proporciona contexto de todas las reas del negocio
- Usa emojis para organizar la informacin
- Destaca oportunidades de optimizacin
- Coordina con otros agentes especializados cuando sea necesario

MDULOS DISPONIBLES:
-  Facturas y presupuestos
-  Clientes y proveedores
-  Procesamiento de emails
-  Anlisis financiero
-  Dashboards y mtricas
-  Automatizaciones
-  Recursos Humanos
-  Gestin documental

TU MISIN:
Facilitar el trabajo del usuario automatizando tareas, proporcionando informacin til y coordinando procesos.`,async searchAll(e){try{const t={invoices:[],clients:[],providers:[],emails:[]};try{const n=await ee.entities.Invoice.list();t.invoices=n.filter(s=>JSON.stringify(s).toLowerCase().includes(e.toLowerCase())).slice(0,5)}catch(n){console.error("Error searching invoices:",n)}try{const n=await ee.entities.Client.list();t.clients=n.filter(s=>JSON.stringify(s).toLowerCase().includes(e.toLowerCase())).slice(0,5)}catch(n){console.error("Error searching clients:",n)}return t}catch(t){return console.error("Error in searchAll:",t),null}},async analyzeSavingsOpportunities(){try{const e=[],t=await ee.entities.Invoice.list(),n={};return t.forEach(s=>{const a=s.provider_name||"unknown";n[a]||(n[a]=[]),n[a].push(s)}),Object.entries(n).forEach(([s,a])=>{if(a.length>1){const i=a.map(u=>u.total||0),o=i.reduce((u,h)=>u+h,0)/i.length,l=Math.max(...i),c=Math.min(...i);(l-c)/o>.2&&e.push({type:"price_variation",provider:s,message:`Variacin de precios del ${((l-c)/o*100).toFixed(0)}% en ${s}`,potential_saving:l-c,severity:"medium"})}}),e}catch(e){return console.error("Error analyzing savings:",e),[]}},async generateSystemOverview(){try{const e={invoices:{total:0,pending:0,totalAmount:0},clients:{total:0,active:0},providers:{total:0},opportunities:[]};try{const t=await ee.entities.Invoice.list();e.invoices.total=t.length,e.invoices.pending=t.filter(n=>n.status==="pending").length,e.invoices.totalAmount=t.reduce((n,s)=>n+(s.total||0),0)}catch(t){console.error("Error getting invoices:",t)}try{const t=await ee.entities.Client.list();e.clients.total=t.length,e.clients.active=t.filter(n=>n.status==="active").length}catch(t){console.error("Error getting clients:",t)}return e.opportunities=await this.analyzeSavingsOpportunities(),e}catch(e){return console.error("Error generating overview:",e),null}},async processAutomationCommand(e){try{const t=e.toLowerCase();if(t.includes("analizar")||t.includes("anlisis"))return await this.generateSystemOverview();if(t.includes("ahorro")||t.includes("optimiza"))return await this.analyzeSavingsOpportunities();if(t.includes("buscar")||t.includes("encuentra")){const n=t.replace(/buscar|encuentra|encontrar/gi,"").trim();return await this.searchAll(n)}return null}catch(t){return console.error("Error processing automation command:",t),null}},async enrichMessageWithContext(e){try{let t={};if(/resumen|estado|situacin|overview|dashboard/i.test(e)&&(t.overview=await this.generateSystemOverview()),/ahorro|optimizar|reducir costes|comparar precio/i.test(e)&&(t.opportunities=await this.analyzeSavingsOpportunities()),/buscar|encontrar|busca|encuentra/i.test(e)){const n=e.replace(/buscar|encontrar|busca|encuentra/gi,"").trim();n&&(t.searchResults=await this.searchAll(n))}return{userMessage:e,context:t,enriched:Object.keys(t).length>0}}catch(t){return console.error("Error enriching message:",t),{userMessage:e,enriched:!1}}}};function CX(){var N;const[e,t]=j.useState(null),[n,s]=j.useState([]),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(!1),h=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{p()},[]),j.useEffect(()=>{var _;(_=h.current)==null||_.scrollIntoView({behavior:"smooth"})},[n]);const p=async()=>{try{const _=await ee.agents.createConversation({agent_name:"central_coordinator",metadata:{name:"Chat con IA Central",description:"Coordinador Central"}});t(_),s(_.messages||[]),ee.agents.subscribeToConversation(_.id,S=>{s(S.messages||[])})}catch(_){console.error("Error creating conversation:",_),fe.error("Error al iniciar el chat")}},x=async()=>{if(!a.trim()||!e||o)return;const _=a;i(""),l(!0);try{const S=await WIe.enrichMessageWithContext(_);let E=_;S.enriched&&S.context&&(E=`${_}

[Contexto del Sistema]
${JSON.stringify(S.context,null,2)}`),await ee.agents.addMessage(e,{role:"user",content:E})}catch(S){console.error("Error sending message:",S),fe.error("Error al enviar mensaje")}finally{l(!1)}},b=async _=>{var E;const S=(E=_.target.files)==null?void 0:E[0];if(!(!S||!e)){u(!0);try{const{file_url:A}=await ee.integrations.Core.UploadFile({file:S});await ee.agents.addMessage(e,{role:"user",content:`He subido un archivo (${S.name}). Por favor, procsalo y toma las acciones necesarias.`,file_urls:[A]}),fe.success("Archivo subido - La IA lo est procesando")}catch(A){console.error("Error uploading file:",A),fe.error("Error al subir archivo")}finally{u(!1)}}},v=[{label:" Analizar todo el sistema",message:"Analiza el estado completo del negocio: facturas, proveedores, ahorros potenciales y dame un resumen ejecutivo"},{label:" Buscar ahorros ahora",message:"Busca oportunidades de ahorro en todas las reas: facturas, proveedores, comparaciones de precios"},{label:" Automatizar procesos",message:"Qu procesos puedes automatizar para ahorrarme tiempo?"}],y=ee.agents.getWhatsAppConnectURL("central_coordinator");return r.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-purple-50 to-indigo-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white border-b border-purple-700 p-4 shadow-lg",children:r.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-lg border-2 border-white/30",children:r.jsx(Gn,{className:"w-8 h-8 text-white"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 rounded-full border-2 border-purple-600 animate-pulse"})]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:["IA CENTRAL",r.jsx(Hr,{className:"w-6 h-6 text-yellow-300"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full animate-pulse"}),r.jsx("p",{className:"text-sm text-purple-100",children:"Cerebro del sistema - Activo"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(be,{className:"bg-white/20 text-white border-white/30 flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3"}),"Coordinador Central"]}),r.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Wi,{className:"w-4 h-4"}),"WhatsApp",r.jsx(Ui,{className:"w-3 h-3"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"max-w-5xl mx-auto p-4 space-y-4",children:[n.length===0&&r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-r from-purple-500 to-indigo-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Gn,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:" Bienvenido al Cerebro de SYNK-IA"}),r.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Soy tu IA Central. Coordino TODOS los procesos automticos de tu negocio:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:" Proceso emails automticamente y creo facturas"}),r.jsx("li",{children:" Detecto y registro proveedores nuevos"}),r.jsx("li",{children:" Comparo precios y te alerto de anomalas"}),r.jsx("li",{children:" Genero anlisis y reportes ejecutivos"}),r.jsx("li",{children:" Coordino a todos los agentes especializados"}),r.jsx("li",{children:" Todo con mxima seguridad y respetando permisos"})]})]})]})})}),n.length===0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map((_,S)=>r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all cursor-pointer bg-white",onClick:()=>{i(_.message),x()},children:r.jsx(Q,{className:"p-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-700",children:_.label})})},S))}),n.map((_,S)=>r.jsx(wj,{message:_},S)),o&&((N=n[n.length-1])==null?void 0:N.role)==="user"&&r.jsxs("div",{className:"flex gap-3 justify-start",children:[r.jsx("div",{className:"h-7 w-7 rounded-lg bg-purple-100 flex items-center justify-center",children:r.jsx(Gn,{className:"h-4 w-4 text-purple-600"})}),r.jsx("div",{className:"bg-white border border-purple-200 rounded-2xl px-4 py-2.5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 animate-spin text-purple-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Coordinando sistemas..."})]})})]}),r.jsx("div",{ref:h})]})}),r.jsx("div",{className:"bg-white border-t border-gray-200 p-4 shadow-lg",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("input",{ref:f,type:"file",onChange:b,className:"hidden"}),r.jsx(ae,{variant:"outline",size:"icon",onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},disabled:c||!e,className:"flex-shrink-0",children:c?r.jsx(bt,{className:"w-5 h-5 animate-spin"}):r.jsx(_r,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx(He,{value:a,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&x(),placeholder:"Pregntame cualquier cosa sobre tu negocio...",disabled:o||!e,className:"pr-12 py-6 text-base"})}),r.jsx(ae,{onClick:x,disabled:!a.trim()||o||!e,className:"bg-purple-600 hover:bg-purple-700 flex-shrink-0",size:"icon",children:r.jsx(Wo,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Pregntame sobre anlisis, automatizaciones, ahorros o lo que necesites"})]})})]})}function kX(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[c,u]=j.useState({title:"",document_type:"otros",category:"legal",document_number:"",issue_date:"",expiry_date:"",issuing_authority:"",status:"vigente",confidentiality:"interno",notes:""}),h=j.useRef(null),f=Kt(),{data:p=[]}=Be({queryKey:["company-documents",a,o],queryFn:async()=>{let P=await ee.entities.CompanyDocument.list("-created_date");return a!=="all"&&(P=P.filter(R=>R.category===a)),o!=="all"&&(P=P.filter(R=>R.document_type===o)),P}}),x=Bt({mutationFn:P=>ee.entities.CompanyDocument.create(P),onSuccess:()=>{f.invalidateQueries({queryKey:["company-documents"]}),fe.success("Documento registrado correctamente"),t(!1),b()}}),b=()=>{u({title:"",document_type:"otros",category:"legal",document_number:"",issue_date:"",expiry_date:"",issuing_authority:"",status:"vigente",confidentiality:"interno",notes:""})},v=async P=>{var $;const R=($=P.target.files)==null?void 0:$[0];if(R){s(!0);try{const{file_url:D}=await ee.integrations.Core.UploadFile({file:R});u({...c,file_url:D,file_type:R.type.includes("pdf")?"PDF":R.type.includes("zip")?"ZIP":R.type.includes("doc")?"DOCX":"Otro"}),fe.success("Archivo subido")}catch{fe.error("Error al subir archivo")}finally{s(!1)}}},y=P=>{P.preventDefault(),x.mutate(c)},N={legal:"bg-blue-100 text-blue-800",mercantil:"bg-green-100 text-green-800",administrativo:"bg-purple-100 text-purple-800",operativo:"bg-orange-100 text-orange-800",propiedad_intelectual:"bg-pink-100 text-pink-800"},_={publico:r.jsx(Xn,{className:"w-4 h-4"}),interno:r.jsx(Yn,{className:"w-4 h-4"}),confidencial:r.jsx(iu,{className:"w-4 h-4"}),secreto:r.jsx(iu,{className:"w-4 h-4"})},S=p.length,E=p.filter(P=>P.status==="vigente").length,A=p.filter(P=>P.status==="caducado").length,k=p.filter(P=>P.confidentiality==="confidencial"||P.confidentiality==="secreto").length;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Yn,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Documentacin Corporativa"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Biblioteca digital de documentos legales y corporativos de la empresa"})]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nuevo Documento"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total Documentos"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:S})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Vigentes"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:E})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(bn,{className:"w-5 h-5 text-orange-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Caducados"})]}),r.jsx("p",{className:"text-3xl font-bold text-orange-400",children:A})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(iu,{className:"w-5 h-5 text-red-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Confidenciales"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:k})]})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsx(Xl,{className:"w-5 h-5 text-gray-500"}),r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Categora:"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","legal","mercantil","administrativo","operativo","propiedad_intelectual"].map(P=>r.jsx(ae,{variant:a===P?"default":"outline",size:"sm",onClick:()=>i(P),className:a===P?"bg-slate-600":"",children:P==="all"?"Todas":P.replace("_"," ")},P))})]}),r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsx(Xl,{className:"w-5 h-5 text-gray-500"}),r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","constitucion","estatutos","poderes","actas_junta","licencias","seguros","contratos_servicios"].map(P=>r.jsx(ae,{variant:o===P?"default":"outline",size:"sm",onClick:()=>l(P),className:o===P?"bg-slate-600":"",children:P==="all"?"Todos":P.replace("_"," ")},P))})]})]}),p.length===0?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Yn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Sin documentos corporativos"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza a digitalizar los documentos legales de tu empresa"}),r.jsx(ae,{onClick:()=>t(!0),className:"bg-slate-600 hover:bg-slate-700",children:"Subir primer documento"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(P=>{var R;return r.jsxs(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:[r.jsxs(ke,{children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${(R=N[P.category])==null?void 0:R.replace("text-","bg-").replace("-800","-200")}`,children:r.jsx(Ye,{className:"w-6 h-6"})}),r.jsx(Pe,{className:"text-base line-clamp-2",children:P.title})]})}),r.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[r.jsx(be,{className:N[P.category],children:P.category}),r.jsx(be,{className:P.status==="vigente"?"bg-green-100 text-green-800":P.status==="caducado"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:P.status}),(P.confidentiality==="confidencial"||P.confidentiality==="secreto")&&r.jsxs(be,{className:"bg-red-100 text-red-800 flex items-center gap-1",children:[_[P.confidentiality],P.confidentiality]})]})]}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-gray-600 capitalize mb-3",children:P.document_type.replace("_"," ")}),P.issue_date&&r.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Emisin: ",Ge(new Date(P.issue_date),"dd/MM/yyyy")]}),P.expiry_date&&r.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Vence: ",Ge(new Date(P.expiry_date),"dd/MM/yyyy")]}),P.file_url&&r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(P.file_url,"_blank"),children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Ver documento"]})]})]},P.id)})}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsx(An,{children:r.jsx(On,{children:"Nuevo Documento Corporativo"})}),r.jsxs("form",{onSubmit:y,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"title",children:"Ttulo *"}),r.jsx(He,{id:"title",value:c.title,onChange:P=>u({...c,title:P.target.value}),required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"document_type",children:"Tipo de Documento *"}),r.jsxs(dr,{value:c.document_type,onValueChange:P=>u({...c,document_type:P}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"constitucion",children:"Constitucin"}),r.jsx(De,{value:"estatutos",children:"Estatutos"}),r.jsx(De,{value:"poderes",children:"Poderes"}),r.jsx(De,{value:"actas_junta",children:"Actas de Junta"}),r.jsx(De,{value:"registro_mercantil",children:"Registro Mercantil"}),r.jsx(De,{value:"licencias",children:"Licencias"}),r.jsx(De,{value:"certificados",children:"Certificados"}),r.jsx(De,{value:"seguros",children:"Seguros"}),r.jsx(De,{value:"contratos_servicios",children:"Contratos de Servicios"}),r.jsx(De,{value:"politicas_internas",children:"Polticas Internas"}),r.jsx(De,{value:"marca_patente",children:"Marca/Patente"}),r.jsx(De,{value:"otros",children:"Otros"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"category",children:"Categora *"}),r.jsxs(dr,{value:c.category,onValueChange:P=>u({...c,category:P}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"legal",children:"Legal"}),r.jsx(De,{value:"mercantil",children:"Mercantil"}),r.jsx(De,{value:"administrativo",children:"Administrativo"}),r.jsx(De,{value:"operativo",children:"Operativo"}),r.jsx(De,{value:"propiedad_intelectual",children:"Propiedad Intelectual"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"document_number",children:"Nmero de Documento"}),r.jsx(He,{id:"document_number",value:c.document_number,onChange:P=>u({...c,document_number:P.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"issuing_authority",children:"Autoridad Emisora"}),r.jsx(He,{id:"issuing_authority",value:c.issuing_authority,onChange:P=>u({...c,issuing_authority:P.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"issue_date",children:"Fecha de Emisin"}),r.jsx(He,{id:"issue_date",type:"date",value:c.issue_date,onChange:P=>u({...c,issue_date:P.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"expiry_date",children:"Fecha de Caducidad"}),r.jsx(He,{id:"expiry_date",type:"date",value:c.expiry_date,onChange:P=>u({...c,expiry_date:P.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"status",children:"Estado"}),r.jsxs(dr,{value:c.status,onValueChange:P=>u({...c,status:P}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"vigente",children:"Vigente"}),r.jsx(De,{value:"caducado",children:"Caducado"}),r.jsx(De,{value:"renovado",children:"Renovado"}),r.jsx(De,{value:"archivado",children:"Archivado"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"confidentiality",children:"Confidencialidad"}),r.jsxs(dr,{value:c.confidentiality,onValueChange:P=>u({...c,confidentiality:P}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"publico",children:"Pblico"}),r.jsx(De,{value:"interno",children:"Interno"}),r.jsx(De,{value:"confidencial",children:"Confidencial"}),r.jsx(De,{value:"secreto",children:"Secreto"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"notes",children:"Notas"}),r.jsx(di,{id:"notes",value:c.notes,onChange:P=>u({...c,notes:P.target.value}),rows:3})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"file",children:"Archivo Digital *"}),r.jsx("input",{ref:h,type:"file",accept:".pdf,.doc,.docx,.zip",onChange:v,className:"hidden"}),r.jsxs(ae,{type:"button",variant:"outline",onClick:()=>{var P;return(P=h.current)==null?void 0:P.click()},disabled:n,className:"w-full",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),n?"Subiendo...":c.file_url?"Cambiar archivo":"Subir documento"]}),c.file_url&&r.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Archivo subido correctamente"})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-slate-600 hover:bg-slate-700",children:"Guardar Documento"})]})]})]})})]})})}function EX(){const[e,t]=j.useState(!1),[n,s]=j.useState({product_name:"",category:""}),a=Kt(),{data:i=[],isLoading:o}=Be({queryKey:["price-comparisons"],queryFn:()=>ee.entities.PriceComparison.list("-savings_potential"),initialData:[]}),{data:l=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list(),initialData:[]}),c=Bt({mutationFn:async p=>{const x=`
Analiza las facturas disponibles y encuentra informacin de precios para el producto: "${p}".

Facturas: ${JSON.stringify(l.slice(0,20))}

Devuelve un anlisis de precios con:
- Lista de proveedores que tienen este producto
- Precio de cada proveedor
- Mejor precio
- Ahorro potencial
`,b=await ee.integrations.Core.InvokeLLM({prompt:x,response_json_schema:{type:"object",properties:{providers_data:{type:"array",items:{type:"object",properties:{provider_name:{type:"string"},price:{type:"number"}}}},best_price:{type:"number"},best_provider:{type:"string"},savings_potential:{type:"number"}}}});return ee.entities.PriceComparison.create({product_name:p,category:n.category,providers_data:b.providers_data||[],best_price:b.best_price||0,best_provider:b.best_provider||"",savings_potential:b.savings_potential||0})},onSuccess:()=>{a.invalidateQueries({queryKey:["price-comparisons"]}),fe.success("Comparacin creada con IA"),t(!1),s({product_name:"",category:""})}}),u=p=>{p.preventDefault(),c.mutate(n.product_name)},h=i.reduce((p,x)=>p+(x.savings_potential||0),0),f=i.length>0?h/i.length:0;return r.jsx("div",{className:"p-4 md:p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(ur,{className:"w-8 h-8 text-yellow-500"}),"Comparador IA de Precios"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Encuentra el mejor precio y ahorra dinero automticamente"})]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800",children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Analizar Producto"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-green-500 to-green-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(la,{className:"w-6 h-6"}),r.jsx("p",{className:"text-sm opacity-90",children:"Ahorro Total Detectado"})]}),r.jsxs("p",{className:"text-4xl font-bold",children:[h.toFixed(2),""]})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(mE,{className:"w-5 h-5 text-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Productos Analizados"})]}),r.jsx("p",{className:"text-3xl font-bold",children:i.length})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(rn,{className:"w-5 h-5 text-orange-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Ahorro Medio"})]}),r.jsxs("p",{className:"text-3xl font-bold",children:[f.toFixed(2),""]})]})})]}),r.jsx(X,{className:"border-none shadow-lg mb-8 bg-gradient-to-r from-purple-500 to-indigo-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(ur,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Cmo funciona la IA?"}),r.jsx("p",{className:"text-sm opacity-90",children:"SYNK-IA analiza automticamente todas tus facturas, identifica productos similares, compara precios entre proveedores y te muestra dnde puedes ahorrar. Todo en segundos."})]})]})})}),o?r.jsx(X,{className:"border-none shadow-lg",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-gray-600",children:"Cargando comparaciones..."})})}):i.length===0?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(ur,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Empieza a ahorrar"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Aade un producto para que la IA compare precios entre tus proveedores"}),r.jsx(ae,{onClick:()=>t(!0),className:"bg-blue-600 hover:bg-blue-700",children:"Analizar primer producto"})]})}):r.jsx("div",{className:"space-y-4",children:i.map(p=>{var x,b;return r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("h3",{className:"text-xl font-bold",children:p.product_name}),p.category&&r.jsx(be,{className:"bg-blue-100 text-blue-800",children:p.category})]}),p.providers_data&&p.providers_data.length>0&&r.jsx("div",{className:"space-y-2",children:p.providers_data.map((v,y)=>{var N;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${v.provider_name===p.best_provider?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{className:"text-sm text-gray-700 font-medium",children:v.provider_name}),r.jsxs("span",{className:"text-sm text-gray-600",children:[(N=v.price)==null?void 0:N.toFixed(2),""]}),v.provider_name===p.best_provider&&r.jsxs(be,{className:"bg-green-100 text-green-800 text-xs",children:[r.jsx(mE,{className:"w-3 h-3 mr-1"}),"Mejor precio"]})]},y)})})]}),r.jsxs("div",{className:"flex flex-col items-end gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Mejor precio encontrado"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[(x=p.best_price)==null?void 0:x.toFixed(2),""]})]}),p.savings_potential>0&&r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(la,{className:"w-5 h-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Ahorro potencial"}),r.jsxs("p",{className:"text-xl font-bold text-orange-700",children:[(b=p.savings_potential)==null?void 0:b.toFixed(2),""]})]})]})})]})]})})},p.id)})}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-yellow-500"}),"Analizar Producto con IA"]})}),r.jsxs("form",{onSubmit:u,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"product_name",children:"Nombre del Producto *"}),r.jsx(He,{id:"product_name",placeholder:"Ej: Caf en grano, Aceite de oliva...",value:n.product_name,onChange:p=>s({...n,product_name:p.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"category",children:"Categora (opcional)"}),r.jsx(He,{id:"category",placeholder:"Ej: Alimentacin, Bebidas...",value:n.category,onChange:p=>s({...n,category:p.target.value})})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-blue-700",children:" La IA analizar todas tus facturas para encontrar este producto y comparar precios automticamente"})})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:c.isPending,children:c.isPending?"Analizando...":"Analizar con IA"})]})]})]})})]})})}function PX(){const[e,t]=j.useState({gmail:!1,revo:!1,biloop:!1}),[n,s]=j.useState({gmail:null,revo:null,biloop:null}),a=async u=>{t({...e,[u]:!0});try{const h=`test${u.charAt(0).toUpperCase()+u.slice(1)}Connection`,f=await ee.functions.invoke(h);s({...n,[u]:f.data})}catch(h){s({...n,[u]:{error:h.message,success:!1}})}finally{t({...e,[u]:!1})}},i=async()=>{await a("gmail"),await a("revo"),await a("biloop")},o=u=>{switch(u){case"CRTICO":return r.jsx(ai,{className:"w-4 h-4 text-red-600"});case"ADVERTENCIA":return r.jsx(wn,{className:"w-4 h-4 text-yellow-600"});case"INFO":return r.jsx(Ad,{className:"w-4 h-4 text-blue-600"});case"XITO":return r.jsx(Ke,{className:"w-4 h-4 text-green-600"});default:return r.jsx(Ad,{className:"w-4 h-4 text-gray-600"})}},l=u=>{switch(u){case"CRTICO":return"bg-red-50 border-red-200";case"ADVERTENCIA":return"bg-yellow-50 border-yellow-200";case"INFO":return"bg-blue-50 border-blue-200";case"XITO":return"bg-green-50 border-green-200";default:return"bg-gray-50 border-gray-200"}},c=({service:u,name:h,icon:f,description:p})=>{var v,y,N,_;const x=n[u],b=e[u];return r.jsxs(X,{className:"border-none shadow-xl",children:[r.jsx(ke,{children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 ${f.bg} rounded-xl flex items-center justify-center`,children:f.component}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg",children:h}),r.jsx("p",{className:"text-xs text-gray-600",children:p})]})]})})}),r.jsxs(Q,{className:"space-y-4",children:[!x&&!b&&r.jsx("p",{className:"text-sm text-gray-600",children:"Ejecuta el test para diagnosticar la conexin"}),b&&r.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[r.jsx(bt,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm",children:"Ejecutando diagnstico..."})]}),x&&r.jsxs("div",{className:"space-y-4",children:[((v=x.results)==null?void 0:v.summary)&&r.jsxs("div",{className:"flex items-center gap-2",children:[x.success?r.jsx(Ke,{className:"w-5 h-5 text-green-600"}):r.jsx(ai,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:x.results.summary})]}),((y=x.results)==null?void 0:y.tests)&&x.results.tests.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Resultados de Tests:"}),x.results.tests.map((S,E)=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:r.jsxs("div",{className:"flex items-start gap-2",children:[S.status==="success"&&r.jsx(Ke,{className:"w-4 h-4 text-green-600 mt-0.5"}),S.status==="error"&&r.jsx(ai,{className:"w-4 h-4 text-red-600 mt-0.5"}),S.status==="warning"&&r.jsx(wn,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),S.status==="info"&&r.jsx(Ad,{className:"w-4 h-4 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[S.name&&r.jsx("p",{className:"font-medium",children:S.name}),S.endpoint&&r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Endpoint: ",S.endpoint]}),S.verdict&&r.jsx("p",{className:"mt-1",children:S.verdict}),S.message&&r.jsx("p",{className:"mt-1 text-gray-700",children:S.message}),S.error&&r.jsx("p",{className:"mt-1 text-red-600",children:S.error})]})]})},E))]}),((N=x.results)==null?void 0:N.recommendations)&&x.results.recommendations.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm font-bold text-gray-900",children:" Recomendaciones:"}),x.results.recommendations.map((S,E)=>r.jsx("div",{className:`border rounded-lg p-4 ${l(S.priority)}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[o(S.priority),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"font-bold text-sm mb-2",children:[S.priority,": ",S.issue]}),r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:S.solution})]})]})},E))]}),((_=x.results)==null?void 0:_.secrets_found)&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Secrets Configurados:"}),r.jsx("div",{className:"space-y-1",children:Object.entries(x.results.secrets_found).map(([S,E])=>r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[E?r.jsx(Ke,{className:"w-3 h-3 text-green-600"}):r.jsx(ai,{className:"w-3 h-3 text-red-600"}),r.jsx("span",{className:"font-mono",children:S})]},S))})]}),x.error&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ai,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-red-900",children:"Error:"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:x.error})]})]})})]}),r.jsx(ae,{onClick:()=>a(u),disabled:b,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:b?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Diagnosticando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ou,{className:"w-4 h-4 mr-2"}),"Ejecutar Test"]})})]})]})};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:" Diagnstico de Conexiones"}),r.jsx("p",{className:"text-gray-600",children:"Tests detallados para diagnosticar problemas de conexin con APIs externas"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs(ae,{onClick:i,disabled:Object.values(e).some(u=>u),size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[r.jsx(ou,{className:"w-5 h-5 mr-2"}),"Ejecutar Todos los Tests"]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(c,{service:"gmail",name:"Gmail IMAP",description:"Procesador de emails",icon:{component:r.jsx("span",{className:"text-2xl",children:""}),bg:"bg-gradient-to-br from-red-500 to-pink-500"}}),r.jsx(c,{service:"revo",name:"Revo XEF",description:"Sistema de ventas",icon:{component:r.jsx("span",{className:"text-2xl",children:""}),bg:"bg-gradient-to-br from-cyan-500 to-blue-600"}}),r.jsx(c,{service:"biloop",name:"Biloop Assempsa",description:"Gestin de facturas",icon:{component:r.jsx("span",{className:"text-2xl",children:""}),bg:"bg-gradient-to-br from-green-500 to-emerald-600"}})]})]})})}function AX(){const[e,t]=j.useState(null);j.useEffect(()=>{(async()=>{try{const u=await ee.auth.me();t(u)}catch(u){console.error("Error loading user:",u)}})()},[]);const{data:n=[],isLoading:s}=Be({queryKey:["contracts"],queryFn:async()=>{const c=await ee.entities.Contract.list("-created_date");return e&&e.permission_level!=="super_admin"&&e.permission_level!=="admin"?c.filter(u=>u.employee_id===e.id||u.employee_name===e.full_name):c},initialData:[],enabled:!!e}),a={indefinido:"bg-green-100 text-green-800",temporal:"bg-blue-100 text-blue-800",practicas:"bg-purple-100 text-purple-800",formacion:"bg-orange-100 text-orange-800"},i={activo:"bg-green-100 text-green-800",finalizado:"bg-gray-100 text-gray-800",suspendido:"bg-red-100 text-red-800"},o=n.filter(c=>c.status==="activo").length,l=n.find(c=>c.employee_id===(e==null?void 0:e.id)||c.employee_name===(e==null?void 0:e.full_name));return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Ye,{className:"w-8 h-8 text-blue-400"}),"Contratos Laborales"]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:(e==null?void 0:e.permission_level)==="employee"?"Consulta tu informacin contractual":"Gestin de contratos del equipo"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Contratos Activos"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:o})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(vr,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total Contratos"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:n.length})]})}),l&&r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Sn,{className:"w-5 h-5"}),r.jsx("p",{className:"text-sm opacity-90",children:"Tu Antigedad"})]}),r.jsx("p",{className:"text-3xl font-bold",children:l.start_date?`${Math.floor((new Date-new Date(l.start_date))/(365*24*60*60*1e3))} aos`:"N/A"})]})})]}),s?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-zinc-400",children:"Cargando contratos..."})})}):n.length===0?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Ye,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400 mb-4",children:"No hay contratos registrados"})]})}):r.jsx("div",{className:"space-y-4",children:n.map(c=>{var u;return r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 transition-all",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:c.employee_name}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx(be,{className:a[c.contract_type],children:c.contract_type}),r.jsx(be,{className:i[c.status],children:c.status})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"w-4 h-4 text-zinc-500"}),r.jsxs("span",{className:"text-zinc-300",children:[r.jsx("strong",{children:"Puesto:"})," ",c.position]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sn,{className:"w-4 h-4 text-zinc-500"}),r.jsxs("span",{className:"text-zinc-300",children:[r.jsx("strong",{children:"Inicio:"})," ",c.start_date?Ge(new Date(c.start_date),"dd/MM/yyyy"):"N/A"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"w-4 h-4 text-zinc-500"}),r.jsxs("span",{className:"text-zinc-300",children:[r.jsx("strong",{children:"Salario:"})," ",(u=c.salary)==null?void 0:u.toLocaleString(),"/ao"]})]}),c.end_date&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"w-4 h-4 text-zinc-500"}),r.jsxs("span",{className:"text-zinc-300",children:[r.jsx("strong",{children:"Fin:"})," ",Ge(new Date(c.end_date),"dd/MM/yyyy")]})]})]}),c.schedule&&r.jsxs("p",{className:"text-sm text-zinc-400 mt-3",children:[r.jsx("strong",{children:"Horario:"})," ",c.schedule]})]})]}),c.file_url&&r.jsx("div",{className:"flex flex-col gap-2",children:r.jsxs(ae,{variant:"outline",onClick:()=>window.open(c.file_url,"_blank"),className:"whitespace-nowrap",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Ver Contrato"]})})]})})},c.id)})}),r.jsx(X,{className:"border-none shadow-lg mt-8 bg-blue-900/30 border border-blue-700/50",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(vr,{className:"w-6 h-6 text-blue-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-200 mb-2",children:"Informacin Confidencial"}),r.jsx("p",{className:"text-sm text-blue-100/70",children:"Los contratos son documentos confidenciales. Los empleados solo pueden ver su propio contrato. Para modificaciones, contacta con Recursos Humanos."})]})]})})})]})})}function OX(){const[e,t]=j.useState(null),n=(a,i)=>{navigator.clipboard.writeText(a),t(i),fe.success("Copiado al portapapeles"),setTimeout(()=>t(null),2e3)},s=[{id:"biloop",name:"biloopAutoSync",description:"Sincroniza facturas de Biloop cada hora",cron:"0 * * * *",frequency:"Cada hora (a las :00)",color:"from-green-500 to-emerald-600",icon:"",example:"09:00, 10:00, 11:00..."},{id:"revo",name:"revoAutoSync",description:"Sincroniza ventas de Revo cada hora",cron:"0 * * * *",frequency:"Cada hora (a las :00)",color:"from-cyan-500 to-blue-600",icon:"",example:"09:00, 10:00, 11:00..."},{id:"email",name:"emailAutoProcessor",description:"Procesa emails cada 30 minutos",cron:"*/30 * * * *",frequency:"Cada 30 minutos",color:"from-purple-500 to-pink-600",icon:"",example:"09:00, 09:30, 10:00, 10:30..."}];return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-4xl font-bold text-white flex items-center gap-3 mb-2",children:[r.jsx($t,{className:"w-10 h-10 text-yellow-400"}),"Configuracin de CRON Jobs"]}),r.jsx("p",{className:"text-gray-400",children:"Configura la ejecucin automtica de tus funciones - Solo 5 minutos"})]}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsx(Q,{className:"p-8",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Dx,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Gua Paso a Paso"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"1"}),r.jsx("p",{className:"font-bold text-lg",children:"Accede al Dashboard de Base44"})]}),r.jsxs("p",{className:"text-sm text-blue-100 ml-11",children:["Ve a: ",r.jsx("a",{href:"https://app.base44.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"app.base44.com"})]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"2"}),r.jsx("p",{className:"font-bold text-lg",children:"Navega a la seccin de Funciones"})]}),r.jsxs("p",{className:"text-sm text-blue-100 ml-11",children:["Dashboard  ",r.jsx("strong",{children:"Functions"}),"  ",r.jsx("strong",{children:"Schedule"})]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"3"}),r.jsx("p",{className:"font-bold text-lg",children:"Configura cada funcin (ver abajo)"})]}),r.jsx("p",{className:"text-sm text-blue-100 ml-11",children:"Copia y pega los comandos CRON de las tarjetas de abajo"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"4"}),r.jsx("p",{className:"font-bold text-lg",children:"Listo! Todo automtico"})]}),r.jsx("p",{className:"text-sm text-blue-100 ml-11",children:"Las funciones se ejecutarn automticamente segn la programacin"})]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:r.jsxs("p",{className:"text-sm text-blue-100 flex items-center gap-2",children:[r.jsx(bn,{className:"w-4 h-4"}),r.jsx("strong",{children:"Importante:"})," Despus de configurar, vuelve a la pgina ",r.jsx("strong",{children:'" AUTOMATIZACIN"'})," para verificar que todo funciona"]})})]})]})})}),r.jsxs("div",{className:"space-y-6 mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[r.jsx(Hr,{className:"w-6 h-6 text-yellow-400"}),"Configuraciones CRON (Copia y Pega)"]}),s.map(a=>r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-gray-700 hover:border-cyan-500/50 transition-all",children:[r.jsx(ke,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${a.color} rounded-xl flex items-center justify-center text-3xl shadow-lg`,children:a.icon}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-white text-xl mb-1",children:a.name}),r.jsx("p",{className:"text-gray-400 text-sm",children:a.description})]})]}),r.jsx(be,{className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",children:a.frequency})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-xs text-gray-400 font-semibold uppercase",children:"Function Name"}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(a.name,`${a.id}-name`),className:"h-6 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10",children:e===`${a.id}-name`?r.jsx(Ke,{className:"w-3 h-3"}):r.jsx(zo,{className:"w-3 h-3"})})]}),r.jsx("code",{className:"text-white font-mono text-sm",children:a.name})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-cyan-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-xs text-gray-400 font-semibold uppercase",children:"CRON Expression"}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(a.cron,`${a.id}-cron`),className:"h-6 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10",children:e===`${a.id}-cron`?r.jsx(Ke,{className:"w-3 h-3"}):r.jsx(zo,{className:"w-3 h-3"})})]}),r.jsx("code",{className:"text-cyan-400 font-mono text-lg font-bold",children:a.cron})]})]}),r.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Ejemplo de Ejecucin:"}),r.jsx("p",{className:"text-green-400 text-sm font-medium",children:a.example})]}),r.jsx(ae,{onClick:()=>{const i=`Function: ${a.name}
CRON: ${a.cron}`;n(i,`${a.id}-all`)},className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700",children:e===`${a.id}-all`?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Copiado!"]}):r.jsxs(r.Fragment,{children:[r.jsx(zo,{className:"w-4 h-4 mr-2"}),"Copiar Todo"]})})]})]},a.id))]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-gray-700 mb-8",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Entender CRON (Opcional)"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-300",children:["CRON usa 5 campos: ",r.jsx("code",{className:"bg-slate-900 px-2 py-1 rounded text-cyan-400",children:"minuto hora da mes da_semana"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[r.jsx("p",{className:"text-cyan-400 font-mono mb-2",children:"0 * * * *"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Cada hora (minuto 0)"})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[r.jsx("p",{className:"text-cyan-400 font-mono mb-2",children:"*/30 * * * *"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Cada 30 minutos"})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[r.jsx("p",{className:"text-cyan-400 font-mono mb-2",children:"0 9 * * *"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Todos los das a las 9:00"})]}),r.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-gray-700",children:[r.jsx("p",{className:"text-cyan-400 font-mono mb-2",children:"0 0 * * 0"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Cada domingo a medianoche"})]})]})]})})]}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:" Ya configuraste CRON?"}),r.jsx("p",{className:"text-sm text-green-100",children:"Prueba las funciones manualmente para verificar que todo funciona"})]}),r.jsxs(ae,{onClick:()=>window.location.href="/AutomationHub",className:"bg-white text-green-700 hover:bg-gray-100 shadow-lg",children:[r.jsx(ou,{className:"w-4 h-4 mr-2"}),"Ir a Automatizacin"]})]})})}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-gray-700 mt-8",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(bn,{className:"w-6 h-6 text-yellow-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg text-white mb-2",children:"Necesitas Ayuda?"}),r.jsxs("div",{className:"space-y-2 text-gray-300 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"No encuentras la opcin Schedule:"})," Contacta con soporte de Base44 en"," ",r.jsx("a",{href:"mailto:support@base44.com",className:"text-cyan-400 underline",children:"support@base44.com"})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Las funciones no se ejecutan:"})," Verifica en Dashboard  Functions  Logs"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Errores en las funciones:"}),' Ve a " AUTOMATIZACIN" y prueba manualmente primero']})]})]})]})})})]})})}function qIe({data:e,colors:t}){var u;const[n,s]=j.useState(0);if(j.useEffect(()=>{if(e.length===0)return;const h=setInterval(()=>{s(f=>(f+1)%e.length)},3e3);return()=>clearInterval(h)},[e.length]),e.length===0)return r.jsx("div",{className:"h-[280px] flex items-center justify-center text-zinc-500",children:"Sin datos"});const a=e.reduce((h,f)=>h+f.value,0),i=e[n],o=a>0?((i==null?void 0:i.value)/a*100).toFixed(1):0,l=t[n%t.length],c=(h,f,p,x=12)=>{const b=[];for(let v=0;v<x;v++){const y=2*Math.PI/x*v-Math.PI/2;b.push(`${h+p*Math.cos(y)},${f+p*Math.sin(y)}`)}return b.join(" ")};return r.jsxs("div",{className:"relative h-[340px]",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("svg",{viewBox:"0 0 340 300",className:"w-full h-full max-w-[400px]",children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"grad-active",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:l,stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:l,stopOpacity:"0.3"})]})]}),r.jsx("polygon",{points:c(170,150,130),fill:"none",stroke:"#27272a",strokeWidth:"1",opacity:"0.5"}),r.jsx("polygon",{points:c(170,150,100),fill:"none",stroke:"#27272a",strokeWidth:"1",opacity:"0.3"}),r.jsx("polygon",{points:c(170,150,70),fill:"none",stroke:"#27272a",strokeWidth:"1",opacity:"0.2"}),r.jsx("polygon",{points:c(170,150,40),fill:"none",stroke:"#27272a",strokeWidth:"1",opacity:"0.1"}),e.map((h,f)=>{const p=f===n,x=2*Math.PI/e.length,b=x*f-Math.PI/2,v=b+x,N=50+(a>0?h.value/a:0)*85,_=170+N*Math.cos(b),S=150+N*Math.sin(b),E=170+N*Math.cos(v),A=150+N*Math.sin(v);return r.jsxs("g",{onClick:()=>s(f),style:{cursor:"pointer"},children:[r.jsx("path",{d:`M 170 150 L ${_} ${S} A ${N} ${N} 0 0 1 ${E} ${A} Z`,fill:t[f%t.length],opacity:p?.9:.25,filter:p?"url(#glow)":"none",style:{transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",transformOrigin:"170px 150px",transform:p?"scale(1.08)":"scale(1)"}}),p&&r.jsx("path",{d:`M 170 150 L ${_} ${S} A ${N} ${N} 0 0 1 ${E} ${A} Z`,fill:"none",stroke:t[f%t.length],strokeWidth:"3",opacity:"1",style:{filter:`drop-shadow(0 0 15px ${t[f%t.length]})`}})]},h.name)}),r.jsx("polygon",{points:c(170,150,55),fill:"#18181b",stroke:l,strokeWidth:"2",style:{filter:`drop-shadow(0 0 20px ${l}60)`,transition:"all 0.5s ease"}}),r.jsx("circle",{cx:"170",cy:"150",r:"62",fill:"none",stroke:l,strokeWidth:"1.5",strokeDasharray:"10 5",opacity:"0.6",style:{animation:"spin 20s linear infinite",transformOrigin:"170px 150px"}})]})}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{marginTop:"-20px"},children:r.jsxs("div",{className:"text-center transition-all duration-500",children:[r.jsxs("p",{className:"text-4xl font-black tracking-tight transition-all duration-500",style:{color:l,textShadow:`0 0 25px ${l}80`},children:[(u=i==null?void 0:i.value)==null?void 0:u.toLocaleString(),""]}),r.jsxs("p",{className:"text-sm text-zinc-400 uppercase tracking-widest mt-2",children:[o,"% del total"]})]})}),r.jsx("div",{className:"absolute bottom-2 left-0 right-0 text-center transition-all duration-500",children:r.jsx("div",{className:"inline-block px-8 py-3 rounded-2xl transition-all duration-500",style:{background:`linear-gradient(135deg, ${l}30, ${l}10)`,border:`2px solid ${l}60`,boxShadow:`0 0 40px ${l}30`},children:r.jsx("p",{className:"text-lg font-black uppercase tracking-widest transition-all duration-500",style:{color:l},children:i==null?void 0:i.name})})}),r.jsx("div",{className:"absolute bottom-0 right-0 flex gap-1.5",children:e.map((h,f)=>r.jsx("button",{onClick:()=>s(f),className:"w-2 h-2 rounded-full transition-all duration-300",style:{backgroundColor:f===n?t[f%t.length]:"#3f3f46",boxShadow:f===n?`0 0 8px ${t[f%t.length]}`:"none",transform:f===n?"scale(1.3)":"scale(1)"}},f))}),r.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function HIe(){const{data:e=[],isLoading:t}=Be({queryKey:["live-attendance"],queryFn:async()=>{const a=Ge(new Date,"yyyy-MM-dd");return await ee.entities.Timesheet.filter({date:a})},refetchInterval:3e4}),n=e.filter(a=>a.check_in&&!a.check_out),s=e.filter(a=>a.check_in&&a.check_out);return r.jsxs(X,{className:"border-none shadow-2xl bg-gradient-to-br from-slate-900 to-slate-950 border border-slate-800",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx($t,{className:"w-6 h-6 text-cyan-400"}),"Control de Asistencia en Vivo"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(be,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:[n.length," En turno"]}),r.jsxs(be,{className:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:[s.length," Finalizados"]})]})]}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t?r.jsx("p",{className:"text-slate-500",children:"Cargando datos..."}):n.length===0?r.jsx("div",{className:"col-span-full p-4 text-center text-slate-500 bg-slate-800/30 rounded-xl border border-dashed border-slate-700",children:"No hay empleados activos en este momento"}):n.map(a=>r.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 flex items-start gap-3 relative overflow-hidden group hover:border-cyan-500/50 transition-all",children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-green-500"}),r.jsx("div",{className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(ca,{className:"w-5 h-5 text-slate-300"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-medium truncate",children:a.user_name}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1",children:[r.jsx($t,{className:"w-3 h-3"}),r.jsxs("span",{children:["Entrada: ",a.check_in]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.latitude?r.jsxs(be,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5 border-cyan-500/30 text-cyan-400 bg-cyan-500/10 flex gap-1 items-center",children:[r.jsx(rV,{className:"w-3 h-3"}),a.is_on_site?"En Tienda":"Remoto"]}):r.jsxs(be,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5 border-yellow-500/30 text-yellow-400 bg-yellow-500/10 flex gap-1 items-center",children:[r.jsx(bn,{className:"w-3 h-3"}),"Sin GPS"]}),a.ip_address&&r.jsxs(be,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5 border-purple-500/30 text-purple-400 bg-purple-500/10 flex gap-1 items-center",children:[r.jsx(Ix,{className:"w-3 h-3"}),"IP Detectada"]})]})]})]},a.id))})})]})}function TX(){const{data:e=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list("-invoice_date",200),staleTime:3e4}),{data:t=[]}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list("-created_date",100),staleTime:6e4}),{data:n=[]}=Be({queryKey:["products"],queryFn:()=>ee.entities.Product.list("-total_spent",100),staleTime:6e4}),{data:s=[]}=Be({queryKey:["sales-invoices"],queryFn:()=>ee.entities.SalesInvoice.list("-invoice_date",200),staleTime:3e4}),{data:a=[]}=Be({queryKey:["orders-dashboard"],queryFn:()=>ee.entities.Order.list("-order_date",50),staleTime:1e4}),{data:i=[]}=Be({queryKey:["sales-dashboard"],queryFn:()=>ee.entities.Sale.list("-sale_date",100),staleTime:3e4}),o=e.reduce((k,P)=>k+(P.total||0),0),l=s.reduce((k,P)=>k+(P.total||0),0),c=l-o,u=e.filter(k=>k.status==="pendiente").reduce((k,P)=>k+(P.total||0),0),h=new Date().toISOString().split("T")[0],f=a.filter(k=>{var P;return(P=k.order_date)==null?void 0:P.startsWith(h)});f.filter(k=>["nuevo","confirmado","en_cocina"].includes(k.status));const p=i.filter(k=>{var P;return(P=k.sale_date)==null?void 0:P.startsWith(h)}),x=p.reduce((k,P)=>k+(P.total||0),0)+f.reduce((k,P)=>k+(P.total||0),0),b=e.filter(k=>k.status==="vencida"),v=n.filter(k=>k.price_trend==="subiendo").slice(0,5),y=[];for(let k=5;k>=0;k--){const P=Ehe(new Date,k),R=Ge(P,"yyyy-MM"),$=e.filter(M=>{var B;return(B=M.invoice_date)==null?void 0:B.startsWith(R)}),D=s.filter(M=>{var B;return(B=M.invoice_date)==null?void 0:B.startsWith(R)});y.push({month:Ge(P,"MMM"),gastos:$.reduce((M,B)=>M+(B.total||0),0),ingresos:D.reduce((M,B)=>M+(B.total||0),0)})}const N=e.reduce((k,P)=>{const R=P.category||"otros";return k[R]||(k[R]=0),k[R]+=P.total||0,k},{}),_=Object.entries(N).map(([k,P])=>({name:k,value:Math.round(P)})),S=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#ef4444"],E=e.reduce((k,P)=>{const R=P.provider_name||"Sin nombre";return k[R]||(k[R]=0),k[R]+=P.total||0,k},{}),A=Object.entries(E).sort((k,P)=>P[1]-k[1]).slice(0,5).map(([k,P])=>({name:k.length>18?k.substring(0,18)+"...":k,gasto:Math.round(P)}));return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950 p-4 md:p-8",children:r.jsxs("div",{className:"max-w-[1800px] mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsxs("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:["Live  ",Ge(new Date,"HH:mm"),"  ",Ge(new Date,"EEEE dd MMM")]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(QB,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"CONTROL CENTRAL"})]}),r.jsx("p",{className:"text-lg text-zinc-400",children:"Vista general del negocio en tiempo real"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(fn,{to:ft("FinanceDashboard"),children:r.jsx(ae,{className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 font-bold",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:" Finanzas"})}),r.jsx(fn,{to:ft("ProductInventory"),children:r.jsx(ae,{variant:"outline",className:"border-zinc-700 text-zinc-400 hover:bg-zinc-800 hover:text-cyan-400",children:" Inventario"})}),r.jsx(fn,{to:ft("AutomationHub"),children:r.jsx(ae,{variant:"outline",className:"border-zinc-700 text-zinc-400 hover:bg-zinc-800 hover:text-cyan-400",children:" Auto-Sync"})})]})]})]}),r.jsx("div",{className:"mb-8",children:r.jsx(HIe,{})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(fn,{to:ft("RevoDashboard"),children:r.jsx(X,{className:"border-none shadow-xl bg-black border border-green-500/50 hover:border-green-500 transition-all cursor-pointer",style:{boxShadow:"0 0 30px rgba(34, 197, 94, 0.3)"},children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(rn,{className:"w-10 h-10 text-green-400",style:{filter:"drop-shadow(0 0 8px rgba(34, 197, 94, 0.8))"}}),r.jsx(be,{className:"bg-green-600 text-white",children:"HOY"})]}),r.jsxs("p",{className:"text-4xl font-black text-white",children:[x.toFixed(0),""]}),r.jsx("p",{className:"text-sm text-green-300 mt-1",children:"Facturacin"}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20 text-xs flex justify-between text-zinc-400",children:[r.jsxs("span",{children:[" ",p.length," ventas"]}),r.jsxs("span",{children:[" ",f.length," pedidos"]})]})]})})}),r.jsx(X,{className:"border-none shadow-xl bg-black border border-red-500/50",style:{boxShadow:"0 0 30px rgba(239, 68, 68, 0.3)"},children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(tb,{className:"w-10 h-10 text-red-400",style:{filter:"drop-shadow(0 0 8px rgba(239, 68, 68, 0.8))"}}),r.jsx(la,{className:"w-5 h-5 text-red-400"})]}),r.jsxs("p",{className:"text-4xl font-black text-white",children:[o.toFixed(0),""]}),r.jsx("p",{className:"text-sm text-red-300 mt-1",children:"Gastos Total"}),r.jsx("div",{className:"mt-3 pt-3 border-t border-red-500/20 text-xs text-zinc-400",children:r.jsxs("span",{children:[" ",e.length," facturas"]})})]})}),r.jsx(X,{className:`border-none shadow-xl bg-black ${c>=0?"border border-cyan-500/50":"border border-orange-500/50"}`,style:{boxShadow:c>=0?"0 0 30px rgba(6, 182, 212, 0.3)":"0 0 30px rgba(249, 115, 22, 0.3)"},children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c>=0?r.jsx(dO,{className:"w-10 h-10 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}):r.jsx(tb,{className:"w-10 h-10 text-orange-400",style:{filter:"drop-shadow(0 0 8px rgba(249, 115, 22, 0.8))"}}),c>=0?r.jsx(En,{className:"w-5 h-5 text-cyan-400"}):r.jsx(la,{className:"w-5 h-5 text-orange-400"})]}),r.jsxs("p",{className:"text-4xl font-black text-white",children:[c.toFixed(0),""]}),r.jsx("p",{className:`text-sm mt-1 ${c>=0?"text-cyan-300":"text-orange-300"}`,children:"Margen Bruto"}),r.jsx("div",{className:`mt-3 pt-3 text-xs text-zinc-400 ${c>=0?"border-t border-cyan-500/20":"border-t border-orange-500/20"}`,children:r.jsxs("span",{children:[" Ingresos: ",l.toFixed(0),""]})})]})}),r.jsx(X,{className:"border-none shadow-xl bg-black border border-yellow-500/50",style:{boxShadow:"0 0 30px rgba(234, 179, 8, 0.3)"},children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx($t,{className:"w-10 h-10 text-yellow-400",style:{filter:"drop-shadow(0 0 8px rgba(234, 179, 8, 0.8))"}}),r.jsx(wn,{className:"w-5 h-5 text-yellow-400"})]}),r.jsxs("p",{className:"text-4xl font-black text-white",children:[u.toFixed(0),""]}),r.jsx("p",{className:"text-sm text-yellow-300 mt-1",children:"Pendiente Pago"}),r.jsx("div",{className:"mt-3 pt-3 border-t border-yellow-500/20 text-xs text-zinc-400",children:r.jsxs("span",{children:[" ",e.filter(k=>k.status==="pendiente").length," facturas"]})})]})})]}),(b.length>0||v.length>0)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[b.length>0&&r.jsx(X,{className:"border-none shadow-xl bg-red-900/30 border border-red-500/30",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(wn,{className:"w-5 h-5 text-red-400"}),r.jsxs("span",{className:"font-bold text-red-400",children:[" ",b.length," Facturas Vencidas"]})]}),r.jsx("div",{className:"space-y-2",children:b.slice(0,3).map(k=>{var P;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300 truncate",children:k.provider_name}),r.jsxs("span",{className:"text-red-400 font-bold",children:[(P=k.total)==null?void 0:P.toFixed(2),""]})]},k.id)})})]})}),v.length>0&&r.jsx(X,{className:"border-none shadow-xl bg-orange-900/30 border border-orange-500/30",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(En,{className:"w-5 h-5 text-orange-400"}),r.jsx("span",{className:"font-bold text-orange-400",children:" Precios Subiendo"})]}),r.jsx("div",{className:"space-y-2",children:v.map(k=>{var P;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300 truncate",children:k.name}),r.jsxs(be,{className:"bg-orange-600 text-white",children:["+",(P=k.price_change_percent)==null?void 0:P.toFixed(1),"%"]})]},k.id)})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Evolucin Mensual (6 meses)"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:250,children:r.jsxs(ql,{data:y,children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{dataKey:"month",stroke:"#9ca3af"}),r.jsx(hs,{stroke:"#9ca3af"}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1f2937",border:"none"}}),r.jsx(es,{dataKey:"ingresos",fill:"#10b981",name:"Ingresos"}),r.jsx(es,{dataKey:"gastos",fill:"#ef4444",name:"Gastos"})]})})})]}),r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Gastos por Categora"})}),r.jsx(Q,{children:r.jsx(qIe,{data:_,colors:S})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-white text-lg",children:"Top Proveedores"}),r.jsx(fn,{to:ft("Providers"),children:r.jsx(ae,{variant:"ghost",size:"sm",className:"text-blue-400",children:r.jsx(Xn,{className:"w-4 h-4"})})})]}),r.jsxs(Q,{className:"space-y-3",children:[A.map((k,P)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold ${P<3?"bg-blue-600":"bg-slate-600"}`,children:P+1}),r.jsx("span",{className:"text-gray-300 truncate text-sm",children:k.name})]}),r.jsxs("span",{className:"text-white font-bold",children:[k.gasto,""]})]},P)),A.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Sin datos"})]})]}),r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-white text-lg",children:"Top Productos"}),r.jsx(fn,{to:ft("ProductInventory"),children:r.jsx(ae,{variant:"ghost",size:"sm",className:"text-blue-400",children:r.jsx(Xn,{className:"w-4 h-4"})})})]}),r.jsxs(Q,{className:"space-y-3",children:[n.slice(0,5).map((k,P)=>{var R;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold ${P<3?"bg-emerald-600":"bg-slate-600"}`,children:P+1}),r.jsx("span",{className:"text-gray-300 truncate text-sm",children:k.name})]}),r.jsxs("span",{className:"text-white font-bold",children:[(R=k.total_spent)==null?void 0:R.toFixed(0),""]})]},k.id)}),n.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Sin productos"})]})]}),r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-white text-lg",children:"ltimas Facturas"}),r.jsx(fn,{to:ft("BiloopImport"),children:r.jsx(ae,{variant:"ghost",size:"sm",className:"text-blue-400",children:r.jsx(Xn,{className:"w-4 h-4"})})})]}),r.jsxs(Q,{className:"space-y-3",children:[e.slice(0,5).map(k=>{var P;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-300 text-sm truncate",children:k.provider_name}),r.jsx("p",{className:"text-gray-500 text-xs",children:k.invoice_date})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-white font-bold",children:[(P=k.total)==null?void 0:P.toFixed(0),""]}),r.jsx(be,{className:k.status==="pagada"?"bg-green-600":k.status==="vencida"?"bg-red-600":"bg-yellow-600",children:k.status})]})]},k.id)}),e.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Sin facturas"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Io,{className:"w-5 h-5"}),"Cmaras"]}),r.jsx(fn,{to:ft("SecurityCameras"),children:r.jsx(ae,{variant:"ghost",size:"sm",className:"text-blue-400",children:r.jsx(Ld,{className:"w-4 h-4"})})})]}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Entrada","Cocina","Mostrador","Almacn"].map((k,P)=>r.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:k}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-green-400",children:"LIVE"})]})]},P))})})]}),r.jsx(fn,{to:ft("ApiDiagnostics"),children:r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-cyan-500/50 transition-all cursor-pointer",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(vr,{className:"w-5 h-5"}),"Estado Sistema",r.jsx(Ld,{className:"w-4 h-4 ml-auto text-zinc-500"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-green-900/30 border border-green-600/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-green-400 font-bold",children:" APIs Activas"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Biloop, Revo, Email"})]}),r.jsxs("div",{className:"bg-green-900/30 border border-green-600/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-green-400 font-bold",children:" Sync OK"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"ltima: hace 5 min"})]}),r.jsxs("div",{className:"bg-blue-900/30 border border-blue-600/30 rounded-lg p-4",children:[r.jsxs("p",{className:"text-blue-400 font-bold",children:[t.length," Proveedores"]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Activos"})]}),r.jsxs("div",{className:"bg-purple-900/30 border border-purple-600/30 rounded-lg p-4",children:[r.jsxs("p",{className:"text-purple-400 font-bold",children:[n.length," Productos"]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Rastreados"})]})]})})]})})]})]})})}function YIe({file:e,isOpen:t,onClose:n}){var o,l,c;if(!e)return null;const s=(l=(o=e.filename)==null?void 0:o.split(".").pop())==null?void 0:l.toLowerCase(),a=["jpg","jpeg","png","gif","webp","bmp"].includes(s)||((c=e.content_type)==null?void 0:c.startsWith("image/")),i=s==="pdf"||e.content_type==="application/pdf";return r.jsx(Fn,{open:t,onOpenChange:n,children:r.jsxs(Pn,{className:"max-w-5xl h-[85vh] bg-zinc-950 border-zinc-800 text-white flex flex-col p-0 gap-0 sm:rounded-xl overflow-hidden shadow-2xl",children:[r.jsxs(An,{className:"p-3 border-b border-zinc-800 flex flex-row items-center justify-between space-y-0 bg-zinc-900/50 backdrop-blur-sm",children:[r.jsxs(On,{className:"truncate pr-4 flex items-center gap-2 text-sm font-medium",children:[a?r.jsx(Qte,{className:"w-4 h-4 text-purple-400"}):r.jsx(Ye,{className:"w-4 h-4 text-cyan-400"}),r.jsx("span",{className:"truncate max-w-md",children:e.filename})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>window.open(e.file_url,"_blank"),className:"h-7 w-7 p-0 text-zinc-400 hover:text-cyan-400 hover:bg-cyan-950/30",title:"Abrir en nueva pestaa",children:r.jsx(Ui,{className:"w-4 h-4"})}),r.jsx(ae,{size:"sm",variant:"ghost",onClick:n,className:"h-7 w-7 p-0 text-zinc-400 hover:text-red-400 hover:bg-red-950/30",children:r.jsx(el,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex-1 bg-zinc-950/50 overflow-hidden flex items-center justify-center relative w-full h-full",children:a?r.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:r.jsx("img",{src:e.file_url,alt:e.filename,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):i?r.jsx("iframe",{src:`${e.file_url}#view=FitH`,className:"w-full h-full border-none bg-zinc-800",title:"PDF Preview"}):r.jsxs("div",{className:"text-center p-8",children:[r.jsx("div",{className:"w-20 h-20 bg-zinc-900 rounded-3xl flex items-center justify-center mx-auto mb-6 border border-zinc-800 shadow-xl",children:r.jsx(Ye,{className:"w-10 h-10 text-zinc-600"})}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Vista previa no disponible"}),r.jsx("p",{className:"text-zinc-500 mb-6 text-sm",children:"Este tipo de archivo no se puede visualizar directamente."}),r.jsxs(ae,{onClick:()=>window.open(e.file_url,"_blank"),className:"bg-cyan-600 hover:bg-cyan-700 text-white rounded-full px-6",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Descargar Archivo"]})]})})]})})}function MX(){const[e,t]=j.useState(null),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState(""),[c,u]=j.useState(""),[h,f]=j.useState(!1),[p,x]=j.useState(!1),[b,v]=j.useState([]),[y,N]=j.useState(!1),[_,S]=j.useState(!1),E=j.useRef(null),A=Kt(),k=j.useRef(null);j.useEffect(()=>{y&&k.current&&k.current.scrollIntoView({behavior:"smooth"})},[y]);const P=(ne,pe="info")=>{v(re=>[...re,{time:new Date().toLocaleTimeString(),message:ne,type:pe}])},{data:R=[],isLoading:$}=Be({queryKey:["uploaded-files"],queryFn:()=>ee.entities.UploadedFile.list("-upload_date",1e3),staleTime:3e4}),D=async ne=>{var pe;P(` Analizando ${ne.filename}...`,"pending");try{await ee.entities.UploadedFile.update(ne.id,{processing_status:"processing"});const re=ne.filename.toLowerCase().endsWith(".csv")||((pe=ne.content_type)==null?void 0:pe.includes("csv")),ce={type:"object",properties:{document_type:{type:"string",description:"OBLIGATORIO: Tipo exacto (Factura, Nmina, Contrato, Escritura, Albarn, etc)"},has_multiple_records:{type:"boolean",description:"TRUE si el PDF contiene MLTIPLES pginas con DIFERENTES registros (ej: 10 nminas de 10 empleados distintos). FALSE si es un solo documento."},records:{type:"array",description:"SI has_multiple_records=true, DEBES listar TODOS los registros encontrados en TODAS las pginas del PDF. Cada pgina = 1 registro.",items:{type:"object",properties:{employee_name:{type:"string",description:"Nombre COMPLETO del empleado (de esta nmina especfica)"},employee_dni:{type:"string",description:"DNI/NIE"},amount:{type:"number",description:"Salario NETO de esta nmina"},gross_salary:{type:"number",description:"Salario BRUTO"},social_security:{type:"number",description:"Cotizacin SS"},irpf:{type:"number",description:"Retencin IRPF"},document_date:{type:"string",description:"Fecha emisin YYYY-MM-DD"},period:{type:"string",description:"CRTICO: Periodo YYYY-MM (ej: 2024-12)"},provider_name:{type:"string",description:"Si es factura: nombre del proveedor"},invoice_number:{type:"string",description:"Si es factura: nmero de factura"}}}},provider_name:{type:"string",description:"Si es 1 sola factura: nombre completo del proveedor"},provider_cif:{type:"string",description:"CIF del proveedor"},employee_name:{type:"string",description:"Si es 1 sola nmina: nombre del empleado"},employee_dni:{type:"string",description:"DNI del empleado"},amount:{type:"number",description:"Importe TOTAL (neto si es nmina, total con IVA si es factura)"},gross_salary:{type:"number",description:"Solo nminas: salario bruto"},social_security:{type:"number",description:"Solo nminas: cotizacin"},irpf:{type:"number",description:"Solo nminas: retencin IRPF"},subtotal:{type:"number",description:"Solo facturas: base imponible sin IVA"},iva:{type:"number",description:"Solo facturas: IVA aplicado"},document_date:{type:"string",description:"Fecha de emisin YYYY-MM-DD"},period:{type:"string",description:"Solo nminas: periodo YYYY-MM"},invoice_number:{type:"string",description:"Solo facturas: nmero de factura"},due_date:{type:"string",description:"Solo facturas: fecha vencimiento YYYY-MM-DD"},summary:{type:"string",description:"Resumen breve del documento"}},required:["document_type"]};try{const he=await ee.integrations.Core.ExtractDataFromUploadedFile({file_url:ne.file_url,json_schema:ce});if(he.status==="success"&&he.output){const ue=he.output,Oe=(ue.document_type||"").toLowerCase();let ge=null,qe=0;if(Oe.includes("nmina")||Oe.includes("nomina")){if(ue.has_multiple_records&&ue.records&&ue.records.length>0){P(` Detectadas ${ue.records.length} nminas en el archivo`,"info");for(const Ce of ue.records)if(Ce.employee_name){const yt=await ee.entities.Employee.filter({full_name:Ce.employee_name});let st;if(yt.length===0){const xt=Ce.period||(Ce.document_date?Ce.document_date.substring(0,7):new Date().toISOString().substring(0,7));st=await ee.entities.Employee.create({full_name:Ce.employee_name,dni:Ce.employee_dni||"",salary_net:Ce.amount||0,salary_gross:Ce.gross_salary||Ce.amount||0,status:"activo",payrolls:[{period:xt,net_salary:Ce.amount||0,gross_salary:Ce.gross_salary||Ce.amount||0,social_security:Ce.social_security||0,irpf:Ce.irpf||0,payment_date:Ce.document_date||new Date().toISOString().split("T")[0],status:"pagada",file_url:ne.file_url}]}),P(` Empleado creado: ${Ce.employee_name} - Nmina ${xt}`,"success"),qe++}else{st=yt[0];const xt=st.payrolls||[],Jt=Ce.period||(Ce.document_date?Ce.document_date.substring(0,7):new Date().toISOString().substring(0,7)),qt={period:Jt,net_salary:Ce.amount||0,gross_salary:Ce.gross_salary||Ce.amount||0,social_security:Ce.social_security||0,irpf:Ce.irpf||0,payment_date:Ce.document_date||new Date().toISOString().split("T")[0],status:"pagada",file_url:ne.file_url};xt.some(Yt=>Yt.period===qt.period)?P(` Nmina duplicada ignorada: ${Ce.employee_name} (${Jt})`,"info"):(await ee.entities.Employee.update(st.id,{payrolls:[...xt,qt]}),P(` Nmina ${Jt} agregada a: ${Ce.employee_name}`,"success"))}}ge={type:"Employee",id:"multiple",name:`${ue.records.length} nminas procesadas`,section:"Personal"}}else if(ue.employee_name){const Ce=await ee.entities.Employee.filter({full_name:ue.employee_name});let yt;if(Ce.length===0){const st=ue.period||(ue.document_date?ue.document_date.substring(0,7):new Date().toISOString().substring(0,7));yt=await ee.entities.Employee.create({full_name:ue.employee_name,dni:ue.employee_dni||"",salary_net:ue.amount||0,salary_gross:ue.gross_salary||ue.amount||0,status:"activo",payrolls:[{period:st,net_salary:ue.amount||0,gross_salary:ue.gross_salary||ue.amount||0,social_security:ue.social_security||0,irpf:ue.irpf||0,payment_date:ue.document_date||new Date().toISOString().split("T")[0],status:"pagada",file_url:ne.file_url}]}),P(` Empleado creado: ${ue.employee_name} - Nmina ${st}`,"success")}else{yt=Ce[0];const st=yt.payrolls||[],xt=ue.period||(ue.document_date?ue.document_date.substring(0,7):new Date().toISOString().substring(0,7)),Jt={period:xt,net_salary:ue.amount||0,gross_salary:ue.gross_salary||ue.amount||0,social_security:ue.social_security||0,irpf:ue.irpf||0,payment_date:ue.document_date||new Date().toISOString().split("T")[0],status:"pagada",file_url:ne.file_url};st.some(zn=>zn.period===Jt.period)?P(` Nmina duplicada ignorada: ${ue.employee_name} (${xt})`,"info"):(await ee.entities.Employee.update(yt.id,{payrolls:[...st,Jt]}),P(` Nmina ${xt} agregada a: ${ue.employee_name}`,"success"))}ge={type:"Employee",id:yt.id,name:ue.employee_name,section:"Personal"}}}else if(Oe.includes("factura")||Oe.includes("invoice")||Oe.includes("albar"))if(ue.has_multiple_records&&ue.records&&ue.records.length>0){P(` Detectadas ${ue.records.length} facturas en el archivo`,"info");for(const Ce of ue.records)Ce.provider_name&&((await ee.entities.Provider.filter({name:Ce.provider_name})).length===0&&(await ee.entities.Provider.create({name:Ce.provider_name,cif:Ce.provider_cif||"",category:"otros",status:"activo"}),P(` Proveedor creado: ${Ce.provider_name}`,"success")),await ee.entities.Invoice.create({provider_name:Ce.provider_name,invoice_number:Ce.invoice_number||`INV-${Date.now()}`,invoice_date:Ce.document_date||new Date().toISOString().split("T")[0],due_date:Ce.due_date,subtotal:Ce.subtotal||0,iva:Ce.iva||0,total:Ce.amount||0,status:"pendiente",file_url:ne.file_url}),P(` Factura creada: ${Ce.provider_name} - ${Ce.amount}`,"success"),qe++);ge={type:"Invoice",id:"multiple",name:`${ue.records.length} facturas procesadas`,section:"Facturas"}}else ue.provider_name&&((await ee.entities.Provider.filter({name:ue.provider_name})).length===0&&(await ee.entities.Provider.create({name:ue.provider_name,cif:ue.provider_cif||"",category:"otros",status:"activo"}),P(` Proveedor creado: ${ue.provider_name}`,"success")),ge={type:"Invoice",id:(await ee.entities.Invoice.create({provider_name:ue.provider_name,invoice_number:ue.invoice_number||ne.filename,invoice_date:ue.document_date||new Date().toISOString().split("T")[0],due_date:ue.due_date,subtotal:ue.subtotal||0,iva:ue.iva||0,total:ue.amount||0,status:"pendiente",file_url:ne.file_url})).id,name:`${ue.provider_name} - ${ue.amount}`,section:"Facturas"},P(` Factura creada: ${ue.amount}`,"success"));else(Oe.includes("escritura")||Oe.includes("legal")||Oe.includes("constitucin"))&&(ge={type:"CompanyDocument",id:(await ee.entities.CompanyDocument.create({title:ne.filename,document_type:"constitucion",category:"legal",issue_date:ue.document_date||new Date().toISOString().split("T")[0],file_url:ne.file_url,status:"vigente"})).id,name:ne.filename,section:"Documentos Empresa"},P(" Documento legal creado","success"));return await ee.entities.UploadedFile.update(ne.id,{processing_status:"completed",detected_type:ue.document_type||"Documento",metadata:{provider:ue.provider_name,employee_name:ue.employee_name,amount:ue.amount,document_date:ue.document_date,summary:ue.summary,destination:ge}}),{file:ne,result:` ${ue.document_type||"Procesado"}`}}}catch(he){if(re&&he.message.includes("encoding")&&(await ee.functions.invoke("processFlexibleCSV",{file_url:ne.file_url,file_id:ne.id})).data.success)return{file:ne,result:" CSV procesado"};throw he}throw new Error("No se pudo extraer informacin")}catch(re){throw console.error(`Error procesando ${ne.filename}:`,re),await ee.entities.UploadedFile.update(ne.id,{processing_status:"error",metadata:{error:re.message.substring(0,200)}}),re}},M=Bt({mutationFn:D,onSuccess:ne=>{P(` ${ne.file.filename}: ${ne.result}`,"success"),A.invalidateQueries({queryKey:["uploaded-files"]})},onError:(ne,pe)=>{P(` Error en ${pe.filename}: ${ne.message}`,"error")}}),[B,J]=j.useState(!1),Y=async()=>{if(!confirm("Detener y resetear estados? Los archivos 'Analizando' volvern a 'En cola'."))return;J(!1);const ne=R.filter(re=>re.processing_status==="processing"),pe=fe.loading(`Reseteando ${ne.length} archivos...`);for(const re of ne)await ee.entities.UploadedFile.update(re.id,{processing_status:"pending"});fe.success("Estados reseteados. Ahora puedes procesar uno a uno.",{id:pe}),A.invalidateQueries({queryKey:["uploaded-files"]})},W=async ne=>{if(confirm("Eliminar este archivo del registro?"))try{await ee.entities.UploadedFile.delete(ne),fe.success("Archivo eliminado"),A.invalidateQueries({queryKey:["uploaded-files"]})}catch(pe){fe.error("Error al eliminar: "+pe.message)}},se=async()=>{const ne=R.filter(re=>re.processing_status==="error");if(ne.length===0){fe.info("No hay archivos con error");return}if(!confirm(`Eliminar ${ne.length} archivos con error?`))return;const pe=fe.loading(`Eliminando ${ne.length} archivos...`);for(const re of ne)await ee.entities.UploadedFile.delete(re.id);fe.success(`${ne.length} archivos eliminados`,{id:pe}),A.invalidateQueries({queryKey:["uploaded-files"]})},q=async()=>{if(!confirm("Reprocesar archivos pendientes? Se usarn 3 procesos paralelos para mayor velocidad."))return;J(!0),N(!0),v([]);const ne=R.filter(Oe=>Oe.processing_status!=="completed");if(P(` Iniciando procesamiento paralelo (3 hilos) para ${ne.length} archivos...`,"info"),ne.length===0){P("No hay archivos pendientes de procesar.","info"),J(!1);return}let pe=0,re=0;const ce=3,he=async()=>{for(;re<ne.length;){const Oe=re++,ge=ne[Oe];try{P(` [${Oe+1}/${ne.length}] Analizando: ${ge.filename}...`,"pending");const qe=await D(ge);P(` [${Oe+1}/${ne.length}] ${ge.filename}: OK`,"success")}catch(qe){console.error(`Error file ${ge.filename}:`,qe),P(` [${Oe+1}/${ne.length}] ${ge.filename}: ${qe.message}`,"error")}pe++}},ue=Array(Math.min(ce,ne.length)).fill(null).map(()=>he());await Promise.all(ue),P(` FINALIZADO: ${pe} archivos procesados.`,"success"),J(!1),A.invalidateQueries({queryKey:["uploaded-files"]})},V=async ne=>{f(!0);const pe=Array.from(ne);let re=0;for(const ce of pe)try{const{file_url:he}=await ee.integrations.Core.UploadFile({file:ce}),ue=await ee.entities.UploadedFile.create({filename:ce.name,file_url:he,source:"Archivo Global",upload_date:new Date().toISOString(),uploaded_by:"Admin (Manual)",size:ce.size,content_type:ce.type,processing_status:"pending"});re++}catch(he){console.error(he),fe.error(`Error subiendo ${ce.name}`)}f(!1),re>0&&(fe.success(`${re} archivos subidos. Listos para procesar.`),A.invalidateQueries({queryKey:["uploaded-files"]}))},U=ne=>{ne.preventDefault(),ne.stopPropagation(),ne.type==="dragenter"||ne.type==="dragover"?x(!0):ne.type==="dragleave"&&x(!1)},F=ne=>{ne.preventDefault(),ne.stopPropagation(),x(!1),ne.dataTransfer.files&&ne.dataTransfer.files.length>0&&V(ne.dataTransfer.files)},K=R.filter(ne=>{var ge;const pe=ne.metadata||{},re=n.toLowerCase();if(_&&ne.processing_status==="completed")return!1;const ce=!n||((ge=ne.filename)==null?void 0:ge.toLowerCase().includes(re))||pe.provider&&pe.provider.toLowerCase().includes(re)||pe.employee_name&&pe.employee_name.toLowerCase().includes(re)||pe.doc_number&&pe.doc_number.toLowerCase().includes(re),he=a==="all"||ne.detected_type&&ne.detected_type.toLowerCase().includes(a.toLowerCase()),ue=!o||pe.provider&&pe.provider.toLowerCase().includes(o.toLowerCase()),Oe=!c||ne.upload_date&&ne.upload_date.startsWith(c)||pe.document_date&&pe.document_date.startsWith(c);return ce&&he&&ue&&Oe}),te=ne=>{switch(ne){case"completed":return r.jsxs(be,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"})," Procesado"]});case"processing":return r.jsxs(be,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:[r.jsx(bt,{className:"w-3 h-3 mr-1 animate-spin"})," Analizando..."]});case"error":return r.jsxs(be,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:[r.jsx(bn,{className:"w-3 h-3 mr-1"})," Fallo"]});default:return r.jsx(be,{variant:"outline",className:"text-zinc-500 border-zinc-800",children:"En cola"})}},H=ne=>{if(ne.processing_status!=="completed"&&!ne.detected_type)return"border-zinc-800 hover:bg-zinc-900/50";const pe=(ne.detected_type||ne.ai_summary||"").toLowerCase(),re=ne.filename.toLowerCase();return pe.includes("nmina")||pe.includes("nomina")||re.includes("nomina")?"border-l-4 border-l-violet-500 bg-violet-950/10 hover:bg-violet-900/20 border-y-zinc-800 border-r-zinc-800":pe.includes("escritura")||pe.includes("poder")||pe.includes("cif")||pe.includes("sociedad")||pe.includes("legal")||pe.includes("fiscal")?"border-l-4 border-l-cyan-500 bg-cyan-950/10 hover:bg-cyan-900/20 border-y-zinc-800 border-r-zinc-800":pe.includes("factura")||pe.includes("invoice")||pe.includes("proveedor")?"border-l-4 border-l-orange-500 bg-orange-950/10 hover:bg-orange-900/20 border-y-zinc-800 border-r-zinc-800":"border-zinc-800 hover:bg-zinc-900/50"},xe=ne=>{const pe=(ne.detected_type||"Desconocido").toLowerCase(),re=ne.filename.toLowerCase();return pe.includes("nmina")||re.includes("nomina")?r.jsx(be,{className:"bg-violet-500/20 text-violet-300 border-violet-500/30",children:"RRHH / Nmina"}):pe.includes("escritura")||pe.includes("sociedad")?r.jsx(be,{className:"bg-cyan-500/20 text-cyan-300 border-cyan-500/30",children:"Legal / Sociedad"}):pe.includes("factura")?r.jsx(be,{className:"bg-orange-500/20 text-orange-300 border-orange-500/30",children:"Factura"}):r.jsx("span",{className:"text-zinc-500 text-sm italic",children:ne.detected_type||"Pendiente..."})};return r.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950 text-white",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-black text-white flex items-center gap-3",children:[r.jsx(nV,{className:"w-8 h-8 text-cyan-400"}),r.jsx("span",{className:"text-cyan-400",children:"Archivo Global"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Centro unificado de documentos. Sube todo aqu para que la IA lo procese."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ae,{variant:"outline",className:`border-zinc-700 text-zinc-400 hover:text-white ${_?"":"bg-zinc-800"}`,onClick:()=>S(!_),children:_?" Mostrar Procesados":" Ocultar Procesados"}),r.jsx(ae,{variant:"outline",className:`border-zinc-700 text-zinc-400 hover:text-white ${y?"bg-zinc-800":""}`,onClick:()=>N(!y),children:y?"Ocultar Logs":"Ver Logs"}),r.jsxs(ae,{variant:"outline",className:"border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:q,disabled:B||R.length===0,children:[B?r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Tv,{className:"w-4 h-4 mr-2"}),B?"Procesando...":"Reprocesar Todo"]}),r.jsxs(ae,{variant:"outline",className:"border-orange-500/30 text-orange-400 hover:bg-orange-500/10",onClick:Y,children:[r.jsx(bn,{className:"w-4 h-4 mr-2"}),"Resetear / Parar"]}),r.jsxs(ae,{variant:"outline",className:"border-red-600/30 text-red-400 hover:bg-red-600/10",onClick:se,disabled:R.filter(ne=>ne.processing_status==="error").length===0,children:[r.jsx(qr,{className:"w-4 h-4 mr-2"}),"Borrar Errores"]}),r.jsxs("div",{className:"bg-zinc-900 px-4 py-2 rounded-lg border border-zinc-800",children:[r.jsx("span",{className:"text-2xl font-bold text-white",children:K.length}),r.jsxs("span",{className:"text-zinc-500 text-sm ml-2",children:["/ ",R.length," archivos"]})]})]})]}),y&&r.jsxs(X,{className:"mb-8 bg-black/50 border-zinc-800 max-h-60 overflow-hidden flex flex-col",children:[r.jsx(ke,{className:"py-3 px-4 border-b border-zinc-800 bg-zinc-900/50",children:r.jsxs(Pe,{className:"text-sm font-mono text-cyan-400 flex items-center gap-2",children:[r.jsx(Tv,{className:"w-4 h-4"})," Console Output - AI Processor"]})}),r.jsxs(Q,{className:"p-4 overflow-y-auto font-mono text-xs space-y-2",children:[b.length===0&&r.jsx("span",{className:"text-zinc-600",children:"Esperando tareas..."}),b.map((ne,pe)=>r.jsxs("div",{className:`flex gap-2 ${ne.type==="error"?"text-red-400":ne.type==="success"?"text-green-400":ne.type==="pending"?"text-blue-400":"text-zinc-400"}`,children:[r.jsxs("span",{className:"opacity-50",children:["[",ne.time,"]"]}),r.jsx("span",{children:ne.message})]},pe)),r.jsx("div",{ref:k})]})]}),r.jsx(X,{className:`mb-8 border-2 border-dashed transition-all duration-200 ${p?"border-cyan-500 bg-cyan-900/10":"border-zinc-800 bg-zinc-900/50"}`,onDragEnter:U,onDragLeave:U,onDragOver:U,onDrop:F,children:r.jsxs(Q,{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded-2xl flex items-center justify-center mb-4 shadow-lg",children:h?r.jsx(bt,{className:"w-8 h-8 text-cyan-400 animate-spin"}):r.jsx(_r,{className:"w-8 h-8 text-cyan-400"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:h?"Subiendo archivos...":"Arrastra tus documentos aqu"}),r.jsx("p",{className:"text-zinc-400 mb-6 max-w-md",children:"Nminas, Facturas, Contratos, Albaranes... La IA clasificar y procesar todo automticamente desde este buzn nico."}),r.jsx("input",{ref:E,type:"file",multiple:!0,className:"hidden",onChange:ne=>V(ne.target.files)}),r.jsx(ae,{onClick:()=>{var ne;return(ne=E.current)==null?void 0:ne.click()},disabled:h,className:"bg-cyan-600 hover:bg-cyan-700 font-bold",children:"Seleccionar Archivos"})]})}),r.jsx(X,{className:"bg-zinc-900/30 border-zinc-800 mb-6",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-500 w-4 h-4"}),r.jsx(He,{placeholder:"Buscar archivo, n...",value:n,onChange:ne=>s(ne.target.value),className:"pl-9 bg-zinc-950 border-zinc-800 text-white h-9"})]}),r.jsxs("select",{className:"h-9 px-3 rounded-md bg-zinc-950 border border-zinc-800 text-sm text-white focus:outline-none focus:border-cyan-500",value:a,onChange:ne=>i(ne.target.value),children:[r.jsx("option",{value:"all",children:"Todos los Tipos"}),r.jsx("option",{value:"factura",children:"Facturas"}),r.jsx("option",{value:"nmina",children:"Nminas"}),r.jsx("option",{value:"legal",children:"Legal / Sociedad"}),r.jsx("option",{value:"contrato",children:"Contratos"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-500 w-4 h-4"}),r.jsx(He,{placeholder:"Proveedor / Empleado",value:o,onChange:ne=>l(ne.target.value),className:"pl-9 bg-zinc-950 border-zinc-800 text-white h-9"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-500 w-4 h-4"}),r.jsx(He,{type:"date",value:c,onChange:ne=>u(ne.target.value),className:"pl-9 bg-zinc-950 border-zinc-800 text-white h-9 [color-scheme:dark]"})]})]})})}),r.jsx(X,{className:"bg-zinc-900/50 border-zinc-800 border-none shadow-xl",children:r.jsx(Q,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(uj,{children:[r.jsx(dj,{children:r.jsxs(Ol,{className:"border-zinc-800 hover:bg-zinc-900/50",children:[r.jsx(gr,{className:"text-zinc-400",children:"Documento"}),r.jsx(gr,{className:"text-zinc-400",children:"Detalles IA"}),r.jsx(gr,{className:"text-zinc-400",children:"Destino"}),r.jsx(gr,{className:"text-zinc-400",children:"Importe"}),r.jsx(gr,{className:"text-zinc-400",children:"Estado"}),r.jsx(gr,{className:"text-zinc-400 text-right",children:"Acciones"})]})}),r.jsx(hj,{children:$?r.jsx(Ol,{children:r.jsx(nr,{colSpan:5,className:"text-center py-8 text-zinc-500",children:"Cargando..."})}):K.length===0?r.jsx(Ol,{children:r.jsx(nr,{colSpan:5,className:"text-center py-8 text-zinc-500",children:"Vaco."})}):K.map(ne=>{var pe,re,ce,he;return r.jsxs(Ol,{className:`${H(ne)} transition-colors`,children:[r.jsx(nr,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${H(ne).includes("violet")?"bg-violet-900/30":H(ne).includes("cyan")?"bg-cyan-900/30":H(ne).includes("orange")?"bg-orange-900/30":"bg-zinc-800"}`,children:r.jsx(Ye,{className:`w-5 h-5 ${H(ne).includes("violet")?"text-violet-400":H(ne).includes("cyan")?"text-cyan-400":H(ne).includes("orange")?"text-orange-400":"text-zinc-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:ne.filename}),r.jsxs("p",{className:"text-xs text-zinc-500",children:[(ne.size/1024/1024).toFixed(2)," MB"]})]})]})}),r.jsx(nr,{children:r.jsxs("div",{className:"flex flex-col gap-1",children:[xe(ne),((pe=ne.metadata)==null?void 0:pe.provider)&&r.jsxs("span",{className:"text-xs text-zinc-400 flex items-center gap-1",children:[r.jsx(Yn,{className:"w-3 h-3"})," ",ne.metadata.provider]}),((re=ne.metadata)==null?void 0:re.employee_name)&&r.jsxs("span",{className:"text-xs text-zinc-400 flex items-center gap-1",children:[r.jsx(ca,{className:"w-3 h-3"})," ",ne.metadata.employee_name]})]})}),r.jsx(nr,{children:(ce=ne.metadata)!=null&&ce.destination?r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(be,{className:"bg-cyan-900/30 text-cyan-300 border-cyan-500/30 w-fit",children:ne.metadata.destination.section}),r.jsxs("a",{href:ne.metadata.destination.type==="Invoice"?"/Invoices":ne.metadata.destination.type==="Employee"?"/Staff":"/CompanyDocs",className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",onClick:ue=>ue.stopPropagation(),children:[r.jsx(Ld,{className:"w-3 h-3"}),ne.metadata.destination.name]})]}):r.jsx("span",{className:"text-xs text-zinc-600",children:"Sin destino"})}),r.jsx(nr,{children:(he=ne.metadata)!=null&&he.amount?r.jsx("span",{className:"font-mono font-bold text-white",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(ne.metadata.amount)}):r.jsx("span",{className:"text-zinc-600",children:"-"})}),r.jsx(nr,{children:te(ne.processing_status)}),r.jsx(nr,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-1",children:[ne.processing_status!=="completed"&&r.jsx(ae,{size:"icon",variant:"ghost",onClick:async()=>{N(!0);try{await M.mutateAsync(ne)}catch(ue){console.error(ue)}},className:"w-9 h-9 hover:bg-blue-900/20 text-blue-400 hover:text-blue-300 transition-colors",title:ne.processing_status==="processing"?"Reintentar anlisis":"Analizar con IA ahora",children:r.jsx(Tv,{className:`w-4 h-4 ${ne.processing_status==="processing"?"text-yellow-400":""}`})}),r.jsx(ae,{size:"icon",variant:"ghost",onClick:()=>t(ne),className:"w-9 h-9 hover:bg-zinc-800 text-zinc-400 hover:text-cyan-400 transition-colors",title:"Previsualizar archivo",children:r.jsx(Xn,{className:"w-4 h-4"})}),r.jsx(ae,{size:"icon",variant:"ghost",onClick:ue=>{ue.stopPropagation(),W(ne.id)},className:"w-9 h-9 hover:bg-red-900/20 text-red-400 hover:text-red-300 transition-colors",title:"Eliminar archivo",children:r.jsx(qr,{className:"w-4 h-4"})})]})})]},ne.id)})})]})})})})]}),r.jsx(YIe,{file:e,isOpen:!!e,onClose:()=>t(null)})]})}function RX(){const[e,t]=j.useState(!1),[n,s]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState("all"),[h,f]=j.useState("all"),[p,x]=j.useState(""),b=Kt(),{data:v=[],isLoading:y}=Be({queryKey:["emails",c],queryFn:async()=>{try{const P=await ee.entities.EmailIntegration.list("-received_date",100);return c==="all"?P:P.filter(R=>R.category===c)}catch(P){return console.error("Error loading emails:",P),[]}},initialData:[]}),N=Bt({mutationFn:({id:P,reviewed:R})=>{var $;return ee.entities.EmailIntegration.update(P,{extracted_data:{...($=v.find(D=>D.id===P))==null?void 0:$.extracted_data,reviewed:R}})},onSuccess:()=>{b.invalidateQueries({queryKey:["emails"]}),fe.success("Estado actualizado")}}),_=async()=>{if(!n.trim()&&!a){fe.error("Debes proporcionar el texto del email o un archivo adjunto");return}t(!0),l(null);try{let P=null;a&&(P=(await ee.integrations.Core.UploadFile({file:a})).file_url);const R=`
Analiza este email y extrae la informacin relevante:

${n}

${P?`Archivo adjunto: ${P}`:""}

Identifica:
1. Es una factura? Si es as, extrae: proveedor, nmero, fecha, importe total, IVA
2. Es informacin de un proveedor nuevo? Extrae: nombre, CIF, email, telfono, direccin
3. Es un documento legal/fiscal? Especifica el tipo
4. Es sobre RRHH? (nminas, contratos, etc.)

Responde en formato JSON estructurado.
`,$=await ee.integrations.Core.InvokeLLM({prompt:R,response_json_schema:{type:"object",properties:{category:{type:"string",enum:["factura","proveedor","gestoria","rrhh","otros"]},importance:{type:"string",enum:["alta","media","baja"]},sender_type:{type:"string",enum:["proveedor","cliente","empleado","gestoria","administracion","otros"]},is_new_sender:{type:"boolean"},requires_action:{type:"boolean"},keywords:{type:"array",items:{type:"string"}},is_invoice:{type:"boolean"},invoice_data:{type:"object",properties:{provider_name:{type:"string"},invoice_number:{type:"string"},invoice_date:{type:"string"},total:{type:"number"},iva:{type:"number"}}},is_new_provider:{type:"boolean"},provider_data:{type:"object",properties:{name:{type:"string"},cif:{type:"string"},email:{type:"string"},phone:{type:"string"},address:{type:"string"},category:{type:"string"}}},summary:{type:"string"}}}});let D=null,M=null,B=null;B=await ee.entities.EmailIntegration.create({subject:"Email procesado manualmente",sender:"procesamiento_manual@synk-ia.com",received_date:new Date().toISOString(),body:n,processed:!0,category:$.category,extracted_data:$,action_taken:""}),$.is_invoice&&$.invoice_data&&(D=await ee.entities.Invoice.create({...$.invoice_data,file_url:P,status:"pendiente"}),await ee.entities.EmailIntegration.update(B.id,{action_taken:`Factura creada: ${$.invoice_data.provider_name}`}),b.invalidateQueries({queryKey:["invoices"]})),$.is_new_provider&&$.provider_data&&(M=await ee.entities.Provider.create({...$.provider_data,status:"pendiente",rating:3}),await ee.entities.EmailIntegration.update(B.id,{action_taken:(B.action_taken||"")+` | Proveedor creado: ${$.provider_data.name}`}),b.invalidateQueries({queryKey:["providers"]})),l({success:!0,analysis:$,createdInvoice:D,createdProvider:M,savedEmail:B,invoiceData:$.invoice_data,fileUrl:P}),fe.success("Email procesado correctamente"),s(""),i(null)}catch(P){console.error("Error processing email:",P),fe.error("Error al procesar el email"),l({success:!1,error:P.message})}finally{t(!1)}},S=v.filter(P=>{var D,M,B;const R=!p||((D=P.subject)==null?void 0:D.toLowerCase().includes(p.toLowerCase()))||((M=P.sender)==null?void 0:M.toLowerCase().includes(p.toLowerCase())),$=h==="all"||((B=P.extracted_data)==null?void 0:B.importance)===h;return R&&$}),E={factura:S.filter(P=>P.category==="factura"),proveedor:S.filter(P=>P.category==="proveedor"),rrhh:S.filter(P=>P.category==="rrhh"),gestoria:S.filter(P=>P.category==="gestoria"),otros:S.filter(P=>P.category==="otros")},A={factura:{icon:Ye,color:"text-green-600",bg:"bg-green-50"},proveedor:{icon:Yn,color:"text-blue-600",bg:"bg-blue-50"},rrhh:{icon:ln,color:"text-purple-600",bg:"bg-purple-50"},gestoria:{icon:B0,color:"text-orange-600",bg:"bg-orange-50"},otros:{icon:Ma,color:"text-gray-600",bg:"bg-gray-50"}},k={alta:"bg-red-100 text-red-800 border-red-300",media:"bg-yellow-100 text-yellow-800 border-yellow-300",baja:"bg-green-100 text-green-800 border-green-300"};return y?r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-teal-50 to-cyan-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bt,{className:"w-12 h-12 animate-spin text-teal-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-teal-50 to-cyan-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(rb,{className:"w-8 h-8 text-teal-600"}),"Centro de Entrenamiento de Emails"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Organiza y clasifica emails para entrenar la IA - Sin descarte, todo se conserva"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:Object.entries(E).map(([P,R])=>{const $=A[P],D=$.icon;return r.jsx(X,{className:`border-none shadow-lg cursor-pointer transition-all ${c===P?"ring-2 ring-teal-500":""}`,onClick:()=>u(c===P?"all":P),children:r.jsxs(Q,{className:"p-4",children:[r.jsx("div",{className:`w-10 h-10 ${$.bg} rounded-lg flex items-center justify-center mb-2`,children:r.jsx(D,{className:`w-5 h-5 ${$.color}`})}),r.jsx("p",{className:"text-xs text-gray-600 capitalize mb-1",children:P}),r.jsx("p",{className:"text-2xl font-bold",children:R.length})]})},P)})}),r.jsxs(rl,{defaultValue:"results",className:"mb-8",children:[r.jsxs(ro,{className:"grid w-full grid-cols-3",children:[r.jsx(tn,{value:"results",children:" Resultados"}),r.jsxs(tn,{value:"inbox",children:[" Bandeja (",v.length,")"]}),r.jsx(tn,{value:"process",children:" Procesar Nuevo"})]}),r.jsxs(nn,{value:"results",className:"space-y-6 mt-6",children:[r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"w-6 h-6 text-green-600"}),"Facturas Extradas para Biloop"]})}),r.jsx(Q,{className:"p-6",children:(()=>{const P=v.filter($=>{var D;return $.category==="factura"&&((D=$.extracted_data)==null?void 0:D.invoice_data)});if(P.length===0)return r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ye,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No hay facturas extradas todava"})]});const R=P.reduce(($,D)=>{const M=D.extracted_data.invoice_data.provider_name||"Sin proveedor";return $[M]||($[M]=[]),$[M].push(D),$},{});return r.jsx("div",{className:"space-y-4",children:Object.entries(R).map(([$,D])=>r.jsxs(X,{className:"bg-blue-50 border-blue-200",children:[r.jsx(ke,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Yn,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-bold text-lg",children:$})]}),r.jsxs(be,{className:"bg-blue-600 text-white",children:[D.length," facturas"]})]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-2",children:D.map((M,B)=>{const J=M.extracted_data.invoice_data;return r.jsx("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ye,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:J.invoice_number||"Factura"}),r.jsx(be,{className:"bg-green-100 text-green-800",children:J.total?`${J.total}`:"Sin total"})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[" Fecha factura: ",J.invoice_date||"No especificada"]}),r.jsxs("p",{children:[" Procesado: ",M.received_date?Ge(new Date(M.received_date),"dd/MM/yyyy HH:mm"):"-"]}),r.jsxs("p",{children:[" De: ",r.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:M.sender})]}),r.jsxs("p",{children:[" Ubicacin: ",r.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:[$,"/",J.invoice_date||"sin_fecha","/"]})]}),r.jsxs("p",{children:[" Estado: ",r.jsx("span",{className:"text-green-600 font-medium",children:M.action_taken||"Procesada"})]})]})]}),M.attachments&&M.attachments.length>0&&r.jsx(ae,{size:"sm",variant:"outline",onClick:()=>window.open(M.attachments[0].url,"_blank"),children:"Ver PDF"})]})},B)})})})]},$))})})()})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Yn,{className:"w-6 h-6 text-purple-600"}),"Proveedores Nuevos Detectados"]})}),r.jsx(Q,{className:"p-6",children:(()=>{const P=v.filter(R=>{var $,D;return(($=R.extracted_data)==null?void 0:$.is_new_provider)||((D=R.extracted_data)==null?void 0:D.provider_data)});return P.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Yn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No hay proveedores nuevos detectados"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map((R,$)=>{const D=R.extracted_data.provider_data||{};return r.jsx(X,{className:"bg-purple-50 border-purple-200",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Yn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-bold text-lg mb-1",children:D.name||"Proveedor nuevo"}),r.jsx(be,{className:"bg-purple-600 text-white text-xs",children:"Nuevo"})]})]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:" Remitente:"})," ",R.sender]}),r.jsxs("p",{children:[r.jsx("strong",{children:" Detectado:"})," ",Ge(new Date(R.received_date),"dd/MM/yyyy HH:mm")]}),D.cif&&r.jsxs("p",{children:[r.jsx("strong",{children:"CIF:"})," ",D.cif]}),D.email&&r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",D.email]}),D.phone&&r.jsxs("p",{children:[r.jsx("strong",{children:"Tel:"})," ",D.phone]}),D.category&&r.jsxs("p",{children:[r.jsx("strong",{children:"Categora:"})," ",D.category]})]})]})},$)})})})()})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{className:"bg-gradient-to-r from-orange-50 to-yellow-50",children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Al,{className:"w-6 h-6 text-orange-600"}),"Resumen por Familias"]})}),r.jsx(Q,{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(E).map(([P,R])=>{if(R.length===0)return null;const $=A[P],D=$.icon;return r.jsx(X,{className:`${$.bg} border-2`,children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(D,{className:`w-6 h-6 ${$.color}`}),r.jsx("span",{className:"font-bold capitalize",children:P})]}),r.jsx("p",{className:"text-3xl font-bold mb-2",children:R.length}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("p",{children:[" Alta: ",R.filter(M=>{var B;return((B=M.extracted_data)==null?void 0:B.importance)==="alta"}).length]}),r.jsxs("p",{children:[" Media: ",R.filter(M=>{var B;return((B=M.extracted_data)==null?void 0:B.importance)==="media"}).length]}),r.jsxs("p",{children:[" Baja: ",R.filter(M=>{var B;return((B=M.extracted_data)==null?void 0:B.importance)==="baja"}).length]}),r.jsxs("p",{className:"pt-1 border-t",children:[" Nuevos: ",R.filter(M=>{var B;return(B=M.extracted_data)==null?void 0:B.is_new_sender}).length]}),r.jsxs("p",{children:[" Accin: ",R.filter(M=>{var B;return(B=M.extracted_data)==null?void 0:B.requires_action}).length]})]})]})},P)})})})]})]}),r.jsxs(nn,{value:"process",className:"space-y-6 mt-6",children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-r from-yellow-500 to-orange-500 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(bn,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:" Modo Entrenamiento"}),r.jsx("p",{className:"text-sm opacity-90",children:"Procesa emails para entrenar la IA. Todo se conserva para anlisis y automatizacin futura."})]})]})})}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Procesar Email"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"email-text",children:"Contenido del Email"}),r.jsx(di,{id:"email-text",value:n,onChange:P=>s(P.target.value),placeholder:"Pega aqu el contenido del email que quieres procesar...",rows:8,disabled:e})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"attachment",children:"Archivo Adjunto (opcional)"}),r.jsxs("div",{className:"mt-2",children:[r.jsx(He,{id:"attachment",type:"file",accept:".pdf,.png,.jpg,.jpeg,.zip",onChange:P=>i(P.target.files[0]),disabled:e}),a&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[" ",a.name," (",(a.size/1024).toFixed(2)," KB)"]})]})]}),r.jsx(ae,{onClick:_,disabled:e||!n.trim()&&!a,className:"w-full bg-teal-600 hover:bg-teal-700",size:"lg",children:e?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Procesando con IA..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Procesar Email"]})})]})]}),o&&r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"flex items-center gap-2",children:o.success?r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-5 h-5 text-green-600"}),"Procesamiento Completado"]}):r.jsxs(r.Fragment,{children:[r.jsx(bn,{className:"w-5 h-5 text-red-600"}),"Error en Procesamiento"]})})}),r.jsx(Q,{children:o.success?r.jsxs("div",{className:"space-y-6",children:[o.invoiceData&&r.jsxs(X,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-blue-900",children:[r.jsx(Ye,{className:"w-6 h-6"})," Datos de Factura Extrados"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Proveedor"}),r.jsx("p",{className:"font-bold text-lg",children:o.invoiceData.provider_name||"-"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Nmero de Factura"}),r.jsx("p",{className:"font-bold text-lg",children:o.invoiceData.invoice_number||"-"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Fecha"}),r.jsx("p",{className:"font-bold text-lg",children:o.invoiceData.invoice_date||"-"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total"}),r.jsx("p",{className:"font-bold text-2xl text-green-600",children:o.invoiceData.total?`${o.invoiceData.total}`:"-"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"IVA"}),r.jsx("p",{className:"font-bold text-lg",children:o.invoiceData.iva?`${o.invoiceData.iva}`:"-"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Estado"}),r.jsx(be,{className:"bg-yellow-500 text-white",children:"Pendiente"})]})]})})]}),o.createdInvoice&&o.fileUrl&&r.jsxs(X,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-green-900",children:[r.jsx(Ke,{className:"w-6 h-6"})," Factura Lista para Biloop"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ubicacin de almacenamiento:"}),r.jsxs("p",{className:"font-mono text-sm bg-gray-100 p-3 rounded border",children:[" ",o.invoiceData.provider_name,"/",o.invoiceData.invoice_date||"sin_fecha","/"]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Archivo PDF:"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ye,{className:"w-8 h-8 text-red-600"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[o.invoiceData.invoice_number||"factura",".pdf"]}),r.jsx("a",{href:o.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"Ver PDF "})]})]})]}),r.jsx("div",{className:"bg-green-100 p-4 rounded-lg border-2 border-green-400",children:r.jsx("p",{className:"text-sm font-medium text-green-900",children:" Esta factura est lista para subirse a Biloop. Organizada por proveedor y fecha."})})]})]}),o.createdProvider&&r.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Yn,{className:"w-5 h-5 text-purple-600"}),r.jsx("p",{className:"font-medium text-purple-900",children:" Proveedor Creado"})]}),r.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Nombre:"})," ",o.createdProvider.name]}),o.createdProvider.cif&&r.jsxs("p",{children:[r.jsx("strong",{children:"CIF:"})," ",o.createdProvider.cif]}),o.createdProvider.email&&r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",o.createdProvider.email]})]})]}),!o.createdInvoice&&!o.createdProvider&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-gray-700",children:" Email procesado y guardado, pero no se detectaron facturas ni proveedores nuevos."})})]}):r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-red-700",children:o.error})})})]})]}),r.jsxs(nn,{value:"inbox",className:"space-y-6 mt-6",children:[r.jsx(X,{className:"border-none shadow-lg",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsx(He,{placeholder:"Buscar por remitente o asunto...",value:p,onChange:P=>x(P.target.value),className:"w-full"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:h,onChange:P=>f(P.target.value),className:"border rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"Todas las prioridades"}),r.jsx("option",{value:"alta",children:"Alta prioridad"}),r.jsx("option",{value:"media",children:"Media prioridad"}),r.jsx("option",{value:"baja",children:"Baja prioridad"})]})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>{u("all"),f("all"),x("")},children:"Limpiar filtros"})]})})}),S.length===0?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(rb,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"No hay emails procesados"}),r.jsx("p",{className:"text-gray-600",children:"Procesa tu primer email para verlo aqu"})]})}):r.jsx("div",{className:"space-y-4",children:Object.entries(E).map(([P,R])=>{if(R.length===0)return null;const $=A[P],D=$.icon;return r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{className:`${$.bg} border-b`,children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx(D,{className:`w-6 h-6 ${$.color}`}),r.jsx("span",{className:"capitalize",children:P}),r.jsxs(be,{variant:"outline",children:[R.length," emails"]})]})}),r.jsx(Q,{className:"p-4",children:r.jsx("div",{className:"space-y-3",children:R.map(M=>{var B,J,Y,W,se,q,V,U;return r.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border hover:border-gray-300 transition-all",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("p",{className:"font-medium",children:M.subject||"Sin asunto"}),((B=M.extracted_data)==null?void 0:B.importance)&&r.jsxs(be,{className:k[M.extracted_data.importance],children:[M.extracted_data.importance==="alta"?"":M.extracted_data.importance==="media"?"":"",M.extracted_data.importance]}),((J=M.extracted_data)==null?void 0:J.is_new_sender)&&r.jsx(be,{className:"bg-blue-100 text-blue-800",children:" Remitente Nuevo"}),((Y=M.extracted_data)==null?void 0:Y.requires_action)&&r.jsx(be,{className:"bg-red-100 text-red-800",children:" Requiere Accin"}),((W=M.extracted_data)==null?void 0:W.reviewed)&&r.jsx(be,{className:"bg-green-100 text-green-800",children:" Revisado"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ma,{className:"w-3 h-3"}),M.sender]}),M.received_date&&r.jsx("span",{children:Qi(new Date(M.received_date))&&Ge(new Date(M.received_date),"dd/MM/yyyy HH:mm")}),((se=M.extracted_data)==null?void 0:se.sender_type)&&r.jsx(be,{variant:"outline",className:"text-xs",children:M.extracted_data.sender_type})]}),M.body&&r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer hover:underline",children:"Ver contenido completo del email"}),r.jsx("div",{className:"mt-2 p-3 bg-white rounded border text-sm text-gray-700 max-h-40 overflow-y-auto",children:M.body})]}),((q=M.extracted_data)==null?void 0:q.summary)&&r.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:" Resumen IA:"}),r.jsx("p",{className:"text-sm text-gray-700",children:M.extracted_data.summary})]}),M.action_taken&&r.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[r.jsx(Ke,{className:"w-3 h-3"}),M.action_taken]}),((V=M.extracted_data)==null?void 0:V.keywords)&&M.extracted_data.keywords.length>0&&r.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:M.extracted_data.keywords.slice(0,5).map((F,K)=>r.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded",children:F},K))})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{var F;return N.mutate({id:M.id,reviewed:!((F=M.extracted_data)!=null&&F.reviewed)})},children:r.jsx(Ke,{className:`w-4 h-4 ${(U=M.extracted_data)!=null&&U.reviewed?"text-green-600":"text-gray-400"}`})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(M.sender),fe.success("Remitente copiado")},children:r.jsx(Ma,{className:"w-4 h-4 text-blue-600"})})]})]},M.id)})})})]},P)})})]})]})]})})}function DX(){return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("h1",{className:"text-5xl font-black text-white mb-3 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center shadow-2xl",children:r.jsx(Ma,{className:"w-8 h-8 text-white"})}),"CONFIGURAR GMAIL"]}),r.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Gua para conectar info@chickenpalace.es con SYNK-IA"}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 mb-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-t-xl",children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"1"}),"Activar Autenticacin de 2 Pasos en Google"]})}),r.jsxs(Q,{className:"p-6 text-gray-300",children:[r.jsxs("ol",{className:"space-y-3 list-decimal list-inside",children:[r.jsxs("li",{children:["Accede a tu cuenta de Google: ",r.jsxs("a",{href:"https://myaccount.google.com",target:"_blank",className:"text-blue-400 hover:underline inline-flex items-center gap-1",children:["myaccount.google.com ",r.jsx(Ui,{className:"w-3 h-3"})]})]}),r.jsxs("li",{children:["Ve a ",r.jsx("strong",{className:"text-white",children:"Seguridad"})," en el men lateral"]}),r.jsxs("li",{children:["Busca ",r.jsx("strong",{className:"text-white",children:'"Verificacin en dos pasos"'})," y actvala"]}),r.jsx("li",{children:"Sigue los pasos para configurar tu telfono"})]}),r.jsx("div",{className:"mt-4 p-4 bg-yellow-900/20 border border-yellow-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bn,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-400 font-bold",children:"Importante"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Sin la verificacin en 2 pasos activada, no podrs generar contraseas de aplicacin."})]})]})})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 mb-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-t-xl",children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"2"}),"Generar Contrasea de Aplicacin"]})}),r.jsxs(Q,{className:"p-6 text-gray-300",children:[r.jsxs("ol",{className:"space-y-3 list-decimal list-inside",children:[r.jsxs("li",{children:["En ",r.jsx("strong",{className:"text-white",children:"Seguridad"}),", busca ",r.jsx("strong",{className:"text-white",children:'"Contraseas de aplicaciones"'})]}),r.jsxs("li",{children:["O accede directamente: ",r.jsxs("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",className:"text-blue-400 hover:underline inline-flex items-center gap-1",children:["myaccount.google.com/apppasswords ",r.jsx(Ui,{className:"w-3 h-3"})]})]}),r.jsx("li",{children:"Es posible que te pida confirmar tu contrasea"}),r.jsxs("li",{children:["En ",r.jsx("strong",{className:"text-white",children:'"Selecciona la app"'}),", elige ",r.jsx("strong",{className:"text-white",children:'"Correo"'})]}),r.jsxs("li",{children:["En ",r.jsx("strong",{className:"text-white",children:'"Selecciona el dispositivo"'}),", elige ",r.jsx("strong",{className:"text-white",children:'"Otro (nombre personalizado)"'})]}),r.jsxs("li",{children:["Escribe: ",r.jsx("strong",{className:"text-white",children:"SYNK-IA"})]}),r.jsxs("li",{children:["Haz clic en ",r.jsx("strong",{className:"text-white",children:'"Generar"'})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-blue-900/20 border border-blue-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(iu,{className:"w-5 h-5 text-blue-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-400 font-bold",children:"Google te mostrar una contrasea de 16 caracteres"}),r.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Ejemplo: ",r.jsx("code",{className:"bg-slate-900 px-2 py-1 rounded text-yellow-400",children:"abcd efgh ijkl mnop"})]}),r.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:[r.jsx("strong",{children:"CPIALA AHORA!"})," Google solo la muestra una vez."]})]})]})})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 mb-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-t-xl",children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-bold",children:"3"}),"Configurar en Base44 (Dashboard)"]})}),r.jsxs(Q,{className:"p-6 text-gray-300",children:[r.jsxs("ol",{className:"space-y-3 list-decimal list-inside",children:[r.jsxs("li",{children:["Ve al Dashboard de Base44: ",r.jsxs("a",{href:"https://base44.com",target:"_blank",className:"text-blue-400 hover:underline inline-flex items-center gap-1",children:["base44.com ",r.jsx(Ui,{className:"w-3 h-3"})]})]}),r.jsxs("li",{children:["Navega a ",r.jsx("strong",{className:"text-white",children:"Settings  Environment Variables"})]}),r.jsxs("li",{children:["Busca o crea el secret: ",r.jsx("code",{className:"bg-slate-900 px-2 py-1 rounded text-yellow-400",children:"EMAIL_APP_PASSWORD"})]}),r.jsxs("li",{children:["Pega la contrasea de 16 caracteres (sin espacios): ",r.jsx("code",{className:"bg-slate-900 px-2 py-1 rounded text-yellow-400",children:"abcdefghijklmnop"})]}),r.jsx("li",{children:"Guarda los cambios"})]}),r.jsx("div",{className:"mt-4 p-4 bg-green-900/20 border border-green-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-green-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-400 font-bold",children:"Listo!"}),r.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"SYNK-IA ya podr conectarse automticamente a info@chickenpalace.es"})]})]})})]})]}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-r from-orange-600 to-red-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-3",children:" Verificar Conexin"}),r.jsx("p",{className:"mb-4",children:"Una vez configurado el secret, ve a:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"bg-white/20 p-3 rounded-lg",children:[r.jsx("strong",{children:"API Diagnostics"}),"  Testear Email"]}),r.jsxs("div",{className:"bg-white/20 p-3 rounded-lg",children:[r.jsx("strong",{children:"Automation Hub"}),"  Email Processor  Ejecutar"]})]})]})}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 mt-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-t-xl",children:r.jsxs(Pe,{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"w-6 h-6"}),"Solucin de Problemas"]})}),r.jsxs(Q,{className:"p-6 text-gray-300 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:' Error: "Invalid credentials"'}),r.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:"Verifica que copiaste la contrasea SIN espacios"}),r.jsx("li",{children:"Asegrate de que la verificacin en 2 pasos est activa"}),r.jsx("li",{children:"Genera una nueva contrasea de aplicacin"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:' No puedo ver "Contraseas de aplicaciones"'}),r.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:"Primero activa la verificacin en 2 pasos"}),r.jsx("li",{children:"Espera unos minutos y recarga la pgina"}),r.jsx("li",{children:"Asegrate de estar usando info@chickenpalace.es (no otra cuenta)"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:' "Connection timeout"'}),r.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[r.jsx("li",{children:"Verifica que Gmail est habilitado para IMAP"}),r.jsx("li",{children:"Ve a Gmail  Configuracin  Ver toda la configuracin  Reenvo y correo POP/IMAP"}),r.jsx("li",{children:'Activa "Habilitar IMAP"'})]})]})]})]})]})})}function IX(){const[e,t]=j.useState(null),[n,s]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState({email:"",provider:"gmail",app_password:""}),c=Kt(),{data:u=[]}=Be({queryKey:["email-accounts"],queryFn:()=>ee.entities.EmailAccount.list(),initialData:[]}),{data:h=[]}=Be({queryKey:["classified-emails"],queryFn:async()=>await ee.entities.EmailMessage.list("-received_date",100),initialData:[]}),f=Bt({mutationFn:N=>ee.entities.EmailAccount.create(N),onSuccess:()=>{c.invalidateQueries({queryKey:["email-accounts"]}),i(!1),l({email:"",provider:"gmail",app_password:""}),fe.success(" Cuenta aadida")}}),p=async()=>{var N;s(!0);try{fe.info(" Conectando con Gmail...");const _=await ee.functions.invoke("testGmailConnection");if(!_.data.success){fe.error(` Gmail: ${_.data.error||"Error de conexin"}`),s(!1);return}fe.success(` Gmail conectado: ${_.data.inbox_count} emails`);const S=await ee.entities.EmailAccount.list(),E=_.data.email;if(!S.find(k=>k.email===E))await ee.entities.EmailAccount.create({email:E,provider:"gmail",status:"activa",auto_classify:!0,emails_processed:0,last_sync:new Date().toISOString()});else{const k=S.find(P=>P.email===E);await ee.entities.EmailAccount.update(k.id,{status:"activa",last_sync:new Date().toISOString()})}c.invalidateQueries({queryKey:["email-accounts"]}),fe.info(" Sincronizando emails...");const A=await ee.functions.invoke("smartEmailProcessor");A.data.success?(fe.success(` ${((N=A.data.results)==null?void 0:N.new_emails)||0} emails nuevos procesados`),c.invalidateQueries({queryKey:["classified-emails"]}),c.invalidateQueries({queryKey:["email-accounts"]})):fe.error(A.data.error||"Error sincronizando")}catch(_){console.error("Error:",_),fe.error("Error: "+_.message)}finally{s(!1)}},x={factura:h.filter(N=>N.category==="factura"),proveedor:h.filter(N=>N.category==="proveedor"),rrhh:h.filter(N=>N.category==="rrhh"),gestoria:h.filter(N=>N.category==="gestoria"),otros:h.filter(N=>!["factura","proveedor","rrhh","gestoria"].includes(N.category))},b=[{id:"factura",name:"Facturas",icon:Ye,color:"bg-green-50 border-green-300",iconColor:"text-green-600"},{id:"proveedor",name:"Proveedores",icon:Yn,color:"bg-blue-50 border-blue-300",iconColor:"text-blue-600"},{id:"rrhh",name:"RRHH",icon:ln,color:"bg-purple-50 border-purple-300",iconColor:"text-purple-600"},{id:"gestoria",name:"Gestora",icon:B0,color:"bg-orange-50 border-orange-300",iconColor:"text-orange-600"},{id:"otros",name:"Otros",icon:eb,color:"bg-gray-50 border-gray-300",iconColor:"text-gray-600"}],v=h.length,y=h.filter(N=>N.auto_archived||N.category).length;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:r.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Gn,{className:"w-8 h-8 text-purple-600"}),"Centro de Clasificacin Automtica"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"La IA escanea y clasifica tus emails automticamente"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsx(ae,{onClick:p,disabled:n,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",size:"lg",children:n?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Clasificando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ou,{className:"w-5 h-5 mr-2"}),"Escanear y Clasificar Todo"]})})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-purple-400 to-pink-500 text-white",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Cuentas Activas"}),r.jsx("p",{className:"text-3xl font-bold",children:u.filter(N=>N.status==="activa").length})]}),r.jsx(Ma,{className:"w-10 h-10 opacity-80"})]})})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-green-400 to-emerald-500 text-white",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Clasificados Total"}),r.jsx("p",{className:"text-3xl font-bold",children:v})]}),r.jsx(Ke,{className:"w-10 h-10 opacity-80"})]})})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-blue-400 to-cyan-500 text-white",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Auto-Clasificados"}),r.jsx("p",{className:"text-3xl font-bold",children:y})]}),r.jsx(Gn,{className:"w-10 h-10 opacity-80"})]})})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-yellow-400 to-orange-500 text-white",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Precisin IA"}),r.jsx("p",{className:"text-3xl font-bold",children:"98%"})]}),r.jsx(ur,{className:"w-10 h-10 opacity-80"})]})})})]})]}),u.length>0&&r.jsxs(X,{className:"mb-6 border-none shadow-lg",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"w-5 h-5 text-purple-600"}),"Cuentas Configuradas"]})}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(N=>r.jsx(X,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"w-4 h-4 text-purple-600"}),r.jsx("p",{className:"font-medium text-sm",children:N.email})]}),r.jsx(be,{className:N.status==="activa"?"bg-green-100 text-green-800":N.status==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:N.status})]}),r.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[r.jsxs("p",{children:[" Procesados: ",N.emails_processed||0]}),N.last_sync&&r.jsxs("p",{children:[" ltimo sync: ",Ge(new Date(N.last_sync),"dd/MM HH:mm")]}),r.jsxs("p",{children:[" Auto-clasificacin: ",N.auto_classify?" Activa":" Inactiva"]})]})]})},N.id))})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(N=>{const _=N.icon,S=x[N.id]||[];return r.jsxs(X,{className:`border-none shadow-lg ${N.color} border-2`,children:[r.jsx(ke,{className:"pb-3",children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(_,{className:`w-5 h-5 ${N.iconColor}`}),N.name,r.jsx(be,{variant:"outline",className:"ml-auto",children:S.length})]})}),r.jsx(Q,{className:"p-3",children:r.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:S.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_,{className:`w-12 h-12 mx-auto mb-2 opacity-20 ${N.iconColor}`}),r.jsx("p",{className:"text-sm text-gray-500",children:"Sin emails"})]}):S.map(E=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border cursor-pointer hover:border-purple-300 transition-all",onClick:()=>t(E),children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsx("p",{className:"font-medium text-sm truncate flex-1",children:E.subject||"Sin asunto"}),r.jsxs(be,{className:"bg-purple-100 text-purple-800 text-xs flex-shrink-0",children:[r.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Auto"]})]}),r.jsx("p",{className:"text-xs text-gray-600 truncate mb-1",children:E.sender_name||E.sender_email}),E.received_date&&r.jsx("p",{className:"text-xs text-gray-500",children:Qi(new Date(E.received_date))&&Ge(new Date(E.received_date),"dd/MM HH:mm")}),E.priority&&r.jsxs(be,{className:`text-xs mt-2 ${E.priority==="alta"?"bg-red-100 text-red-800":E.priority==="media"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[E.priority==="alta"?"":E.priority==="media"?"":"",E.priority]})]},E.id))})})]},N.id)})}),r.jsx(Fn,{open:a,onOpenChange:i,children:r.jsxs(Pn,{children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(Vr,{className:"w-5 h-5 text-purple-600"}),"Aadir Cuenta de Correo"]})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"email",children:"Email"}),r.jsx(He,{id:"email",type:"email",value:o.email,onChange:N=>l({...o,email:N.target.value}),placeholder:"tu@email.com"})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"provider",children:"Proveedor"}),r.jsxs("select",{id:"provider",value:o.provider,onChange:N=>l({...o,provider:N.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[r.jsx("option",{value:"gmail",children:"Gmail"}),r.jsx("option",{value:"outlook",children:"Outlook"}),r.jsx("option",{value:"imap",children:"IMAP Genrico"})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"password",children:"Contrasea de Aplicacin"}),r.jsx(He,{id:"password",type:"password",value:o.app_password,onChange:N=>l({...o,app_password:N.target.value}),placeholder:"****"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para Gmail: Configuracin  Seguridad  Contraseas de aplicacin"})]}),r.jsxs(ae,{onClick:()=>f.mutate(o),disabled:!o.email||!o.app_password,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Aadir Cuenta"]})]})]})}),e&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>t(null),children:r.jsxs(X,{className:"max-w-3xl w-full max-h-[80vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[r.jsx(ke,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Pe,{className:"text-lg mb-2",children:e.subject||"Sin asunto"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"De:"})," ",e.sender_name||e.sender_email]}),e.received_date&&r.jsxs("p",{children:[r.jsx("strong",{children:"Fecha:"})," ",Ge(new Date(e.received_date),"dd/MM/yyyy HH:mm")]}),r.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[r.jsx(be,{children:e.category}),r.jsx(be,{className:`${e.priority==="alta"?"bg-red-100 text-red-800":e.priority==="media"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e.priority}),r.jsxs(be,{className:"bg-purple-100 text-purple-800",children:[r.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Auto-clasificado"]})]})]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>t(null),children:""})]})}),r.jsxs(Q,{className:"p-6",children:[e.body_preview&&r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border mb-4",children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.body_preview})}),e.ai_summary&&r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mb-4",children:[r.jsx("p",{className:"text-xs text-blue-600 font-medium mb-2",children:" Resumen IA:"}),r.jsx("p",{className:"text-sm text-gray-700",children:e.ai_summary})]}),e.ai_action&&r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-green-600 font-medium mb-2",children:" Accin sugerida:"}),r.jsx("p",{className:"text-sm text-gray-700",children:e.ai_action})]})]})]})})]})})}function LX(){const[e,t]=j.useState(null),[n,s]=j.useState(new Date);j.useEffect(()=>{(async()=>{try{const b=await ee.auth.me();t(b)}catch(b){console.error("Error loading user:",b)}})();const x=setInterval(()=>s(new Date),1e3);return()=>clearInterval(x)},[]);const{data:a=[]}=Be({queryKey:["my-payrolls"],queryFn:async()=>(await ee.entities.Payroll.list("-period",3)).filter(x=>x.employee_id===(e==null?void 0:e.id)||x.employee_name===(e==null?void 0:e.full_name)),enabled:!!e}),{data:i=[]}=Be({queryKey:["my-vacation-requests"],queryFn:async()=>(await ee.entities.VacationRequest.list("-created_date",5)).filter(x=>x.employee_id===(e==null?void 0:e.id)||x.employee_name===(e==null?void 0:e.full_name)),enabled:!!e}),{data:o}=Be({queryKey:["today-timesheet"],queryFn:async()=>{const p=Ge(new Date,"yyyy-MM-dd");return(await ee.entities.Timesheet.list("-created_date",10)).find(b=>b.date===p&&(b.user_id===(e==null?void 0:e.id)||b.user_name===(e==null?void 0:e.full_name)))},enabled:!!e}),l=a[0],c=i.filter(p=>p.status==="pendiente").length,u=i.filter(p=>p.status==="aprobada").reduce((p,x)=>p+(x.total_days||0),0),h=((e==null?void 0:e.vacation_days_available)||22)-u,f=[{title:"Fichar",icon:$t,to:ft("Timesheets"),color:"from-blue-500 to-blue-700",description:o!=null&&o.check_in&&!(o!=null&&o.check_out)?"Fichar salida":"Fichar entrada"},{title:"Mis Nminas",icon:rn,to:ft("Payrolls"),color:"from-green-500 to-emerald-600",description:l?`ltima: ${l.net_salary}`:"Ver nminas"},{title:"Vacaciones",icon:xE,to:ft("VacationRequests"),color:"from-orange-500 to-red-500",description:`${h} das disponibles`},{title:"Mi Contrato",icon:Ye,to:ft("Contracts"),color:"from-purple-500 to-pink-600",description:"Ver detalles"},{title:"Asistente RRHH",icon:Wi,to:ft("HRAgent"),color:"from-pink-500 to-purple-600",description:"Chatear con IA"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 pb-20",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 pb-32",children:r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Bienvenido/a"}),r.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.full_name)||"Empleado"}),r.jsx("p",{className:"text-sm opacity-75",children:(e==null?void 0:e.position)||""})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-bold",children:Ge(n,"HH:mm")}),r.jsx("p",{className:"text-sm opacity-75",children:Ge(n,"dd/MM/yyyy")})]})]})})}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 -mt-24 mb-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(X,{className:"border-none shadow-lg bg-white",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(xE,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:h}),r.jsx("p",{className:"text-xs text-gray-600",children:"Das libres"})]})}),r.jsx(X,{className:"border-none shadow-lg bg-white",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(Sn,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:c}),r.jsx("p",{className:"text-xs text-gray-600",children:"Pendientes"})]})}),r.jsx(X,{className:"border-none shadow-lg bg-white",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(rn,{className:"w-6 h-6 text-green-500 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:a.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Nminas"})]})})]})}),o&&r.jsx("div",{className:"max-w-2xl mx-auto px-4 mb-6",children:r.jsx(X,{className:"border-none shadow-lg bg-white",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx($t,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Fichaje de hoy"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Entrada: ",o.check_in||"No fichada",o.check_out&&`  Salida: ${o.check_out}`]})]})]}),o.status==="completo"?r.jsx(Ke,{className:"w-6 h-6 text-green-500"}):r.jsx(bn,{className:"w-6 h-6 text-orange-500"})]})})})}),r.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Acciones rpidas"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map((p,x)=>r.jsx(fn,{to:p.to,children:r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all h-full",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${p.color} rounded-xl flex items-center justify-center mb-3`,children:r.jsx(p.icon,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"font-semibold mb-1",children:p.title}),r.jsx("p",{className:"text-xs text-gray-600",children:p.description})]})})},x))})]}),i.length>0&&r.jsxs("div",{className:"max-w-2xl mx-auto px-4 mt-6",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Mis ltimas solicitudes"}),r.jsx("div",{className:"space-y-3",children:i.slice(0,3).map(p=>r.jsx(X,{className:"border-none shadow-lg",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Sn,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold capitalize",children:p.request_type}),r.jsxs("p",{className:"text-sm text-gray-600",children:[p.start_date?Ge(new Date(p.start_date),"dd/MM"):""," - ",p.end_date?Ge(new Date(p.end_date),"dd/MM"):""," (",p.total_days," das)"]})]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="aprobada"?"bg-green-100 text-green-800":p.status==="rechazada"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:p.status})]})})},p.id))})]})]})}function FX(){const[e,t]=j.useState(!1),n=Kt(),{data:s=[]}=Be({queryKey:["reports"],queryFn:()=>ee.entities.Report.list("-created_date"),initialData:[]}),a=Bt({mutationFn:o=>ee.entities.Report.delete(o),onSuccess:()=>{n.invalidateQueries({queryKey:["reports"]}),fe.success("Reporte eliminado")}}),i=async()=>{t(!0);try{await ee.functions.invoke("generateExecutiveReport"),n.invalidateQueries({queryKey:["reports"]}),fe.success("Reporte generado correctamente")}catch(o){fe.error("Error generando reporte"),console.error(o)}finally{t(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-5xl font-black text-white mb-3 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl",children:r.jsx(Ye,{className:"w-8 h-8 text-white"})}),"REPORTES EJECUTIVOS"]}),r.jsx("p",{className:"text-xl text-gray-400",children:"Anlisis automtico con IA  Insights accionables  Exportacin profesional"})]}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-r from-purple-600 to-pink-600 text-white mb-8",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ur,{className:"w-8 h-8 animate-pulse"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:"Generar Nuevo Reporte"}),r.jsx("p",{className:"text-sm opacity-90",children:"IA analizar todos tus datos en tiempo real"})]})]}),r.jsx(ae,{onClick:i,disabled:e,size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 font-bold",children:e?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Generando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ur,{className:"w-5 h-5 mr-2"}),"Generar Ahora"]})})]})})}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.length===0?r.jsx(X,{className:"border-none shadow-xl bg-slate-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Ye,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No hay reportes generados"}),r.jsx(ae,{onClick:i,className:"bg-purple-600 hover:bg-purple-700",children:"Generar Primer Reporte"})]})}):s.map(o=>{var l,c,u;return r.jsxs(X,{className:"border-none shadow-2xl bg-gradient-to-br from-slate-800 to-slate-900 hover:scale-[1.01] transition-all",children:[r.jsx(ke,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-t-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Pe,{className:"text-2xl mb-2",children:o.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm opacity-90",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Sn,{className:"w-4 h-4"}),Ge(new Date(o.created_date),"dd/MM/yyyy HH:mm")]}),r.jsx(be,{className:"bg-white/20",children:o.type}),r.jsx(be,{className:"bg-white/20",children:o.period})]})]}),r.jsx(be,{className:o.status==="completado"?"bg-green-600":"bg-yellow-600",children:o.status})]})}),r.jsxs(Q,{className:"p-6 space-y-6",children:[((l=o.data)==null?void 0:l.summary)&&r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 p-4 rounded-xl border border-blue-700",children:[r.jsx(rn,{className:"w-6 h-6 text-blue-400 mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Gastos"}),r.jsxs("p",{className:"text-2xl font-black text-white",children:[Math.round(o.data.summary.total_spending),""]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 p-4 rounded-xl border border-green-700",children:[r.jsx(En,{className:"w-6 h-6 text-green-400 mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Ingresos"}),r.jsxs("p",{className:"text-2xl font-black text-white",children:[Math.round(o.data.summary.total_revenue),""]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 p-4 rounded-xl border border-purple-700",children:[r.jsx(sre,{className:"w-6 h-6 text-purple-400 mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Margen"}),r.jsxs("p",{className:"text-2xl font-black text-white",children:[(c=o.data.summary.profit_margin)==null?void 0:c.toFixed(1),"%"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 p-4 rounded-xl border border-orange-700",children:[r.jsx(Ye,{className:"w-6 h-6 text-orange-400 mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Facturas"}),r.jsx("p",{className:"text-2xl font-black text-white",children:o.data.summary.total_invoices})]})]}),o.insights&&o.insights.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-yellow-400"}),"Insights IA"]}),o.insights.map((h,f)=>r.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/30 to-purple-900/30 p-4 rounded-xl border border-indigo-700",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("p",{className:"font-bold text-white",children:h.title}),r.jsx(be,{className:h.priority==="alta"?"bg-red-600":h.priority==="media"?"bg-yellow-600":"bg-green-600",children:h.priority})]}),r.jsx("p",{className:"text-sm text-gray-300 mb-2",children:h.description}),r.jsxs("p",{className:"text-xs text-blue-400",children:[" ",h.recommendation]})]},f))]}),((u=o.data)==null?void 0:u.top_providers)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold mb-3",children:"Top Proveedores"}),r.jsx("div",{className:"space-y-2",children:o.data.top_providers.map((h,f)=>r.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-900/50 rounded-lg border border-slate-700",children:[r.jsxs("span",{className:"text-white",children:[f+1,". ",h.name]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-white",children:[h.amount,""]}),r.jsxs("p",{className:"text-xs text-gray-400",children:[h.percentage,"%"]})]})]},f))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[r.jsxs(ae,{className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]}),r.jsxs(ae,{className:"flex-1 bg-green-600 hover:bg-green-700",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Exportar Excel"]}),r.jsx(ae,{variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",onClick:()=>a.mutate(o.id),children:r.jsx(ore,{className:"w-4 h-4"})})]})]})]},o.id)})})]})})}function zX(){const[e,t]=j.useState("resumen"),{data:n=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list("-invoice_date")}),{data:s=[]}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list()}),{data:a=[]}=Be({queryKey:["products"],queryFn:()=>ee.entities.Product.list("-total_spent")}),{data:i=[]}=Be({queryKey:["sales-invoices"],queryFn:()=>ee.entities.SalesInvoice.list("-invoice_date")}),o=n.reduce((A,k)=>A+(k.total||0),0),l=i.reduce((A,k)=>A+(k.total||0),0),c=n.filter(A=>A.status==="pendiente").reduce((A,k)=>A+(k.total||0),0),u=i.filter(A=>A.status!=="pagada").reduce((A,k)=>A+(k.total||0),0),h=l-o,f=n.filter(A=>A.status==="vencida"),p=a.filter(A=>A.price_trend==="subiendo").slice(0,5),x=n.reduce((A,k)=>{const P=k.provider_name||"Sin proveedor";return A[P]=(A[P]||0)+(k.total||0),A},{}),b=Object.entries(x).sort((A,k)=>k[1]-A[1]).slice(0,5).map(([A,k])=>({name:A,total:k})),v=n.reduce((A,k)=>{if(k.invoice_date){const P=k.invoice_date.substring(0,7);A[P]||(A[P]={month:P,gastos:0,ingresos:0}),A[P].gastos+=k.total||0}return A},{});i.forEach(A=>{if(A.invoice_date){const k=A.invoice_date.substring(0,7);v[k]||(v[k]={month:k,gastos:0,ingresos:0}),v[k].ingresos+=A.total||0}});const y=Object.values(v).sort((A,k)=>A.month.localeCompare(k.month)).slice(-6),N=n.reduce((A,k)=>{const P=k.category||"otros";return A[P]||(A[P]={name:P,value:0}),A[P].value+=k.total||0,A},{}),_=Object.values(N),S=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],E=A=>{if(!A)return"";const k=new Date(A);return Qi(k)?Ge(k,"dd/MM/yyyy"):""};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Panel Financiero  Vista Unificada"})]}),r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(hO,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"FINANZAS"})]}),r.jsx("p",{className:"text-lg text-zinc-400",children:"Todo tu negocio en una vista"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-green-600 to-emerald-700 text-white",children:r.jsxs(Q,{className:"p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(dO,{className:"w-6 h-6 opacity-80"}),r.jsx(En,{className:"w-4 h-4"})]}),r.jsx("p",{className:"text-xs opacity-80",children:"Ingresos"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-red-600 to-rose-700 text-white",children:r.jsxs(Q,{className:"p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(tb,{className:"w-6 h-6 opacity-80"}),r.jsx(la,{className:"w-4 h-4"})]}),r.jsx("p",{className:"text-xs opacity-80",children:"Gastos"}),r.jsxs("p",{className:"text-2xl font-bold",children:[o.toFixed(0),""]})]})}),r.jsx(X,{className:`border-none shadow-xl text-white ${h>=0?"bg-gradient-to-br from-blue-600 to-indigo-700":"bg-gradient-to-br from-orange-600 to-red-700"}`,children:r.jsxs(Q,{className:"p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(rn,{className:"w-6 h-6 opacity-80"}),h>=0?r.jsx(En,{className:"w-4 h-4"}):r.jsx(la,{className:"w-4 h-4"})]}),r.jsx("p",{className:"text-xs opacity-80",children:"Margen"}),r.jsxs("p",{className:"text-2xl font-bold",children:[h.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-yellow-600 to-orange-600 text-white",children:r.jsxs(Q,{className:"p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx($t,{className:"w-6 h-6 opacity-80"}),r.jsx(wn,{className:"w-4 h-4"})]}),r.jsx("p",{className:"text-xs opacity-80",children:"Pdte Pagar"}),r.jsxs("p",{className:"text-2xl font-bold",children:[c.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-purple-600 to-violet-700 text-white",children:r.jsxs(Q,{className:"p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx($t,{className:"w-6 h-6 opacity-80"}),r.jsx(Ke,{className:"w-4 h-4"})]}),r.jsx("p",{className:"text-xs opacity-80",children:"Pdte Cobrar"}),r.jsxs("p",{className:"text-2xl font-bold",children:[u.toFixed(0),""]})]})})]}),(f.length>0||p.length>0)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[f.length>0&&r.jsx(fn,{to:ft("BiloopImport"),children:r.jsx(X,{className:"border-none shadow-xl bg-red-900/30 border border-red-500/30 hover:bg-red-900/50 hover:border-red-500/50 transition-all cursor-pointer",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(wn,{className:"w-5 h-5 text-red-400"}),r.jsxs("span",{className:"font-bold text-red-400",children:[" ",f.length," Facturas Vencidas"]})]}),r.jsx("div",{className:"space-y-2",children:f.slice(0,3).map(A=>{var k;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300",children:A.provider_name}),r.jsxs("span",{className:"text-red-400 font-bold",children:[(k=A.total)==null?void 0:k.toFixed(2),""]})]},A.id)})})]})})}),p.length>0&&r.jsx(fn,{to:ft("ProductInventory"),children:r.jsx(X,{className:"border-none shadow-xl bg-orange-900/30 border border-orange-500/30 hover:bg-orange-900/50 hover:border-orange-500/50 transition-all cursor-pointer",children:r.jsxs(Q,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(En,{className:"w-5 h-5 text-orange-400"}),r.jsx("span",{className:"font-bold text-orange-400",children:" Precios Subiendo"})]}),r.jsx("div",{className:"space-y-2",children:p.map(A=>{var k;return r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300 truncate",children:A.name}),r.jsxs(be,{className:"bg-orange-600 text-white",children:["+",(k=A.price_change_percent)==null?void 0:k.toFixed(1),"%"]})]},A.id)})})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800 lg:col-span-2",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Evolucin Mensual"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:250,children:r.jsxs(ql,{data:y,children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{dataKey:"month",stroke:"#9ca3af"}),r.jsx(hs,{stroke:"#9ca3af"}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1f2937",border:"none"}}),r.jsx(es,{dataKey:"ingresos",fill:"#10b981",name:"Ingresos"}),r.jsx(es,{dataKey:"gastos",fill:"#ef4444",name:"Gastos"})]})})})]}),r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Gastos por Categora"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:250,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:_,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:A})=>A,children:_.map((A,k)=>r.jsx(Ko,{fill:S[k%S.length]},`cell-${k}`))}),r.jsx(Nn,{formatter:A=>`${A.toFixed(0)}`})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(fn,{to:ft("Providers"),children:r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-purple-500/50 transition-all cursor-pointer h-full",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-white text-lg",children:"Top Proveedores"}),r.jsx(Xn,{className:"w-4 h-4 text-blue-400"})]}),r.jsxs(Q,{className:"space-y-3",children:[b.map((A,k)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold ${k<3?"bg-blue-600":"bg-slate-600"}`,children:k+1}),r.jsx("span",{className:"text-gray-300 truncate",children:A.name})]}),r.jsxs("span",{className:"text-white font-bold",children:[A.total.toFixed(0),""]})]},k)),b.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Sin datos"})]})]})}),r.jsx(fn,{to:ft("BiloopImport"),children:r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-blue-500/50 transition-all cursor-pointer h-full",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-white text-lg",children:"ltimas Compras"}),r.jsx(Xn,{className:"w-4 h-4 text-blue-400"})]}),r.jsxs(Q,{className:"space-y-3",children:[n.slice(0,5).map(A=>{var k;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-300 text-sm truncate",children:A.provider_name}),r.jsx("p",{className:"text-gray-500 text-xs",children:E(A.invoice_date)})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-white font-bold",children:[(k=A.total)==null?void 0:k.toFixed(2),""]}),r.jsx(be,{className:A.status==="pagada"?"bg-green-600":A.status==="vencida"?"bg-red-600":"bg-yellow-600",children:A.status})]})]},A.id)}),n.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Sin facturas"})]})]})}),r.jsx(fn,{to:ft("ProductInventory"),children:r.jsxs(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-emerald-500/50 transition-all cursor-pointer h-full",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsx(Pe,{className:"text-white text-lg",children:"Top Productos"}),r.jsx(Xn,{className:"w-4 h-4 text-blue-400"})]}),r.jsxs(Q,{className:"space-y-3",children:[a.slice(0,5).map((A,k)=>{var P;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold ${k<3?"bg-emerald-600":"bg-slate-600"}`,children:k+1}),r.jsx("span",{className:"text-gray-300 truncate text-sm",children:A.name})]}),r.jsxs("span",{className:"text-white font-bold",children:[(P=A.total_spent)==null?void 0:P.toFixed(0),""]})]},A.id)}),a.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-4",children:"Sin productos"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[r.jsx(fn,{to:ft("BiloopImport"),children:r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-blue-500/50 transition-all cursor-pointer",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(Ye,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:n.length}),r.jsx("p",{className:"text-sm text-gray-400",children:"Facturas Compra"})]})})}),r.jsx(fn,{to:ft("Billing"),children:r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-green-500/50 transition-all cursor-pointer",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(Ye,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:i.length}),r.jsx("p",{className:"text-sm text-gray-400",children:"Facturas Venta"})]})})}),r.jsx(fn,{to:ft("Providers"),children:r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-purple-500/50 transition-all cursor-pointer",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(ln,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:s.length}),r.jsx("p",{className:"text-sm text-gray-400",children:"Proveedores"})]})})}),r.jsx(fn,{to:ft("ProductInventory"),children:r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 hover:border-emerald-500/50 transition-all cursor-pointer",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(_n,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:a.length}),r.jsx("p",{className:"text-sm text-gray-400",children:"Productos"})]})})})]})]})})}function $X(){var J,Y;const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[c,u]=j.useState(null),[h,f]=j.useState([]),p=j.useRef(null),x=Kt(),{data:b=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list("-invoice_date"),initialData:[]}),{data:v=[]}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list(),initialData:[]}),y=Bt({mutationFn:W=>ee.entities.Invoice.delete(W),onSuccess:()=>{x.invalidateQueries({queryKey:["invoices"]}),fe.success("Factura eliminada")}}),N=W=>{if(!W)return null;const se=new Date(W);if(!Qi(se))return null;const q=Math.floor(se.getMonth()/3)+1;return`${se.getFullYear()}-Q${q}`},_=[...new Set(b.map(W=>N(W.invoice_date)).filter(Boolean))].sort().reverse(),S=b.filter(W=>{const se=a==="all"||N(W.invoice_date)===a,q=o==="all"||W.provider_name===o;return se&&q}),E=S.reduce((W,se)=>{const q=se.provider_name||"Sin clasificar";return W[q]||(W[q]=[]),W[q].push(se),W},{}),A=_.map(W=>{const se=b.filter(q=>N(q.invoice_date)===W);return{quarter:W,count:se.length,total:se.reduce((q,V)=>q+(V.total||0),0),paid:se.filter(q=>q.status==="pagada").length,pending:se.filter(q=>q.status==="pendiente").length}}),k=W=>{W.preventDefault(),W.stopPropagation(),W.type==="dragenter"||W.type==="dragover"?s(!0):W.type==="dragleave"&&s(!1)},P=async W=>{W.preventDefault(),W.stopPropagation(),s(!1);const se=Array.from(W.dataTransfer.files).filter(q=>q.type==="application/pdf"||q.type.startsWith("image/"));se.length>0&&await $(se)},R=async W=>{const se=Array.from(W.target.files);se.length>0&&await $(se)},$=async W=>{t(!0);let se=0;try{for(const q of W){const{file_url:V}=await ee.integrations.Core.UploadFile({file:q}),U=await ee.entities.Invoice.schema(),F=await ee.integrations.Core.ExtractDataFromUploadedFile({file_url:V,json_schema:U});F.status==="success"&&F.output&&(await ee.entities.Invoice.create({...F.output,file_url:V,status:F.output.status||"pendiente"}),se++)}fe.success(`${se} facturas procesadas correctamente`),x.invalidateQueries({queryKey:["invoices"]})}catch(q){fe.error("Error al procesar facturas"),console.error(q)}finally{t(!1)}},D=async()=>{const W=h.length>0?S.filter(V=>h.includes(V.id)):S;if(W.length===0){fe.error("No hay facturas para exportar");return}const se=W.reduce((V,U)=>{const F=U.provider_name||"Sin_proveedor";return V[F]||(V[F]=[]),V[F].push(U),V},{});fe.info("Descargando PDFs organizados por proveedor...");let q=0;for(const[V,U]of Object.entries(se))for(const F of U)if(F.file_url){const K=document.createElement("a");K.href=F.file_url;const te=`${V}/${F.invoice_number||"factura"}_${F.invoice_date||""}.pdf`;K.download=te.replace(/[/\\?%*:|"<>]/g,"_"),K.click(),q++,await new Promise(H=>setTimeout(H,300))}fe.success(`${q} PDFs descargados organizados por proveedor`)},M=W=>{f(se=>se.includes(W)?se.filter(q=>q!==W):[...se,W])},B=[...new Set(b.map(W=>W.provider_name).filter(Boolean))];return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(pE,{className:"w-8 h-8 text-blue-600"}),"Gestor de Facturas"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Organiza, clasifica y exporta tus facturas por trimestre"})]}),r.jsxs(ae,{onClick:D,disabled:S.length===0,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(La,{className:"w-5 h-5 mr-2"}),"Descargar PDFs (",h.length||S.length,")"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:A.slice(0,4).map(W=>r.jsx(X,{className:`border-none shadow-lg cursor-pointer transition-all ${a===W.quarter?"ring-2 ring-blue-500":""}`,onClick:()=>i(a===W.quarter?"all":W.quarter),children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Sn,{className:"w-6 h-6 text-blue-600"}),r.jsxs(be,{variant:"outline",children:[W.count," facturas"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:W.quarter}),r.jsxs("p",{className:"text-2xl font-bold",children:[W.total.toFixed(0),""]}),r.jsxs("div",{className:"flex gap-2 mt-2 text-xs",children:[r.jsxs("span",{className:"text-green-600",children:[W.paid," pagadas"]}),r.jsxs("span",{className:"text-orange-600",children:[W.pending," pendientes"]})]})]})},W.quarter))}),r.jsxs(X,{className:"border-none shadow-lg mb-8",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"w-5 h-5"}),"Subir Facturas en Lote"]})}),r.jsx(Q,{children:r.jsxs("div",{onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:P,className:`border-2 border-dashed rounded-xl p-8 text-center transition-all ${n?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("input",{ref:p,type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:R,multiple:!0,className:"hidden",disabled:e}),e?r.jsxs("div",{className:"space-y-4",children:[r.jsx(bt,{className:"w-12 h-12 text-blue-500 mx-auto animate-spin"}),r.jsx("p",{className:"text-sm font-medium",children:"Procesando facturas..."})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(_r,{className:"w-16 h-16 text-blue-600 mx-auto"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-medium mb-2",children:"Arrastra mltiples facturas aqu"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"La IA extraer todos los datos automticamente"}),r.jsxs(ae,{onClick:()=>{var W;return(W=p.current)==null?void 0:W.click()},className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Seleccionar Archivos"]})]})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Trimestre:"}),r.jsxs("select",{value:a,onChange:W=>i(W.target.value),className:"border rounded-lg px-3 py-1 text-sm",children:[r.jsx("option",{value:"all",children:"Todos"}),_.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yn,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Proveedor:"}),r.jsxs("select",{value:o,onChange:W=>l(W.target.value),className:"border rounded-lg px-3 py-1 text-sm",children:[r.jsx("option",{value:"all",children:"Todos"}),B.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),h.length>0&&r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>f([]),children:["Limpiar seleccin (",h.length,")"]})]}),r.jsx("div",{className:"space-y-6",children:Object.entries(E).map(([W,se])=>{const q=v.find(U=>U.name===W),V=se.reduce((U,F)=>U+(F.total||0),0);return r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[q!=null&&q.logo_url?r.jsx("img",{src:q.logo_url,alt:W,className:"w-12 h-12 object-contain bg-white rounded-lg p-1 border"}):r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Yn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-xl",children:W}),r.jsxs("p",{className:"text-sm text-gray-600",children:[se.length," facturas  ",V.toFixed(2),""]})]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{const U=se.every(F=>h.includes(F.id));f(U?F=>F.filter(K=>!se.find(te=>te.id===K)):F=>[...new Set([...F,...se.map(K=>K.id)])])},children:[se.every(U=>h.includes(U.id))?r.jsx(Ke,{className:"w-4 h-4 mr-2"}):null,"Seleccionar todas"]})]})}),r.jsx(Q,{className:"p-6",children:r.jsx("div",{className:"space-y-3",children:se.map(U=>{var F;return r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 transition-all cursor-pointer ${h.includes(U.id)?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-200 hover:border-gray-300"}`,onClick:()=>M(U.id),children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("input",{type:"checkbox",checked:h.includes(U.id),onChange:()=>M(U.id),className:"w-4 h-4"}),r.jsx(Ye,{className:"w-5 h-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:U.invoice_number}),r.jsxs("p",{className:"text-sm text-gray-600",children:[U.invoice_date&&Ge(new Date(U.invoice_date),"dd/MM/yyyy"),U.category&&`  ${U.category}`]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(be,{className:U.status==="pagada"?"bg-green-100 text-green-800":U.status==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:U.status}),r.jsxs("p",{className:"text-lg font-bold w-24 text-right",children:[(F=U.total)==null?void 0:F.toFixed(2),""]}),r.jsxs("div",{className:"flex gap-2",children:[U.file_url&&r.jsx(ae,{variant:"ghost",size:"sm",onClick:K=>{K.stopPropagation(),u(U)},children:r.jsx(Xn,{className:"w-4 h-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:K=>{K.stopPropagation(),confirm("Eliminar esta factura?")&&y.mutate(U.id)},children:r.jsx(qr,{className:"w-4 h-4 text-red-600"})})]})]})]},U.id)})})})]},W)})}),S.length===0&&r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(pE,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"No hay facturas"}),r.jsx("p",{className:"text-gray-600",children:a!=="all"||o!=="all"?"No hay facturas con los filtros seleccionados":"Sube tus primeras facturas para comenzar"})]})}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:c.invoice_number}),r.jsxs("p",{className:"text-sm text-gray-600",children:[c.provider_name,"  ",(J=c.total)==null?void 0:J.toFixed(2),""]})]}),r.jsx(ae,{variant:"ghost",onClick:()=>u(null),children:""})]}),r.jsx("div",{className:"p-6 overflow-auto max-h-[70vh]",children:(Y=c.file_url)!=null&&Y.endsWith(".pdf")?r.jsx("iframe",{src:c.file_url,className:"w-full h-[60vh] border rounded-lg",title:"Factura PDF"}):r.jsx("img",{src:c.file_url,alt:"Factura",className:"w-full h-auto max-h-[60vh] object-contain"})})]})})]})})}const hB={agentName:"hr_assistant",agentTitle:"Asistente RRHH",systemPrompt:`Eres el Asistente de Recursos Humanos de SYNK-IA, especializado en gestin de personal y nminas.

TUS CAPACIDADES:
1.  ANLISIS DE NMINAS: Explicar conceptos, desglosar importes
2.  GESTIN DE PERSONAL: Informacin sobre contratos, vacaciones, permisos
3.  CONTROL HORARIO: Revisar fichajes y horas trabajadas
4.  DETECCIN DE ANOMALAS: Identificar irregularidades en nminas
5.  ANLISIS DE PRODUCTIVIDAD: Evaluar rendimiento y mtricas de personal
6.  DOCUMENTACIN: Acceso a contratos, convenios y documentos laborales

CMO RESPONDES:
- S emptico y cercano, es un tema personal
- Explica conceptos complejos de forma simple
- Usa emojis para hacer la informacin ms amigable
- Protege la privacidad de los datos personales
- Cumple siempre con la normativa laboral
- Proporciona informacin precisa y verificable

DATOS DISPONIBLES:
- Nminas y conceptos salariales
- Contratos y condiciones laborales
- Fichajes y registro horario
- Vacaciones y permisos
- Datos de empleados (con permisos)

CONTEXTO DE SEGURIDAD:
Solo proporciona informacin del empleado que est consultando. Respeta la confidencialidad.`,async getEmployeePayrolls(e){try{return await ee.entities.Payroll.list({employee_email:e})}catch(t){return console.error("Error getting employee payrolls:",t),[]}},async analyzeLatestPayroll(e){try{const t=await this.getEmployeePayrolls(e);if(t.length===0)return null;const n=t.sort((a,i)=>new Date(i.period)-new Date(a.period))[0];return{period:n.period,grossSalary:n.gross_salary||0,netSalary:n.net_salary||0,deductions:n.deductions||0,bonuses:n.bonuses||0,concepts:n.concepts||[]}}catch(t){return console.error("Error analyzing payroll:",t),null}},async detectPayrollAnomalies(e){try{const t=await this.getEmployeePayrolls(e);if(t.length<2)return[];const n=[],s=t.reduce((a,i)=>a+(i.net_salary||0),0)/t.length;return t.forEach(a=>{const i=Math.abs(a.net_salary-s)/s;i>.2&&n.push({type:"significant_variation",period:a.period,message:`Variacin del ${(i*100).toFixed(0)}% respecto al promedio`,severity:i>.3?"high":"medium"})}),n}catch(t){return console.error("Error detecting anomalies:",t),[]}},async getVacationInfo(e){try{return{totalDays:23,usedDays:8,remainingDays:15,pendingRequests:0}}catch(t){return console.error("Error getting vacation info:",t),null}},explainPayrollConcept(e){const t={salario_base:{name:"Salario Base",description:"Es tu sueldo fijo mensual segn contrato, antes de complementos y deducciones.",emoji:""},irpf:{name:"IRPF (Retencin)",description:"Impuesto sobre la Renta que se retiene y se paga a Hacienda. Depende de tu situacin personal.",emoji:""},seguridad_social:{name:"Seguridad Social",description:"Cotizacin obligatoria para pensiones, sanidad y desempleo. Aproximadamente el 6.35% de tu base.",emoji:""},plus_transporte:{name:"Plus de Transporte",description:"Complemento salarial para gastos de desplazamiento al trabajo.",emoji:""},plus_comida:{name:"Plus de Comida",description:"Complemento salarial para gastos de alimentacin durante la jornada laboral.",emoji:""},horas_extra:{name:"Horas Extra",description:"Pago adicional por horas trabajadas fuera de tu jornada habitual.",emoji:""}},n=e.toLowerCase().replace(/\s+/g,"_");return t[n]||{name:e,description:"Concepto salarial. Consulta con RRHH para ms detalles.",emoji:""}},async enrichMessageWithContext(e,t){try{let n={};return/nmina|nomina|salario|sueldo/i.test(e)&&(n.payroll=await this.analyzeLatestPayroll(t),n.anomalies=await this.detectPayrollAnomalies(t)),/vacaciones|dias libres|permisos/i.test(e)&&(n.vacation=await this.getVacationInfo(t)),{userMessage:e,context:n,enriched:Object.keys(n).length>0}}catch(n){return console.error("Error enriching message:",n),{userMessage:e,enriched:!1}}}};function BX(){var E,A,k,P;const[e,t]=j.useState(null),[n,s]=j.useState([]),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(null),[h,f]=j.useState(null),[p,x]=j.useState(!1),b=j.useRef(null);j.useEffect(()=>{y(),v()},[]),j.useEffect(()=>{var R;(R=b.current)==null||R.scrollIntoView({behavior:"smooth"})},[n]);const v=async()=>{try{const R=await ee.auth.me();u(R),x(!0);const $=await hB.analyzeLatestPayroll(R.email);f($)}catch(R){console.error("Error loading user data:",R)}finally{x(!1)}},y=async()=>{try{const R=await ee.agents.createConversation({agent_name:"hr_assistant",metadata:{name:"Chat con RRHH",description:"Asistente de Recursos Humanos"}});t(R),s(R.messages||[]),ee.agents.subscribeToConversation(R.id,$=>{s($.messages||[])})}catch(R){console.error("Error creating conversation:",R),fe.error("Error al iniciar el chat")}},N=async()=>{if(!a.trim()||!e||o)return;const R=a;i(""),l(!0);try{let $=R;if(c){const D=await hB.enrichMessageWithContext(R,c.email);D.enriched&&D.context&&($=`${R}

[Contexto del Empleado]
${JSON.stringify(D.context,null,2)}`)}await ee.agents.addMessage(e,{role:"user",content:$})}catch($){console.error("Error sending message:",$),fe.error("Error al enviar mensaje")}finally{l(!1)}},_=[{label:" Ver mi nmina",message:"Mustrame mi ltima nmina y explcame los conceptos"},{label:" Solicitar vacaciones",message:"Quiero solicitar vacaciones. Cuntos das tengo disponibles?"},{label:" Consultar mi contrato",message:"Necesito informacin sobre mi contrato actual"}],S=ee.agents.getWhatsAppConnectURL("hr_assistant");return r.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-pink-50 to-purple-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white border-b border-pink-600 p-4 shadow-lg",children:r.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(ln,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-pink-600"})]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:["Asistente RRHH",r.jsx(nb,{className:"w-5 h-5 text-pink-200"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full animate-pulse"}),r.jsx("p",{className:"text-sm text-pink-100",children:"Disponible 24/7"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(be,{className:"bg-white/20 text-white border-white/30 flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3"}),"Recursos Humanos"]}),r.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Wi,{className:"w-4 h-4"}),"WhatsApp",r.jsx(Ui,{className:"w-3 h-3"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"max-w-5xl mx-auto p-4 space-y-4",children:[n.length===0&&r.jsxs(r.Fragment,{children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-r from-pink-500 to-purple-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(ln,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"font-bold text-lg mb-2",children:[" Hola",c?` ${c.name||c.email.split("@")[0]}`:"","! Soy tu Asistente de RRHH"]}),r.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Estoy aqu para ayudarte con todo lo relacionado con tu empleo:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:" Consultar tus nminas y entender conceptos"}),r.jsx("li",{children:" Solicitar vacaciones y permisos"}),r.jsx("li",{children:" Ver tu contrato y condiciones"}),r.jsx("li",{children:" Revisar tus fichajes y horas trabajadas"}),r.jsx("li",{children:" Resolver dudas laborales"})]})]})]})})}),h&&r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx(rn,{className:"w-5 h-5 text-pink-600"}),"Tu ltima Nmina"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Salario Bruto"}),r.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",((E=h.grossSalary)==null?void 0:E.toFixed(2))||0]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Salario Neto"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["",((A=h.netSalary)==null?void 0:A.toFixed(2))||0]})]}),r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Deducciones"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:["",((k=h.deductions)==null?void 0:k.toFixed(2))||0]})]})]}),h.period&&r.jsxs("p",{className:"text-sm text-gray-500 mt-4 flex items-center gap-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),"Periodo: ",h.period]})]})}),p&&r.jsx(X,{className:"border-none shadow-lg",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(bt,{className:"w-5 h-5 animate-spin text-pink-600"}),r.jsx("span",{className:"text-gray-600",children:"Cargando tu informacin laboral..."})]})})})]}),n.length===0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:_.map((R,$)=>r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all cursor-pointer",onClick:()=>{i(R.message),N()},children:r.jsx(Q,{className:"p-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-700",children:R.label})})},$))}),n.map((R,$)=>r.jsx(wj,{message:R},$)),o&&((P=n[n.length-1])==null?void 0:P.role)==="user"&&r.jsxs("div",{className:"flex gap-3 justify-start",children:[r.jsx("div",{className:"h-7 w-7 rounded-lg bg-pink-100 flex items-center justify-center",children:r.jsx(ln,{className:"h-4 w-4 text-pink-600"})}),r.jsx("div",{className:"bg-white border border-pink-200 rounded-2xl px-4 py-2.5",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 animate-spin text-pink-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Consultando..."})]})})]}),r.jsx("div",{ref:b})]})}),r.jsx("div",{className:"bg-white border-t border-gray-200 p-4 shadow-lg",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx(He,{value:a,onChange:R=>i(R.target.value),onKeyPress:R=>R.key==="Enter"&&!R.shiftKey&&N(),placeholder:"Pregntame sobre nminas, vacaciones, contrato...",disabled:o||!e,className:"pr-12 py-6 text-base"})}),r.jsx(ae,{onClick:N,disabled:!a.trim()||o||!e,className:"bg-pink-600 hover:bg-pink-700 flex-shrink-0",size:"icon",children:r.jsx(Wo,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:" Pregntame lo que necesites sobre tu situacin laboral"})]})})]})}function VX(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(""),[c,u]=j.useState({employee_name:"",contract_type:"indefinido",position:"",salary:"",start_date:"",end_date:"",schedule:"",notes:"",file:null}),[h,f]=j.useState({name:"",role:"camarero",phone:"",email:"",employee_code:"",hire_date:""}),p=j.useRef(null),x=Kt(),{data:b=[]}=Be({queryKey:["contracts"],queryFn:()=>ee.entities.Contract.list("-created_date")}),{data:v=[]}=Be({queryKey:["revo-employees"],queryFn:()=>ee.entities.RevoEmployee.list("-created_date")}),y=Bt({mutationFn:async D=>{let M=null;return D.file&&(i(!0),M=(await ee.integrations.Core.UploadFile({file:D.file})).file_url),ee.entities.Contract.create({employee_name:D.employee_name,contract_type:D.contract_type,position:D.position,salary:parseFloat(D.salary)||0,start_date:D.start_date,end_date:D.end_date||null,schedule:D.schedule,notes:D.notes,file_url:M,status:"activo"})},onSuccess:()=>{x.invalidateQueries({queryKey:["contracts"]}),fe.success("Contrato guardado correctamente"),t(!1),E()},onError:D=>{fe.error("Error al guardar: "+D.message)},onSettled:()=>{i(!1)}}),N=Bt({mutationFn:D=>ee.entities.RevoEmployee.create({name:D.name,role:D.role,phone:D.phone,email:D.email,employee_code:D.employee_code,hire_date:D.hire_date,active:!0,total_sales:0,sales_count:0}),onSuccess:()=>{x.invalidateQueries({queryKey:["revo-employees"]}),fe.success("Empleado aadido correctamente"),s(!1),A()}}),_=Bt({mutationFn:D=>ee.entities.Contract.delete(D),onSuccess:()=>{x.invalidateQueries({queryKey:["contracts"]}),fe.success("Contrato eliminado")}}),S=Bt({mutationFn:D=>ee.entities.RevoEmployee.delete(D),onSuccess:()=>{x.invalidateQueries({queryKey:["revo-employees"]}),fe.success("Empleado eliminado")}}),E=()=>{u({employee_name:"",contract_type:"indefinido",position:"",salary:"",start_date:"",end_date:"",schedule:"",notes:"",file:null})},A=()=>{f({name:"",role:"camarero",phone:"",email:"",employee_code:"",hire_date:""})},k=b.filter(D=>{var M,B;return((M=D.employee_name)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))||((B=D.position)==null?void 0:B.toLowerCase().includes(o.toLowerCase()))}),P=v.filter(D=>{var M,B;return((M=D.name)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))||((B=D.role)==null?void 0:B.toLowerCase().includes(o.toLowerCase()))}),R={indefinido:"bg-green-100 text-green-800",temporal:"bg-blue-100 text-blue-800",practicas:"bg-purple-100 text-purple-800",formacion:"bg-orange-100 text-orange-800"},$={camarero:"bg-cyan-100 text-cyan-800",cocinero:"bg-orange-100 text-orange-800",bartender:"bg-purple-100 text-purple-800",gerente:"bg-blue-100 text-blue-800",repartidor:"bg-green-100 text-green-800"};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Gestin de Recursos Humanos"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(ln,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"RRHH & DOCUMENTACIN"})]}),r.jsx("p",{className:"text-zinc-400",children:"Contratos, trabajadores y documentacin laboral"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(ae,{onClick:()=>s(!0),variant:"outline",className:"border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Nuevo Empleado"]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Subir Contrato"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(ln,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Empleados"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:v.length})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-blue-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Ye,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Contratos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:b.length})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-green-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:r.jsx(B0,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Activos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:b.filter(D=>D.status==="activo").length})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-lg flex items-center justify-center",children:r.jsx(rn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Masa Salarial"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[(b.reduce((D,M)=>D+(M.salary||0),0)/12).toFixed(0),"/mes"]})]})]})})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),r.jsx(He,{value:o,onChange:D=>l(D.target.value),placeholder:"Buscar empleado o puesto...",className:"pl-10 bg-slate-800 border-slate-700 text-white"})]})}),r.jsxs(rl,{defaultValue:"contracts",className:"space-y-6",children:[r.jsxs(ro,{className:"bg-black border border-cyan-500/30",children:[r.jsxs(tn,{value:"contracts",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400",children:[" Contratos (",b.length,")"]}),r.jsxs(tn,{value:"employees",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400",children:[" Empleados (",v.length,")"]})]}),r.jsx(nn,{value:"contracts",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:k.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(pE,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay contratos registrados"}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Subir primer contrato"]})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:k.map(D=>{var M;return r.jsx("div",{className:"p-4 hover:bg-slate-800/50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:r.jsx(Ye,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:D.employee_name}),r.jsx("p",{className:"text-sm text-gray-400",children:D.position}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx(be,{className:R[D.contract_type],children:D.contract_type}),r.jsx(be,{className:D.status==="activo"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:D.status})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-white",children:[(M=D.salary)==null?void 0:M.toLocaleString(),"/ao"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Desde ",D.start_date&&Ge(new Date(D.start_date),"dd/MM/yyyy")]})]}),r.jsxs("div",{className:"flex gap-2",children:[D.file_url&&r.jsx(ae,{size:"sm",variant:"outline",onClick:()=>window.open(D.file_url,"_blank"),className:"border-slate-600",children:r.jsx(Xn,{className:"w-4 h-4"})}),r.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>_.mutate(D.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})]})},D.id)})})})})}),r.jsx(nn,{value:"employees",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:P.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(ln,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay empleados registrados"}),r.jsxs(ae,{onClick:()=>s(!0),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Aadir empleado"]})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:P.map(D=>{var M;return r.jsx("div",{className:"p-4 hover:bg-slate-800/50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-600 to-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:(M=D.name)==null?void 0:M.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:D.name}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx(be,{className:$[D.role]||"bg-gray-100 text-gray-800",children:D.role}),D.active&&r.jsx(be,{className:"bg-green-100 text-green-800",children:"Activo"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right text-sm text-gray-400",children:[D.phone&&r.jsxs("p",{children:[" ",D.phone]}),D.email&&r.jsxs("p",{children:[" ",D.email]})]}),r.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>S.mutate(D.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},D.id)})})})})})]}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"bg-slate-900 border-slate-700 text-white max-w-lg",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"w-5 h-5 text-purple-400"}),"Subir Contrato"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Nombre Empleado *"}),r.jsx(He,{value:c.employee_name,onChange:D=>u({...c,employee_name:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"Juan Garca"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Tipo Contrato"}),r.jsxs(dr,{value:c.contract_type,onValueChange:D=>u({...c,contract_type:D}),children:[r.jsx(rr,{className:"bg-slate-800 border-slate-700",children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"indefinido",children:"Indefinido"}),r.jsx(De,{value:"temporal",children:"Temporal"}),r.jsx(De,{value:"practicas",children:"Prcticas"}),r.jsx(De,{value:"formacion",children:"Formacin"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Puesto *"}),r.jsx(He,{value:c.position,onChange:D=>u({...c,position:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"Camarero"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Salario Bruto Anual ()"}),r.jsx(He,{type:"number",value:c.salary,onChange:D=>u({...c,salary:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"18000"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Fecha Inicio *"}),r.jsx(He,{type:"date",value:c.start_date,onChange:D=>u({...c,start_date:D.target.value}),className:"bg-slate-800 border-slate-700"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Fecha Fin (si temporal)"}),r.jsx(He,{type:"date",value:c.end_date,onChange:D=>u({...c,end_date:D.target.value}),className:"bg-slate-800 border-slate-700"})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Horario"}),r.jsx(He,{value:c.schedule,onChange:D=>u({...c,schedule:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"L-V 9:00-17:00"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Documento del Contrato (PDF)"}),r.jsx(He,{ref:p,type:"file",accept:".pdf,.doc,.docx",onChange:D=>u({...c,file:D.target.files[0]}),className:"bg-slate-800 border-slate-700"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Notas"}),r.jsx(di,{value:c.notes,onChange:D=>u({...c,notes:D.target.value}),className:"bg-slate-800 border-slate-700",rows:2})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{variant:"outline",onClick:()=>t(!1),className:"border-slate-600",children:"Cancelar"}),r.jsx(ae,{onClick:()=>y.mutate(c),disabled:y.isPending||!c.employee_name||!c.position||!c.start_date,className:"bg-purple-600 hover:bg-purple-700",children:y.isPending?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar Contrato"})]})]})}),r.jsx(Fn,{open:n,onOpenChange:s,children:r.jsxs(Pn,{className:"bg-slate-900 border-slate-700 text-white max-w-lg",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5 text-cyan-400"}),"Nuevo Empleado"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Nombre Completo *"}),r.jsx(He,{value:h.name,onChange:D=>f({...h,name:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"Juan Garca Lpez"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Rol"}),r.jsxs(dr,{value:h.role,onValueChange:D=>f({...h,role:D}),children:[r.jsx(rr,{className:"bg-slate-800 border-slate-700",children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"camarero",children:"Camarero"}),r.jsx(De,{value:"cocinero",children:"Cocinero"}),r.jsx(De,{value:"bartender",children:"Bartender"}),r.jsx(De,{value:"gerente",children:"Gerente"}),r.jsx(De,{value:"repartidor",children:"Repartidor"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Cdigo Empleado"}),r.jsx(He,{value:h.employee_code,onChange:D=>f({...h,employee_code:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"EMP001"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Telfono"}),r.jsx(He,{value:h.phone,onChange:D=>f({...h,phone:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"600123456"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Email"}),r.jsx(He,{value:h.email,onChange:D=>f({...h,email:D.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"juan@empresa.com"})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Fecha Contratacin"}),r.jsx(He,{type:"date",value:h.hire_date,onChange:D=>f({...h,hire_date:D.target.value}),className:"bg-slate-800 border-slate-700"})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{variant:"outline",onClick:()=>s(!1),className:"border-slate-600",children:"Cancelar"}),r.jsxs(ae,{onClick:()=>N.mutate(h),disabled:N.isPending||!h.name,className:"bg-cyan-600 hover:bg-cyan-700",children:[N.isPending?r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Guardar Empleado"]})]})]})})]})})}function UX(){return r.jsx("div",{})}function WX(){var ne,pe;const[e,t]=j.useState(!1),[n,s]=j.useState(0),[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState("all"),[h,f]=j.useState(null),[p,x]=j.useState(""),[b,v]=j.useState("all"),[y,N]=j.useState(null),_=j.useRef(null),S=Kt(),{data:E=[],isLoading:A}=Be({queryKey:["invoices",c],queryFn:async()=>{const re=await ee.entities.Invoice.list("-created_date");return c==="all"?re:re.filter(ce=>ce.status===c)},initialData:[]}),{data:k=[]}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list(),initialData:[]}),P=Bt({mutationFn:re=>ee.entities.Invoice.create(re),onSuccess:()=>{S.invalidateQueries({queryKey:["invoices"]}),fe.success("Factura guardada correctamente"),l(null)}}),R=re=>{if(!re)return"";const ce=new Date(re);return Qi(ce)?Ge(ce,"dd/MM/yyyy"):""},$=E.reduce((re,ce)=>{const he=ce.provider_name||"Sin proveedor";return re[he]||(re[he]={name:he,invoices:[],total:0,count:0}),re[he].invoices.push(ce),re[he].total+=ce.total||0,re[he].count+=1,re},{}),D=Object.values($).sort((re,ce)=>ce.total-re.total),M=E.reduce((re,ce)=>{const he=ce.category||"otros";return re[he]||(re[he]={name:he,invoices:[],total:0,count:0}),re[he].invoices.push(ce),re[he].total+=ce.total||0,re[he].count+=1,re},{}),B=Object.values(M).sort((re,ce)=>ce.total-re.total),J=E.reduce((re,ce)=>{if(ce.invoice_date){const he=new Date(ce.invoice_date);if(Qi(he)){const ue=Ge(he,"MMM yyyy");re[ue]||(re[ue]={month:ue,total:0,count:0}),re[ue].total+=ce.total||0,re[ue].count+=1}}return re},{}),Y=Object.values(J).slice(-6),W=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6"],se=E.filter(re=>{var he,ue;return!p||((he=re.provider_name)==null?void 0:he.toLowerCase().includes(p.toLowerCase()))||((ue=re.invoice_number)==null?void 0:ue.toLowerCase().includes(p.toLowerCase()))}),q=re=>{re.preventDefault(),re.stopPropagation(),re.type==="dragenter"||re.type==="dragover"?i(!0):re.type==="dragleave"&&i(!1)},V=async re=>{re.preventDefault(),re.stopPropagation(),i(!1);const ce=Array.from(re.dataTransfer.files).filter(he=>he.type==="application/pdf"||he.type==="application/zip"||he.type==="application/x-zip-compressed"||he.type.startsWith("image/"));ce.length>0&&await F(ce[0])},U=async re=>{const ce=Array.from(re.target.files);ce.length>0&&await F(ce[0])},F=async re=>{t(!0),s(10);try{s(30);const{file_url:ce}=await ee.integrations.Core.UploadFile({file:re});s(50);const he=await ee.entities.Invoice.schema();s(70);const ue=await ee.integrations.Core.ExtractDataFromUploadedFile({file_url:ce,json_schema:he});if(s(90),ue.status==="success"&&ue.output){let Oe=null;try{const ge=await ee.integrations.Core.InvokeLLM({prompt:"Analiza esta factura y extrae SOLO la URL del logo del proveedor si est visible en la imagen. Si no hay logo visible, responde con null.",file_urls:[ce],response_json_schema:{type:"object",properties:{logo_detected:{type:"boolean"},logo_description:{type:"string"}}}});ge.logo_detected&&!(await ee.entities.Provider.list()).find(yt=>yt.name===ue.output.provider_name)&&ue.output.provider_name&&await ee.entities.Provider.create({name:ue.output.provider_name,category:ue.output.category||"suministros",status:"activo",rating:4,logo_description:ge.logo_description})}catch(ge){console.log("Logo extraction skipped:",ge.message)}s(100),l({...ue.output,file_url:ce,file_name:re.name}),fe.success("Factura procesada con IA")}else fe.error("No se pudo extraer datos de la factura")}catch(ce){fe.error("Error al procesar la factura"),console.error(ce)}finally{t(!1),s(0)}},K=()=>{P.mutate(o)},te={pendiente:"bg-yellow-100 text-yellow-800",pagada:"bg-green-100 text-green-800",vencida:"bg-red-100 text-red-800",cancelada:"bg-gray-100 text-gray-800"},H=E.reduce((re,ce)=>re+(ce.total||0),0),xe=E.filter(re=>re.status==="pendiente").reduce((re,ce)=>re+(ce.total||0),0);return r.jsx("div",{className:"p-4 md:p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex justify-between items-center mb-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Facturas"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin inteligente con anlisis visual"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Ye,{className:"w-8 h-8 opacity-80"}),r.jsx(En,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Facturas"}),r.jsx("p",{className:"text-3xl font-bold",children:E.length})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-green-500 to-green-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(rn,{className:"w-8 h-8 opacity-80"}),r.jsx(En,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Importe Total"}),r.jsxs("p",{className:"text-3xl font-bold",children:[H.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Sn,{className:"w-8 h-8 opacity-80"}),r.jsx(la,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Pendiente Pago"}),r.jsxs("p",{className:"text-3xl font-bold",children:[xe.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Yn,{className:"w-8 h-8 opacity-80"}),r.jsx(En,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Proveedores"}),r.jsx("p",{className:"text-3xl font-bold",children:D.length})]})})]}),r.jsxs(X,{className:"border-none shadow-lg mb-8",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"w-5 h-5"}),"Subir Factura"]})}),r.jsx(Q,{children:r.jsxs("div",{onDragEnter:q,onDragLeave:q,onDragOver:q,onDrop:V,className:`border-2 border-dashed rounded-xl p-8 text-center transition-all ${a?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("input",{ref:_,type:"file",accept:".pdf,.png,.jpg,.jpeg,.zip",onChange:U,className:"hidden",disabled:e}),e?r.jsxs("div",{className:"space-y-4",children:[r.jsx(bt,{className:"w-12 h-12 text-blue-500 mx-auto animate-spin"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:"Procesando con IA..."}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500",children:[n,"%"]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Ye,{className:"w-8 h-8 text-blue-600"})}),r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(Io,{className:"w-8 h-8 text-purple-600"})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-medium mb-2",children:"Arrastra tu factura aqu o haz clic para seleccionar"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"PDF, PNG, JPEG, ZIP - La IA extraer todos los datos automticamente"}),r.jsxs(ae,{onClick:()=>{var re;return(re=_.current)==null?void 0:re.click()},className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Seleccionar Archivo"]})]})]})]})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx(He,{placeholder:"Buscar por proveedor o nmero de factura...",value:p,onChange:re=>x(re.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Xl,{className:"w-5 h-5 text-gray-500 mt-2"}),["all","pendiente","pagada","vencida"].map(re=>r.jsx(ae,{variant:c===re?"default":"outline",size:"sm",onClick:()=>u(re),className:c===re?"bg-blue-600":"",children:re==="all"?"Todas":re.charAt(0).toUpperCase()+re.slice(1)},re))]})]}),r.jsxs(rl,{value:b,onValueChange:v,className:"w-full",children:[r.jsxs(ro,{className:"grid w-full grid-cols-3 mb-6",children:[r.jsxs(tn,{value:"all",className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"w-4 h-4"}),"Todas las Facturas"]}),r.jsxs(tn,{value:"by-provider",className:"flex items-center gap-2",children:[r.jsx(Yn,{className:"w-4 h-4"}),"Por Proveedor"]}),r.jsxs(tn,{value:"by-category",className:"flex items-center gap-2",children:[r.jsx(_n,{className:"w-4 h-4"}),"Por Categora"]})]}),r.jsxs(nn,{value:"all",className:"space-y-6",children:[Y.length>0&&r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Tendencia de Gastos (ltimos 6 meses)"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:250,children:r.jsxs(sN,{data:Y,children:[r.jsx(oa,{strokeDasharray:"3 3"}),r.jsx(ds,{dataKey:"month"}),r.jsx(hs,{}),r.jsx(Nn,{}),r.jsx(Vl,{}),r.jsx(Zo,{type:"monotone",dataKey:"total",stroke:"#3b82f6",strokeWidth:2,name:"Total "}),r.jsx(Zo,{type:"monotone",dataKey:"count",stroke:"#10b981",strokeWidth:2,name:"N Facturas"})]})})})]}),r.jsx("div",{className:"space-y-4",children:A?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(bt,{className:"w-8 h-8 text-gray-400 mx-auto animate-spin mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando facturas..."})]})}):se.length===0?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Ye,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No hay facturas registradas"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Sube tu primera factura para comenzar"})]})}):se.map(re=>{var he,ue;const ce=k.find(Oe=>Oe.name===re.provider_name);return r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[ce!=null&&ce.logo_url?r.jsx("div",{className:"w-12 h-12 bg-white border rounded-xl flex items-center justify-center flex-shrink-0 overflow-hidden",children:r.jsx("img",{src:ce.logo_url,alt:ce.name,className:"w-full h-full object-contain p-1"})}):r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Ye,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:re.provider_name}),r.jsx("p",{className:"text-sm text-gray-600",children:re.invoice_number}),r.jsxs("div",{className:"flex items-center gap-3 mt-2 flex-wrap",children:[r.jsx(be,{className:te[re.status],children:re.status}),re.category&&r.jsx(be,{variant:"outline",children:re.category}),re.invoice_date&&r.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Sn,{className:"w-3 h-3"}),R(re.invoice_date)]})]})]})]}),r.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[(he=re.total)==null?void 0:he.toFixed(2),""]}),re.iva&&r.jsxs("p",{className:"text-sm text-gray-600",children:["IVA: ",(ue=re.iva)==null?void 0:ue.toFixed(2),""]}),re.file_url&&r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>N(re),children:[r.jsx(Xn,{className:"w-4 h-4 mr-1"}),"Ver Factura"]})]})]})})},re.id)})})]}),r.jsxs(nn,{value:"by-provider",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-lg",children:"Top Proveedores por Gasto"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:D.slice(0,8),layout:"vertical",children:[r.jsx(oa,{strokeDasharray:"3 3"}),r.jsx(ds,{type:"number"}),r.jsx(hs,{dataKey:"name",type:"category",width:120}),r.jsx(Nn,{}),r.jsx(es,{dataKey:"total",fill:"#3b82f6"})]})})})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-lg",children:"Distribucin por Proveedor"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:D.slice(0,7).map((re,ce)=>({name:re.name,value:re.total})),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:D.slice(0,7).map((re,ce)=>r.jsx(Ko,{fill:W[ce%W.length]},`cell-${ce}`))}),r.jsx(Nn,{})]})})})]})]}),r.jsx("div",{className:"space-y-4",children:D.map(re=>r.jsxs(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:[r.jsx(ke,{className:"cursor-pointer",onClick:()=>f(h===re.name?null:re.name),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center",children:r.jsx(Yn,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx(Pe,{className:"text-xl",children:re.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[re.count," facturas"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[re.total.toFixed(2),""]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Promedio: ",(re.total/re.count).toFixed(2),""]})]}),h===re.name?r.jsx(JB,{className:"w-5 h-5 text-gray-400"}):r.jsx(V0,{className:"w-5 h-5 text-gray-400"})]})]})}),h===re.name&&r.jsx(Q,{className:"border-t pt-4",children:r.jsx("div",{className:"space-y-3",children:re.invoices.map(ce=>{var he;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ye,{className:"w-5 h-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:ce.invoice_number}),r.jsx("p",{className:"text-sm text-gray-600",children:R(ce.invoice_date)})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(be,{className:te[ce.status],children:ce.status}),r.jsxs("p",{className:"text-lg font-bold",children:[(he=ce.total)==null?void 0:he.toFixed(2),""]}),ce.file_url&&r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>window.open(ce.file_url,"_blank"),children:r.jsx(Xn,{className:"w-4 h-4"})})]})]},ce.id)})})})]},re.name))})]}),r.jsxs(nn,{value:"by-category",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-lg",children:"Gasto por Categora"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:B,children:[r.jsx(oa,{strokeDasharray:"3 3"}),r.jsx(ds,{dataKey:"name"}),r.jsx(hs,{}),r.jsx(Nn,{}),r.jsx(es,{dataKey:"total",fill:"#10b981"})]})})})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-lg",children:"Distribucin por Categora"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:B.map((re,ce)=>({name:re.name,value:re.total})),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:B.map((re,ce)=>r.jsx(Ko,{fill:W[ce%W.length]},`cell-${ce}`))}),r.jsx(Nn,{})]})})})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map((re,ce)=>r.jsxs(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:[r.jsxs(ke,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${W[ce%W.length]}, ${W[(ce+1)%W.length]})`},children:r.jsx(_n,{className:"w-6 h-6 text-white"})}),r.jsxs(be,{className:"bg-green-100 text-green-800",children:[re.count," facturas"]})]}),r.jsx(Pe,{className:"text-lg capitalize",children:re.name})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total:"}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[re.total.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Promedio:"}),r.jsxs("span",{className:"text-lg font-semibold",children:[(re.total/re.count).toFixed(2),""]})]}),r.jsxs("div",{className:"pt-3 border-t",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ltimas facturas:"}),re.invoices.slice(0,3).map(he=>{var ue;return r.jsxs("div",{className:"text-sm flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600 truncate mr-2",children:he.provider_name}),r.jsxs("span",{className:"font-medium whitespace-nowrap",children:[(ue=he.total)==null?void 0:ue.toFixed(2),""]})]},he.id)})]})]})})]},re.name))})]})]}),r.jsx(Fn,{open:!!y,onOpenChange:()=>N(null),children:r.jsxs(Pn,{className:"max-w-6xl max-h-[90vh] p-0",children:[r.jsx(An,{className:"p-6 pb-0",children:r.jsxs(On,{className:"flex items-center gap-3",children:[r.jsx(Ye,{className:"w-6 h-6 text-blue-600"}),y==null?void 0:y.invoice_number," - ",y==null?void 0:y.provider_name]})}),y&&r.jsxs("div",{className:"p-6 pt-4",children:[(ne=y.file_url)!=null&&ne.endsWith(".pdf")?r.jsx("iframe",{src:y.file_url,className:"w-full h-[70vh] border rounded-lg",title:"Factura PDF"}):r.jsx("img",{src:y.file_url,alt:"Factura",className:"w-full h-auto max-h-[70vh] object-contain border rounded-lg"}),r.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",r.jsxs("span",{className:"font-bold text-lg",children:[(pe=y.total)==null?void 0:pe.toFixed(2),""]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:y.invoice_date})]}),r.jsx(ae,{onClick:()=>window.open(y.file_url,"_blank"),variant:"outline",children:"Abrir en nueva pestaa"})]})]})]})}),r.jsx(Fn,{open:!!o,onOpenChange:()=>l(null),children:r.jsxs(Pn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-green-600"}),"Datos Extrados por IA - Revisa y Guarda"]})}),o&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Proveedor"}),r.jsx(He,{value:o.provider_name||"",onChange:re=>l({...o,provider_name:re.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Nmero de Factura"}),r.jsx(He,{value:o.invoice_number||"",onChange:re=>l({...o,invoice_number:re.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Fecha"}),r.jsx(He,{type:"date",value:o.invoice_date||"",onChange:re=>l({...o,invoice_date:re.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Total"}),r.jsx(He,{type:"number",step:"0.01",value:o.total||"",onChange:re=>l({...o,total:parseFloat(re.target.value)})})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(ae,{variant:"outline",onClick:()=>l(null),children:"Cancelar"}),r.jsxs(ae,{onClick:K,className:"bg-green-600 hover:bg-green-700",children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Guardar Factura"]})]})]})]})})]})})}function qX(){const e=Kt(),{data:t=[]}=Be({queryKey:["kitchen-orders"],queryFn:()=>ee.entities.Order.list("-order_date",50),initialData:[],refetchInterval:5e3}),n=Bt({mutationFn:({id:l,data:c})=>ee.entities.Order.update(l,c),onSuccess:()=>{e.invalidateQueries({queryKey:["kitchen-orders"]})}}),s=t.filter(l=>l.status==="confirmado"||l.status==="en_cocina"),a=l=>{if(!l)return"text-gray-400";const c=zE(new Date,new Date(l));return c>30?"text-red-500 font-bold animate-pulse":c>20?"text-orange-500 font-bold":c>10?"text-yellow-500":"text-green-500"},i=l=>{n.mutate({id:l.id,data:{status:"listo"}})},o=l=>{const c=new Date;c.setMinutes(c.getMinutes()+20),n.mutate({id:l.id,data:{status:"en_cocina",estimated_ready_time:c.toISOString()}})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-4 bg-gradient-to-r from-orange-600 to-red-600 px-8 py-4 rounded-2xl shadow-2xl mb-4",children:[r.jsx(JR,{className:"w-12 h-12 text-white animate-pulse"}),r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"COCINA"}),r.jsx("p",{className:"text-orange-100",children:"Pantalla de Produccin"})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[r.jsxs(be,{className:"bg-yellow-500 text-white text-lg px-4 py-2",children:["Pendientes: ",s.filter(l=>l.status==="confirmado").length]}),r.jsxs(be,{className:"bg-orange-500 text-white text-lg px-4 py-2",children:["En Cocina: ",s.filter(l=>l.status==="en_cocina").length]})]})]}),s.length===0?r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-slate-800 to-slate-900",children:r.jsxs(Q,{className:"p-16 text-center",children:[r.jsx(Mf,{className:"w-24 h-24 text-gray-600 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"No hay pedidos"}),r.jsx("p",{className:"text-gray-400 text-xl",children:"Todo listo por ahora "})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>{var h;const c=l.order_date?zE(new Date,new Date(l.order_date)):0,u=c>20;return r.jsx(X,{className:`border-4 shadow-2xl transition-all ${u?"border-red-500 bg-gradient-to-br from-red-950 to-red-900 animate-pulse":l.status==="en_cocina"?"border-orange-500 bg-gradient-to-br from-orange-950 to-orange-900":"border-yellow-500 bg-gradient-to-br from-yellow-950 to-yellow-900"}`,children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:l.order_number}),r.jsx("p",{className:"text-lg text-gray-300",children:l.customer_name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-2xl font-bold ${a(l.order_date)} flex items-center gap-2`,children:[r.jsx($t,{className:"w-6 h-6"}),c,"m"]}),l.priority==="urgente"&&r.jsxs(be,{className:"bg-red-600 text-white mt-1",children:[r.jsx(bn,{className:"w-4 h-4 mr-1"}),"URGENTE"]})]})]}),r.jsx("div",{className:"bg-black/30 rounded-xl p-4 mb-4 space-y-2",children:(h=l.items)==null?void 0:h.map((f,p)=>r.jsx("div",{className:"flex items-start justify-between",children:r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-2xl font-bold text-white bg-white/10 rounded-lg px-3 py-1",children:[f.quantity,"x"]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-bold text-white",children:f.name}),f.ration&&r.jsx("p",{className:"text-sm text-gray-400",children:f.ration}),f.notes&&r.jsxs("p",{className:"text-sm text-yellow-400 mt-1",children:[" ",f.notes]})]})]})})},p))}),l.kitchen_notes&&r.jsx("div",{className:"bg-yellow-900/30 border-2 border-yellow-500 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-yellow-300 font-medium",children:[" ",l.kitchen_notes]})}),r.jsxs("div",{className:"flex items-center justify-between mb-4 text-gray-400 text-sm",children:[r.jsx("span",{className:"capitalize",children:l.channel}),l.estimated_ready_time&&r.jsxs("span",{children:["Listo: ",Ge(new Date(l.estimated_ready_time),"HH:mm")]})]}),l.status==="confirmado"?r.jsxs(ae,{onClick:()=>o(l),size:"lg",className:"w-full bg-orange-600 hover:bg-orange-700 text-white text-xl py-6",children:[r.jsx(JR,{className:"w-6 h-6 mr-2"}),"Empezar a Cocinar"]}):r.jsxs(ae,{onClick:()=>i(l),size:"lg",className:"w-full bg-green-600 hover:bg-green-700 text-white text-xl py-6",children:[r.jsx(Ke,{className:"w-6 h-6 mr-2"}),"Marcar Listo"]})]})},l.id)})})]})})}function HX(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState("all"),[o,l]=j.useState({title:"",category:"otros",file_url:"",file_type:"",expiry_date:"",status:"vigente",tags:[],notes:""}),c=j.useRef(null),u=Kt(),{data:h=[],isLoading:f}=Be({queryKey:["documents",a],queryFn:async()=>{const k=await ee.entities.Document.list("-created_date");return a==="all"?k:k.filter(P=>P.category===a)},initialData:[]}),p=Bt({mutationFn:k=>ee.entities.Document.create(k),onSuccess:()=>{u.invalidateQueries({queryKey:["documents"]}),fe.success("Documento guardado correctamente"),t(!1),x()}}),x=()=>{l({title:"",category:"otros",file_url:"",file_type:"",expiry_date:"",status:"vigente",tags:[],notes:""})},b=async k=>{var R;const P=(R=k.target.files)==null?void 0:R[0];if(P){s(!0);try{const{file_url:$}=await ee.integrations.Core.UploadFile({file:P});l({...o,file_url:$,file_type:P.type.includes("pdf")?"PDF":P.type.includes("zip")?"ZIP":P.type.includes("doc")?"DOCX":"Otro",title:o.title||P.name}),fe.success("Archivo subido correctamente")}catch{fe.error("Error al subir archivo")}finally{s(!1)}}},v=k=>{k.preventDefault(),p.mutate(o)},y=k=>{if(!k)return"";const P=new Date(k);return Qi(P)?Ge(P,"dd/MM/yyyy"):""},N={PRL:"bg-red-100 text-red-800",contratos:"bg-blue-100 text-blue-800",inspecciones:"bg-orange-100 text-orange-800",RGPD:"bg-purple-100 text-purple-800",fiscal:"bg-green-100 text-green-800",otros:"bg-gray-100 text-gray-800"},_={vigente:"bg-green-100 text-green-800",vencido:"bg-red-100 text-red-800",proximo_vencer:"bg-yellow-100 text-yellow-800",revision:"bg-blue-100 text-blue-800"},S={PRL:vr,contratos:Ye,inspecciones:wn,RGPD:c_,fiscal:Ke,otros:Ye},E=h.filter(k=>k.status==="vencido").length,A=h.filter(k=>k.status==="proximo_vencer").length;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(c_,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"LegalVault"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Gestin segura de documentos legales y de cumplimiento"})]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nuevo Documento"]})]}),(E>0||A>0)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[E>0&&r.jsx(X,{className:"border-red-800/50 bg-red-900/30",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(wn,{className:"w-6 h-6 text-red-400"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-red-300",children:[E," documento",E>1?"s":""," vencido",E>1?"s":""]}),r.jsx("p",{className:"text-sm text-red-400",children:"Requiere atencin inmediata"})]})]})})}),A>0&&r.jsx(X,{className:"border-yellow-800/50 bg-yellow-900/30",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(wn,{className:"w-6 h-6 text-yellow-400"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-yellow-300",children:[A," prximo",A>1?"s":""," a vencer"]}),r.jsx("p",{className:"text-sm text-yellow-400",children:"Planifica la renovacin"})]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"border-zinc-800 bg-zinc-800/50",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Total Documentos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:h.length})]})}),r.jsx(X,{className:"border-zinc-800 bg-zinc-800/50",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"PRL"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:h.filter(k=>k.category==="PRL").length})]})}),r.jsx(X,{className:"border-zinc-800 bg-zinc-800/50",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"RGPD"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:h.filter(k=>k.category==="RGPD").length})]})}),r.jsx(X,{className:"border-zinc-800 bg-zinc-800/50",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Contratos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:h.filter(k=>k.category==="contratos").length})]})})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx(Xl,{className:"w-5 h-5 text-zinc-500"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","PRL","RGPD","contratos","inspecciones","fiscal","otros"].map(k=>r.jsx(ae,{variant:a===k?"default":"outline",size:"sm",onClick:()=>i(k),className:a===k?"bg-rose-600 hover:bg-rose-700":"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:k==="all"?"Todos":k},k))})]}),f?r.jsx(X,{className:"border-zinc-800 bg-zinc-800/50",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-zinc-400",children:"Cargando documentos..."})})}):h.length===0?r.jsx(X,{className:"border-zinc-800 bg-zinc-800/50",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(c_,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bveda vaca"}),r.jsx("p",{className:"text-zinc-400 mb-6",children:"Comienza a organizar tus documentos legales de forma segura"}),r.jsx(ae,{onClick:()=>t(!0),className:"bg-rose-600 hover:bg-rose-700",children:"Subir primer documento"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(k=>{var R,$;const P=S[k.category]||Ye;return r.jsxs(X,{className:"border-zinc-800 bg-zinc-800/50 hover:bg-zinc-800 transition-all",children:[r.jsxs(ke,{children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${(R=N[k.category])==null?void 0:R.replace("text-","bg-").replace("-800","-200")}`,children:r.jsx(P,{className:`w-6 h-6 ${($=N[k.category])==null?void 0:$.split(" ")[1]}`})}),r.jsx("div",{className:"flex-1",children:r.jsx(Pe,{className:"text-base line-clamp-2 text-white",children:k.title})})]})}),r.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[r.jsx(be,{className:N[k.category],children:k.category}),r.jsx(be,{className:_[k.status],children:k.status.replace("_"," ")})]})]}),r.jsxs(Q,{children:[k.expiry_date&&r.jsxs("p",{className:"text-sm text-zinc-400 mb-3",children:["Vence: ",y(k.expiry_date)]}),k.file_url&&r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full border-zinc-700 text-zinc-300 hover:bg-zinc-700",onClick:()=>window.open(k.file_url,"_blank"),children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Ver documento"]})]})]},k.id)})}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-zinc-900 border-zinc-800 text-white",children:[r.jsx(An,{children:r.jsx(On,{className:"text-white",children:"Nuevo Documento"})}),r.jsxs("form",{onSubmit:v,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"title",className:"text-zinc-300",children:"Ttulo *"}),r.jsx(He,{id:"title",value:o.title,onChange:k=>l({...o,title:k.target.value}),required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"category",className:"text-zinc-300",children:"Categora *"}),r.jsxs(dr,{value:o.category,onValueChange:k=>l({...o,category:k}),children:[r.jsx(rr,{className:"bg-zinc-800 border-zinc-700 text-white",children:r.jsx(hr,{})}),r.jsxs(sr,{className:"bg-zinc-800 border-zinc-700",children:[r.jsx(De,{value:"PRL",children:"PRL"}),r.jsx(De,{value:"contratos",children:"Contratos"}),r.jsx(De,{value:"inspecciones",children:"Inspecciones"}),r.jsx(De,{value:"RGPD",children:"RGPD"}),r.jsx(De,{value:"fiscal",children:"Fiscal"}),r.jsx(De,{value:"otros",children:"Otros"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"status",className:"text-zinc-300",children:"Estado"}),r.jsxs(dr,{value:o.status,onValueChange:k=>l({...o,status:k}),children:[r.jsx(rr,{className:"bg-zinc-800 border-zinc-700 text-white",children:r.jsx(hr,{})}),r.jsxs(sr,{className:"bg-zinc-800 border-zinc-700",children:[r.jsx(De,{value:"vigente",children:"Vigente"}),r.jsx(De,{value:"proximo_vencer",children:"Prximo a vencer"}),r.jsx(De,{value:"vencido",children:"Vencido"}),r.jsx(De,{value:"revision",children:"En revisin"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"expiry_date",className:"text-zinc-300",children:"Fecha de vencimiento"}),r.jsx(He,{id:"expiry_date",type:"date",value:o.expiry_date,onChange:k=>l({...o,expiry_date:k.target.value}),className:"bg-zinc-800 border-zinc-700 text-white"})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"file",className:"text-zinc-300",children:"Archivo"}),r.jsx("input",{ref:c,type:"file",accept:".pdf,.doc,.docx,.zip",onChange:b,className:"hidden"}),r.jsxs(ae,{type:"button",variant:"outline",onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},disabled:n,className:"w-full border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),n?"Subiendo...":o.file_url?"Cambiar archivo":"Subir archivo"]}),o.file_url&&r.jsx("p",{className:"text-xs text-green-400 mt-2",children:" Archivo subido correctamente"})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"notes",className:"text-zinc-300",children:"Notas"}),r.jsx(di,{id:"notes",value:o.notes,onChange:k=>l({...o,notes:k.target.value}),rows:3,className:"bg-zinc-800 border-zinc-700 text-white"})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-rose-600 hover:bg-rose-700",children:"Guardar"})]})]})]})})]})})}function YX(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState("all"),[o,l]=j.useState({employee_name:"",incident_type:"baja_medica",incident_date:new Date().toISOString().slice(0,16),description:"",severity:"leve",body_part_affected:"",medical_attention:"no_requerida",days_off:0,mutua_name:"Mutua Universal",status:"reportado"}),c=j.useRef(null),u=Kt(),{data:h=[]}=Be({queryKey:["mutua-incidents",a],queryFn:async()=>{const E=await ee.entities.MutuaIncident.list("-incident_date");return a==="all"?E:E.filter(A=>A.status===a)}}),f=Bt({mutationFn:E=>ee.entities.MutuaIncident.create(E),onSuccess:()=>{u.invalidateQueries({queryKey:["mutua-incidents"]}),fe.success("Incidente registrado correctamente"),t(!1),p()}}),p=()=>{l({employee_name:"",incident_type:"baja_medica",incident_date:new Date().toISOString().slice(0,16),description:"",severity:"leve",body_part_affected:"",medical_attention:"no_requerida",days_off:0,mutua_name:"Mutua Universal",status:"reportado"})},x=async E=>{var k;const A=(k=E.target.files)==null?void 0:k[0];if(A){s(!0);try{const{file_url:P}=await ee.integrations.Core.UploadFile({file:A});l({...o,parte_file_url:P}),fe.success("Parte subido correctamente")}catch{fe.error("Error al subir archivo")}finally{s(!1)}}},b=E=>{E.preventDefault(),f.mutate(o)},v={leve:"bg-blue-100 text-blue-800",grave:"bg-orange-100 text-orange-800",muy_grave:"bg-red-100 text-red-800",mortal:"bg-black text-white"},y={reportado:r.jsx($t,{className:"w-4 h-4"}),en_tramite:r.jsx(En,{className:"w-4 h-4"}),aprobado:r.jsx(Ke,{className:"w-4 h-4"}),cerrado:r.jsx(Ke,{className:"w-4 h-4"}),rechazado:r.jsx(ai,{className:"w-4 h-4"})},N=h.length,_=h.filter(E=>E.status!=="cerrado").length,S=h.reduce((E,A)=>E+(A.days_off||0),0);return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-red-50 to-pink-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(nb,{className:"w-8 h-8 text-red-600"}),"Gestin de Mutua"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Registro y seguimiento de incidentes laborales y bajas mdicas"})]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-red-600 hover:bg-red-700",children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Reportar Incidente"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(wn,{className:"w-5 h-5 text-red-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Incidentes"})]}),r.jsx("p",{className:"text-3xl font-bold",children:N})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx($t,{className:"w-5 h-5 text-orange-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"En Proceso"})]}),r.jsx("p",{className:"text-3xl font-bold",children:_})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Sn,{className:"w-5 h-5 text-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Das de Baja"})]}),r.jsx("p",{className:"text-3xl font-bold",children:S})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-green-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cerrados"})]}),r.jsx("p",{className:"text-3xl font-bold",children:h.filter(E=>E.status==="cerrado").length})]})})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Filtrar por estado:"}),r.jsx("div",{className:"flex gap-2",children:["all","reportado","en_tramite","aprobado","cerrado","rechazado"].map(E=>r.jsx(ae,{variant:a===E?"default":"outline",size:"sm",onClick:()=>i(E),className:a===E?"bg-red-600":"",children:E==="all"?"Todos":E.replace("_"," ")},E))})]}),h.length===0?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(nb,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"No hay incidentes registrados"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza a registrar incidentes y bajas mdicas"}),r.jsx(ae,{onClick:()=>t(!0),className:"bg-red-600 hover:bg-red-700",children:"Reportar primer incidente"})]})}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(E=>{var A;return r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${v[E.severity]}`,children:r.jsx(wn,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:E.employee_name}),r.jsx("p",{className:"text-sm text-gray-600 capitalize",children:E.incident_type.replace("_"," ")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ge(new Date(E.incident_date),"dd/MM/yyyy HH:mm")})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx(be,{className:v[E.severity],children:E.severity}),r.jsxs(be,{className:"flex items-center gap-1",children:[y[E.status],E.status]})]})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:E.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[E.body_part_affected&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Parte afectada"}),r.jsx("p",{className:"font-medium",children:E.body_part_affected})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Atencin mdica"}),r.jsx("p",{className:"font-medium capitalize",children:(A=E.medical_attention)==null?void 0:A.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Das de baja"}),r.jsxs("p",{className:"font-medium",children:[E.days_off||0," das"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Mutua"}),r.jsx("p",{className:"font-medium",children:E.mutua_name})]})]}),E.parte_file_url&&r.jsx("div",{className:"mt-4",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.open(E.parte_file_url,"_blank"),children:[r.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Ver Parte de Accidente"]})})]})},E.id)})}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsx(An,{children:r.jsx(On,{children:"Reportar Nuevo Incidente"})}),r.jsxs("form",{onSubmit:b,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"employee_name",children:"Nombre del Empleado *"}),r.jsx(He,{id:"employee_name",value:o.employee_name,onChange:E=>l({...o,employee_name:E.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"incident_type",children:"Tipo de Incidente *"}),r.jsxs(dr,{value:o.incident_type,onValueChange:E=>l({...o,incident_type:E}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"accidente_trabajo",children:"Accidente de Trabajo"}),r.jsx(De,{value:"accidente_itinere",children:"Accidente In Itinere"}),r.jsx(De,{value:"baja_medica",children:"Baja Mdica"}),r.jsx(De,{value:"recaida",children:"Recada"}),r.jsx(De,{value:"alta_medica",children:"Alta Mdica"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"incident_date",children:"Fecha y Hora del Incidente *"}),r.jsx(He,{id:"incident_date",type:"datetime-local",value:o.incident_date,onChange:E=>l({...o,incident_date:E.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"description",children:"Descripcin Detallada *"}),r.jsx(di,{id:"description",value:o.description,onChange:E=>l({...o,description:E.target.value}),rows:4,required:!0,placeholder:"Describe qu ocurri, cmo sucedi, dnde..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"severity",children:"Gravedad *"}),r.jsxs(dr,{value:o.severity,onValueChange:E=>l({...o,severity:E}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"leve",children:"Leve"}),r.jsx(De,{value:"grave",children:"Grave"}),r.jsx(De,{value:"muy_grave",children:"Muy Grave"}),r.jsx(De,{value:"mortal",children:"Mortal"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"body_part",children:"Parte del Cuerpo Afectada"}),r.jsx(He,{id:"body_part",value:o.body_part_affected,onChange:E=>l({...o,body_part_affected:E.target.value}),placeholder:"Ej: Mano derecha, espalda..."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"medical_attention",children:"Atencin Mdica"}),r.jsxs(dr,{value:o.medical_attention,onValueChange:E=>l({...o,medical_attention:E}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"no_requerida",children:"No Requerida"}),r.jsx(De,{value:"primeros_auxilios",children:"Primeros Auxilios"}),r.jsx(De,{value:"centro_salud",children:"Centro de Salud"}),r.jsx(De,{value:"hospital",children:"Hospital"}),r.jsx(De,{value:"urgencias",children:"Urgencias"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"days_off",children:"Das de Baja Estimados"}),r.jsx(He,{id:"days_off",type:"number",value:o.days_off,onChange:E=>l({...o,days_off:parseInt(E.target.value)}),min:"0"})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"mutua_name",children:"Mutua"}),r.jsx(He,{id:"mutua_name",value:o.mutua_name,onChange:E=>l({...o,mutua_name:E.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"file",children:"Parte de Accidente (PDF/ZIP)"}),r.jsx("input",{ref:c,type:"file",accept:".pdf,.zip",onChange:x,className:"hidden"}),r.jsxs(ae,{type:"button",variant:"outline",onClick:()=>{var E;return(E=c.current)==null?void 0:E.click()},disabled:n,className:"w-full",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),n?"Subiendo...":o.parte_file_url?"Cambiar archivo":"Subir parte"]}),o.parte_file_url&&r.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Archivo subido"})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Reportar Incidente"})]})]})]})})]})})}function GX(){var f;const[e,t]=j.useState(null),[n,s]=j.useState(!1),[a,i]=j.useState({phone:"",position:"",department:""});j.useEffect(()=>{(async()=>{try{const x=await ee.auth.me();t(x),i({phone:x.phone||"",position:x.position||"",department:x.department||""})}catch(x){console.error("Error loading user:",x)}})()},[]);const o=Bt({mutationFn:p=>ee.auth.updateMe(p),onSuccess:()=>{fe.success("Perfil actualizado correctamente"),s(!1),l()}}),l=async()=>{const p=await ee.auth.me();t(p)},c=p=>{p.preventDefault(),o.mutate(a)},u={super_admin:"Super Administrador",admin:"Administrador",manager:"Manager",employee:"Empleado",gestoria:"Gestora"},h={cocina:"Cocina",administracion:"Administracin",repartidor:"Repartidor",atencion_cliente:"Atencin al Cliente",gerencia:"Gerencia"};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4 md:p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(ca,{className:"w-8 h-8 text-purple-600"}),"Mi Perfil"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Informacin personal y configuracin"})]}),r.jsx(X,{className:"border-none shadow-lg mb-6 bg-gradient-to-r from-purple-500 to-pink-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center text-4xl font-bold",children:((f=e==null?void 0:e.full_name)==null?void 0:f.charAt(0))||"U"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold",children:e==null?void 0:e.full_name}),r.jsx("p",{className:"opacity-90",children:e==null?void 0:e.email}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(vr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm opacity-75",children:u[e==null?void 0:e.permission_level]||"Empleado"})]})]}),!n&&r.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>s(!0),className:"text-white hover:bg-white/20",children:r.jsx(mO,{className:"w-5 h-5"})})]})})}),n?r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Editar Informacin"})}),r.jsx(Q,{children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"phone",children:"Telfono"}),r.jsx(He,{id:"phone",value:a.phone,onChange:p=>i({...a,phone:p.target.value}),placeholder:"+34 600 000 000"})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"position",children:"Puesto"}),r.jsx(He,{id:"position",value:a.position,onChange:p=>i({...a,position:p.target.value}),placeholder:"Ej: Cocinero, Administrativo..."})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),r.jsxs(ae,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Ine,{className:"w-4 h-4 mr-2"}),"Guardar Cambios"]})]})]})})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Informacin Personal"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Ma,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("p",{className:"font-medium",children:e==null?void 0:e.email})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Of,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Telfono"}),r.jsx("p",{className:"font-medium",children:(e==null?void 0:e.phone)||"No configurado"})]})]})]})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Informacin Laboral"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(B0,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Puesto"}),r.jsx("p",{className:"font-medium",children:(e==null?void 0:e.position)||"No especificado"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Yn,{className:"w-5 h-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Departamento"}),r.jsx("p",{className:"font-medium",children:h[e==null?void 0:e.department]||(e==null?void 0:e.department)||"No especificado"})]})]}),(e==null?void 0:e.hire_date)&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:r.jsx(Sn,{className:"w-5 h-5 text-pink-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Fecha de contratacin"}),r.jsx("p",{className:"font-medium",children:Ge(new Date(e.hire_date),"dd/MM/yyyy")})]})]})]})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Permisos y Accesos"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Nivel de acceso"}),r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:u[e==null?void 0:e.permission_level]||"Empleado"})]}),(e==null?void 0:e.can_approve_vacations)&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Aprobar vacaciones"}),r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"S"})]}),(e==null?void 0:e.can_view_payrolls)&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Ver todas las nminas"}),r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"S"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Das de vacaciones"}),r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(e==null?void 0:e.vacation_days_available)||22," das/ao"]})]})]})})]})]})]})})}function KX(){const[e,t]=j.useState(null),[n,s]=j.useState("all"),[a,i]=j.useState("all");j.useEffect(()=>{(async()=>{try{const v=await ee.auth.me();t(v)}catch(v){console.error("Error loading user:",v)}})()},[]);const o=Kt(),{data:l=[]}=Be({queryKey:["notifications",n,a],queryFn:async()=>{let b=await ee.entities.Notification.list("-created_date");return b=b.filter(v=>v.user_id===(e==null?void 0:e.id)||v.user_id==="all"),n!=="all"&&(b=b.filter(v=>v.type===n)),a==="unread"?b=b.filter(v=>!v.read):a==="read"&&(b=b.filter(v=>v.read)),b},enabled:!!e}),c=Bt({mutationFn:async()=>{const b=l.filter(v=>!v.read);await Promise.all(b.map(v=>ee.entities.Notification.update(v.id,{read:!0})))},onSuccess:()=>{o.invalidateQueries({queryKey:["notifications"]})}}),u=Bt({mutationFn:b=>ee.entities.Notification.update(b,{read:!0}),onSuccess:()=>{o.invalidateQueries({queryKey:["notifications"]})}}),h=Bt({mutationFn:b=>ee.entities.Notification.delete(b),onSuccess:()=>{o.invalidateQueries({queryKey:["notifications"]})}}),f=l.filter(b=>!b.read).length,p={info:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-orange-100 text-orange-800",error:"bg-red-100 text-red-800",alert:"bg-red-100 text-red-800"},x={info:Ad,success:Ke,warning:wn,error:wn,alert:wn};return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Tx,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Centro de Notificaciones"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Todas tus alertas y actualizaciones en un solo lugar"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.length})]})}),r.jsx(X,{className:"border-none shadow-lg bg-black border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-cyan-400/80 mb-1",children:"Sin leer"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:f})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Ledas"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.filter(b=>b.read).length})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Urgentes"}),r.jsx("p",{className:"text-2xl font-bold text-red-400",children:l.filter(b=>b.priority==="urgente").length})]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Xl,{className:"w-5 h-5 text-gray-500"}),r.jsx("div",{className:"flex gap-2",children:["all","info","success","warning","alert"].map(b=>r.jsx(ae,{variant:n===b?"default":"outline",size:"sm",onClick:()=>s(b),className:n===b?"bg-blue-600":"",children:b==="all"?"Todas":b},b))}),r.jsx("div",{className:"flex gap-2",children:["all","unread","read"].map(b=>r.jsx(ae,{variant:a===b?"default":"outline",size:"sm",onClick:()=>i(b),className:a===b?"bg-blue-600":"",children:b==="all"?"Todas":b==="unread"?"Sin leer":"Ledas"},b))})]}),f>0&&r.jsxs(ae,{onClick:()=>c.mutate(),variant:"outline",size:"sm",children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Marcar todas como ledas"]})]}),l.length===0?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Tx,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay notificaciones"}),r.jsx("p",{className:"text-zinc-400",children:n!=="all"||a!=="all"?"Prueba cambiando los filtros":"Cuando recibas notificaciones aparecern aqu"})]})}):r.jsx("div",{className:"space-y-3",children:l.map(b=>{const v=x[b.type]||Ad;return r.jsx(X,{className:`border-none shadow-lg hover:shadow-xl transition-all bg-zinc-800/50 border ${b.read?"border-zinc-800":"border-cyan-500/50"}`,style:b.read?{}:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.2)"},children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${p[b.type]}`,children:r.jsx(v,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg text-white",children:b.title}),!b.read&&r.jsx(be,{className:"bg-cyan-600 mt-1",children:"Nueva"})]}),r.jsx("span",{className:"text-sm text-zinc-500 whitespace-nowrap",children:Ge(new Date(b.created_date),"dd/MM/yyyy HH:mm")})]}),r.jsx("p",{className:"text-zinc-300 mb-4",children:b.message}),r.jsxs("div",{className:"flex items-center gap-3",children:[!b.read&&r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>u.mutate(b.id),children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Marcar como leda"]}),b.link_to&&r.jsx(fn,{to:b.link_to,children:r.jsx(ae,{variant:"outline",size:"sm",children:"Ver detalles"})}),r.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>h.mutate(b.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(qr,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})]})})},b.id)})})]})})}function fx(){const[e,t]=j.useState(null),[n,s]=j.useState(!0),a=Kt(),{data:i=[],isLoading:o}=Be({queryKey:["orders"],queryFn:()=>ee.entities.Order.list("-order_date",100),initialData:[],refetchInterval:n?1e4:!1}),l=Bt({mutationFn:({id:N,data:_})=>ee.entities.Order.update(N,_),onSuccess:()=>{a.invalidateQueries({queryKey:["orders"]})}}),c=i.filter(N=>{if(!N.order_date)return!1;const _=new Date(N.order_date),S=new Date;return _.toDateString()===S.toDateString()}),u={nuevo:c.filter(N=>N.status==="nuevo"),confirmado:c.filter(N=>N.status==="confirmado"),en_cocina:c.filter(N=>N.status==="en_cocina"),listo:c.filter(N=>N.status==="listo"),entregado:c.filter(N=>N.status==="entregado")},h=[...u.nuevo,...u.confirmado,...u.en_cocina,...u.listo],f={total:c.length,revenue:c.reduce((N,_)=>N+(_.total||0),0),active:h.length,avgTime:Math.round(c.filter(N=>N.preparation_time).reduce((N,_,S,E)=>N+_.preparation_time/E.length,0)||0)},p={web:r.jsx(tre,{className:"w-4 h-4"}),telefono:r.jsx(Of,{className:"w-4 h-4"}),presencial:r.jsx(ca,{className:"w-4 h-4"}),glovo:r.jsx(l_,{className:"w-4 h-4"}),uber_eats:r.jsx(l_,{className:"w-4 h-4"}),deliveroo:r.jsx(l_,{className:"w-4 h-4"})},x={nuevo:"bg-yellow-500",confirmado:"bg-blue-500",en_cocina:"bg-orange-500",listo:"bg-green-500",entregado:"bg-gray-400",cancelado:"bg-red-500"},b={nuevo:"Nuevo",confirmado:"Confirmado",en_cocina:"En Cocina",listo:"Listo",entregado:"Entregado",cancelado:"Cancelado"},v=(N,_)=>{const S={status:_};if(_==="en_cocina"&&!N.estimated_ready_time){const E=new Date;E.setMinutes(E.getMinutes()+20),S.estimated_ready_time=E.toISOString()}l.mutate({id:N.id,data:S})},y=N=>{if(!N.order_date)return null;const _=new Date(N.order_date),E=zE(new Date,_);if(N.status==="entregado")return null;const A=E>30;return{elapsed:E,isUrgent:A}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950 p-4 md:p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-bold text-white flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:r.jsx(qi,{className:"w-7 h-7 text-cyan-400",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Portal de Pedidos"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Gestin en tiempo real - Chicken Palace"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${n?"bg-green-500 animate-pulse":"bg-gray-500"}`}),r.jsx(ae,{variant:n?"default":"outline",size:"sm",onClick:()=>s(!n),className:n?"bg-green-600 hover:bg-green-700":"",children:n?"Auto-Refresh ON":"Auto-Refresh OFF"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-blue-600 to-blue-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(_n,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Pedidos Hoy"}),r.jsx("p",{className:"text-3xl font-bold",children:f.total})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-green-600 to-green-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(rn,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Facturacin"}),r.jsxs("p",{className:"text-3xl font-bold",children:[f.revenue.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-orange-600 to-orange-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(bt,{className:"w-8 h-8 opacity-80 animate-spin"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Activos"}),r.jsx("p",{className:"text-3xl font-bold",children:f.active})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-purple-600 to-purple-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx($t,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Tiempo Medio"}),r.jsxs("p",{className:"text-3xl font-bold",children:[f.avgTime,"m"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center",children:r.jsx(bn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Nuevos"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[u.nuevo.length," pedidos"]})]})]}),u.nuevo.map(N=>r.jsx(Cv,{order:N,onStatusChange:v,timeInfo:y(N),statusColors:x,statusLabels:b,channelIcons:p},N.id))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:r.jsx(Ke,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Confirmados"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[u.confirmado.length," pedidos"]})]})]}),u.confirmado.map(N=>r.jsx(Cv,{order:N,onStatusChange:v,timeInfo:y(N),statusColors:x,statusLabels:b,channelIcons:p},N.id))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:r.jsx(Mf,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"En Cocina"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[u.en_cocina.length," pedidos"]})]})]}),u.en_cocina.map(N=>r.jsx(Cv,{order:N,onStatusChange:v,timeInfo:y(N),statusColors:x,statusLabels:b,channelIcons:p},N.id))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:r.jsx(_n,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Listos"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[u.listo.length," pedidos"]})]})]}),u.listo.map(N=>r.jsx(Cv,{order:N,onStatusChange:v,timeInfo:y(N),statusColors:x,statusLabels:b,channelIcons:p},N.id))]})]})]})})}function Cv({order:e,onStatusChange:t,timeInfo:n,statusColors:s,statusLabels:a,channelIcons:i}){var o,l;return r.jsxs(X,{className:"border-none shadow-xl bg-gradient-to-br from-slate-800 to-slate-900 hover:from-slate-700 hover:to-slate-800 transition-all",children:[r.jsx(ke,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx(Pe,{className:"text-lg font-bold text-white",children:e.order_number}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs(be,{className:"bg-white/10 text-white border-white/20",children:[i[e.channel],r.jsx("span",{className:"ml-1 capitalize",children:e.channel})]}),e.priority==="urgente"&&r.jsx(be,{className:"bg-red-500 text-white",children:"Urgente"})]})]}),n&&r.jsx("div",{className:`text-right ${n.isUrgent?"text-red-400":"text-gray-400"}`,children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm font-bold",children:[n.elapsed,"m"]})]})})]})}),r.jsxs(Q,{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:e.customer_name})]}),e.customer_phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(Of,{className:"w-4 h-4"}),r.jsx("span",{children:e.customer_phone})]})]}),r.jsxs("div",{className:"bg-slate-950/50 rounded-lg p-3 space-y-1",children:[(o=e.items)==null?void 0:o.slice(0,3).map((c,u)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-300",children:[c.quantity,"x ",c.name]}),r.jsxs("span",{className:"text-white font-medium",children:[c.price,""]})]},u)),((l=e.items)==null?void 0:l.length)>3&&r.jsxs("p",{className:"text-xs text-gray-500 text-center pt-1",children:["+",e.items.length-3," ms"]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-700",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Total"}),r.jsxs("span",{className:"text-xl font-bold text-green-400",children:[e.total,""]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.status==="nuevo"&&r.jsxs(r.Fragment,{children:[r.jsx(ae,{onClick:()=>t(e,"confirmado"),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Confirmar"}),r.jsx(ae,{onClick:()=>t(e,"en_cocina"),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"A Cocina"})]}),e.status==="confirmado"&&r.jsxs(ae,{onClick:()=>t(e,"en_cocina"),size:"sm",className:"col-span-2 bg-orange-600 hover:bg-orange-700 text-white",children:[r.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Enviar a Cocina"]}),e.status==="en_cocina"&&r.jsxs(ae,{onClick:()=>t(e,"listo"),size:"sm",className:"col-span-2 bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Marcar Listo"]}),e.status==="listo"&&r.jsxs(ae,{onClick:()=>t(e,"entregado"),size:"sm",className:"col-span-2 bg-gray-600 hover:bg-gray-700 text-white",children:[r.jsx(_n,{className:"w-4 h-4 mr-2"}),"Entregado"]})]})]})]})}function XX(){var c;const[e,t]=j.useState(null);j.useEffect(()=>{(async()=>{try{const h=await ee.auth.me();t(h)}catch(h){console.error("Error loading user:",h)}})()},[]);const{data:n=[],isLoading:s}=Be({queryKey:["payrolls"],queryFn:async()=>{const u=await ee.entities.Payroll.list("-period");return e&&e.permission_level!=="super_admin"&&e.permission_level!=="admin"&&!e.can_view_payrolls?u.filter(h=>h.employee_id===e.id||h.employee_name===e.full_name):u},initialData:[],enabled:!!e}),a={pendiente:"bg-yellow-100 text-yellow-800",pagada:"bg-green-100 text-green-800",revisada:"bg-blue-100 text-blue-800"},i=n.filter(u=>u.employee_id===(e==null?void 0:e.id)||u.employee_name===(e==null?void 0:e.full_name)),o=i.filter(u=>u.status==="pagada").reduce((u,h)=>u+(h.net_salary||0),0),l=i[0];return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(rn,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Nminas"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:(e==null?void 0:e.permission_level)==="employee"?"Consulta tus nminas y pagos":"Gestin de nminas del personal"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Sn,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total Nminas"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:i.length})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(rn,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total Cobrado"})]}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[o.toLocaleString(),""]})]})}),l&&r.jsx(X,{className:"border-none shadow-lg bg-black border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(En,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-cyan-400/80",children:"ltima Nmina"})]}),r.jsxs("p",{className:"text-3xl font-bold text-cyan-400",children:[(c=l.net_salary)==null?void 0:c.toLocaleString(),""]}),r.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:l.period})]})})]}),s?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-zinc-400",children:"Cargando nminas..."})})}):n.length===0?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(rn,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400 mb-4",children:"No hay nminas registradas"})]})}):r.jsx("div",{className:"space-y-4",children:n.map(u=>{var h,f,p,x;return r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 transition-all",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-12 h-12 bg-black border border-cyan-500/50 rounded-xl flex items-center justify-center flex-shrink-0",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:r.jsx(rn,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:u.employee_name}),r.jsx(be,{className:a[u.status],children:u.status})]}),r.jsxs("p",{className:"text-sm text-zinc-400 mb-4",children:["Periodo: ",u.period,u.payment_date&&`  Pagada: ${Ge(new Date(u.payment_date),"dd/MM/yyyy")}`]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"Bruto"}),r.jsxs("p",{className:"font-semibold text-white",children:[(h=u.gross_salary)==null?void 0:h.toLocaleString(),""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"Seguridad Social"}),r.jsxs("p",{className:"font-semibold text-red-400",children:["-",(f=u.social_security)==null?void 0:f.toLocaleString(),""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"IRPF"}),r.jsxs("p",{className:"font-semibold text-red-400",children:["-",(p=u.irpf)==null?void 0:p.toLocaleString(),""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"Neto"}),r.jsxs("p",{className:"font-semibold text-cyan-400 text-lg",children:[(x=u.net_salary)==null?void 0:x.toLocaleString(),""]})]})]}),(u.bonuses>0||u.deductions>0)&&r.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[u.bonuses>0&&r.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[r.jsx(En,{className:"w-4 h-4"}),r.jsxs("span",{children:["Bonus: +",u.bonuses,""]})]}),u.deductions>0&&r.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[r.jsx(bn,{className:"w-4 h-4"}),r.jsxs("span",{children:["Deducciones: -",u.deductions,""]})]})]})]})]}),u.file_url&&r.jsx("div",{className:"flex flex-col gap-2",children:r.jsxs(ae,{variant:"outline",onClick:()=>window.open(u.file_url,"_blank"),className:"whitespace-nowrap",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Ver PDF"]})})]})})},u.id)})}),r.jsx(X,{className:"border-none shadow-lg mt-8 bg-cyan-900/20 border border-cyan-500/30",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(bn,{className:"w-6 h-6 text-cyan-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-cyan-300 mb-2",children:"Informacin de Privacidad"}),r.jsx("p",{className:"text-sm text-cyan-100/70",children:"Las nminas son documentos confidenciales. Los empleados solo pueden ver sus propias nminas. Para dudas sobre conceptos o discrepancias, consulta con el Asistente de RRHH."})]})]})})})]})})}function QX(){const[e,t]=j.useState(null),[n,s]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const p=await ee.auth.me();t(p),s(p.gestoria_access===!0||p.role==="admin")}catch(p){console.error("Error checking access:",p)}})()},[]);const{data:a=[]}=Be({queryKey:["invoices-gestoria"],queryFn:()=>ee.entities.Invoice.list("-created_date"),initialData:[],enabled:n}),{data:i=[]}=Be({queryKey:["documents-fiscal"],queryFn:async()=>(await ee.entities.Document.list("-created_date")).filter(p=>p.category==="fiscal"||p.category==="RGPD"),initialData:[],enabled:n}),o=f=>{if(!f)return"";const p=new Date(f);return Qi(p)?Ge(p,"dd/MM/yyyy"):""},l=()=>{const f=a.map(N=>({Proveedor:N.provider_name,"N Factura":N.invoice_number,Fecha:o(N.invoice_date),Subtotal:N.subtotal||0,IVA:N.iva||0,Total:N.total||0,Estado:N.status})),p=Object.keys(f[0]),x=[p.join(","),...f.map(N=>p.map(_=>JSON.stringify(N[_])).join(","))].join(`
`),b=new Blob([x],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),y=URL.createObjectURL(b);v.setAttribute("href",y),v.setAttribute("download",`facturas_${Ge(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(v),v.click(),document.body.removeChild(v)};if(!n)return r.jsx("div",{className:"p-4 md:p-8 min-h-screen flex items-center justify-center",children:r.jsx(X,{className:"border-none shadow-lg max-w-md",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(vr,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Acceso Restringido"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"No tienes permisos para acceder al portal de gestora."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Contacta con el administrador si necesitas acceso."})]})})});const c=a.length,u=a.reduce((f,p)=>f+(p.total||0),0),h=a.reduce((f,p)=>f+(p.iva||0),0);return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:r.jsx(vr,{className:"w-6 h-6 text-cyan-400",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.8))"}})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Portal Gestora"}),r.jsxs("p",{className:"text-zinc-400",children:["Acceso de solo lectura - ",(e==null?void 0:e.gestoria_company)||"Asesora Fiscal"]})]})]}),r.jsx(be,{className:"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50",children:" Acceso autorizado"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total Facturas"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:c})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Sn,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Importe Total"})]}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[u.toFixed(2),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Yn,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total IVA"})]}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[h.toFixed(2),""]})]})})]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs(ae,{onClick:l,className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},disabled:a.length===0,children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Exportar CSV"]})}),r.jsxs(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 mb-8",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Facturas Registradas"})}),r.jsx(Q,{children:a.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ye,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400",children:"No hay facturas disponibles"})]}):r.jsx("div",{className:"space-y-3",children:a.map(f=>{var p,x;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900/50 rounded-lg hover:bg-zinc-900 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center border border-cyan-500/30",children:r.jsx(Ye,{className:"w-5 h-5 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:f.provider_name}),r.jsxs("p",{className:"text-sm text-zinc-400",children:[f.invoice_number,"  ",o(f.invoice_date)||"Sin fecha"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-white",children:[(p=f.total)==null?void 0:p.toFixed(2),""]}),r.jsxs("p",{className:"text-sm text-zinc-400",children:["IVA: ",(x=f.iva)==null?void 0:x.toFixed(2),""]})]}),f.file_url&&r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>window.open(f.file_url,"_blank"),children:r.jsx(Xn,{className:"w-4 h-4"})})]})]},f.id)})})})]}),r.jsxs(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Documentos Fiscales"})}),r.jsx(Q,{children:i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(bn,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400",children:"No hay documentos fiscales disponibles"})]}):r.jsx("div",{className:"space-y-3",children:i.map(f=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900/50 rounded-lg hover:bg-zinc-900 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center border border-cyan-500/30",children:r.jsx(Ye,{className:"w-5 h-5 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:f.title}),r.jsx("p",{className:"text-sm text-zinc-400",children:f.category})]})]}),f.file_url&&r.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>window.open(f.file_url,"_blank"),children:[r.jsx(Xn,{className:"w-4 h-4 mr-1"}),"Ver"]})]},f.id))})})]}),r.jsx("div",{className:"mt-8 p-4 bg-cyan-900/20 border border-cyan-500/30 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bn,{className:"w-5 h-5 text-cyan-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-cyan-300",children:"Modo solo lectura"}),r.jsx("p",{className:"text-sm text-cyan-100/70 mt-1",children:"Este portal permite consultar y exportar informacin, pero no modificarla. Para cambios, contacta con el administrador."})]})]})})]})})}function GA(){const e=mm(),[t,n]=j.useState(""),[s,a]=j.useState(""),[i,o]=j.useState(!1);oe.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");h&&l(h)},[]);const l=async u=>{o(!0);try{const h=await ee.functions.invoke("employeeAuth",{token:u});h.data.success?(localStorage.setItem("portal_employee",JSON.stringify(h.data.employee)),fe.success(` Acceso mgico concedido: ${h.data.employee.full_name}`),e(ft("WorkerInterface"))):fe.error(h.data.error||"Enlace invlido")}catch(h){fe.error("Error de conexin: "+h.message)}finally{o(!1)}},c=async u=>{u.preventDefault(),o(!0);try{const h=await ee.functions.invoke("employeeAuth",{identifier:t,pin:s});h.data.success?(localStorage.setItem("portal_employee",JSON.stringify(h.data.employee)),fe.success(`Bienvenido, ${h.data.employee.full_name}`),e(ft("WorkerInterface"))):fe.error(h.data.error||"Credenciales incorrectas")}catch(h){fe.error("Error de conexin: "+h.message)}finally{o(!1)}};return r.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-cyan-900/20 via-black to-black"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(rgba(6, 182, 212, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(6, 182, 212, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px",opacity:.2}}),r.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("div",{className:"w-20 h-20 bg-cyan-500/10 rounded-2xl border border-cyan-500/50 flex items-center justify-center mx-auto mb-4 shadow-[0_0_30px_rgba(6,182,212,0.3)] animate-pulse",children:r.jsx(qne,{className:"w-10 h-10 text-cyan-400"})}),r.jsx("h1",{className:"text-3xl font-black text-white tracking-tight mb-2",children:"PORTAL EMPLEADO"}),r.jsx("p",{className:"text-cyan-400/60 font-mono text-sm",children:"SECURE ACCESS GATEWAY"})]}),r.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Identificacin (DNI)"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ca,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-cyan-400 transition-colors"}),r.jsx(He,{value:t,onChange:u=>n(u.target.value),className:"pl-12 h-14 bg-black/50 border-white/10 text-white text-lg rounded-xl focus:border-cyan-500/50 focus:ring-cyan-500/20 transition-all",placeholder:"Introduce tu DNI",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider ml-1",children:"PIN de Acceso"}),r.jsxs("div",{className:"relative group",children:[r.jsx(iu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-cyan-400 transition-colors"}),r.jsx(He,{type:"password",value:s,onChange:u=>a(u.target.value),className:"pl-12 h-14 bg-black/50 border-white/10 text-white text-lg rounded-xl focus:border-cyan-500/50 focus:ring-cyan-500/20 transition-all tracking-widest",placeholder:"",maxLength:6,required:!0})]})]}),r.jsx(ae,{type:"submit",className:"w-full h-14 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold text-lg rounded-xl shadow-lg shadow-cyan-900/20 transition-all active:scale-[0.98] mt-4",disabled:i,children:i?r.jsx(bt,{className:"w-6 h-6 animate-spin"}):r.jsxs("div",{className:"flex items-center gap-2",children:["ACCEDER AL PORTAL",r.jsx(zl,{className:"w-5 h-5"})]})})]})}),r.jsx("div",{className:"mt-8 text-center",children:r.jsx("p",{className:"text-gray-500 text-sm",children:"No tienes tu PIN? Contacta con RRHH"})})]})]})}function ZX(){var J,Y,W,se,q,V;const[e,t]=j.useState(!1),[n,s]=j.useState(""),[a,i]=j.useState(null),[o,l]=j.useState("overview"),c=Kt(),{data:u=[]}=Be({queryKey:["products"],queryFn:()=>ee.entities.Product.list("-total_spent")}),{data:h=[]}=Be({queryKey:["product-purchases"],queryFn:()=>ee.entities.ProductPurchase.list("-purchase_date")}),{data:f=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list()}),p=async()=>{var U,F;t(!0);try{fe.info(" Analizando facturas para extraer productos...",{duration:5e3});const K=f.filter(te=>te.file_url);for(const te of K.slice(0,30))try{const H=await ee.integrations.Core.InvokeLLM({prompt:`Analiza esta factura y extrae TODOS los productos/items con cantidades y precios.
            Proveedor: ${te.provider_name}
            Fecha: ${te.invoice_date}`,file_urls:[te.file_url],response_json_schema:{type:"object",properties:{items:{type:"array",items:{type:"object",properties:{name:{type:"string"},quantity:{type:"number"},unit:{type:"string"},unit_price:{type:"number"},total:{type:"number"}}}}}}});if(((U=H.items)==null?void 0:U.length)>0){const xe=te.invoice_date?te.invoice_date.substring(0,7):"";for(const ne of H.items)(F=ne.name)!=null&&F.trim()&&await ee.entities.ProductPurchase.create({product_name:ne.name,provider_name:te.provider_name,invoice_id:te.id,invoice_number:te.invoice_number,purchase_date:te.invoice_date,quantity:ne.quantity||1,unit:ne.unit||"unidad",unit_price:ne.unit_price||0,total_price:ne.total||ne.quantity*ne.unit_price||0,month:xe})}}catch(H){console.error(`Error factura ${te.invoice_number}:`,H)}await x(),c.invalidateQueries({queryKey:["products"]}),c.invalidateQueries({queryKey:["product-purchases"]}),fe.success(" Anlisis de productos completado")}catch(K){fe.error("Error: "+K.message)}finally{t(!1)}},x=async()=>{const U=await ee.entities.ProductPurchase.list(),F={};for(const H of U){const xe=H.product_name.toLowerCase().trim();F[xe]||(F[xe]={name:H.product_name,purchases:[],suppliers:{},totalQty:0,totalSpent:0,prices:[]}),F[xe].purchases.push(H),F[xe].totalQty+=H.quantity||0,F[xe].totalSpent+=H.total_price||0,F[xe].prices.push({price:H.unit_price,date:H.purchase_date});const ne=H.provider_name;F[xe].suppliers[ne]||(F[xe].suppliers[ne]={provider_name:ne,prices:[],count:0}),F[xe].suppliers[ne].prices.push(H.unit_price),F[xe].suppliers[ne].count++}const K=await ee.entities.Product.list(),te={};K.forEach(H=>{te[H.name.toLowerCase().trim()]=H});for(const[H,xe]of Object.entries(F)){const ne=xe.prices.map(st=>st.price).filter(st=>st>0),pe=xe.prices.sort((st,xt)=>new Date(st.date)-new Date(xt.date)),re=ne.length>0?ne.reduce((st,xt)=>st+xt,0)/ne.length:0,ce=ne.length>0?Math.min(...ne):0,he=ne.length>0?Math.max(...ne):0,ue=pe.length>0?pe[pe.length-1].price:0,Oe=pe.length>1?pe[pe.length-2].price:ue,ge=Oe>0?(ue-Oe)/Oe*100:0;let qe="estable";ge>5?qe="subiendo":ge<-5&&(qe="bajando");const Ce=Object.values(xe.suppliers).map(st=>({provider_name:st.provider_name,last_price:st.prices[st.prices.length-1],average_price:st.prices.reduce((xt,Jt)=>xt+Jt,0)/st.prices.length,purchase_count:st.count})),yt={name:xe.name,total_quantity_purchased:xe.totalQty,total_spent:xe.totalSpent,average_price:re,last_price:ue,min_price:ce,max_price:he,price_trend:qe,price_change_percent:ge,purchase_count:xe.purchases.length,last_purchase_date:pe.length>0?pe[pe.length-1].date:"",suppliers:Ce};te[H]?await ee.entities.Product.update(te[H].id,yt):await ee.entities.Product.create(yt)}},b=u.filter(U=>{var F;return!n||((F=U.name)==null?void 0:F.toLowerCase().includes(n.toLowerCase()))}),v=[...u].sort((U,F)=>(F.purchase_count||0)-(U.purchase_count||0)).slice(0,10),y=[...u].sort((U,F)=>(U.purchase_count||0)-(F.purchase_count||0)).slice(0,10),N=u.filter(U=>U.price_trend==="subiendo").sort((U,F)=>(F.price_change_percent||0)-(U.price_change_percent||0)),_=u.filter(U=>U.price_trend==="bajando"),S=u.reduce((U,F)=>{const K=F.category||"otros";return U[K]||(U[K]={name:K,total:0,count:0}),U[K].total+=F.total_spent||0,U[K].count++,U},{}),E=Object.values(S),A=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6"],k=h.reduce((U,F)=>(F.month&&(U[F.month]||(U[F.month]={month:F.month,total:0,count:0}),U[F.month].total+=F.total_price||0,U[F.month].count++),U),{}),P=Object.values(k).sort((U,F)=>U.month.localeCompare(F.month)),R=u.length,$=u.reduce((U,F)=>U+(F.total_spent||0),0),D=N.length>0?N.reduce((U,F)=>U+(F.price_change_percent||0),0)/N.length:0,M=U=>U==="subiendo"?r.jsx(En,{className:"w-4 h-4 text-red-500"}):U==="bajando"?r.jsx(la,{className:"w-4 h-4 text-green-500"}):r.jsx(jne,{className:"w-4 h-4 text-gray-400"}),B=(U,F)=>U==="subiendo"?r.jsxs(be,{className:"bg-red-100 text-red-700",children:["+",F==null?void 0:F.toFixed(1),"%"]}):U==="bajando"?r.jsxs(be,{className:"bg-green-100 text-green-700",children:[F==null?void 0:F.toFixed(1),"%"]}):r.jsx(be,{className:"bg-gray-100 text-gray-600",children:"Estable"});return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Inventario de Productos  Anlisis de Precios"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(_n,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"INVENTARIO DE PRODUCTOS"})]}),r.jsx("p",{className:"text-lg text-zinc-400",children:" Anlisis de compras, precios y tendencias"})]}),r.jsx(ae,{onClick:p,disabled:e,size:"lg",className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10 font-bold",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:e?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Analizando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ur,{className:"w-5 h-5 mr-2"}),"Analizar Facturas con IA"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-blue-600 to-blue-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(_n,{className:"w-8 h-8 opacity-80"}),r.jsx(hO,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Total Productos"}),r.jsx("p",{className:"text-3xl font-bold",children:R})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-green-600 to-emerald-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(rn,{className:"w-8 h-8 opacity-80"}),r.jsx(En,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Gasto Total"}),r.jsxs("p",{className:"text-3xl font-bold",children:[$.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-red-600 to-rose-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(wn,{className:"w-8 h-8 opacity-80"}),r.jsx(dO,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Precios Subiendo"}),r.jsx("p",{className:"text-3xl font-bold",children:N.length}),r.jsxs("p",{className:"text-xs opacity-75",children:["Media: +",D.toFixed(1),"%"]})]})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-purple-600 to-violet-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(qi,{className:"w-8 h-8 opacity-80"}),r.jsx(tb,{className:"w-5 h-5"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Precios Bajando"}),r.jsx("p",{className:"text-3xl font-bold",children:_.length})]})})]}),r.jsxs(rl,{value:o,onValueChange:l,className:"w-full",children:[r.jsxs(ro,{className:"grid w-full grid-cols-5 mb-6 bg-slate-800",children:[r.jsx(tn,{value:"overview",children:" Resumen"}),r.jsx(tn,{value:"top",children:" Ms Usados"}),r.jsx(tn,{value:"least",children:" Menos Usados"}),r.jsx(tn,{value:"prices",children:" Precios"}),r.jsx(tn,{value:"all",children:" Todos"})]}),r.jsxs(nn,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"border-none shadow-xl bg-slate-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Gasto por Categora"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:E,dataKey:"total",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:({name:U,percent:F})=>`${U} ${(F*100).toFixed(0)}%`,children:E.map((U,F)=>r.jsx(Ko,{fill:A[F%A.length]},`cell-${F}`))}),r.jsx(Nn,{formatter:U=>`${U.toFixed(2)}`})]})})})]}),r.jsxs(X,{className:"border-none shadow-xl bg-slate-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Evolucin de Compras por Mes"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(sN,{data:P,children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{dataKey:"month",stroke:"#9ca3af"}),r.jsx(hs,{stroke:"#9ca3af"}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1f2937",border:"none"}}),r.jsx(Zo,{type:"monotone",dataKey:"total",stroke:"#10b981",strokeWidth:3,name:"Total "})]})})})]})]}),N.length>0&&r.jsxs(X,{className:"border-none shadow-xl bg-gradient-to-r from-red-900/50 to-orange-900/50 border-red-500/50",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(wn,{className:"w-5 h-5 text-red-400"})," Productos con Precio Subiendo"]})}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.slice(0,6).map(U=>{var F,K;return r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-red-500/30 cursor-pointer hover:bg-slate-700",onClick:()=>i(U),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-bold text-white truncate",children:U.name}),B(U.price_trend,U.price_change_percent)]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-400",children:["ltimo: ",(F=U.last_price)==null?void 0:F.toFixed(2),""]}),r.jsxs("span",{className:"text-gray-400",children:["Media: ",(K=U.average_price)==null?void 0:K.toFixed(2),""]})]})]},U.id)})})})]})]}),r.jsx(nn,{value:"top",className:"space-y-4",children:r.jsxs(X,{className:"border-none shadow-xl bg-slate-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Top 10 Productos Ms Comprados"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:v.map((U,F)=>{var K,te;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-xl hover:bg-slate-600 cursor-pointer",onClick:()=>i(U),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-white ${F<3?"bg-gradient-to-br from-yellow-500 to-orange-500":"bg-slate-600"}`,children:F+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:U.name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[U.purchase_count," compras  ",U.total_quantity_purchased," unidades"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:[(K=U.total_spent)==null?void 0:K.toFixed(2),""]}),r.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[M(U.price_trend),r.jsxs("span",{className:"text-sm text-gray-400",children:[(te=U.last_price)==null?void 0:te.toFixed(2),"/ud"]})]})]})]},U.id)})})})]})}),r.jsx(nn,{value:"least",className:"space-y-4",children:r.jsxs(X,{className:"border-none shadow-xl bg-slate-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Productos Menos Comprados"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:y.map(U=>{var F,K;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-xl hover:bg-slate-600 cursor-pointer",onClick:()=>i(U),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-600 rounded-xl flex items-center justify-center",children:r.jsx(_n,{className:"w-5 h-5 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:U.name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[U.purchase_count," compras"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-gray-300",children:[(F=U.total_spent)==null?void 0:F.toFixed(2),""]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[(K=U.last_price)==null?void 0:K.toFixed(2),"/ud"]})]})]},U.id)})})})]})}),r.jsx(nn,{value:"prices",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"border-none shadow-xl bg-slate-800 border-l-4 border-red-500",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(En,{className:"w-5 h-5 text-red-500"}),"Precios Subiendo"]})}),r.jsxs(Q,{className:"space-y-3 max-h-96 overflow-y-auto",children:[N.map(U=>{var F;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-900/20 rounded-lg cursor-pointer hover:bg-red-900/30",onClick:()=>i(U),children:[r.jsx("span",{className:"text-white font-medium truncate",children:U.name}),r.jsxs(be,{className:"bg-red-600 text-white",children:["+",(F=U.price_change_percent)==null?void 0:F.toFixed(1),"%"]})]},U.id)}),N.length===0&&r.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay productos con precio subiendo"})]})]}),r.jsxs(X,{className:"border-none shadow-xl bg-slate-800 border-l-4 border-green-500",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(la,{className:"w-5 h-5 text-green-500"}),"Precios Bajando"]})}),r.jsxs(Q,{className:"space-y-3 max-h-96 overflow-y-auto",children:[_.map(U=>{var F;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-900/20 rounded-lg cursor-pointer hover:bg-green-900/30",onClick:()=>i(U),children:[r.jsx("span",{className:"text-white font-medium truncate",children:U.name}),r.jsxs(be,{className:"bg-green-600 text-white",children:[(F=U.price_change_percent)==null?void 0:F.toFixed(1),"%"]})]},U.id)}),_.length===0&&r.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay productos con precio bajando"})]})]})]})}),r.jsxs(nn,{value:"all",className:"space-y-4",children:[r.jsx("div",{className:"flex gap-4 mb-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx(He,{placeholder:"Buscar producto...",value:n,onChange:U=>s(U.target.value),className:"pl-10 bg-slate-800 border-slate-600 text-white"})]})}),r.jsx(X,{className:"border-none shadow-xl bg-slate-800",children:r.jsx(Q,{className:"p-0",children:r.jsx("div",{className:"divide-y divide-slate-700",children:b.map(U=>{var F,K,te;return r.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700 cursor-pointer",onClick:()=>i(U),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:r.jsx(_n,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:U.name}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[r.jsxs("span",{children:[U.purchase_count," compras"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[((F=U.suppliers)==null?void 0:F.length)||0," proveedores"]})]})]})]}),r.jsxs("div",{className:"text-right flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-lg font-bold text-white",children:[(K=U.last_price)==null?void 0:K.toFixed(2),""]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Media: ",(te=U.average_price)==null?void 0:te.toFixed(2),""]})]}),B(U.price_trend,U.price_change_percent)]})]},U.id)})})})})]})]}),r.jsx(Fn,{open:!!a,onOpenChange:()=>i(null),children:r.jsxs(Pn,{className:"max-w-2xl bg-slate-900 border-slate-700 text-white",children:[r.jsx(An,{children:r.jsxs(On,{className:"text-2xl flex items-center gap-3",children:[r.jsx(_n,{className:"w-8 h-8 text-emerald-400"}),a==null?void 0:a.name]})}),a&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:a.purchase_count}),r.jsx("p",{className:"text-sm text-gray-400",children:"Compras"})]}),r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[(J=a.total_spent)==null?void 0:J.toFixed(0),""]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Gasto Total"})]}),r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-white",children:[(Y=a.last_price)==null?void 0:Y.toFixed(2),""]}),r.jsx("p",{className:"text-sm text-gray-400",children:"ltimo Precio"})]}),r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:[(W=a.average_price)==null?void 0:W.toFixed(2),""]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Precio Medio"})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Rango de Precios"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-green-400 font-bold",children:["Min: ",(se=a.min_price)==null?void 0:se.toFixed(2),""]}),r.jsx("div",{className:"flex-1 mx-4 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full"}),r.jsxs("span",{className:"text-red-400 font-bold",children:["Max: ",(q=a.max_price)==null?void 0:q.toFixed(2),""]})]})]}),((V=a.suppliers)==null?void 0:V.length)>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[r.jsx(Yn,{className:"w-5 h-5"}),"Proveedores (",a.suppliers.length,")"]}),r.jsx("div",{className:"space-y-2",children:a.suppliers.sort((U,F)=>U.average_price-F.average_price).map((U,F)=>{var K;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[F===0&&r.jsx(be,{className:"bg-green-600 text-white",children:"Mejor precio"}),r.jsx("span",{className:"text-white",children:U.provider_name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-white",children:[(K=U.average_price)==null?void 0:K.toFixed(2),""]}),r.jsxs("p",{className:"text-xs text-gray-400",children:[U.purchase_count," compras"]})]})]},F)})})]})]})]})})]})})}function JX(){const{data:e=[]}=Be({queryKey:["production-orders"],queryFn:()=>ee.entities.Order.list("-order_date",200),initialData:[]}),{data:t=[]}=Be({queryKey:["menu-items"],queryFn:()=>ee.entities.MenuItem.list(),initialData:[]}),n=new Date().toISOString().split("T")[0],s=e.filter(f=>{var p;return(p=f.order_date)==null?void 0:p.startsWith(n)}),a={};s.forEach(f=>{var p;(p=f.items)==null||p.forEach(x=>{a[x.name]||(a[x.name]={name:x.name,quantity:0,revenue:0}),a[x.name].quantity+=x.quantity,a[x.name].revenue+=x.price*x.quantity})});const i=Object.values(a).sort((f,p)=>p.quantity-f.quantity).slice(0,10),o=Array(24).fill(0).map((f,p)=>{const x=s.filter(b=>b.order_date?new Date(b.order_date).getHours()===p:!1);return{hour:`${p}:00`,orders:x.length,revenue:x.reduce((b,v)=>b+(v.total||0),0)}}).filter(f=>f.orders>0),l={web:{count:0,revenue:0,color:"#3b82f6"},telefono:{count:0,revenue:0,color:"#10b981"},presencial:{count:0,revenue:0,color:"#f59e0b"},glovo:{count:0,revenue:0,color:"#ef4444"},uber_eats:{count:0,revenue:0,color:"#8b5cf6"},deliveroo:{count:0,revenue:0,color:"#ec4899"}};s.forEach(f=>{l[f.channel]&&(l[f.channel].count++,l[f.channel].revenue+=f.total||0)});const c=Object.entries(l).filter(([f,p])=>p.count>0).map(([f,p])=>({name:f.charAt(0).toUpperCase()+f.slice(1),value:p.count,revenue:p.revenue,color:p.color})),u=s.reduce((f,p)=>f+(p.total||0),0),h=s.length>0?u/s.length:0;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-100 to-slate-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(hO,{className:"w-7 h-7 text-white"})}),"Control de Produccin"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Analytics y estadsticas del da"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-blue-600 to-blue-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(_n,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Pedidos Hoy"}),r.jsx("p",{className:"text-3xl font-bold",children:s.length})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-green-600 to-green-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(rn,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Facturacin"}),r.jsxs("p",{className:"text-3xl font-bold",children:[u.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-purple-600 to-purple-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(En,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Ticket Medio"}),r.jsxs("p",{className:"text-3xl font-bold",children:[h.toFixed(2),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-orange-600 to-orange-700 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(Mf,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Productos nicos"}),r.jsx("p",{className:"text-3xl font-bold",children:Object.keys(a).length})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(En,{className:"w-5 h-5 text-green-600"}),"Top 10 Productos del Da"]})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:i,layout:"vertical",children:[r.jsx(oa,{strokeDasharray:"3 3"}),r.jsx(ds,{type:"number"}),r.jsx(hs,{dataKey:"name",type:"category",width:120}),r.jsx(Nn,{}),r.jsx(es,{dataKey:"quantity",fill:"#3b82f6"})]})})})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx($t,{className:"w-5 h-5 text-blue-600"}),"Facturacin por Hora"]})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(sN,{data:o,children:[r.jsx(oa,{strokeDasharray:"3 3"}),r.jsx(ds,{dataKey:"hour"}),r.jsx(hs,{}),r.jsx(Nn,{}),r.jsx(Zo,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Ingresos "})]})})})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(_n,{className:"w-5 h-5 text-purple-600"}),"Distribucin por Canal"]})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:c.map((f,p)=>r.jsx(Ko,{fill:f.color},`cell-${p}`))}),r.jsx(Nn,{})]})})})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"w-5 h-5 text-green-600"}),"Resumen por Canal"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:c.map((f,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:f.color}}),r.jsx("span",{className:"font-medium",children:f.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-lg",children:[f.value," pedidos"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[f.revenue.toFixed(2),""]})]})]},p))})})]})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Detalle de Productos Vendidos"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-2",children:i.map((f,p)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-slate-100 rounded-lg hover:from-slate-100 hover:to-slate-200 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:["#",p+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-lg",children:f.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[f.quantity," unidades"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[f.revenue.toFixed(2),""]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(f.revenue/f.quantity).toFixed(2)," /ud"]})]})]},p))})})]})]})})}function eQ(){const[e,t]=j.useState(!1),[n,s]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState("all"),[h,f]=j.useState({name:"",cif:"",email:"",phone:"",address:"",category:"suministros",rating:3,status:"activo",notes:"",logo_url:""}),p=Kt(),{data:x=[],isLoading:b}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list("-created_date",200),initialData:[],staleTime:6e4}),{data:v=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list("-created_date",500),initialData:[],staleTime:3e4}),y=Bt({mutationFn:M=>ee.entities.Provider.create(M),onSuccess:()=>{p.invalidateQueries({queryKey:["providers"]}),fe.success("Proveedor creado correctamente"),k()}}),N=Bt({mutationFn:({id:M,data:B})=>ee.entities.Provider.update(M,B),onSuccess:()=>{p.invalidateQueries({queryKey:["providers"]}),fe.success("Proveedor actualizado correctamente"),k()}}),_=x.map(M=>{var F;const B=v.filter(K=>K.provider_name===M.name),J=B.reduce((K,te)=>K+(te.total||0),0),Y=B.filter(K=>K.status==="pendiente").reduce((K,te)=>K+(te.total||0),0),W=new Date;W.setMonth(W.getMonth()-3);const q=B.filter(K=>K.invoice_date&&new Date(K.invoice_date)>W).reduce((K,te)=>K+(te.total||0),0),V=J-q,U=V>0?(q-V)/V*100:0;return{...M,invoiceCount:B.length,totalSpent:J,pendingAmount:Y,lastInvoiceDate:((F=B[0])==null?void 0:F.invoice_date)||null,trend:U,invoices:B}}),S=_.filter(M=>{var Y,W;const B=!o||((Y=M.name)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))||((W=M.cif)==null?void 0:W.toLowerCase().includes(o.toLowerCase())),J=c==="all"||M.category===c;return B&&J}).sort((M,B)=>B.totalSpent-M.totalSpent),E=M=>{const B=M.reduce((J,Y)=>{if(Y.invoice_date){const W=new Date(Y.invoice_date);if(Qi(W)){const se=Ge(W,"MMM yyyy");J[se]||(J[se]={month:se,total:0,count:0}),J[se].total+=Y.total||0,J[se].count+=1}}return J},{});return Object.values(B).slice(-6)},A=(M=null)=>{M?(s(M),f({name:M.name||"",cif:M.cif||"",email:M.email||"",phone:M.phone||"",address:M.address||"",category:M.category||"suministros",rating:M.rating||3,status:M.status||"activo",notes:M.notes||"",logo_url:M.logo_url||""})):(s(null),f({name:"",cif:"",email:"",phone:"",address:"",category:"suministros",rating:3,status:"activo",notes:""})),t(!0)},k=()=>{t(!1),s(null)},P=M=>{M.preventDefault(),n?N.mutate({id:n.id,data:h}):y.mutate(h)},R={suministros:"bg-blue-100 text-blue-800",servicios:"bg-green-100 text-green-800",materiales:"bg-orange-100 text-orange-800",tecnologia:"bg-purple-100 text-purple-800",otros:"bg-gray-100 text-gray-800"},$=_.reduce((M,B)=>M+B.totalSpent,0),D=_.reduce((M,B)=>M+B.pendingAmount,0);return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Yn,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Proveedores"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Gestin y anlisis completo de proveedores"})]}),r.jsxs(ae,{onClick:()=>A(),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nuevo Proveedor"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(ln,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Proveedores"}),r.jsx("p",{className:"text-3xl font-bold",children:x.length})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-green-500 to-green-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(rn,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Gasto Total"}),r.jsxs("p",{className:"text-3xl font-bold",children:[$.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(Ye,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Pendiente"}),r.jsxs("p",{className:"text-3xl font-bold",children:[D.toFixed(0),""]})]})}),r.jsx(X,{className:"border-none shadow-lg bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx(Ye,{className:"w-8 h-8 opacity-80"})}),r.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Facturas"}),r.jsx("p",{className:"text-3xl font-bold",children:v.length})]})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-500 w-5 h-5"}),r.jsx(He,{placeholder:"Buscar por nombre o CIF...",value:o,onChange:M=>l(M.target.value),className:"pl-10 bg-zinc-800 border-zinc-700 text-white"})]})}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx(Xl,{className:"w-5 h-5 text-zinc-500 mt-2"}),["all","suministros","servicios","materiales","tecnologia","otros"].map(M=>r.jsx(ae,{variant:c===M?"default":"outline",size:"sm",onClick:()=>u(M),className:c===M?"bg-blue-600":"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:M==="all"?"Todos":M.charAt(0).toUpperCase()+M.slice(1)},M))]})]}),b?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-zinc-400",children:"Cargando proveedores..."})})}):S.length===0?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(ln,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay proveedores"}),r.jsx("p",{className:"text-zinc-400 mb-6",children:"Comienza agregando tu primer proveedor"}),r.jsx(ae,{onClick:()=>A(),className:"bg-blue-600 hover:bg-blue-700",children:"Agregar proveedor"})]})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:S.map(M=>r.jsxs(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 transition-all cursor-pointer",onClick:()=>i(M),children:[r.jsx(ke,{children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[M.logo_url?r.jsx("div",{className:"w-14 h-14 bg-white border-2 rounded-xl flex items-center justify-center flex-shrink-0 overflow-hidden",children:r.jsx("img",{src:M.logo_url,alt:M.name,className:"w-full h-full object-contain p-1"})}):r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Yn,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx(Pe,{className:"text-xl text-white",children:M.name}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:B=>{B.stopPropagation(),A(M)},children:r.jsx(mO,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx(be,{className:R[M.category],children:M.category}),r.jsxs(be,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx(Al,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),M.rating,"/5"]}),M.trend!==0&&r.jsxs(be,{className:M.trend>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:[M.trend>0?r.jsx(En,{className:"w-3 h-3 mr-1"}):r.jsx(la,{className:"w-3 h-3 mr-1"}),Math.abs(M.trend).toFixed(0),"%"]})]}),M.email&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400 mb-1",children:[r.jsx(Ma,{className:"w-3 h-3"}),M.email]}),M.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[r.jsx(Of,{className:"w-3 h-3"}),M.phone]})]})]})})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"bg-blue-900/30 border border-blue-600/30 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-zinc-400 mb-1",children:"Facturas"}),r.jsx("p",{className:"text-xl font-bold text-blue-400",children:M.invoiceCount})]}),r.jsxs("div",{className:"bg-green-900/30 border border-green-600/30 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-zinc-400 mb-1",children:"Total"}),r.jsxs("p",{className:"text-xl font-bold text-green-400",children:[M.totalSpent.toFixed(0),""]})]}),r.jsxs("div",{className:"bg-orange-900/30 border border-orange-600/30 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-zinc-400 mb-1",children:"Pendiente"}),r.jsxs("p",{className:"text-xl font-bold text-orange-400",children:[M.pendingAmount.toFixed(0),""]})]})]}),M.lastInvoiceDate&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700 text-sm text-zinc-400 flex items-center gap-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),"ltima factura: ",Ge(new Date(M.lastInvoiceDate),"dd/MM/yyyy")]})]})]},M.id))}),r.jsx(Fn,{open:!!a,onOpenChange:()=>i(null),children:r.jsxs(Pn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto bg-zinc-900 border-zinc-800 text-white",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-3 text-2xl text-white",children:[r.jsx(Yn,{className:"w-8 h-8 text-blue-400"}),a==null?void 0:a.name]})}),a&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-900/30 border border-blue-600/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Total Facturas"}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:a.invoiceCount})]}),r.jsxs("div",{className:"bg-green-900/30 border border-green-600/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Gasto Total"}),r.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[a.totalSpent.toFixed(2),""]})]}),r.jsxs("div",{className:"bg-orange-900/30 border border-orange-600/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Pendiente"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-400",children:[a.pendingAmount.toFixed(2),""]})]}),r.jsxs("div",{className:"bg-purple-900/30 border border-purple-600/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Promedio"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:[a.invoiceCount>0?(a.totalSpent/a.invoiceCount).toFixed(2):0,""]})]})]}),a.invoices.length>0&&r.jsxs(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:"Histrico de Gastos"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:250,children:r.jsxs(sN,{data:E(a.invoices),children:[r.jsx(oa,{strokeDasharray:"3 3"}),r.jsx(ds,{dataKey:"month"}),r.jsx(hs,{}),r.jsx(Nn,{}),r.jsx(Vl,{}),r.jsx(Zo,{type:"monotone",dataKey:"total",stroke:"#3b82f6",strokeWidth:2,name:"Total "}),r.jsx(Zo,{type:"monotone",dataKey:"count",stroke:"#10b981",strokeWidth:2,name:"N Facturas"})]})})})]}),r.jsxs(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white",children:["Facturas (",a.invoices.length,")"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.invoices.map(M=>{var B;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg hover:bg-zinc-800 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ye,{className:"w-5 h-5 text-zinc-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:M.invoice_number}),r.jsx("p",{className:"text-sm text-zinc-500",children:M.invoice_date&&Ge(new Date(M.invoice_date),"dd/MM/yyyy")})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(be,{className:M.status==="pagada"?"bg-green-600 text-white":M.status==="pendiente"?"bg-yellow-600 text-white":"bg-red-600 text-white",children:M.status}),r.jsxs("p",{className:"text-lg font-bold text-white",children:[(B=M.total)==null?void 0:B.toFixed(2),""]})]})]},M.id)})})})]})]})]})}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-zinc-900 border-zinc-800 text-white",children:[r.jsx(An,{children:r.jsx(On,{className:"text-white",children:n?"Editar Proveedor":"Nuevo Proveedor"})}),r.jsxs("form",{onSubmit:P,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"name",children:"Nombre *"}),r.jsx(He,{id:"name",value:h.name,onChange:M=>f({...h,name:M.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"cif",children:"CIF/NIF"}),r.jsx(He,{id:"cif",value:h.cif,onChange:M=>f({...h,cif:M.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"email",children:"Email"}),r.jsx(He,{id:"email",type:"email",value:h.email,onChange:M=>f({...h,email:M.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"phone",children:"Telfono"}),r.jsx(He,{id:"phone",value:h.phone,onChange:M=>f({...h,phone:M.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"address",children:"Direccin"}),r.jsx(He,{id:"address",value:h.address,onChange:M=>f({...h,address:M.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"category",children:"Categora"}),r.jsxs(dr,{value:h.category,onValueChange:M=>f({...h,category:M}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"suministros",children:"Suministros"}),r.jsx(De,{value:"servicios",children:"Servicios"}),r.jsx(De,{value:"materiales",children:"Materiales"}),r.jsx(De,{value:"tecnologia",children:"Tecnologa"}),r.jsx(De,{value:"otros",children:"Otros"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"rating",children:"Valoracin"}),r.jsxs(dr,{value:h.rating.toString(),onValueChange:M=>f({...h,rating:parseInt(M)}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsx(sr,{children:[1,2,3,4,5].map(M=>r.jsxs(De,{value:M.toString(),children:[M," "]},M))})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"status",children:"Estado"}),r.jsxs(dr,{value:h.status,onValueChange:M=>f({...h,status:M}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"activo",children:"Activo"}),r.jsx(De,{value:"inactivo",children:"Inactivo"}),r.jsx(De,{value:"pendiente",children:"Pendiente"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"logo_url",children:"URL del Logo"}),r.jsx(He,{id:"logo_url",type:"url",placeholder:"https://ejemplo.com/logo.png",value:h.logo_url,onChange:M=>f({...h,logo_url:M.target.value})}),h.logo_url&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:h.logo_url,alt:"Preview",className:"h-12 object-contain border rounded p-1"})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"notes",children:"Notas"}),r.jsx(di,{id:"notes",value:h.notes,onChange:M=>f({...h,notes:M.target.value}),rows:3})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:k,children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:n?"Actualizar":"Crear"})]})]})]})})]})})}function tQ(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState("all"),[o,l]=j.useState({item_type:"consentimiento",title:"",description:"",affected_person:"",data_categories:[],legal_basis:"consentimiento",consent_date:"",purpose:"",status:"activo"}),c=j.useRef(null),u=Kt(),{data:h=[]}=Be({queryKey:["rgpd-items",a],queryFn:async()=>{const E=await ee.entities.RGPDCompliance.list("-created_date");return a==="all"?E:E.filter(A=>A.item_type===a)}}),f=Bt({mutationFn:E=>ee.entities.RGPDCompliance.create(E),onSuccess:()=>{u.invalidateQueries({queryKey:["rgpd-items"]}),fe.success("Registro creado correctamente"),t(!1),p()}}),p=()=>{l({item_type:"consentimiento",title:"",description:"",affected_person:"",data_categories:[],legal_basis:"consentimiento",consent_date:"",purpose:"",status:"activo"})},x=async E=>{var k;const A=(k=E.target.files)==null?void 0:k[0];if(A){s(!0);try{const{file_url:P}=await ee.integrations.Core.UploadFile({file:A});l({...o,file_url:P}),fe.success("Archivo subido")}catch{fe.error("Error al subir archivo")}finally{s(!1)}}},b=E=>{E.preventDefault(),f.mutate(o)},v={consentimiento:"bg-green-100 text-green-800",tratamiento:"bg-blue-100 text-blue-800",auditoria:"bg-purple-100 text-purple-800",brecha:"bg-red-100 text-red-800",dpo:"bg-indigo-100 text-indigo-800",registro_actividades:"bg-orange-100 text-orange-800"},y=h.length,N=h.filter(E=>E.item_type==="consentimiento"&&E.status==="activo").length,_=h.filter(E=>E.item_type==="brecha").length,S=h.filter(E=>E.item_type==="auditoria").length;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(vr,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Proteccin de Datos (RGPD)"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Gestin de cumplimiento RGPD y proteccin de datos personales"})]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nuevo Registro"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(vr,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Total Registros"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:y})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Consentimientos Activos"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:N})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(wn,{className:"w-5 h-5 text-red-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Brechas Registradas"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:_})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-purple-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Auditoras"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:S})]})})]}),r.jsx(X,{className:"border-none shadow-lg mb-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(iu,{className:"w-6 h-6 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:" Cumplimiento RGPD"}),r.jsx("p",{className:"text-sm opacity-90",children:"El Reglamento General de Proteccin de Datos (RGPD) requiere:"}),r.jsxs("ul",{className:"text-sm opacity-90 mt-2 space-y-1 list-disc ml-4",children:[r.jsx("li",{children:"Registro de actividades de tratamiento"}),r.jsx("li",{children:"Consentimientos documentados"}),r.jsx("li",{children:"Evaluaciones de impacto de privacidad"}),r.jsx("li",{children:"Notificacin de brechas en 72h"}),r.jsx("li",{children:"DPO (Delegado de Proteccin de Datos) si aplica"})]})]})]})})}),r.jsxs("div",{className:"flex items-center gap-4 mb-6 flex-wrap",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Filtrar por tipo:"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","consentimiento","tratamiento","auditoria","brecha","dpo","registro_actividades"].map(E=>r.jsx(ae,{variant:a===E?"default":"outline",size:"sm",onClick:()=>i(E),className:a===E?"bg-indigo-600":"",children:E==="all"?"Todos":E.replace("_"," ")},E))})]}),h.length===0?r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(vr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"No hay registros RGPD"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza a documentar tu cumplimiento de proteccin de datos"}),r.jsx(ae,{onClick:()=>t(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:"Crear primer registro"})]})}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(E=>{var A;return r.jsx(X,{className:"border-none shadow-lg hover:shadow-xl transition-all",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${(A=v[E.item_type])==null?void 0:A.replace("text-","bg-").replace("-800","-200")}`,children:E.item_type==="brecha"?r.jsx(wn,{className:"w-6 h-6"}):r.jsx(vr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg",children:E.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.description}),E.affected_person&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Afectado: ",E.affected_person]})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx(be,{className:v[E.item_type],children:E.item_type.replace("_"," ")}),r.jsx(be,{className:E.status==="activo"?"bg-green-100 text-green-800":E.status==="caducado"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:E.status})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-4",children:[E.legal_basis&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Base Legal"}),r.jsx("p",{className:"font-medium capitalize",children:E.legal_basis.replace("_"," ")})]}),E.consent_date&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Fecha"}),r.jsx("p",{className:"font-medium",children:Ge(new Date(E.consent_date),"dd/MM/yyyy")})]}),E.data_categories&&E.data_categories.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Categoras de Datos"}),r.jsxs("p",{className:"font-medium",children:[E.data_categories.length," categoras"]})]}),E.breach_severity&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Severidad"}),r.jsx(be,{className:"bg-red-100 text-red-800",children:E.breach_severity})]})]}),E.file_url&&r.jsx("div",{className:"mt-4",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.open(E.file_url,"_blank"),children:[r.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Ver Documento"]})})]})},E.id)})}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsx(An,{children:r.jsx(On,{children:"Nuevo Registro RGPD"})}),r.jsxs("form",{onSubmit:b,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"item_type",children:"Tipo de Registro *"}),r.jsxs(dr,{value:o.item_type,onValueChange:E=>l({...o,item_type:E}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"consentimiento",children:"Consentimiento"}),r.jsx(De,{value:"tratamiento",children:"Tratamiento de Datos"}),r.jsx(De,{value:"auditoria",children:"Auditora"}),r.jsx(De,{value:"brecha",children:"Brecha de Seguridad"}),r.jsx(De,{value:"dpo",children:"DPO"}),r.jsx(De,{value:"registro_actividades",children:"Registro de Actividades"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"title",children:"Ttulo *"}),r.jsx(He,{id:"title",value:o.title,onChange:E=>l({...o,title:E.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"description",children:"Descripcin *"}),r.jsx(di,{id:"description",value:o.description,onChange:E=>l({...o,description:E.target.value}),rows:3,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"affected_person",children:"Persona/Grupo Afectado"}),r.jsx(He,{id:"affected_person",value:o.affected_person,onChange:E=>l({...o,affected_person:E.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"legal_basis",children:"Base Legal"}),r.jsxs(dr,{value:o.legal_basis,onValueChange:E=>l({...o,legal_basis:E}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"consentimiento",children:"Consentimiento"}),r.jsx(De,{value:"contrato",children:"Contrato"}),r.jsx(De,{value:"obligacion_legal",children:"Obligacin Legal"}),r.jsx(De,{value:"interes_vital",children:"Inters Vital"}),r.jsx(De,{value:"interes_publico",children:"Inters Pblico"}),r.jsx(De,{value:"interes_legitimo",children:"Inters Legtimo"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"purpose",children:"Finalidad del Tratamiento"}),r.jsx(di,{id:"purpose",value:o.purpose,onChange:E=>l({...o,purpose:E.target.value}),rows:2})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"consent_date",children:"Fecha"}),r.jsx(He,{id:"consent_date",type:"date",value:o.consent_date,onChange:E=>l({...o,consent_date:E.target.value})})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"file",children:"Documento Adjunto"}),r.jsx("input",{ref:c,type:"file",onChange:x,className:"hidden"}),r.jsxs(ae,{type:"button",variant:"outline",onClick:()=>{var E;return(E=c.current)==null?void 0:E.click()},disabled:n,className:"w-full",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),n?"Subiendo...":o.file_url?"Cambiar archivo":"Subir documento"]}),o.file_url&&r.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Archivo subido"})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700",children:"Crear Registro"})]})]})]})})]})})}function nQ(){const{data:e=[]}=Be({queryKey:["sales"],queryFn:()=>ee.entities.Sale.list("-sale_date"),initialData:[]}),{data:t=[]}=Be({queryKey:["menu-items"],queryFn:()=>ee.entities.MenuItem.list(),initialData:[]}),{data:n=[]}=Be({queryKey:["revo-employees"],queryFn:()=>ee.entities.RevoEmployee.list(),initialData:[]}),{data:s=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list(),initialData:[]}),a=e.reduce((_,S)=>_+(S.total||0),0),i=s.reduce((_,S)=>_+(S.total||0),0),o=a-i,l=a>0?o/a*100:0,c=e.filter(_=>{var E;const S=Ge(new Date,"yyyy-MM-dd");return(E=_.sale_date)==null?void 0:E.startsWith(S)}),u=c.reduce((_,S)=>_+(S.total||0),0),h=e.length>0?a/e.length:0,f=[];for(let _=6;_>=0;_--){const S=khe(new Date,_),E=Ge(S,"yyyy-MM-dd"),A=e.filter(P=>{var R;return(R=P.sale_date)==null?void 0:R.startsWith(E)}),k=A.reduce((P,R)=>P+(R.total||0),0);f.push({day:Ge(S,"EEE"),ventas:Math.round(k),tickets:A.length})}const p={};e.forEach(_=>{(_.items||[]).forEach(S=>{p[S.product_name]||(p[S.product_name]={name:S.product_name,quantity:0,total:0}),p[S.product_name].quantity+=S.quantity||0,p[S.product_name].total+=S.total||0})});const x=Object.values(p).sort((_,S)=>S.total-_.total).slice(0,5).map(_=>({name:_.name.length>15?_.name.substring(0,15)+"...":_.name,ventas:Math.round(_.total)})),b=t.reduce((_,S)=>{const E=S.category||"otros";return _[E]||(_[E]=0),e.forEach(A=>{(A.items||[]).forEach(k=>{k.product_name===S.name&&(_[E]+=k.total||0)})}),_},{}),v=Object.entries(b).filter(([_,S])=>S>0).map(([_,S])=>({name:_.charAt(0).toUpperCase()+_.slice(1),value:Math.round(S)})),y=n.sort((_,S)=>(S.total_sales||0)-(_.total_sales||0)).slice(0,5).map(_=>({name:_.name.split(" ")[0],ventas:Math.round(_.total_sales||0),tickets:_.sales_count||0})),N=["#06b6d4","#22c55e","#a855f7","#f59e0b","#3b82f6","#ef4444"];return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-bold text-white flex items-center gap-3",children:[r.jsx(qi,{className:"w-10 h-10 text-cyan-400"}),"Dashboard Revo Xef"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Chicken Palace Ibiza  Anlisis en tiempo real"})]}),r.jsx(fn,{to:ft("RevoSync"),children:r.jsxs(ae,{className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white shadow-lg shadow-cyan-500/50",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Sincronizar"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-green-600 to-emerald-700 text-white border border-green-400/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(rn,{className:"w-6 h-6"}),r.jsx("p",{className:"text-sm opacity-90",children:"Ventas Totales"})]}),r.jsxs("p",{className:"text-4xl font-bold",children:[a.toLocaleString("es-ES"),""]}),r.jsxs("p",{className:"text-sm opacity-75 mt-2",children:[e.length," tickets"]})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-cyan-600 to-blue-700 text-white border border-cyan-400/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(En,{className:"w-6 h-6"}),r.jsx("p",{className:"text-sm opacity-90",children:"Hoy"})]}),r.jsxs("p",{className:"text-4xl font-bold",children:[u.toLocaleString("es-ES"),""]}),r.jsxs("p",{className:"text-sm opacity-75 mt-2",children:[c.length," tickets"]})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-purple-600 to-pink-700 text-white border border-purple-400/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(qi,{className:"w-6 h-6"}),r.jsx("p",{className:"text-sm opacity-90",children:"Ticket Medio"})]}),r.jsxs("p",{className:"text-4xl font-bold",children:[h.toFixed(2),""]}),r.jsx("p",{className:"text-sm opacity-75 mt-2",children:"Por venta"})]})}),r.jsx(X,{className:`border-none shadow-2xl bg-gradient-to-br ${o>=0?"from-green-600 to-emerald-700":"from-red-600 to-red-700"} text-white border ${o>=0?"border-green-400/20":"border-red-400/20"}`,children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o>=0?r.jsx(En,{className:"w-6 h-6"}):r.jsx(la,{className:"w-6 h-6"}),r.jsx("p",{className:"text-sm opacity-90",children:"Margen Real"})]}),r.jsxs("p",{className:"text-4xl font-bold",children:[o.toLocaleString("es-ES"),""]}),r.jsxs("p",{className:"text-sm opacity-75 mt-2",children:[l.toFixed(1),"% margen"]})]})})]}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-gradient-to-r from-zinc-800 to-zinc-900 text-white border border-cyan-500/20",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-xl flex items-center justify-center flex-shrink-0 border border-cyan-500/30",children:r.jsx(Hr,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-xl mb-3",children:" Anlisis Ventas vs Gastos"}),r.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-zinc-900/50 rounded-lg p-4 border border-cyan-500/20",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Ventas (Revo)"}),r.jsxs("p",{className:"text-3xl font-bold text-cyan-400",children:[a.toLocaleString("es-ES"),""]})]}),r.jsxs("div",{className:"bg-zinc-900/50 rounded-lg p-4 border border-orange-500/20",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Gastos (Facturas)"}),r.jsxs("p",{className:"text-3xl font-bold text-orange-400",children:[i.toLocaleString("es-ES"),""]})]}),r.jsxs("div",{className:"bg-zinc-900/50 rounded-lg p-4 border border-green-500/20",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Beneficio Real"}),r.jsxs("p",{className:`text-3xl font-bold ${o>=0?"text-green-400":"text-red-400"}`,children:[o.toLocaleString("es-ES"),""]})]})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Ventas ltimos 7 Das"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:f,children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{dataKey:"day",stroke:"#9ca3af"}),r.jsx(hs,{stroke:"#9ca3af"}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #06b6d4",borderRadius:"8px"}}),r.jsx(es,{dataKey:"ventas",fill:"#06b6d4",name:"Ventas ()",radius:[8,8,0,0]})]})})})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Top 5 Productos Ms Vendidos"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:x,layout:"vertical",children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{type:"number",stroke:"#9ca3af"}),r.jsx(hs,{dataKey:"name",type:"category",width:120,stroke:"#9ca3af"}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #22c55e",borderRadius:"8px"}}),r.jsx(es,{dataKey:"ventas",fill:"#22c55e",name:"Ventas ()",radius:[0,8,8,0]})]})})})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Ventas por Categora"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(Kd,{children:[r.jsx(Us,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:S})=>`${_} ${(S*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:v.map((_,S)=>r.jsx(Ko,{fill:N[S%N.length]},`cell-${S}`))}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #a855f7",borderRadius:"8px"}})]})})})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Top Empleados del Mes"})}),r.jsx(Q,{children:r.jsx(Or,{width:"100%",height:300,children:r.jsxs(ql,{data:y,children:[r.jsx(oa,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(ds,{dataKey:"name",stroke:"#9ca3af"}),r.jsx(hs,{stroke:"#9ca3af"}),r.jsx(Nn,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #06b6d4",borderRadius:"8px"}}),r.jsx(Vl,{}),r.jsx(es,{dataKey:"ventas",fill:"#06b6d4",name:"Ventas ()",radius:[8,8,0,0]}),r.jsx(es,{dataKey:"tickets",fill:"#a855f7",name:"N Tickets",radius:[8,8,0,0]})]})})})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-gray-700",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-white",children:[r.jsx(mE,{className:"w-6 h-6 text-yellow-400"}),"Ranking de Empleados"]})}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:n.slice(0,5).map((_,S)=>r.jsxs("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-xl p-4 border-2 border-cyan-500/20 hover:border-cyan-500/40 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.photo_url?r.jsx("img",{src:_.photo_url,alt:_.name,className:"w-12 h-12 rounded-full object-cover border-2 border-cyan-400"}):r.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-full flex items-center justify-center border-2 border-cyan-400/30",children:r.jsx(ln,{className:"w-6 h-6 text-cyan-400"})}),S===0&&r.jsx(be,{className:"bg-yellow-500 border-none",children:" #1"}),S===1&&r.jsx(be,{className:"bg-gray-400 border-none",children:" #2"}),S===2&&r.jsx(be,{className:"bg-orange-600 border-none",children:" #3"})]}),r.jsx("p",{className:"font-bold text-lg text-white",children:_.name}),r.jsx("p",{className:"text-sm text-gray-400 capitalize",children:_.role}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[(_.total_sales||0).toLocaleString("es-ES"),""]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[_.sales_count||0," tickets"]})]})]},_.id))})})]})]})})}function rQ(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState(""),[o,l]=j.useState(null),[c,u]=j.useState({sale_date:new Date().toISOString().slice(0,16),total:"",payment_method:"efectivo",table_number:"",employee_name:"",notes:"",items:[]}),[h,f]=j.useState({name:"",category:"principales",price:"",cost:"",description:"",available:!0}),[p,x]=j.useState({product_name:"",quantity:1,price:""}),b=Kt(),{data:v=[]}=Be({queryKey:["sales"],queryFn:()=>ee.entities.Sale.list("-sale_date",100)}),{data:y=[]}=Be({queryKey:["menu-items"],queryFn:()=>ee.entities.MenuItem.list("-created_date")}),{data:N=[]}=Be({queryKey:["revo-employees"],queryFn:()=>ee.entities.RevoEmployee.list()}),_=Bt({mutationFn:q=>{const V=q.items.map(F=>({...F,total:F.quantity*F.price})),U=parseFloat(q.total)||V.reduce((F,K)=>F+K.total,0);return ee.entities.Sale.create({ticket_number:`TK-${Date.now().toString().slice(-6)}`,sale_date:q.sale_date,total:U,subtotal:U/1.1,tax:U-U/1.1,payment_method:q.payment_method,table_number:q.table_number,employee_name:q.employee_name,items:V,status:"completada",notes:q.notes})},onSuccess:()=>{b.invalidateQueries({queryKey:["sales"]}),fe.success("Venta registrada correctamente"),t(!1),k()}}),S=Bt({mutationFn:q=>o?ee.entities.MenuItem.update(o.id,{name:q.name,category:q.category,price:parseFloat(q.price)||0,cost:parseFloat(q.cost)||0,description:q.description,available:q.available,status:"activo"}):ee.entities.MenuItem.create({name:q.name,category:q.category,price:parseFloat(q.price)||0,cost:parseFloat(q.cost)||0,description:q.description,available:q.available,status:"activo"}),onSuccess:()=>{b.invalidateQueries({queryKey:["menu-items"]}),fe.success(o?"Producto actualizado":"Producto aadido"),s(!1),l(null),P()}}),E=Bt({mutationFn:q=>ee.entities.Sale.delete(q),onSuccess:()=>{b.invalidateQueries({queryKey:["sales"]}),fe.success("Venta eliminada")}}),A=Bt({mutationFn:q=>ee.entities.MenuItem.delete(q),onSuccess:()=>{b.invalidateQueries({queryKey:["menu-items"]}),fe.success("Producto eliminado")}}),k=()=>{u({sale_date:new Date().toISOString().slice(0,16),total:"",payment_method:"efectivo",table_number:"",employee_name:"",notes:"",items:[]}),x({product_name:"",quantity:1,price:""})},P=()=>{f({name:"",category:"principales",price:"",cost:"",description:"",available:!0})},R=()=>{!p.product_name||!p.price||(u({...c,items:[...c.items,{...p,total:p.quantity*parseFloat(p.price)}]}),x({product_name:"",quantity:1,price:""}))},$=q=>{u({...c,items:c.items.filter((V,U)=>U!==q)})},D=q=>{var V,U;l(q),f({name:q.name,category:q.category,price:((V=q.price)==null?void 0:V.toString())||"",cost:((U=q.cost)==null?void 0:U.toString())||"",description:q.description||"",available:q.available!==!1}),s(!0)},B=v.filter(q=>{var U;const V=Ge(new Date,"yyyy-MM-dd");return(U=q.sale_date)==null?void 0:U.startsWith(V)}).reduce((q,V)=>q+(V.total||0),0),J=v.reduce((q,V)=>q+(V.total||0),0),Y={entrantes:"bg-green-100 text-green-800",principales:"bg-blue-100 text-blue-800",postres:"bg-pink-100 text-pink-800",bebidas:"bg-cyan-100 text-cyan-800",vinos:"bg-purple-100 text-purple-800",cervezas:"bg-yellow-100 text-yellow-800",cafes:"bg-orange-100 text-orange-800",otros:"bg-gray-100 text-gray-800"},W=v.filter(q=>{var V,U;return((V=q.ticket_number)==null?void 0:V.toLowerCase().includes(a.toLowerCase()))||((U=q.employee_name)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))}),se=y.filter(q=>{var V,U;return((V=q.name)==null?void 0:V.toLowerCase().includes(a.toLowerCase()))||((U=q.category)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))});return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",children:"Entrada Manual de Datos"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-2xl flex items-center justify-center shadow-2xl shadow-cyan-500/30",children:r.jsx(qi,{className:"w-8 h-8 text-white"})}),"REVO MANUAL"]}),r.jsx("p",{className:"text-gray-400",children:"Ventas diarias, carta y productos - Entrada manual"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(ae,{onClick:()=>{l(null),P(),s(!0)},variant:"outline",className:"border-cyan-500 text-cyan-400 hover:bg-cyan-500/20",children:[r.jsx(_n,{className:"w-4 h-4 mr-2"}),"Nuevo Producto"]}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Registrar Venta"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(X,{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-green-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:r.jsx(tV,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Hoy"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[B.toFixed(2),""]})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-cyan-900/30 to-blue-900/30 border-cyan-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-600 rounded-lg flex items-center justify-center",children:r.jsx(En,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total Ventas"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:[J.toFixed(2),""]})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(nD,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Tickets"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:v.length})]})]})})}),r.jsx(X,{className:"bg-gradient-to-br from-orange-900/30 to-yellow-900/30 border-orange-600/50",children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center",children:r.jsx(_n,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Productos"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:y.length})]})]})})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),r.jsx(He,{value:a,onChange:q=>i(q.target.value),placeholder:"Buscar...",className:"pl-10 bg-slate-800 border-slate-700 text-white"})]})}),r.jsxs(rl,{defaultValue:"sales",className:"space-y-6",children:[r.jsxs(ro,{className:"bg-slate-800 border border-slate-700",children:[r.jsxs(tn,{value:"sales",className:"data-[state=active]:bg-cyan-600",children:[" Ventas (",v.length,")"]}),r.jsxs(tn,{value:"products",className:"data-[state=active]:bg-cyan-600",children:[" Carta / Productos (",y.length,")"]})]}),r.jsx(nn,{value:"sales",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:W.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(qi,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay ventas registradas"}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-cyan-600 hover:bg-cyan-700",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Registrar primera venta"]})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:W.map(q=>{var V,U;return r.jsxs("div",{className:"p-4 hover:bg-slate-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-600 to-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(nD,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:q.ticket_number}),r.jsxs("p",{className:"text-sm text-gray-400",children:[q.sale_date&&Ge(new Date(q.sale_date),"dd/MM/yyyy HH:mm"),q.table_number&&`  Mesa ${q.table_number}`]}),q.employee_name&&r.jsxs("p",{className:"text-xs text-gray-500",children:[" ",q.employee_name]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xl font-bold text-white",children:[(V=q.total)==null?void 0:V.toFixed(2),""]}),r.jsx(be,{className:"bg-green-100 text-green-800",children:q.payment_method})]}),r.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>E.mutate(q.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:r.jsx(qr,{className:"w-4 h-4"})})]})]}),((U=q.items)==null?void 0:U.length)>0&&r.jsx("div",{className:"mt-3 ml-16 flex flex-wrap gap-2",children:q.items.map((F,K)=>r.jsxs("span",{className:"text-xs bg-slate-800 text-gray-300 px-2 py-1 rounded",children:[F.quantity,"x ",F.product_name]},K))})]},q.id)})})})})}),r.jsx(nn,{value:"products",children:r.jsx(X,{className:"bg-slate-900 border-slate-700",children:r.jsx(Q,{className:"p-0",children:se.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(_n,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No hay productos en la carta"}),r.jsxs(ae,{onClick:()=>s(!0),className:"bg-cyan-600 hover:bg-cyan-700",children:[r.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Aadir producto"]})]}):r.jsx("div",{className:"divide-y divide-slate-700",children:se.map(q=>{var V,U;return r.jsx("div",{className:"p-4 hover:bg-slate-800/50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-600 to-yellow-600 rounded-lg flex items-center justify-center",children:r.jsx(_n,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:q.name}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx(be,{className:Y[q.category]||"bg-gray-100 text-gray-800",children:q.category}),!q.available&&r.jsx(be,{className:"bg-red-100 text-red-800",children:"No disponible"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xl font-bold text-white",children:[(V=q.price)==null?void 0:V.toFixed(2),""]}),q.cost>0&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Coste: ",(U=q.cost)==null?void 0:U.toFixed(2),"  Margen: ",((1-q.cost/q.price)*100).toFixed(0),"%"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ae,{size:"sm",variant:"outline",onClick:()=>D(q),className:"border-slate-600",children:r.jsx(mO,{className:"w-4 h-4"})}),r.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>A.mutate(q.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})]})},q.id)})})})})})]}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"bg-slate-900 border-slate-700 text-white max-w-lg",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(qi,{className:"w-5 h-5 text-cyan-400"}),"Registrar Venta / Caja"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Fecha y Hora"}),r.jsx(He,{type:"datetime-local",value:c.sale_date,onChange:q=>u({...c,sale_date:q.target.value}),className:"bg-slate-800 border-slate-700"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Mtodo de Pago"}),r.jsxs(dr,{value:c.payment_method,onValueChange:q=>u({...c,payment_method:q}),children:[r.jsx(rr,{className:"bg-slate-800 border-slate-700",children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"efectivo",children:"Efectivo"}),r.jsx(De,{value:"tarjeta",children:"Tarjeta"}),r.jsx(De,{value:"bizum",children:"Bizum"}),r.jsx(De,{value:"transferencia",children:"Transferencia"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Mesa (opcional)"}),r.jsx(He,{value:c.table_number,onChange:q=>u({...c,table_number:q.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"5"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Empleado"}),r.jsxs(dr,{value:c.employee_name,onValueChange:q=>u({...c,employee_name:q}),children:[r.jsx(rr,{className:"bg-slate-800 border-slate-700",children:r.jsx(hr,{placeholder:"Seleccionar..."})}),r.jsx(sr,{children:N.map(q=>r.jsx(De,{value:q.name,children:q.name},q.id))})]})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-lg p-4",children:[r.jsx(Te,{className:"mb-2 block",children:"Productos vendidos"}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsxs(dr,{value:p.product_name,onValueChange:q=>{var U;const V=y.find(F=>F.name===q);x({...p,product_name:q,price:((U=V==null?void 0:V.price)==null?void 0:U.toString())||""})},children:[r.jsx(rr,{className:"bg-slate-700 border-slate-600 flex-1",children:r.jsx(hr,{placeholder:"Producto..."})}),r.jsx(sr,{children:y.map(q=>r.jsxs(De,{value:q.name,children:[q.name," (",q.price,")"]},q.id))})]}),r.jsx(He,{type:"number",min:"1",value:p.quantity,onChange:q=>x({...p,quantity:parseInt(q.target.value)||1}),className:"bg-slate-700 border-slate-600 w-16"}),r.jsx(He,{type:"number",step:"0.01",value:p.price,onChange:q=>x({...p,price:q.target.value}),className:"bg-slate-700 border-slate-600 w-20",placeholder:""}),r.jsx(ae,{onClick:R,size:"sm",className:"bg-cyan-600",children:r.jsx(Vr,{className:"w-4 h-4"})})]}),c.items.length>0&&r.jsxs("div",{className:"space-y-2",children:[c.items.map((q,V)=>{var U;return r.jsxs("div",{className:"flex items-center justify-between bg-slate-700 rounded px-3 py-2",children:[r.jsxs("span",{children:[q.quantity,"x ",q.product_name]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{children:[(U=q.total)==null?void 0:U.toFixed(2),""]}),r.jsx("button",{onClick:()=>$(V),className:"text-red-400",children:r.jsx(qr,{className:"w-4 h-4"})})]})]},V)}),r.jsxs("div",{className:"text-right font-bold text-cyan-400 pt-2 border-t border-slate-600",children:["Total: ",c.items.reduce((q,V)=>q+(V.total||0),0).toFixed(2),""]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"O introduce el total directamente ()"}),r.jsx(He,{type:"number",step:"0.01",value:c.total,onChange:q=>u({...c,total:q.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"125.50"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Notas"}),r.jsx(di,{value:c.notes,onChange:q=>u({...c,notes:q.target.value}),className:"bg-slate-800 border-slate-700",rows:2})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{variant:"outline",onClick:()=>t(!1),className:"border-slate-600",children:"Cancelar"}),r.jsx(ae,{onClick:()=>_.mutate(c),disabled:_.isPending||!c.total&&c.items.length===0,className:"bg-cyan-600 hover:bg-cyan-700",children:"Registrar Venta"})]})]})}),r.jsx(Fn,{open:n,onOpenChange:q=>{s(q),q||l(null)},children:r.jsxs(Pn,{className:"bg-slate-900 border-slate-700 text-white max-w-lg",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(_n,{className:"w-5 h-5 text-orange-400"}),o?"Editar Producto":"Nuevo Producto"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Nombre *"}),r.jsx(He,{value:h.name,onChange:q=>f({...h,name:q.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"Pollo asado"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Categora"}),r.jsxs(dr,{value:h.category,onValueChange:q=>f({...h,category:q}),children:[r.jsx(rr,{className:"bg-slate-800 border-slate-700",children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"entrantes",children:"Entrantes"}),r.jsx(De,{value:"principales",children:"Principales"}),r.jsx(De,{value:"postres",children:"Postres"}),r.jsx(De,{value:"bebidas",children:"Bebidas"}),r.jsx(De,{value:"vinos",children:"Vinos"}),r.jsx(De,{value:"cervezas",children:"Cervezas"}),r.jsx(De,{value:"cafes",children:"Cafs"}),r.jsx(De,{value:"otros",children:"Otros"})]})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Precio () *"}),r.jsx(He,{type:"number",step:"0.01",value:h.price,onChange:q=>f({...h,price:q.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"12.50"})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Coste () - para calcular margen"}),r.jsx(He,{type:"number",step:"0.01",value:h.cost,onChange:q=>f({...h,cost:q.target.value}),className:"bg-slate-800 border-slate-700",placeholder:"4.00"})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Descripcin"}),r.jsx(di,{value:h.description,onChange:q=>f({...h,description:q.target.value}),className:"bg-slate-800 border-slate-700",rows:2})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{variant:"outline",onClick:()=>s(!1),className:"border-slate-600",children:"Cancelar"}),r.jsx(ae,{onClick:()=>S.mutate(h),disabled:S.isPending||!h.name||!h.price,className:"bg-orange-600 hover:bg-orange-700",children:o?"Actualizar":"Guardar"})]})]})})]})})}function sQ(){const[e,t]=j.useState(!1),[n,s]=j.useState(null),a=Kt(),{data:i=[]}=Be({queryKey:["sales"],queryFn:()=>ee.entities.Sale.list("-sale_date",50),initialData:[]}),{data:o=[]}=Be({queryKey:["menu-items"],queryFn:()=>ee.entities.MenuItem.list(),initialData:[]}),{data:l=[]}=Be({queryKey:["revo-employees"],queryFn:()=>ee.entities.RevoEmployee.list(),initialData:[]}),c=async()=>{t(!0),s(null);try{const f=await ee.integrations.Core.InvokeLLM({prompt:`
Genera datos simulados de Revo Xef para Chicken Palace Ibiza:

1. VENTAS (ltimas 20):
- Ticket number
- Fecha y hora
- Total
- Productos vendidos
- Camarero
- Mesa
- Mtodo de pago

2. PRODUCTOS DEL MEN (15):
- Nombre
- Categora (entrantes, principales, postres, bebidas)
- Precio
- Coste
- Popularidad

3. EMPLEADOS (5):
- Nombre
- Rol (camarero, cocinero, bartender)
- Total ventas
- Ticket promedio

Devuelve JSON estructurado.
`,response_json_schema:{type:"object",properties:{sales:{type:"array",items:{type:"object",properties:{ticket_number:{type:"string"},sale_date:{type:"string"},total:{type:"number"},subtotal:{type:"number"},tax:{type:"number"},payment_method:{type:"string"},items:{type:"array"},employee_name:{type:"string"},table_number:{type:"string"}}}},menu_items:{type:"array",items:{type:"object",properties:{name:{type:"string"},category:{type:"string"},price:{type:"number"},cost:{type:"number"},popularity_score:{type:"number"}}}},employees:{type:"array",items:{type:"object",properties:{name:{type:"string"},role:{type:"string"},total_sales:{type:"number"},average_ticket:{type:"number"},sales_count:{type:"number"}}}}}}});let p=0;for(const v of f.sales||[])try{await ee.entities.Sale.create({revo_id:`REVO-${Math.random().toString(36).substr(2,9)}`,ticket_number:v.ticket_number,sale_date:v.sale_date||new Date().toISOString(),total:v.total||0,subtotal:v.subtotal||0,tax:v.tax||0,payment_method:v.payment_method||"tarjeta",items:v.items||[],employee_name:v.employee_name,table_number:v.table_number,status:"completada"}),p++}catch(y){console.error("Error creating sale:",y)}let x=0;for(const v of f.menu_items||[])try{await ee.entities.MenuItem.create({revo_id:`PROD-${Math.random().toString(36).substr(2,9)}`,name:v.name,category:v.category,price:v.price||0,cost:v.cost||0,popularity_score:v.popularity_score||0,available:!0,status:"activo"}),x++}catch(y){console.error("Error creating menu item:",y)}let b=0;for(const v of f.employees||[])try{await ee.entities.RevoEmployee.create({revo_id:`EMP-${Math.random().toString(36).substr(2,9)}`,name:v.name,role:v.role,total_sales:v.total_sales||0,average_ticket:v.average_ticket||0,sales_count:v.sales_count||0,active:!0}),b++}catch(y){console.error("Error creating employee:",y)}s({salesCreated:p,productsCreated:x,employeesCreated:b,timestamp:new Date().toISOString()}),a.invalidateQueries({queryKey:["sales"]}),a.invalidateQueries({queryKey:["menu-items"]}),a.invalidateQueries({queryKey:["revo-employees"]}),fe.success(` Sincronizacin completa: ${p} ventas, ${x} productos, ${b} empleados`)}catch(h){console.error("Sync error:",h),fe.error("Error en la sincronizacin")}finally{t(!1)}},u=i.length>0?i[0]:null;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Hr,{className:"w-8 h-8 text-cyan-400"}),"Sincronizacin Revo Xef"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Conectado con chickenpalaceibiza2  Datos en tiempo real"})]}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-gradient-to-r from-slate-800 to-slate-900 border border-cyan-500/20",children:r.jsx(Q,{className:"p-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2 text-white",children:[r.jsx(Ns,{className:`w-6 h-6 text-cyan-400 ${e?"animate-spin":""}`}),"Sincronizacin Automtica"]}),r.jsx("p",{className:"text-gray-300",children:"Importa ventas, productos y empleados desde Revo Xef con un click"}),u&&r.jsxs("p",{className:"text-sm text-cyan-400 mt-3",children:["ltima venta: ",Ge(new Date(u.sale_date),"dd/MM/yyyy HH:mm")," - Ticket #",u.ticket_number]})]}),r.jsx(ae,{size:"lg",onClick:c,disabled:e,className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold px-8 py-6 text-lg shadow-lg shadow-cyan-500/50 hover:shadow-cyan-500/80 transition-all",children:e?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-6 h-6 mr-2 animate-spin"}),"Sincronizando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"w-6 h-6 mr-2"}),"Sincronizar Ahora"]})})]})})}),n&&r.jsx(X,{className:"border-none shadow-2xl mb-8 border-l-4 border-green-400 bg-slate-800",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center flex-shrink-0 border border-green-500/30",children:r.jsx(Ke,{className:"w-6 h-6 text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:" Sincronizacin Exitosa"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-cyan-500/20",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Ventas"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:n.salesCreated})]}),r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-green-500/20",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Productos"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:n.productsCreated})]}),r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-purple-500/20",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Empleados"}),r.jsx("p",{className:"text-2xl font-bold text-purple-400",children:n.employeesCreated})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:Ge(new Date(n.timestamp),"dd/MM/yyyy HH:mm:ss")})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-cyan-500/20 hover:border-cyan-500/40 transition-all",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-white",children:[r.jsx(qi,{className:"w-5 h-5 text-cyan-400"}),"Ventas Sincronizadas"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-4xl font-bold text-cyan-400",children:i.length}),r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Total: ",i.reduce((h,f)=>h+(f.total||0),0).toLocaleString("es-ES"),""]})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-green-500/20 hover:border-green-500/40 transition-all",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-white",children:[r.jsx(_n,{className:"w-5 h-5 text-green-400"}),"Productos del Men"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-4xl font-bold text-green-400",children:o.length}),r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[o.filter(h=>h.status==="activo").length," activos"]})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-purple-500/20 hover:border-purple-500/40 transition-all",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-white",children:[r.jsx(ln,{className:"w-5 h-5 text-purple-400"}),"Empleados Revo"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-4xl font-bold text-purple-400",children:l.length}),r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[l.filter(h=>h.active).length," activos"]})]})]})]}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-r from-slate-800 to-slate-900 border border-cyan-500/20",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-xl flex items-center justify-center flex-shrink-0 border border-cyan-500/30",children:r.jsx(wn,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:" Sincronizacin Automtica Configurada"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Los datos de Revo Xef se sincronizarn automticamente cada hora. Tambin puedes sincronizar manualmente cuando lo necesites."}),r.jsxs("ul",{className:"text-sm text-gray-400 mt-3 space-y-1",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full"}),"Ventas en tiempo real"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),"Productos y precios actualizados"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),"Performance de empleados"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Anlisis de margen (Ventas - Gastos)"]})]})]})]})})})]})})}function aQ(){const e="http://192.168.1.41",[t,n]=j.useState("grid"),[s,a]=j.useState(null),[i,o]=j.useState(0),l={model:"NV-KIT830W-4CAM",ip:"192.168.1.41",user:"admin1245",password:"344472055",cameras:4,version:"3.2.4.9M"},c=[{id:1,name:"Entrada Principal",location:"Puerta",status:"online"},{id:2,name:"Cocina",location:"Interior",status:"online"},{id:3,name:"Mostrador",location:"Caja",status:"online"},{id:4,name:"Almacn",location:"Trasero",status:"online"}],u=()=>{o(Date.now()),fe.success("Actualizando cmaras...")},h=()=>{window.open(e,"_blank","width=1280,height=720")},f=(p,x)=>{navigator.clipboard.writeText(p),fe.success(` ${x} copiado`)};return r.jsx("div",{className:"p-4 md:p-6 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-2xl",children:r.jsx(Io,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-black text-white",children:"CMARAS DE SEGURIDAD"}),r.jsxs("p",{className:"text-gray-400",children:["NVR ",l.model," - ",l.cameras," cmaras"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ae,{onClick:u,variant:"outline",className:"border-gray-600 text-gray-300",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"})," Actualizar"]}),r.jsxs(be,{className:"bg-green-600 text-white px-4 py-2",children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"NVR Conectado"]})]})]}),r.jsxs(X,{className:"bg-zinc-800/50 border-zinc-800 mb-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-red-900/50 to-orange-900/50 border-b border-zinc-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Vista en Vivo"]}),r.jsxs(ae,{onClick:h,className:"bg-red-600 hover:bg-red-700",children:[r.jsx(sV,{className:"w-4 h-4 mr-2"}),"Abrir Panel NVR"]})]})}),r.jsxs(Q,{className:"p-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:c.map(p=>r.jsxs("div",{className:"relative bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-xl overflow-hidden border-2 border-zinc-700 hover:border-red-500 transition-all cursor-pointer aspect-video",onClick:h,children:[r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[r.jsx(Io,{className:"w-12 h-12 text-zinc-600 mb-2"}),r.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:p.name}),r.jsx("p",{className:"text-zinc-500 text-xs",children:p.location})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-green-400 text-xs",children:"ONLINE"})]}),r.jsxs(be,{className:"bg-red-600/80 text-white text-xs",children:["CAM ",p.id]})]})})]},p.id))}),r.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-orange-900/30 border border-red-700/50 rounded-xl p-6 text-center mt-4",children:[r.jsx(Io,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Ver Cmaras en Directo"}),r.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Haz clic para abrir el panel del NVR en una nueva ventana.",r.jsx("br",{}),r.jsx("span",{className:"text-yellow-400",children:"Requiere estar conectado a la red local (192.168.1.x)"})]}),r.jsxs(ae,{onClick:h,size:"lg",className:"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700",children:[r.jsx(Ui,{className:"w-5 h-5 mr-2"}),"Abrir Panel Web del NVR"]})]}),r.jsx("div",{className:"mt-4 bg-blue-900/30 border border-blue-700/50 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Tf,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 font-semibold text-sm",children:" Acceso Remoto"}),r.jsxs("p",{className:"text-blue-100/70 text-xs mt-1",children:["Para ver las cmaras desde cualquier lugar (fuera de la red local), usa la ",r.jsx("strong",{children:"app ESEECLOUD"})," en tu mvil. Los datos de acceso estn ms abajo."]})]})]})})]})]}),r.jsx(X,{className:"bg-gradient-to-br from-blue-600 to-blue-800 border-none shadow-2xl mb-6",children:r.jsx(Q,{className:"p-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsx("div",{className:"w-24 h-24 bg-white rounded-3xl flex items-center justify-center shadow-xl",children:r.jsx(Tf,{className:"w-14 h-14 text-blue-600"})}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:" App ESEECLOUD"}),r.jsx("p",{className:"text-blue-100 text-lg mb-4",children:"Usa la app en tu mvil para ver las cmaras en directo desde cualquier lugar"}),r.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[r.jsx("a",{href:"https://apps.apple.com/app/eseecloud/id1043816786",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-900 transition-colors",children:" App Store"}),r.jsxs("a",{href:"https://play.google.com/store/apps/details?id=com.p2pcamera.eseecloud",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 transition-colors",children:[r.jsx(ou,{className:"w-5 h-5"})," Google Play"]})]})]})]})})}),r.jsxs(X,{className:"bg-slate-800 border-slate-700 mb-6",children:[r.jsx(ke,{className:"bg-gradient-to-r from-slate-700 to-slate-800 border-b border-slate-700",children:r.jsx(Pe,{className:"text-white",children:" Datos para aadir el NVR en la App"})}),r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-700",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Usuario"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-2xl font-mono font-bold text-green-400",children:l.user}),r.jsx(ae,{size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",onClick:()=>f(l.user,"Usuario"),children:r.jsx(zo,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-700",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Contrasea"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-2xl font-mono font-bold text-yellow-400",children:l.password}),r.jsx(ae,{size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",onClick:()=>f(l.password,"Contrasea"),children:r.jsx(zo,{className:"w-4 h-4"})})]})]})]}),r.jsxs("div",{className:"mt-6 bg-blue-900/30 border border-blue-700 rounded-xl p-4",children:[r.jsx("h4",{className:"text-blue-300 font-bold mb-3",children:" Cmo aadir el NVR en ESEECLOUD:"}),r.jsxs("ol",{className:"text-blue-100 space-y-2 text-sm",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"1."})," Abre la app ESEECLOUD"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"2."})," Pulsa ",r.jsx("strong",{children:'"+"'})," para aadir dispositivo"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"3."})," Selecciona ",r.jsx("strong",{children:'"Aadir por IP/Dominio"'})," (red local)"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"4."})," IP: ",r.jsx("strong",{className:"text-cyan-300",children:l.ip})]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"5."})," Usuario: ",r.jsx("strong",{className:"text-green-300",children:l.user})]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"6."})," Contrasea: ",r.jsx("strong",{className:"text-yellow-300",children:l.password})]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-bold text-white",children:"7."})," Listo! Vers las 4 cmaras en directo"]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"bg-zinc-800/50 border-zinc-800",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(eD,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs",children:"Modelo"}),r.jsx("p",{className:"text-white font-bold text-sm",children:l.model})]})}),r.jsx(X,{className:"bg-zinc-800/50 border-zinc-800",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(Io,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs",children:"Cmaras"}),r.jsxs("p",{className:"text-white font-bold text-sm",children:[l.cameras," activas"]})]})}),r.jsx(X,{className:"bg-zinc-800/50 border-zinc-800",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(Ix,{className:"w-8 h-8 text-cyan-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs",children:"IP Local"}),r.jsx("p",{className:"text-white font-bold text-sm",children:l.ip})]})}),r.jsx(X,{className:"bg-zinc-800/50 border-zinc-800",children:r.jsxs(Q,{className:"p-4 text-center",children:[r.jsx(eD,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-xs",children:"Versin"}),r.jsx("p",{className:"text-white font-bold text-sm",children:l.version})]})})]}),r.jsx(X,{className:"bg-zinc-800/50 border-zinc-800",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(wn,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-white font-bold mb-2",children:"Acceso Web (solo configuracin)"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"El panel web del NVR sirve para configuracin. Para ver vdeo en directo, usa la app ESEECLOUD."}),r.jsxs(ae,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>window.open(e,"_blank"),children:[r.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Abrir Panel NVR (red local)"]})]})]})})})]})})}function iQ(){const[e,t]=j.useState(0),[n,s]=j.useState(!1);j.useEffect(()=>{s(!0);const o=setInterval(()=>{t(l=>(l+1)%a.length)},5e3);return()=>clearInterval(o)},[]);const a=[{icon:Gn,title:"IA que piensa por ti",description:"Procesa emails, crea facturas, detecta proveedores. Todo automtico.",color:"from-blue-600 to-purple-600",stats:"99% precisin"},{icon:la,title:"Ahorra dinero real",description:"Compara precios entre proveedores y te muestra dnde ahorrar.",color:"from-green-600 to-emerald-600",stats:"Hasta 15K/ao"},{icon:d_,title:"Automatizacin total",description:"Workflows inteligentes, notificaciones smart, cero trabajo manual.",color:"from-orange-600 to-red-600",stats:"80% menos tiempo"},{icon:vr,title:"100% seguro y legal",description:"RGPD, mutua, documentacin empresa. Todo bajo control.",color:"from-indigo-600 to-purple-600",stats:"Certificado"}],i=[{icon:Ye,name:"Facturas IA",description:"OCR automtico"},{icon:la,name:"Comparador",description:"Mejores precios"},{icon:ln,name:"Proveedores",description:"Red optimizada"},{icon:Gn,name:"IA Central",description:"Coordinador"},{icon:rn,name:"Nminas",description:"RRHH completo"},{icon:Sn,name:"Vacaciones",description:"Auto-aprobacin"},{icon:$t,name:"Fichajes",description:"Control horario"},{icon:vr,name:"RGPD",description:"Cumplimiento"},{icon:iu,name:"LegalVault",description:"Docs seguros"},{icon:Wi,name:"WhatsApp IA",description:"Chats inteligentes"}];return r.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden",children:[r.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 opacity-50"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),
                             radial-gradient(circle at 80% 80%, rgba(168, 85, 247, 0.3) 0%, transparent 50%),
                             radial-gradient(circle at 40% 20%, rgba(236, 72, 153, 0.3) 0%, transparent 50%)`}}),r.jsx("div",{className:"absolute inset-0",children:[...Array(50)].map((o,l)=>r.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,opacity:Math.random()*.5}},l))})]}),r.jsxs("div",{className:`relative z-10 text-center px-4 transition-all duration-1000 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[r.jsx("div",{className:"inline-block mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(Gn,{className:"w-24 h-24 text-blue-400 animate-pulse"}),r.jsx(ur,{className:"absolute -top-2 -right-2 w-8 h-8 text-yellow-400 animate-spin"})]})}),r.jsx("h1",{className:"text-7xl md:text-9xl font-black mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"SYNK-IA"}),r.jsx("p",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-200",children:"La IA que organiza tu negocio"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-400 mb-8 max-w-3xl mx-auto",children:"ERP con Inteligencia Artificial  Automatizacin total  Ahorro real"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsx(fn,{to:ft("Dashboard"),children:r.jsxs(ae,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-6 text-lg rounded-xl shadow-2xl hover:shadow-purple-500/50 transition-all",children:[r.jsx(d_,{className:"w-6 h-6 mr-2"}),"Entrar al Dashboard",r.jsx(zl,{className:"w-6 h-6 ml-2"})]})}),r.jsxs(ae,{size:"lg",variant:"outline",className:"border-2 border-white/30 text-white hover:bg-white/10 px-8 py-6 text-lg rounded-xl",children:[r.jsx(Mx,{className:"w-6 h-6 mr-2"}),"Ver Demo"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-16 max-w-2xl mx-auto",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-4xl font-bold text-blue-400",children:"15K"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Ahorro anual medio"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-4xl font-bold text-purple-400",children:"80%"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Menos tiempo manual"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-4xl font-bold text-pink-400",children:"100%"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Automatizado"})]})]})]}),r.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce",children:r.jsx(zl,{className:"w-8 h-8 text-white/50 rotate-90"})})]}),r.jsx("section",{className:"py-20 bg-gradient-to-b from-black to-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsx("h2",{className:"text-5xl font-bold text-center mb-16",children:r.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Qu hace SYNK-IA?"})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[r.jsx("div",{className:"space-y-6",children:a.map((o,l)=>r.jsx(X,{className:`border-none transition-all duration-500 cursor-pointer ${e===l?"bg-gradient-to-r "+o.color+" text-white scale-105 shadow-2xl":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,onClick:()=>t(l),children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(o.icon,{className:"w-12 h-12 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:o.title}),r.jsx("p",{className:e===l?"text-white/90":"text-gray-500",children:o.description}),r.jsx("p",{className:"text-sm font-bold mt-2",children:o.stats})]})]})})},l))}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl shadow-2xl flex items-center justify-center",children:oe.createElement(a[e].icon,{className:"w-32 h-32 text-white animate-pulse"})})})]})]})}),r.jsx("section",{className:"py-20 bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsx("h2",{className:"text-5xl font-bold text-center mb-4",children:r.jsx("span",{className:"bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"10 Mdulos Completos"})}),r.jsx("p",{className:"text-xl text-gray-400 text-center mb-16",children:"Todo lo que necesitas en un solo lugar"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:i.map((o,l)=>r.jsx(X,{className:"bg-gray-800 border-gray-700 hover:bg-gray-700 transition-all hover:scale-105 cursor-pointer",children:r.jsxs(Q,{className:"p-6 text-center",children:[r.jsx(o.icon,{className:"w-12 h-12 mx-auto mb-3 text-blue-400"}),r.jsx("h3",{className:"font-bold text-white mb-1",children:o.name}),r.jsx("p",{className:"text-xs text-gray-400",children:o.description})]})},l))})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-900 to-black",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsx("h2",{className:"text-5xl font-bold text-center mb-16",children:r.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-red-400 bg-clip-text text-transparent",children:"Por qu SYNK-IA?"})}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:Gn,title:"IA que aprende",description:"Cuanto ms la usas, ms inteligente se vuelve. Aprende de tus patrones.",color:"text-blue-400"},{icon:Hr,title:"Velocidad extrema",description:"Procesa 100 facturas en 10 segundos. OCR + IA + Automatizacin.",color:"text-yellow-400"},{icon:rn,title:"ROI inmediato",description:"El sistema se paga solo en 2 meses con los ahorros que genera.",color:"text-green-400"},{icon:Tf,title:"PWA mvil",description:"Instala en tu mvil. Funciona offline. Notificaciones push.",color:"text-purple-400"},{icon:vr,title:"Seguridad total",description:"Encriptacin end-to-end. RGPD compliant. Backups automticos.",color:"text-red-400"},{icon:ln,title:"Multi-usuario",description:"Permisos granulares. Cada usuario ve solo lo que debe.",color:"text-pink-400"}].map((o,l)=>r.jsx(X,{className:"bg-gray-800 border-gray-700 hover:shadow-2xl hover:shadow-purple-500/20 transition-all",children:r.jsxs(Q,{className:"p-8",children:[r.jsx(o.icon,{className:`w-16 h-16 mb-4 ${o.color}`}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:o.title}),r.jsx("p",{className:"text-gray-400",children:o.description})]})},l))})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-900 to-purple-900",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[r.jsx(ur,{className:"w-12 h-12 mx-auto mb-6 text-yellow-400"}),r.jsx("blockquote",{className:"text-3xl font-bold mb-6",children:'"Antes perdamos 20 horas/semana en gestin. Ahora SYNK-IA lo hace todo automticamente. Hemos ahorrado 12K este ao solo optimizando proveedores."'}),r.jsx("p",{className:"text-xl text-blue-200",children:" David, CEO de empresa real"})]})}),r.jsxs("section",{className:"py-32 bg-black relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),r.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-6xl font-black mb-6",children:r.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Listo para automatizar tu negocio?"})}),r.jsx("p",{className:"text-2xl text-gray-300 mb-12",children:"nete a las empresas que ya estn ahorrando tiempo y dinero con IA"}),r.jsx(fn,{to:ft("Dashboard"),children:r.jsxs(ae,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-12 py-8 text-2xl rounded-2xl shadow-2xl hover:shadow-purple-500/50 transition-all",children:[r.jsx(d_,{className:"w-8 h-8 mr-3"}),"Empezar Ahora",r.jsx(zl,{className:"w-8 h-8 ml-3"})]})}),r.jsx("p",{className:"text-sm text-gray-500 mt-8",children:"No requiere tarjeta de crdito  Setup en 5 minutos  Soporte 24/7"})]})]}),r.jsx("footer",{className:"bg-gray-950 py-12 border-t border-gray-800",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Gn,{className:"w-8 h-8 text-blue-400"}),r.jsx("span",{className:"text-xl font-bold",children:"SYNK-IA"})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"La IA que organiza tu negocio"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-4",children:"Producto"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:"Caractersticas"}),r.jsx("li",{children:"Precios"}),r.jsx("li",{children:"Casos de uso"}),r.jsx("li",{children:"Documentacin"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-4",children:"Empresa"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:"Sobre nosotros"}),r.jsx("li",{children:"Blog"}),r.jsx("li",{children:"Contacto"}),r.jsx("li",{children:"Careers"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:"Privacidad"}),r.jsx("li",{children:"Trminos"}),r.jsx("li",{children:"RGPD"}),r.jsx("li",{children:"Seguridad"})]})]})]}),r.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center text-gray-500 text-sm",children:" 2025 SYNK-IA. Todos los derechos reservados. Made with  by AI."})]})})]})}var oN="Checkbox",[GIe]=pi(oN),[KIe,XT]=GIe(oN);function XIe(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=e,[p,x]=Ql({prop:n,defaultProp:a??!1,onChange:c,caller:oN}),[b,v]=j.useState(null),[y,N]=j.useState(null),_=j.useRef(!1),S=b?!!o||!!b.closest("form"):!0,E={checked:p,disabled:i,setChecked:x,control:b,setControl:v,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:cu(a)?!1:a,isFormControl:S,bubbleInput:y,setBubbleInput:N};return r.jsx(KIe,{scope:t,...E,children:QIe(f)?f(E):s})}var oQ="CheckboxTrigger",lQ=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:b}=XT(oQ,e),v=Wt(a,h),y=j.useRef(c);return j.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const _=()=>f(y.current);return N.addEventListener("reset",_),()=>N.removeEventListener("reset",_)}},[i,f]),r.jsx(Ct.button,{type:"button",role:"checkbox","aria-checked":cu(c)?"mixed":c,"aria-required":u,"data-state":fQ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:Xe(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Xe(n,N=>{f(_=>cu(_)?!0:!_),b&&x&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})})});lQ.displayName=oQ;var QT=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...f}=e;return r.jsx(XIe,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(lQ,{...f,ref:t,__scopeCheckbox:n}),p&&r.jsx(hQ,{__scopeCheckbox:n})]})})});QT.displayName=oN;var cQ="CheckboxIndicator",uQ=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=XT(cQ,n);return r.jsx(Cs,{present:s||cu(i.checked)||i.checked===!0,children:r.jsx(Ct.span,{"data-state":fQ(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});uQ.displayName=cQ;var dQ="CheckboxBubbleInput",hQ=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:p,setBubbleInput:x}=XT(dQ,e),b=Wt(n,x),v=S4(i),y=jO(s);j.useEffect(()=>{const _=p;if(!_)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,k=!a.current;if(v!==i&&A){const P=new Event("click",{bubbles:k});_.indeterminate=cu(i),A.call(_,cu(i)?!1:i),_.dispatchEvent(P)}},[p,v,i,a]);const N=j.useRef(cu(i)?!1:i);return r.jsx(Ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:h,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hQ.displayName=dQ;function QIe(e){return typeof e=="function"}function cu(e){return e==="indeterminate"}function fQ(e){return cu(e)?"indeterminate":e?"checked":"unchecked"}const ZIe=j.forwardRef(({className:e,...t},n)=>r.jsx(QT,{ref:n,className:dt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(uQ,{className:dt("flex items-center justify-center text-current"),children:r.jsx(Iw,{className:"h-4 w-4"})})}));ZIe.displayName=QT.displayName;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var mQ;function Qe(){return mQ.apply(null,arguments)}function JIe(e){mQ=e}function Zi(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Id(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZT(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(cn(e,t))return!1;return!0}function Zs(e){return e===void 0}function sc(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function yg(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function pQ(e,t){var n=[],s,a=e.length;for(s=0;s<a;++s)n.push(t(e[s],s));return n}function su(e,t){for(var n in t)cn(t,n)&&(e[n]=t[n]);return cn(t,"toString")&&(e.toString=t.toString),cn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ol(e,t,n,s){return FQ(e,t,n,s,!0).utc()}function e3e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Lt(e){return e._pf==null&&(e._pf=e3e()),e._pf}var KA;Array.prototype.some?KA=Array.prototype.some:KA=function(e){var t=Object(this),n=t.length>>>0,s;for(s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};function JT(e){var t=null,n=!1,s=e._d&&!isNaN(e._d.getTime());if(s&&(t=Lt(e),n=KA.call(t.parsedDateParts,function(a){return a!=null}),s=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(s=s&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=s;else return s;return e._isValid}function lN(e){var t=ol(NaN);return e!=null?su(Lt(t),e):Lt(t).userInvalidated=!0,t}var fB=Qe.momentProperties=[],iE=!1;function eM(e,t){var n,s,a,i=fB.length;if(Zs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Zs(t._i)||(e._i=t._i),Zs(t._f)||(e._f=t._f),Zs(t._l)||(e._l=t._l),Zs(t._strict)||(e._strict=t._strict),Zs(t._tzm)||(e._tzm=t._tzm),Zs(t._isUTC)||(e._isUTC=t._isUTC),Zs(t._offset)||(e._offset=t._offset),Zs(t._pf)||(e._pf=Lt(t)),Zs(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)s=fB[n],a=t[s],Zs(a)||(e[s]=a);return e}function vg(e){eM(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),iE===!1&&(iE=!0,Qe.updateOffset(this),iE=!1)}function Ji(e){return e instanceof vg||e!=null&&e._isAMomentObject!=null}function xQ(e){Qe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function yi(e,t){var n=!0;return su(function(){if(Qe.deprecationHandler!=null&&Qe.deprecationHandler(null,e),n){var s=[],a,i,o,l=arguments.length;for(i=0;i<l;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(o in arguments[0])cn(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[i];s.push(a)}xQ(e+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var mB={};function gQ(e,t){Qe.deprecationHandler!=null&&Qe.deprecationHandler(e,t),mB[e]||(xQ(t),mB[e]=!0)}Qe.suppressDeprecationWarnings=!1;Qe.deprecationHandler=null;function ll(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function t3e(e){var t,n;for(n in e)cn(e,n)&&(t=e[n],ll(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function XA(e,t){var n=su({},e),s;for(s in t)cn(t,s)&&(Id(e[s])&&Id(t[s])?(n[s]={},su(n[s],e[s]),su(n[s],t[s])):t[s]!=null?n[s]=t[s]:delete n[s]);for(s in e)cn(e,s)&&!cn(t,s)&&Id(e[s])&&(n[s]=su({},n[s]));return n}function tM(e){e!=null&&this.set(e)}var QA;Object.keys?QA=Object.keys:QA=function(e){var t,n=[];for(t in e)cn(e,t)&&n.push(t);return n};var n3e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function r3e(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return ll(s)?s.call(t,n):s}function Jo(e,t,n){var s=""+Math.abs(e),a=t-s.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+s}var nM=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kv=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oE={},vf={};function vt(e,t,n,s){var a=s;typeof s=="string"&&(a=function(){return this[s]()}),e&&(vf[e]=a),t&&(vf[t[0]]=function(){return Jo(a.apply(this,arguments),t[1],t[2])}),n&&(vf[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function s3e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function a3e(e){var t=e.match(nM),n,s;for(n=0,s=t.length;n<s;n++)vf[t[n]]?t[n]=vf[t[n]]:t[n]=s3e(t[n]);return function(a){var i="",o;for(o=0;o<s;o++)i+=ll(t[o])?t[o].call(a,e):t[o];return i}}function Hv(e,t){return e.isValid()?(t=yQ(t,e.localeData()),oE[t]=oE[t]||a3e(t),oE[t](e)):e.localeData().invalidDate()}function yQ(e,t){var n=5;function s(a){return t.longDateFormat(a)||a}for(kv.lastIndex=0;n>=0&&kv.test(e);)e=e.replace(kv,s),kv.lastIndex=0,n-=1;return e}var i3e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function o3e(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(nM).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[e])}var l3e="Invalid date";function c3e(){return this._invalidDate}var u3e="%d",d3e=/\d{1,2}/;function h3e(e){return this._ordinal.replace("%d",e)}var f3e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function m3e(e,t,n,s){var a=this._relativeTime[n];return ll(a)?a(e,t,n,s):a.replace(/%d/i,e)}function p3e(e,t){var n=this._relativeTime[e>0?"future":"past"];return ll(n)?n(t):n.replace(/%s/i,t)}var pB={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function vi(e){return typeof e=="string"?pB[e]||pB[e.toLowerCase()]:void 0}function rM(e){var t={},n,s;for(s in e)cn(e,s)&&(n=vi(s),n&&(t[n]=e[s]));return t}var x3e={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function g3e(e){var t=[],n;for(n in e)cn(e,n)&&t.push({unit:n,priority:x3e[n]});return t.sort(function(s,a){return s.priority-a.priority}),t}var vQ=/\d/,za=/\d\d/,bQ=/\d{3}/,sM=/\d{4}/,cN=/[+-]?\d{6}/,Zn=/\d\d?/,wQ=/\d\d\d\d?/,jQ=/\d\d\d\d\d\d?/,uN=/\d{1,3}/,aM=/\d{1,4}/,dN=/[+-]?\d{1,6}/,Im=/\d+/,hN=/[+-]?\d+/,y3e=/Z|[+-]\d\d:?\d\d/gi,fN=/Z|[+-]\d\d(?::?\d\d)?/gi,v3e=/[+-]?\d+(\.\d{1,3})?/,bg=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Lm=/^[1-9]\d?/,iM=/^([1-9]\d|\d)/,Pw;Pw={};function rt(e,t,n){Pw[e]=ll(t)?t:function(s,a){return s&&n?n:t}}function b3e(e,t){return cn(Pw,e)?Pw[e](t._strict,t._locale):new RegExp(w3e(e))}function w3e(e){return Hl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,s,a,i){return n||s||a||i}))}function Hl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function si(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Gt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=si(t)),n}var ZA={};function Tn(e,t){var n,s=t,a;for(typeof e=="string"&&(e=[e]),sc(t)&&(s=function(i,o){o[t]=Gt(i)}),a=e.length,n=0;n<a;n++)ZA[e[n]]=s}function wg(e,t){Tn(e,function(n,s,a,i){a._w=a._w||{},t(n,a._w,a,i)})}function j3e(e,t,n){t!=null&&cn(ZA,e)&&ZA[e](t,n._a,n,e)}function mN(e){return e%4===0&&e%100!==0||e%400===0}var Ss=0,Dl=1,Do=2,Wr=3,Vi=4,Il=5,Sd=6,N3e=7,_3e=8;vt("Y",0,0,function(){var e=this.year();return e<=9999?Jo(e,4):"+"+e});vt(0,["YY",2],0,function(){return this.year()%100});vt(0,["YYYY",4],0,"year");vt(0,["YYYYY",5],0,"year");vt(0,["YYYYYY",6,!0],0,"year");rt("Y",hN);rt("YY",Zn,za);rt("YYYY",aM,sM);rt("YYYYY",dN,cN);rt("YYYYYY",dN,cN);Tn(["YYYYY","YYYYYY"],Ss);Tn("YYYY",function(e,t){t[Ss]=e.length===2?Qe.parseTwoDigitYear(e):Gt(e)});Tn("YY",function(e,t){t[Ss]=Qe.parseTwoDigitYear(e)});Tn("Y",function(e,t){t[Ss]=parseInt(e,10)});function Px(e){return mN(e)?366:365}Qe.parseTwoDigitYear=function(e){return Gt(e)+(Gt(e)>68?1900:2e3)};var NQ=Fm("FullYear",!0);function S3e(){return mN(this.year())}function Fm(e,t){return function(n){return n!=null?(_Q(this,e,n),Qe.updateOffset(this,t),this):O0(this,e)}}function O0(e,t){if(!e.isValid())return NaN;var n=e._d,s=e._isUTC;switch(t){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function _Q(e,t,n){var s,a,i,o,l;if(!(!e.isValid()||isNaN(n))){switch(s=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(a?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(a?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(a?s.setUTCHours(n):s.setHours(n));case"Date":return void(a?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}i=n,o=e.month(),l=e.date(),l=l===29&&o===1&&!mN(i)?28:l,a?s.setUTCFullYear(i,o,l):s.setFullYear(i,o,l)}}function C3e(e){return e=vi(e),ll(this[e])?this[e]():this}function k3e(e,t){if(typeof e=="object"){e=rM(e);var n=g3e(e),s,a=n.length;for(s=0;s<a;s++)this[n[s].unit](e[n[s].unit])}else if(e=vi(e),ll(this[e]))return this[e](t);return this}function E3e(e,t){return(e%t+t)%t}var Nr;Array.prototype.indexOf?Nr=Array.prototype.indexOf:Nr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function oM(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=E3e(t,12);return e+=(t-n)/12,n===1?mN(e)?29:28:31-n%7%2}vt("M",["MM",2],"Mo",function(){return this.month()+1});vt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});vt("MMMM",0,0,function(e){return this.localeData().months(this,e)});rt("M",Zn,Lm);rt("MM",Zn,za);rt("MMM",function(e,t){return t.monthsShortRegex(e)});rt("MMMM",function(e,t){return t.monthsRegex(e)});Tn(["M","MM"],function(e,t){t[Dl]=Gt(e)-1});Tn(["MMM","MMMM"],function(e,t,n,s){var a=n._locale.monthsParse(e,s,n._strict);a!=null?t[Dl]=a:Lt(n).invalidMonth=e});var P3e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),SQ="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),CQ=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,A3e=bg,O3e=bg;function T3e(e,t){return e?Zi(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||CQ).test(t)?"format":"standalone"][e.month()]:Zi(this._months)?this._months:this._months.standalone}function M3e(e,t){return e?Zi(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[CQ.test(t)?"format":"standalone"][e.month()]:Zi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function R3e(e,t,n){var s,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)i=ol([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(a=Nr.call(this._shortMonthsParse,o),a!==-1?a:null):(a=Nr.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=Nr.call(this._shortMonthsParse,o),a!==-1?a:(a=Nr.call(this._longMonthsParse,o),a!==-1?a:null)):(a=Nr.call(this._longMonthsParse,o),a!==-1?a:(a=Nr.call(this._shortMonthsParse,o),a!==-1?a:null))}function D3e(e,t,n){var s,a,i;if(this._monthsParseExact)return R3e.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(a=ol([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(n&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function kQ(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Gt(t);else if(t=e.localeData().monthsParse(t),!sc(t))return e}var n=t,s=e.date();return s=s<29?s:Math.min(s,oM(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,s):e._d.setMonth(n,s),e}function EQ(e){return e!=null?(kQ(this,e),Qe.updateOffset(this,!0),this):O0(this,"Month")}function I3e(){return oM(this.year(),this.month())}function L3e(e){return this._monthsParseExact?(cn(this,"_monthsRegex")||PQ.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(cn(this,"_monthsShortRegex")||(this._monthsShortRegex=A3e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function F3e(e){return this._monthsParseExact?(cn(this,"_monthsRegex")||PQ.call(this),e?this._monthsStrictRegex:this._monthsRegex):(cn(this,"_monthsRegex")||(this._monthsRegex=O3e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function PQ(){function e(c,u){return u.length-c.length}var t=[],n=[],s=[],a,i,o,l;for(a=0;a<12;a++)i=ol([2e3,a]),o=Hl(this.monthsShort(i,"")),l=Hl(this.months(i,"")),t.push(o),n.push(l),s.push(l),s.push(o);t.sort(e),n.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function z3e(e,t,n,s,a,i,o){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,s,a,i,o),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,s,a,i,o),l}function T0(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Aw(e,t,n){var s=7+t-n,a=(7+T0(e,0,s).getUTCDay()-t)%7;return-a+s-1}function AQ(e,t,n,s,a){var i=(7+n-s)%7,o=Aw(e,s,a),l=1+7*(t-1)+i+o,c,u;return l<=0?(c=e-1,u=Px(c)+l):l>Px(e)?(c=e+1,u=l-Px(e)):(c=e,u=l),{year:c,dayOfYear:u}}function M0(e,t,n){var s=Aw(e.year(),t,n),a=Math.floor((e.dayOfYear()-s-1)/7)+1,i,o;return a<1?(o=e.year()-1,i=a+Yl(o,t,n)):a>Yl(e.year(),t,n)?(i=a-Yl(e.year(),t,n),o=e.year()+1):(o=e.year(),i=a),{week:i,year:o}}function Yl(e,t,n){var s=Aw(e,t,n),a=Aw(e+1,t,n);return(Px(e)-s+a)/7}vt("w",["ww",2],"wo","week");vt("W",["WW",2],"Wo","isoWeek");rt("w",Zn,Lm);rt("ww",Zn,za);rt("W",Zn,Lm);rt("WW",Zn,za);wg(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=Gt(e)});function $3e(e){return M0(e,this._week.dow,this._week.doy).week}var B3e={dow:0,doy:6};function V3e(){return this._week.dow}function U3e(){return this._week.doy}function W3e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function q3e(e){var t=M0(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}vt("d",0,"do","day");vt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});vt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});vt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});vt("e",0,0,"weekday");vt("E",0,0,"isoWeekday");rt("d",Zn);rt("e",Zn);rt("E",Zn);rt("dd",function(e,t){return t.weekdaysMinRegex(e)});rt("ddd",function(e,t){return t.weekdaysShortRegex(e)});rt("dddd",function(e,t){return t.weekdaysRegex(e)});wg(["dd","ddd","dddd"],function(e,t,n,s){var a=n._locale.weekdaysParse(e,s,n._strict);a!=null?t.d=a:Lt(n).invalidWeekday=e});wg(["d","e","E"],function(e,t,n,s){t[s]=Gt(e)});function H3e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Y3e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function lM(e,t){return e.slice(t,7).concat(e.slice(0,t))}var G3e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),OQ="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),K3e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),X3e=bg,Q3e=bg,Z3e=bg;function J3e(e,t){var n=Zi(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?lM(n,this._week.dow):e?n[e.day()]:n}function e6e(e){return e===!0?lM(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function t6e(e){return e===!0?lM(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function n6e(e,t,n){var s,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)i=ol([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(a=Nr.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=Nr.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=Nr.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=Nr.call(this._weekdaysParse,o),a!==-1||(a=Nr.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=Nr.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=Nr.call(this._shortWeekdaysParse,o),a!==-1||(a=Nr.call(this._weekdaysParse,o),a!==-1)?a:(a=Nr.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=Nr.call(this._minWeekdaysParse,o),a!==-1||(a=Nr.call(this._weekdaysParse,o),a!==-1)?a:(a=Nr.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function r6e(e,t,n){var s,a,i;if(this._weekdaysParseExact)return n6e.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(a=ol([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(n&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(n&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function s6e(e){if(!this.isValid())return e!=null?this:NaN;var t=O0(this,"Day");return e!=null?(e=H3e(e,this.localeData()),this.add(e-t,"d")):t}function a6e(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function i6e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Y3e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function o6e(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||cM.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(cn(this,"_weekdaysRegex")||(this._weekdaysRegex=X3e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function l6e(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||cM.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(cn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Q3e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function c6e(e){return this._weekdaysParseExact?(cn(this,"_weekdaysRegex")||cM.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(cn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Z3e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function cM(){function e(h,f){return f.length-h.length}var t=[],n=[],s=[],a=[],i,o,l,c,u;for(i=0;i<7;i++)o=ol([2e3,1]).day(i),l=Hl(this.weekdaysMin(o,"")),c=Hl(this.weekdaysShort(o,"")),u=Hl(this.weekdays(o,"")),t.push(l),n.push(c),s.push(u),a.push(l),a.push(c),a.push(u);t.sort(e),n.sort(e),s.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function uM(){return this.hours()%12||12}function u6e(){return this.hours()||24}vt("H",["HH",2],0,"hour");vt("h",["hh",2],0,uM);vt("k",["kk",2],0,u6e);vt("hmm",0,0,function(){return""+uM.apply(this)+Jo(this.minutes(),2)});vt("hmmss",0,0,function(){return""+uM.apply(this)+Jo(this.minutes(),2)+Jo(this.seconds(),2)});vt("Hmm",0,0,function(){return""+this.hours()+Jo(this.minutes(),2)});vt("Hmmss",0,0,function(){return""+this.hours()+Jo(this.minutes(),2)+Jo(this.seconds(),2)});function TQ(e,t){vt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}TQ("a",!0);TQ("A",!1);function MQ(e,t){return t._meridiemParse}rt("a",MQ);rt("A",MQ);rt("H",Zn,iM);rt("h",Zn,Lm);rt("k",Zn,Lm);rt("HH",Zn,za);rt("hh",Zn,za);rt("kk",Zn,za);rt("hmm",wQ);rt("hmmss",jQ);rt("Hmm",wQ);rt("Hmmss",jQ);Tn(["H","HH"],Wr);Tn(["k","kk"],function(e,t,n){var s=Gt(e);t[Wr]=s===24?0:s});Tn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Tn(["h","hh"],function(e,t,n){t[Wr]=Gt(e),Lt(n).bigHour=!0});Tn("hmm",function(e,t,n){var s=e.length-2;t[Wr]=Gt(e.substr(0,s)),t[Vi]=Gt(e.substr(s)),Lt(n).bigHour=!0});Tn("hmmss",function(e,t,n){var s=e.length-4,a=e.length-2;t[Wr]=Gt(e.substr(0,s)),t[Vi]=Gt(e.substr(s,2)),t[Il]=Gt(e.substr(a)),Lt(n).bigHour=!0});Tn("Hmm",function(e,t,n){var s=e.length-2;t[Wr]=Gt(e.substr(0,s)),t[Vi]=Gt(e.substr(s))});Tn("Hmmss",function(e,t,n){var s=e.length-4,a=e.length-2;t[Wr]=Gt(e.substr(0,s)),t[Vi]=Gt(e.substr(s,2)),t[Il]=Gt(e.substr(a))});function d6e(e){return(e+"").toLowerCase().charAt(0)==="p"}var h6e=/[ap]\.?m?\.?/i,f6e=Fm("Hours",!0);function m6e(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var RQ={calendar:n3e,longDateFormat:i3e,invalidDate:l3e,ordinal:u3e,dayOfMonthOrdinalParse:d3e,relativeTime:f3e,months:P3e,monthsShort:SQ,week:B3e,weekdays:G3e,weekdaysMin:K3e,weekdaysShort:OQ,meridiemParse:h6e},tr={},rx={},R0;function p6e(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function xB(e){return e&&e.toLowerCase().replace("_","-")}function x6e(e){for(var t=0,n,s,a,i;t<e.length;){for(i=xB(e[t]).split("-"),n=i.length,s=xB(e[t+1]),s=s?s.split("-"):null;n>0;){if(a=pN(i.slice(0,n).join("-")),a)return a;if(s&&s.length>=n&&p6e(i,s)>=n-1)break;n--}t++}return R0}function g6e(e){return!!(e&&e.match("^[^/\\\\]*$"))}function pN(e){var t=null,n;if(tr[e]===void 0&&typeof Zv<"u"&&Zv&&Zv.exports&&g6e(e))try{t=R0._abbr,n=require,n("./locale/"+e),uu(t)}catch{tr[e]=null}return tr[e]}function uu(e,t){var n;return e&&(Zs(t)?n=cc(e):n=dM(e,t),n?R0=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),R0._abbr}function dM(e,t){if(t!==null){var n,s=RQ;if(t.abbr=e,tr[e]!=null)gQ("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=tr[e]._config;else if(t.parentLocale!=null)if(tr[t.parentLocale]!=null)s=tr[t.parentLocale]._config;else if(n=pN(t.parentLocale),n!=null)s=n._config;else return rx[t.parentLocale]||(rx[t.parentLocale]=[]),rx[t.parentLocale].push({name:e,config:t}),null;return tr[e]=new tM(XA(s,t)),rx[e]&&rx[e].forEach(function(a){dM(a.name,a.config)}),uu(e),tr[e]}else return delete tr[e],null}function y6e(e,t){if(t!=null){var n,s,a=RQ;tr[e]!=null&&tr[e].parentLocale!=null?tr[e].set(XA(tr[e]._config,t)):(s=pN(e),s!=null&&(a=s._config),t=XA(a,t),s==null&&(t.abbr=e),n=new tM(t),n.parentLocale=tr[e],tr[e]=n),uu(e)}else tr[e]!=null&&(tr[e].parentLocale!=null?(tr[e]=tr[e].parentLocale,e===uu()&&uu(e)):tr[e]!=null&&delete tr[e]);return tr[e]}function cc(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return R0;if(!Zi(e)){if(t=pN(e),t)return t;e=[e]}return x6e(e)}function v6e(){return QA(tr)}function hM(e){var t,n=e._a;return n&&Lt(e).overflow===-2&&(t=n[Dl]<0||n[Dl]>11?Dl:n[Do]<1||n[Do]>oM(n[Ss],n[Dl])?Do:n[Wr]<0||n[Wr]>24||n[Wr]===24&&(n[Vi]!==0||n[Il]!==0||n[Sd]!==0)?Wr:n[Vi]<0||n[Vi]>59?Vi:n[Il]<0||n[Il]>59?Il:n[Sd]<0||n[Sd]>999?Sd:-1,Lt(e)._overflowDayOfYear&&(t<Ss||t>Do)&&(t=Do),Lt(e)._overflowWeeks&&t===-1&&(t=N3e),Lt(e)._overflowWeekday&&t===-1&&(t=_3e),Lt(e).overflow=t),e}var b6e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,w6e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,j6e=/Z|[+-]\d\d(?::?\d\d)?/,Ev=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],lE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],N6e=/^\/?Date\((-?\d+)/i,_6e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,S6e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function DQ(e){var t,n,s=e._i,a=b6e.exec(s)||w6e.exec(s),i,o,l,c,u=Ev.length,h=lE.length;if(a){for(Lt(e).iso=!0,t=0,n=u;t<n;t++)if(Ev[t][1].exec(a[1])){o=Ev[t][0],i=Ev[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,n=h;t<n;t++)if(lE[t][1].exec(a[3])){l=(a[2]||" ")+lE[t][0];break}if(l==null){e._isValid=!1;return}}if(!i&&l!=null){e._isValid=!1;return}if(a[4])if(j6e.exec(a[4]))c="Z";else{e._isValid=!1;return}e._f=o+(l||"")+(c||""),mM(e)}else e._isValid=!1}function C6e(e,t,n,s,a,i){var o=[k6e(e),SQ.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}function k6e(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function E6e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function P6e(e,t,n){if(e){var s=OQ.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(s!==a)return Lt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function A6e(e,t,n){if(e)return S6e[e];if(t)return 0;var s=parseInt(n,10),a=s%100,i=(s-a)/100;return i*60+a}function IQ(e){var t=_6e.exec(E6e(e._i)),n;if(t){if(n=C6e(t[4],t[3],t[2],t[5],t[6],t[7]),!P6e(t[1],n,e))return;e._a=n,e._tzm=A6e(t[8],t[9],t[10]),e._d=T0.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Lt(e).rfc2822=!0}else e._isValid=!1}function O6e(e){var t=N6e.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(DQ(e),e._isValid===!1)delete e._isValid;else return;if(IQ(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Qe.createFromInputFallback(e)}Qe.createFromInputFallback=yi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Zh(e,t,n){return e??t??n}function T6e(e){var t=new Date(Qe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function fM(e){var t,n,s=[],a,i,o;if(!e._d){for(a=T6e(e),e._w&&e._a[Do]==null&&e._a[Dl]==null&&M6e(e),e._dayOfYear!=null&&(o=Zh(e._a[Ss],a[Ss]),(e._dayOfYear>Px(o)||e._dayOfYear===0)&&(Lt(e)._overflowDayOfYear=!0),n=T0(o,0,e._dayOfYear),e._a[Dl]=n.getUTCMonth(),e._a[Do]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Wr]===24&&e._a[Vi]===0&&e._a[Il]===0&&e._a[Sd]===0&&(e._nextDay=!0,e._a[Wr]=0),e._d=(e._useUTC?T0:z3e).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Wr]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Lt(e).weekdayMismatch=!0)}}function M6e(e){var t,n,s,a,i,o,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Zh(t.GG,e._a[Ss],M0(Qn(),1,4).year),s=Zh(t.W,1),a=Zh(t.E,1),(a<1||a>7)&&(c=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,u=M0(Qn(),i,o),n=Zh(t.gg,e._a[Ss],u.year),s=Zh(t.w,u.week),t.d!=null?(a=t.d,(a<0||a>6)&&(c=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(c=!0)):a=i),s<1||s>Yl(n,i,o)?Lt(e)._overflowWeeks=!0:c!=null?Lt(e)._overflowWeekday=!0:(l=AQ(n,s,a,i,o),e._a[Ss]=l.year,e._dayOfYear=l.dayOfYear)}Qe.ISO_8601=function(){};Qe.RFC_2822=function(){};function mM(e){if(e._f===Qe.ISO_8601){DQ(e);return}if(e._f===Qe.RFC_2822){IQ(e);return}e._a=[],Lt(e).empty=!0;var t=""+e._i,n,s,a,i,o,l=t.length,c=0,u,h;for(a=yQ(e._f,e._locale).match(nM)||[],h=a.length,n=0;n<h;n++)i=a[n],s=(t.match(b3e(i,e))||[])[0],s&&(o=t.substr(0,t.indexOf(s)),o.length>0&&Lt(e).unusedInput.push(o),t=t.slice(t.indexOf(s)+s.length),c+=s.length),vf[i]?(s?Lt(e).empty=!1:Lt(e).unusedTokens.push(i),j3e(i,s,e)):e._strict&&!s&&Lt(e).unusedTokens.push(i);Lt(e).charsLeftOver=l-c,t.length>0&&Lt(e).unusedInput.push(t),e._a[Wr]<=12&&Lt(e).bigHour===!0&&e._a[Wr]>0&&(Lt(e).bigHour=void 0),Lt(e).parsedDateParts=e._a.slice(0),Lt(e).meridiem=e._meridiem,e._a[Wr]=R6e(e._locale,e._a[Wr],e._meridiem),u=Lt(e).era,u!==null&&(e._a[Ss]=e._locale.erasConvertYear(u,e._a[Ss])),fM(e),hM(e)}function R6e(e,t,n){var s;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(s=e.isPM(n),s&&t<12&&(t+=12),!s&&t===12&&(t=0)),t)}function D6e(e){var t,n,s,a,i,o,l=!1,c=e._f.length;if(c===0){Lt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<c;a++)i=0,o=!1,t=eM({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],mM(t),JT(t)&&(o=!0),i+=Lt(t).charsLeftOver,i+=Lt(t).unusedTokens.length*10,Lt(t).score=i,l?i<s&&(s=i,n=t):(s==null||i<s||o)&&(s=i,n=t,o&&(l=!0));su(e,n||t)}function I6e(e){if(!e._d){var t=rM(e._i),n=t.day===void 0?t.date:t.day;e._a=pQ([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(s){return s&&parseInt(s,10)}),fM(e)}}function L6e(e){var t=new vg(hM(LQ(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function LQ(e){var t=e._i,n=e._f;return e._locale=e._locale||cc(e._l),t===null||n===void 0&&t===""?lN({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ji(t)?new vg(hM(t)):(yg(t)?e._d=t:Zi(n)?D6e(e):n?mM(e):F6e(e),JT(e)||(e._d=null),e))}function F6e(e){var t=e._i;Zs(t)?e._d=new Date(Qe.now()):yg(t)?e._d=new Date(t.valueOf()):typeof t=="string"?O6e(e):Zi(t)?(e._a=pQ(t.slice(0),function(n){return parseInt(n,10)}),fM(e)):Id(t)?I6e(e):sc(t)?e._d=new Date(t):Qe.createFromInputFallback(e)}function FQ(e,t,n,s,a){var i={};return(t===!0||t===!1)&&(s=t,t=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Id(e)&&ZT(e)||Zi(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=s,L6e(i)}function Qn(e,t,n,s){return FQ(e,t,n,s,!1)}var z6e=yi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:lN()}),$6e=yi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:lN()});function zQ(e,t){var n,s;if(t.length===1&&Zi(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](n))&&(n=t[s]);return n}function B6e(){var e=[].slice.call(arguments,0);return zQ("isBefore",e)}function V6e(){var e=[].slice.call(arguments,0);return zQ("isAfter",e)}var U6e=function(){return Date.now?Date.now():+new Date},sx=["year","quarter","month","week","day","hour","minute","second","millisecond"];function W6e(e){var t,n=!1,s,a=sx.length;for(t in e)if(cn(e,t)&&!(Nr.call(sx,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(s=0;s<a;++s)if(e[sx[s]]){if(n)return!1;parseFloat(e[sx[s]])!==Gt(e[sx[s]])&&(n=!0)}return!0}function q6e(){return this._isValid}function H6e(){return ao(NaN)}function xN(e){var t=rM(e),n=t.year||0,s=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=W6e(t),this._milliseconds=+h+u*1e3+c*6e4+l*1e3*60*60,this._days=+o+i*7,this._months=+a+s*3+n*12,this._data={},this._locale=cc(),this._bubble()}function Yv(e){return e instanceof xN}function JA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Y6e(e,t,n){var s=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,o;for(o=0;o<s;o++)Gt(e[o])!==Gt(t[o])&&i++;return i+a}function $Q(e,t){vt(e,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+Jo(~~(n/60),2)+t+Jo(~~n%60,2)})}$Q("Z",":");$Q("ZZ","");rt("Z",fN);rt("ZZ",fN);Tn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=pM(fN,e)});var G6e=/([\+\-]|\d\d)/gi;function pM(e,t){var n=(t||"").match(e),s,a,i;return n===null?null:(s=n[n.length-1]||[],a=(s+"").match(G6e)||["-",0,0],i=+(a[1]*60)+Gt(a[2]),i===0?0:a[0]==="+"?i:-i)}function xM(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(Ji(e)||yg(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),Qe.updateOffset(n,!1),n):Qn(e).local()}function eO(e){return-Math.round(e._d.getTimezoneOffset())}Qe.updateOffset=function(){};function K6e(e,t,n){var s=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=pM(fN,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(a=eO(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),s!==e&&(!t||this._changeInProgress?UQ(this,ao(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Qe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:eO(this)}function X6e(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Q6e(e){return this.utcOffset(0,e)}function Z6e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(eO(this),"m")),this}function J6e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=pM(y3e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function eLe(e){return this.isValid()?(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function tLe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nLe(){if(!Zs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return eM(e,this),e=LQ(e),e._a?(t=e._isUTC?ol(e._a):Qn(e._a),this._isDSTShifted=this.isValid()&&Y6e(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rLe(){return this.isValid()?!this._isUTC:!1}function sLe(){return this.isValid()?this._isUTC:!1}function BQ(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aLe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,iLe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ao(e,t){var n=e,s=null,a,i,o;return Yv(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:sc(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(s=aLe.exec(e))?(a=s[1]==="-"?-1:1,n={y:0,d:Gt(s[Do])*a,h:Gt(s[Wr])*a,m:Gt(s[Vi])*a,s:Gt(s[Il])*a,ms:Gt(JA(s[Sd]*1e3))*a}):(s=iLe.exec(e))?(a=s[1]==="-"?-1:1,n={y:hd(s[2],a),M:hd(s[3],a),w:hd(s[4],a),d:hd(s[5],a),h:hd(s[6],a),m:hd(s[7],a),s:hd(s[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=oLe(Qn(n.from),Qn(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new xN(n),Yv(e)&&cn(e,"_locale")&&(i._locale=e._locale),Yv(e)&&cn(e,"_isValid")&&(i._isValid=e._isValid),i}ao.fn=xN.prototype;ao.invalid=H6e;function hd(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function gB(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function oLe(e,t){var n;return e.isValid()&&t.isValid()?(t=xM(t,e),e.isBefore(t)?n=gB(e,t):(n=gB(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function VQ(e,t){return function(n,s){var a,i;return s!==null&&!isNaN(+s)&&(gQ(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=s,s=i),a=ao(n,s),UQ(this,a,e),this}}function UQ(e,t,n,s){var a=t._milliseconds,i=JA(t._days),o=JA(t._months);e.isValid()&&(s=s??!0,o&&kQ(e,O0(e,"Month")+o*n),i&&_Q(e,"Date",O0(e,"Date")+i*n),a&&e._d.setTime(e._d.valueOf()+a*n),s&&Qe.updateOffset(e,i||o))}var lLe=VQ(1,"add"),cLe=VQ(-1,"subtract");function WQ(e){return typeof e=="string"||e instanceof String}function uLe(e){return Ji(e)||yg(e)||WQ(e)||sc(e)||hLe(e)||dLe(e)||e===null||e===void 0}function dLe(e){var t=Id(e)&&!ZT(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,o=s.length;for(a=0;a<o;a+=1)i=s[a],n=n||cn(e,i);return t&&n}function hLe(e){var t=Zi(e),n=!1;return t&&(n=e.filter(function(s){return!sc(s)&&WQ(e)}).length===0),t&&n}function fLe(e){var t=Id(e)&&!ZT(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<s.length;a+=1)i=s[a],n=n||cn(e,i);return t&&n}function mLe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function pLe(e,t){arguments.length===1&&(arguments[0]?uLe(arguments[0])?(e=arguments[0],t=void 0):fLe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),s=xM(n,this).startOf("day"),a=Qe.calendarFormat(this,s)||"sameElse",i=t&&(ll(t[a])?t[a].call(this,n):t[a]);return this.format(i||this.localeData().calendar(a,this,Qn(n)))}function xLe(){return new vg(this)}function gLe(e,t){var n=Ji(e)?e:Qn(e);return this.isValid()&&n.isValid()?(t=vi(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function yLe(e,t){var n=Ji(e)?e:Qn(e);return this.isValid()&&n.isValid()?(t=vi(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function vLe(e,t,n,s){var a=Ji(e)?e:Qn(e),i=Ji(t)?t:Qn(t);return this.isValid()&&a.isValid()&&i.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(s[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function bLe(e,t){var n=Ji(e)?e:Qn(e),s;return this.isValid()&&n.isValid()?(t=vi(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf())):!1}function wLe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function jLe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function NLe(e,t,n){var s,a,i;if(!this.isValid())return NaN;if(s=xM(e,this),!s.isValid())return NaN;switch(a=(s.utcOffset()-this.utcOffset())*6e4,t=vi(t),t){case"year":i=Gv(this,s)/12;break;case"month":i=Gv(this,s);break;case"quarter":i=Gv(this,s)/3;break;case"second":i=(this-s)/1e3;break;case"minute":i=(this-s)/6e4;break;case"hour":i=(this-s)/36e5;break;case"day":i=(this-s-a)/864e5;break;case"week":i=(this-s-a)/6048e5;break;default:i=this-s}return n?i:si(i)}function Gv(e,t){if(e.date()<t.date())return-Gv(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),s=e.clone().add(n,"months"),a,i;return t-s<0?(a=e.clone().add(n-1,"months"),i=(t-s)/(s-a)):(a=e.clone().add(n+1,"months"),i=(t-s)/(a-s)),-(n+i)||0}Qe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Qe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _Le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function SLe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Hv(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ll(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Hv(n,"Z")):Hv(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function CLe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,s,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+s+a+i)}function kLe(e){e||(e=this.isUtc()?Qe.defaultFormatUtc:Qe.defaultFormat);var t=Hv(this,e);return this.localeData().postformat(t)}function ELe(e,t){return this.isValid()&&(Ji(e)&&e.isValid()||Qn(e).isValid())?ao({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function PLe(e){return this.from(Qn(),e)}function ALe(e,t){return this.isValid()&&(Ji(e)&&e.isValid()||Qn(e).isValid())?ao({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function OLe(e){return this.to(Qn(),e)}function qQ(e){var t;return e===void 0?this._locale._abbr:(t=cc(e),t!=null&&(this._locale=t),this)}var HQ=yi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function YQ(){return this._locale}var Ow=1e3,bf=60*Ow,Tw=60*bf,GQ=(365*400+97)*24*Tw;function wf(e,t){return(e%t+t)%t}function KQ(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-GQ:new Date(e,t,n).valueOf()}function XQ(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-GQ:Date.UTC(e,t,n)}function TLe(e){var t,n;if(e=vi(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?XQ:KQ,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wf(t+(this._isUTC?0:this.utcOffset()*bf),Tw);break;case"minute":t=this._d.valueOf(),t-=wf(t,bf);break;case"second":t=this._d.valueOf(),t-=wf(t,Ow);break}return this._d.setTime(t),Qe.updateOffset(this,!0),this}function MLe(e){var t,n;if(e=vi(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?XQ:KQ,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Tw-wf(t+(this._isUTC?0:this.utcOffset()*bf),Tw)-1;break;case"minute":t=this._d.valueOf(),t+=bf-wf(t,bf)-1;break;case"second":t=this._d.valueOf(),t+=Ow-wf(t,Ow)-1;break}return this._d.setTime(t),Qe.updateOffset(this,!0),this}function RLe(){return this._d.valueOf()-(this._offset||0)*6e4}function DLe(){return Math.floor(this.valueOf()/1e3)}function ILe(){return new Date(this.valueOf())}function LLe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function FLe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function zLe(){return this.isValid()?this.toISOString():null}function $Le(){return JT(this)}function BLe(){return su({},Lt(this))}function VLe(){return Lt(this).overflow}function ULe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}vt("N",0,0,"eraAbbr");vt("NN",0,0,"eraAbbr");vt("NNN",0,0,"eraAbbr");vt("NNNN",0,0,"eraName");vt("NNNNN",0,0,"eraNarrow");vt("y",["y",1],"yo","eraYear");vt("y",["yy",2],0,"eraYear");vt("y",["yyy",3],0,"eraYear");vt("y",["yyyy",4],0,"eraYear");rt("N",gM);rt("NN",gM);rt("NNN",gM);rt("NNNN",eFe);rt("NNNNN",tFe);Tn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var a=n._locale.erasParse(e,s,n._strict);a?Lt(n).era=a:Lt(n).invalidEra=e});rt("y",Im);rt("yy",Im);rt("yyy",Im);rt("yyyy",Im);rt("yo",nFe);Tn(["y","yy","yyy","yyyy"],Ss);Tn(["yo"],function(e,t,n,s){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ss]=n._locale.eraYearOrdinalParse(e,a):t[Ss]=parseInt(e,10)});function WLe(e,t){var n,s,a,i=this._eras||cc("en")._eras;for(n=0,s=i.length;n<s;++n){switch(typeof i[n].since){case"string":a=Qe(i[n].since).startOf("day"),i[n].since=a.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=Qe(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf();break}}return i}function qLe(e,t,n){var s,a,i=this.eras(),o,l,c;for(e=e.toUpperCase(),s=0,a=i.length;s<a;++s)if(o=i[s].name.toUpperCase(),l=i[s].abbr.toUpperCase(),c=i[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(l===e)return i[s];break;case"NNNN":if(o===e)return i[s];break;case"NNNNN":if(c===e)return i[s];break}else if([o,l,c].indexOf(e)>=0)return i[s]}function HLe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Qe(e.since).year():Qe(e.since).year()+(t-e.offset)*n}function YLe(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].name;return""}function GLe(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].narrow;return""}function KLe(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return s[e].abbr;return""}function XLe(){var e,t,n,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return(this.year()-Qe(a[e].since).year())*n+a[e].offset;return this.year()}function QLe(e){return cn(this,"_erasNameRegex")||yM.call(this),e?this._erasNameRegex:this._erasRegex}function ZLe(e){return cn(this,"_erasAbbrRegex")||yM.call(this),e?this._erasAbbrRegex:this._erasRegex}function JLe(e){return cn(this,"_erasNarrowRegex")||yM.call(this),e?this._erasNarrowRegex:this._erasRegex}function gM(e,t){return t.erasAbbrRegex(e)}function eFe(e,t){return t.erasNameRegex(e)}function tFe(e,t){return t.erasNarrowRegex(e)}function nFe(e,t){return t._eraYearOrdinalRegex||Im}function yM(){var e=[],t=[],n=[],s=[],a,i,o,l,c,u=this.eras();for(a=0,i=u.length;a<i;++a)o=Hl(u[a].name),l=Hl(u[a].abbr),c=Hl(u[a].narrow),t.push(o),e.push(l),n.push(c),s.push(o),s.push(l),s.push(c);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}vt(0,["gg",2],0,function(){return this.weekYear()%100});vt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function gN(e,t){vt(0,[e,e.length],0,t)}gN("gggg","weekYear");gN("ggggg","weekYear");gN("GGGG","isoWeekYear");gN("GGGGG","isoWeekYear");rt("G",hN);rt("g",hN);rt("GG",Zn,za);rt("gg",Zn,za);rt("GGGG",aM,sM);rt("gggg",aM,sM);rt("GGGGG",dN,cN);rt("ggggg",dN,cN);wg(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=Gt(e)});wg(["gg","GG"],function(e,t,n,s){t[s]=Qe.parseTwoDigitYear(e)});function rFe(e){return QQ.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function sFe(e){return QQ.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function aFe(){return Yl(this.year(),1,4)}function iFe(){return Yl(this.isoWeekYear(),1,4)}function oFe(){var e=this.localeData()._week;return Yl(this.year(),e.dow,e.doy)}function lFe(){var e=this.localeData()._week;return Yl(this.weekYear(),e.dow,e.doy)}function QQ(e,t,n,s,a){var i;return e==null?M0(this,s,a).year:(i=Yl(e,s,a),t>i&&(t=i),cFe.call(this,e,t,n,s,a))}function cFe(e,t,n,s,a){var i=AQ(e,t,n,s,a),o=T0(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}vt("Q",0,"Qo","quarter");rt("Q",vQ);Tn("Q",function(e,t){t[Dl]=(Gt(e)-1)*3});function uFe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}vt("D",["DD",2],"Do","date");rt("D",Zn,Lm);rt("DD",Zn,za);rt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Tn(["D","DD"],Do);Tn("Do",function(e,t){t[Do]=Gt(e.match(Zn)[0])});var ZQ=Fm("Date",!0);vt("DDD",["DDDD",3],"DDDo","dayOfYear");rt("DDD",uN);rt("DDDD",bQ);Tn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Gt(e)});function dFe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}vt("m",["mm",2],0,"minute");rt("m",Zn,iM);rt("mm",Zn,za);Tn(["m","mm"],Vi);var hFe=Fm("Minutes",!1);vt("s",["ss",2],0,"second");rt("s",Zn,iM);rt("ss",Zn,za);Tn(["s","ss"],Il);var fFe=Fm("Seconds",!1);vt("S",0,0,function(){return~~(this.millisecond()/100)});vt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});vt(0,["SSS",3],0,"millisecond");vt(0,["SSSS",4],0,function(){return this.millisecond()*10});vt(0,["SSSSS",5],0,function(){return this.millisecond()*100});vt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});vt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});vt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});vt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});rt("S",uN,vQ);rt("SS",uN,za);rt("SSS",uN,bQ);var au,JQ;for(au="SSSS";au.length<=9;au+="S")rt(au,Im);function mFe(e,t){t[Sd]=Gt(("0."+e)*1e3)}for(au="S";au.length<=9;au+="S")Tn(au,mFe);JQ=Fm("Milliseconds",!1);vt("z",0,0,"zoneAbbr");vt("zz",0,0,"zoneName");function pFe(){return this._isUTC?"UTC":""}function xFe(){return this._isUTC?"Coordinated Universal Time":""}var ze=vg.prototype;ze.add=lLe;ze.calendar=pLe;ze.clone=xLe;ze.diff=NLe;ze.endOf=MLe;ze.format=kLe;ze.from=ELe;ze.fromNow=PLe;ze.to=ALe;ze.toNow=OLe;ze.get=C3e;ze.invalidAt=VLe;ze.isAfter=gLe;ze.isBefore=yLe;ze.isBetween=vLe;ze.isSame=bLe;ze.isSameOrAfter=wLe;ze.isSameOrBefore=jLe;ze.isValid=$Le;ze.lang=HQ;ze.locale=qQ;ze.localeData=YQ;ze.max=$6e;ze.min=z6e;ze.parsingFlags=BLe;ze.set=k3e;ze.startOf=TLe;ze.subtract=cLe;ze.toArray=LLe;ze.toObject=FLe;ze.toDate=ILe;ze.toISOString=SLe;ze.inspect=CLe;typeof Symbol<"u"&&Symbol.for!=null&&(ze[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ze.toJSON=zLe;ze.toString=_Le;ze.unix=DLe;ze.valueOf=RLe;ze.creationData=ULe;ze.eraName=YLe;ze.eraNarrow=GLe;ze.eraAbbr=KLe;ze.eraYear=XLe;ze.year=NQ;ze.isLeapYear=S3e;ze.weekYear=rFe;ze.isoWeekYear=sFe;ze.quarter=ze.quarters=uFe;ze.month=EQ;ze.daysInMonth=I3e;ze.week=ze.weeks=W3e;ze.isoWeek=ze.isoWeeks=q3e;ze.weeksInYear=oFe;ze.weeksInWeekYear=lFe;ze.isoWeeksInYear=aFe;ze.isoWeeksInISOWeekYear=iFe;ze.date=ZQ;ze.day=ze.days=s6e;ze.weekday=a6e;ze.isoWeekday=i6e;ze.dayOfYear=dFe;ze.hour=ze.hours=f6e;ze.minute=ze.minutes=hFe;ze.second=ze.seconds=fFe;ze.millisecond=ze.milliseconds=JQ;ze.utcOffset=K6e;ze.utc=Q6e;ze.local=Z6e;ze.parseZone=J6e;ze.hasAlignedHourOffset=eLe;ze.isDST=tLe;ze.isLocal=rLe;ze.isUtcOffset=sLe;ze.isUtc=BQ;ze.isUTC=BQ;ze.zoneAbbr=pFe;ze.zoneName=xFe;ze.dates=yi("dates accessor is deprecated. Use date instead.",ZQ);ze.months=yi("months accessor is deprecated. Use month instead",EQ);ze.years=yi("years accessor is deprecated. Use year instead",NQ);ze.zone=yi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",X6e);ze.isDSTShifted=yi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nLe);function gFe(e){return Qn(e*1e3)}function yFe(){return Qn.apply(null,arguments).parseZone()}function eZ(e){return e}var dn=tM.prototype;dn.calendar=r3e;dn.longDateFormat=o3e;dn.invalidDate=c3e;dn.ordinal=h3e;dn.preparse=eZ;dn.postformat=eZ;dn.relativeTime=m3e;dn.pastFuture=p3e;dn.set=t3e;dn.eras=WLe;dn.erasParse=qLe;dn.erasConvertYear=HLe;dn.erasAbbrRegex=ZLe;dn.erasNameRegex=QLe;dn.erasNarrowRegex=JLe;dn.months=T3e;dn.monthsShort=M3e;dn.monthsParse=D3e;dn.monthsRegex=F3e;dn.monthsShortRegex=L3e;dn.week=$3e;dn.firstDayOfYear=U3e;dn.firstDayOfWeek=V3e;dn.weekdays=J3e;dn.weekdaysMin=t6e;dn.weekdaysShort=e6e;dn.weekdaysParse=r6e;dn.weekdaysRegex=o6e;dn.weekdaysShortRegex=l6e;dn.weekdaysMinRegex=c6e;dn.isPM=d6e;dn.meridiem=m6e;function Mw(e,t,n,s){var a=cc(),i=ol().set(s,t);return a[n](i,e)}function tZ(e,t,n){if(sc(e)&&(t=e,e=void 0),e=e||"",t!=null)return Mw(e,t,n,"month");var s,a=[];for(s=0;s<12;s++)a[s]=Mw(e,s,n,"month");return a}function vM(e,t,n,s){typeof e=="boolean"?(sc(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,sc(t)&&(n=t,t=void 0),t=t||"");var a=cc(),i=e?a._week.dow:0,o,l=[];if(n!=null)return Mw(t,(n+i)%7,s,"day");for(o=0;o<7;o++)l[o]=Mw(t,(o+i)%7,s,"day");return l}function vFe(e,t){return tZ(e,t,"months")}function bFe(e,t){return tZ(e,t,"monthsShort")}function wFe(e,t,n){return vM(e,t,n,"weekdays")}function jFe(e,t,n){return vM(e,t,n,"weekdaysShort")}function NFe(e,t,n){return vM(e,t,n,"weekdaysMin")}uu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Gt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Qe.lang=yi("moment.lang is deprecated. Use moment.locale instead.",uu);Qe.langData=yi("moment.langData is deprecated. Use moment.localeData instead.",cc);var Nl=Math.abs;function _Fe(){var e=this._data;return this._milliseconds=Nl(this._milliseconds),this._days=Nl(this._days),this._months=Nl(this._months),e.milliseconds=Nl(e.milliseconds),e.seconds=Nl(e.seconds),e.minutes=Nl(e.minutes),e.hours=Nl(e.hours),e.months=Nl(e.months),e.years=Nl(e.years),this}function nZ(e,t,n,s){var a=ao(t,n);return e._milliseconds+=s*a._milliseconds,e._days+=s*a._days,e._months+=s*a._months,e._bubble()}function SFe(e,t){return nZ(this,e,t,1)}function CFe(e,t){return nZ(this,e,t,-1)}function yB(e){return e<0?Math.floor(e):Math.ceil(e)}function kFe(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,a,i,o,l,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=yB(tO(n)+t)*864e5,t=0,n=0),s.milliseconds=e%1e3,a=si(e/1e3),s.seconds=a%60,i=si(a/60),s.minutes=i%60,o=si(i/60),s.hours=o%24,t+=si(o/24),c=si(rZ(t)),n+=c,t-=yB(tO(c)),l=si(n/12),n%=12,s.days=t,s.months=n,s.years=l,this}function rZ(e){return e*4800/146097}function tO(e){return e*146097/4800}function EFe(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=vi(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+s/864e5,n=this._months+rZ(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(tO(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return t*24+s/36e5;case"minute":return t*1440+s/6e4;case"second":return t*86400+s/1e3;case"millisecond":return Math.floor(t*864e5)+s;default:throw new Error("Unknown unit "+e)}}function uc(e){return function(){return this.as(e)}}var sZ=uc("ms"),PFe=uc("s"),AFe=uc("m"),OFe=uc("h"),TFe=uc("d"),MFe=uc("w"),RFe=uc("M"),DFe=uc("Q"),IFe=uc("y"),LFe=sZ;function FFe(){return ao(this)}function zFe(e){return e=vi(e),this.isValid()?this[e+"s"]():NaN}function sh(e){return function(){return this.isValid()?this._data[e]:NaN}}var $Fe=sh("milliseconds"),BFe=sh("seconds"),VFe=sh("minutes"),UFe=sh("hours"),WFe=sh("days"),qFe=sh("months"),HFe=sh("years");function YFe(){return si(this.days()/7)}var Sl=Math.round,cf={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function GFe(e,t,n,s,a){return a.relativeTime(t||1,!!n,e,s)}function KFe(e,t,n,s){var a=ao(e).abs(),i=Sl(a.as("s")),o=Sl(a.as("m")),l=Sl(a.as("h")),c=Sl(a.as("d")),u=Sl(a.as("M")),h=Sl(a.as("w")),f=Sl(a.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||h<=1&&["w"]||h<n.w&&["ww",h]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=s,GFe.apply(null,p)}function XFe(e){return e===void 0?Sl:typeof e=="function"?(Sl=e,!0):!1}function QFe(e,t){return cf[e]===void 0?!1:t===void 0?cf[e]:(cf[e]=t,e==="s"&&(cf.ss=t-1),!0)}function ZFe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=cf,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(s=Object.assign({},cf,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),a=this.localeData(),i=KFe(this,!n,s,a),n&&(i=a.pastFuture(+this,i)),a.postformat(i)}var cE=Math.abs;function Qh(e){return(e>0)-(e<0)||+e}function yN(){if(!this.isValid())return this.localeData().invalidDate();var e=cE(this._milliseconds)/1e3,t=cE(this._days),n=cE(this._months),s,a,i,o,l=this.asSeconds(),c,u,h,f;return l?(s=si(e/60),a=si(s/60),e%=60,s%=60,i=si(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Qh(this._months)!==Qh(l)?"-":"",h=Qh(this._days)!==Qh(l)?"-":"",f=Qh(this._milliseconds)!==Qh(l)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?h+t+"D":"")+(a||s||e?"T":"")+(a?f+a+"H":"")+(s?f+s+"M":"")+(e?f+o+"S":"")):"P0D"}var Zt=xN.prototype;Zt.isValid=q6e;Zt.abs=_Fe;Zt.add=SFe;Zt.subtract=CFe;Zt.as=EFe;Zt.asMilliseconds=sZ;Zt.asSeconds=PFe;Zt.asMinutes=AFe;Zt.asHours=OFe;Zt.asDays=TFe;Zt.asWeeks=MFe;Zt.asMonths=RFe;Zt.asQuarters=DFe;Zt.asYears=IFe;Zt.valueOf=LFe;Zt._bubble=kFe;Zt.clone=FFe;Zt.get=zFe;Zt.milliseconds=$Fe;Zt.seconds=BFe;Zt.minutes=VFe;Zt.hours=UFe;Zt.days=WFe;Zt.weeks=YFe;Zt.months=qFe;Zt.years=HFe;Zt.humanize=ZFe;Zt.toISOString=yN;Zt.toString=yN;Zt.toJSON=yN;Zt.locale=qQ;Zt.localeData=YQ;Zt.toIsoString=yi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yN);Zt.lang=HQ;vt("X",0,0,"unix");vt("x",0,0,"valueOf");rt("x",hN);rt("X",v3e);Tn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Tn("x",function(e,t,n){n._d=new Date(Gt(e))});//! moment.js
Qe.version="2.30.1";JIe(Qn);Qe.fn=ze;Qe.min=B6e;Qe.max=V6e;Qe.now=U6e;Qe.utc=ol;Qe.unix=gFe;Qe.months=vFe;Qe.isDate=yg;Qe.locale=uu;Qe.invalid=lN;Qe.duration=ao;Qe.isMoment=Ji;Qe.weekdays=wFe;Qe.parseZone=yFe;Qe.localeData=cc;Qe.isDuration=Yv;Qe.monthsShort=bFe;Qe.weekdaysMin=NFe;Qe.defineLocale=dM;Qe.updateLocale=y6e;Qe.locales=v6e;Qe.weekdaysShort=jFe;Qe.normalizeUnits=vi;Qe.relativeTimeRounding=XFe;Qe.relativeTimeThreshold=QFe;Qe.calendarFormat=mLe;Qe.prototype=ze;Qe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function aZ(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nO={exports:{}},Kv={exports:{}},JFe=Kv.exports,vB;function e8e(){return vB||(vB=1,(function(e,t){(function(n,s){e.exports=s()})(JFe,(function(){var n;function s(){return n.apply(null,arguments)}function a(w){n=w}function i(w){return w instanceof Array||Object.prototype.toString.call(w)==="[object Array]"}function o(w){return w!=null&&Object.prototype.toString.call(w)==="[object Object]"}function l(w,O){return Object.prototype.hasOwnProperty.call(w,O)}function c(w){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(w).length===0;var O;for(O in w)if(l(w,O))return!1;return!0}function u(w){return w===void 0}function h(w){return typeof w=="number"||Object.prototype.toString.call(w)==="[object Number]"}function f(w){return w instanceof Date||Object.prototype.toString.call(w)==="[object Date]"}function p(w,O){var I=[],z,Z=w.length;for(z=0;z<Z;++z)I.push(O(w[z],z));return I}function x(w,O){for(var I in O)l(O,I)&&(w[I]=O[I]);return l(O,"toString")&&(w.toString=O.toString),l(O,"valueOf")&&(w.valueOf=O.valueOf),w}function b(w,O,I,z){return Nc(w,O,I,z,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(w){return w._pf==null&&(w._pf=v()),w._pf}var N;Array.prototype.some?N=Array.prototype.some:N=function(w){var O=Object(this),I=O.length>>>0,z;for(z=0;z<I;z++)if(z in O&&w.call(this,O[z],z,O))return!0;return!1};function _(w){var O=null,I=!1,z=w._d&&!isNaN(w._d.getTime());if(z&&(O=y(w),I=N.call(O.parsedDateParts,function(Z){return Z!=null}),z=O.overflow<0&&!O.empty&&!O.invalidEra&&!O.invalidMonth&&!O.invalidWeekday&&!O.weekdayMismatch&&!O.nullInput&&!O.invalidFormat&&!O.userInvalidated&&(!O.meridiem||O.meridiem&&I),w._strict&&(z=z&&O.charsLeftOver===0&&O.unusedTokens.length===0&&O.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(w))w._isValid=z;else return z;return w._isValid}function S(w){var O=b(NaN);return w!=null?x(y(O),w):y(O).userInvalidated=!0,O}var E=s.momentProperties=[],A=!1;function k(w,O){var I,z,Z,le=E.length;if(u(O._isAMomentObject)||(w._isAMomentObject=O._isAMomentObject),u(O._i)||(w._i=O._i),u(O._f)||(w._f=O._f),u(O._l)||(w._l=O._l),u(O._strict)||(w._strict=O._strict),u(O._tzm)||(w._tzm=O._tzm),u(O._isUTC)||(w._isUTC=O._isUTC),u(O._offset)||(w._offset=O._offset),u(O._pf)||(w._pf=y(O)),u(O._locale)||(w._locale=O._locale),le>0)for(I=0;I<le;I++)z=E[I],Z=O[z],u(Z)||(w[z]=Z);return w}function P(w){k(this,w),this._d=new Date(w._d!=null?w._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A===!1&&(A=!0,s.updateOffset(this),A=!1)}function R(w){return w instanceof P||w!=null&&w._isAMomentObject!=null}function $(w){s.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+w)}function D(w,O){var I=!0;return x(function(){if(s.deprecationHandler!=null&&s.deprecationHandler(null,w),I){var z=[],Z,le,_e,Ze=arguments.length;for(le=0;le<Ze;le++){if(Z="",typeof arguments[le]=="object"){Z+=`
[`+le+"] ";for(_e in arguments[0])l(arguments[0],_e)&&(Z+=_e+": "+arguments[0][_e]+", ");Z=Z.slice(0,-2)}else Z=arguments[le];z.push(Z)}$(w+`
Arguments: `+Array.prototype.slice.call(z).join("")+`
`+new Error().stack),I=!1}return O.apply(this,arguments)},O)}var M={};function B(w,O){s.deprecationHandler!=null&&s.deprecationHandler(w,O),M[w]||($(O),M[w]=!0)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null;function J(w){return typeof Function<"u"&&w instanceof Function||Object.prototype.toString.call(w)==="[object Function]"}function Y(w){var O,I;for(I in w)l(w,I)&&(O=w[I],J(O)?this[I]=O:this["_"+I]=O);this._config=w,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function W(w,O){var I=x({},w),z;for(z in O)l(O,z)&&(o(w[z])&&o(O[z])?(I[z]={},x(I[z],w[z]),x(I[z],O[z])):O[z]!=null?I[z]=O[z]:delete I[z]);for(z in w)l(w,z)&&!l(O,z)&&o(w[z])&&(I[z]=x({},I[z]));return I}function se(w){w!=null&&this.set(w)}var q;Object.keys?q=Object.keys:q=function(w){var O,I=[];for(O in w)l(w,O)&&I.push(O);return I};var V={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function U(w,O,I){var z=this._calendar[w]||this._calendar.sameElse;return J(z)?z.call(O,I):z}function F(w,O,I){var z=""+Math.abs(w),Z=O-z.length,le=w>=0;return(le?I?"+":"":"-")+Math.pow(10,Math.max(0,Z)).toString().substr(1)+z}var K=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,te=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},xe={};function ne(w,O,I,z){var Z=z;typeof z=="string"&&(Z=function(){return this[z]()}),w&&(xe[w]=Z),O&&(xe[O[0]]=function(){return F(Z.apply(this,arguments),O[1],O[2])}),I&&(xe[I]=function(){return this.localeData().ordinal(Z.apply(this,arguments),w)})}function pe(w){return w.match(/\[[\s\S]/)?w.replace(/^\[|\]$/g,""):w.replace(/\\/g,"")}function re(w){var O=w.match(K),I,z;for(I=0,z=O.length;I<z;I++)xe[O[I]]?O[I]=xe[O[I]]:O[I]=pe(O[I]);return function(Z){var le="",_e;for(_e=0;_e<z;_e++)le+=J(O[_e])?O[_e].call(Z,w):O[_e];return le}}function ce(w,O){return w.isValid()?(O=he(O,w.localeData()),H[O]=H[O]||re(O),H[O](w)):w.localeData().invalidDate()}function he(w,O){var I=5;function z(Z){return O.longDateFormat(Z)||Z}for(te.lastIndex=0;I>=0&&te.test(w);)w=w.replace(te,z),te.lastIndex=0,I-=1;return w}var ue={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Oe(w){var O=this._longDateFormat[w],I=this._longDateFormat[w.toUpperCase()];return O||!I?O:(this._longDateFormat[w]=I.match(K).map(function(z){return z==="MMMM"||z==="MM"||z==="DD"||z==="dddd"?z.slice(1):z}).join(""),this._longDateFormat[w])}var ge="Invalid date";function qe(){return this._invalidDate}var Ce="%d",yt=/\d{1,2}/;function st(w){return this._ordinal.replace("%d",w)}var xt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Jt(w,O,I,z){var Z=this._relativeTime[I];return J(Z)?Z(w,O,I,z):Z.replace(/%d/i,w)}function qt(w,O){var I=this._relativeTime[w>0?"future":"past"];return J(I)?I(O):I.replace(/%s/i,O)}var zn={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Yt(w){return typeof w=="string"?zn[w]||zn[w.toLowerCase()]:void 0}function mr(w){var O={},I,z;for(z in w)l(w,z)&&(I=Yt(z),I&&(O[I]=w[z]));return O}var io={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function cl(w){var O=[],I;for(I in w)l(w,I)&&O.push({unit:I,priority:io[I]});return O.sort(function(z,Z){return z.priority-Z.priority}),O}var oo=/\d/,Ne=/\d\d/,We=/\d{3}/,wt=/\d{4}/,Tt=/[+-]?\d{6}/,pt=/\d\d?/,Cr=/\d\d\d\d?/,$a=/\d\d\d\d\d\d?/,ns=/\d{1,3}/,Ba=/\d{1,4}/,Va=/[+-]?\d{1,6}/,Jn=/\d+/,Es=/[+-]?\d+/,Ps=/Z|[+-]\d\d:?\d\d/gi,dc=/Z|[+-]\d\d(?::?\d\d)?/gi,zm=/[+-]?\d+(\.\d{1,3})?/,Ua=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ha=/^[1-9]\d?/,ah=/^([1-9]\d|\d)/,_u;_u={};function Je(w,O,I){_u[w]=J(O)?O:function(z,Z){return z&&I?I:O}}function jg(w,O){return l(_u,w)?_u[w](O._strict,O._locale):new RegExp(Ng(w))}function Ng(w){return fa(w.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(O,I,z,Z,le){return I||z||Z||le}))}function fa(w){return w.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function As(w){return w<0?Math.ceil(w)||0:Math.floor(w)}function Rt(w){var O=+w,I=0;return O!==0&&isFinite(O)&&(I=As(O)),I}var Su={};function Qt(w,O){var I,z=O,Z;for(typeof w=="string"&&(w=[w]),h(O)&&(z=function(le,_e){_e[O]=Rt(le)}),Z=w.length,I=0;I<Z;I++)Su[w[I]]=z}function Cu(w,O){Qt(w,function(I,z,Z,le){Z._w=Z._w||{},O(I,Z._w,Z,le)})}function ku(w,O,I){O!=null&&l(Su,w)&&Su[w](O,I._a,I,w)}function ul(w){return w%4===0&&w%100!==0||w%400===0}var br=0,ma=1,Wa=2,wr=3,pa=4,rs=5,lo=6,_g=7,vN=8;ne("Y",0,0,function(){var w=this.year();return w<=9999?F(w,4):"+"+w}),ne(0,["YY",2],0,function(){return this.year()%100}),ne(0,["YYYY",4],0,"year"),ne(0,["YYYYY",5],0,"year"),ne(0,["YYYYYY",6,!0],0,"year"),Je("Y",Es),Je("YY",pt,Ne),Je("YYYY",Ba,wt),Je("YYYYY",Va,Tt),Je("YYYYYY",Va,Tt),Qt(["YYYYY","YYYYYY"],br),Qt("YYYY",function(w,O){O[br]=w.length===2?s.parseTwoDigitYear(w):Rt(w)}),Qt("YY",function(w,O){O[br]=s.parseTwoDigitYear(w)}),Qt("Y",function(w,O){O[br]=parseInt(w,10)});function hc(w){return ul(w)?366:365}s.parseTwoDigitYear=function(w){return Rt(w)+(Rt(w)>68?1900:2e3)};var $m=dl("FullYear",!0);function Sg(){return ul(this.year())}function dl(w,O){return function(I){return I!=null?(Cg(this,w,I),s.updateOffset(this,O),this):Eu(this,w)}}function Eu(w,O){if(!w.isValid())return NaN;var I=w._d,z=w._isUTC;switch(O){case"Milliseconds":return z?I.getUTCMilliseconds():I.getMilliseconds();case"Seconds":return z?I.getUTCSeconds():I.getSeconds();case"Minutes":return z?I.getUTCMinutes():I.getMinutes();case"Hours":return z?I.getUTCHours():I.getHours();case"Date":return z?I.getUTCDate():I.getDate();case"Day":return z?I.getUTCDay():I.getDay();case"Month":return z?I.getUTCMonth():I.getMonth();case"FullYear":return z?I.getUTCFullYear():I.getFullYear();default:return NaN}}function Cg(w,O,I){var z,Z,le,_e,Ze;if(!(!w.isValid()||isNaN(I))){switch(z=w._d,Z=w._isUTC,O){case"Milliseconds":return void(Z?z.setUTCMilliseconds(I):z.setMilliseconds(I));case"Seconds":return void(Z?z.setUTCSeconds(I):z.setSeconds(I));case"Minutes":return void(Z?z.setUTCMinutes(I):z.setMinutes(I));case"Hours":return void(Z?z.setUTCHours(I):z.setHours(I));case"Date":return void(Z?z.setUTCDate(I):z.setDate(I));case"FullYear":break;default:return}le=I,_e=w.month(),Ze=w.date(),Ze=Ze===29&&_e===1&&!ul(le)?28:Ze,Z?z.setUTCFullYear(le,_e,Ze):z.setFullYear(le,_e,Ze)}}function ir(w){return w=Yt(w),J(this[w])?this[w]():this}function bN(w,O){if(typeof w=="object"){w=mr(w);var I=cl(w),z,Z=I.length;for(z=0;z<Z;z++)this[I[z].unit](w[I[z].unit])}else if(w=Yt(w),J(this[w]))return this[w](O);return this}function Bm(w,O){return(w%O+O)%O}var er;Array.prototype.indexOf?er=Array.prototype.indexOf:er=function(w){var O;for(O=0;O<this.length;++O)if(this[O]===w)return O;return-1};function fc(w,O){if(isNaN(w)||isNaN(O))return NaN;var I=Bm(O,12);return w+=(O-I)/12,I===1?ul(w)?29:28:31-I%7%2}ne("M",["MM",2],"Mo",function(){return this.month()+1}),ne("MMM",0,0,function(w){return this.localeData().monthsShort(this,w)}),ne("MMMM",0,0,function(w){return this.localeData().months(this,w)}),Je("M",pt,ha),Je("MM",pt,Ne),Je("MMM",function(w,O){return O.monthsShortRegex(w)}),Je("MMMM",function(w,O){return O.monthsRegex(w)}),Qt(["M","MM"],function(w,O){O[ma]=Rt(w)-1}),Qt(["MMM","MMMM"],function(w,O,I,z){var Z=I._locale.monthsParse(w,z,I._strict);Z!=null?O[ma]=Z:y(I).invalidMonth=w});var wN="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vm="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qa=Ua,jN=Ua;function xa(w,O){return w?i(this._months)?this._months[w.month()]:this._months[(this._months.isFormat||Pu).test(O)?"format":"standalone"][w.month()]:i(this._months)?this._months:this._months.standalone}function NN(w,O){return w?i(this._monthsShort)?this._monthsShort[w.month()]:this._monthsShort[Pu.test(O)?"format":"standalone"][w.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function _N(w,O,I){var z,Z,le,_e=w.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],z=0;z<12;++z)le=b([2e3,z]),this._shortMonthsParse[z]=this.monthsShort(le,"").toLocaleLowerCase(),this._longMonthsParse[z]=this.months(le,"").toLocaleLowerCase();return I?O==="MMM"?(Z=er.call(this._shortMonthsParse,_e),Z!==-1?Z:null):(Z=er.call(this._longMonthsParse,_e),Z!==-1?Z:null):O==="MMM"?(Z=er.call(this._shortMonthsParse,_e),Z!==-1?Z:(Z=er.call(this._longMonthsParse,_e),Z!==-1?Z:null)):(Z=er.call(this._longMonthsParse,_e),Z!==-1?Z:(Z=er.call(this._shortMonthsParse,_e),Z!==-1?Z:null))}function SN(w,O,I){var z,Z,le;if(this._monthsParseExact)return _N.call(this,w,O,I);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),z=0;z<12;z++){if(Z=b([2e3,z]),I&&!this._longMonthsParse[z]&&(this._longMonthsParse[z]=new RegExp("^"+this.months(Z,"").replace(".","")+"$","i"),this._shortMonthsParse[z]=new RegExp("^"+this.monthsShort(Z,"").replace(".","")+"$","i")),!I&&!this._monthsParse[z]&&(le="^"+this.months(Z,"")+"|^"+this.monthsShort(Z,""),this._monthsParse[z]=new RegExp(le.replace(".",""),"i")),I&&O==="MMMM"&&this._longMonthsParse[z].test(w))return z;if(I&&O==="MMM"&&this._shortMonthsParse[z].test(w))return z;if(!I&&this._monthsParse[z].test(w))return z}}function Au(w,O){if(!w.isValid())return w;if(typeof O=="string"){if(/^\d+$/.test(O))O=Rt(O);else if(O=w.localeData().monthsParse(O),!h(O))return w}var I=O,z=w.date();return z=z<29?z:Math.min(z,fc(w.year(),I)),w._isUTC?w._d.setUTCMonth(I,z):w._d.setMonth(I,z),w}function Ou(w){return w!=null?(Au(this,w),s.updateOffset(this,!0),this):Eu(this,"Month")}function Tu(){return fc(this.year(),this.month())}function ih(w){return this._monthsParseExact?(l(this,"_monthsRegex")||kg.call(this),w?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=qa),this._monthsShortStrictRegex&&w?this._monthsShortStrictRegex:this._monthsShortRegex)}function CN(w){return this._monthsParseExact?(l(this,"_monthsRegex")||kg.call(this),w?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=jN),this._monthsStrictRegex&&w?this._monthsStrictRegex:this._monthsRegex)}function kg(){function w(et,zt){return zt.length-et.length}var O=[],I=[],z=[],Z,le,_e,Ze;for(Z=0;Z<12;Z++)le=b([2e3,Z]),_e=fa(this.monthsShort(le,"")),Ze=fa(this.months(le,"")),O.push(_e),I.push(Ze),z.push(Ze),z.push(_e);O.sort(w),I.sort(w),z.sort(w),this._monthsRegex=new RegExp("^("+z.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+O.join("|")+")","i")}function Um(w,O,I,z,Z,le,_e){var Ze;return w<100&&w>=0?(Ze=new Date(w+400,O,I,z,Z,le,_e),isFinite(Ze.getFullYear())&&Ze.setFullYear(w)):Ze=new Date(w,O,I,z,Z,le,_e),Ze}function mc(w){var O,I;return w<100&&w>=0?(I=Array.prototype.slice.call(arguments),I[0]=w+400,O=new Date(Date.UTC.apply(null,I)),isFinite(O.getUTCFullYear())&&O.setUTCFullYear(w)):O=new Date(Date.UTC.apply(null,arguments)),O}function pc(w,O,I){var z=7+O-I,Z=(7+mc(w,0,z).getUTCDay()-O)%7;return-Z+z-1}function xc(w,O,I,z,Z){var le=(7+I-z)%7,_e=pc(w,z,Z),Ze=1+7*(O-1)+le+_e,et,zt;return Ze<=0?(et=w-1,zt=hc(et)+Ze):Ze>hc(w)?(et=w+1,zt=Ze-hc(w)):(et=w,zt=Ze),{year:et,dayOfYear:zt}}function Mu(w,O,I){var z=pc(w.year(),O,I),Z=Math.floor((w.dayOfYear()-z-1)/7)+1,le,_e;return Z<1?(_e=w.year()-1,le=Z+ga(_e,O,I)):Z>ga(w.year(),O,I)?(le=Z-ga(w.year(),O,I),_e=w.year()+1):(_e=w.year(),le=Z),{week:le,year:_e}}function ga(w,O,I){var z=pc(w,O,I),Z=pc(w+1,O,I);return(hc(w)-z+Z)/7}ne("w",["ww",2],"wo","week"),ne("W",["WW",2],"Wo","isoWeek"),Je("w",pt,ha),Je("ww",pt,Ne),Je("W",pt,ha),Je("WW",pt,Ne),Cu(["w","ww","W","WW"],function(w,O,I,z){O[z.substr(0,1)]=Rt(w)});function hn(w){return Mu(w,this._week.dow,this._week.doy).week}var Eg={dow:0,doy:6};function Pg(){return this._week.dow}function Wm(){return this._week.doy}function Ag(w){var O=this.localeData().week(this);return w==null?O:this.add((w-O)*7,"d")}function Og(w){var O=Mu(this,1,4).week;return w==null?O:this.add((w-O)*7,"d")}ne("d",0,"do","day"),ne("dd",0,0,function(w){return this.localeData().weekdaysMin(this,w)}),ne("ddd",0,0,function(w){return this.localeData().weekdaysShort(this,w)}),ne("dddd",0,0,function(w){return this.localeData().weekdays(this,w)}),ne("e",0,0,"weekday"),ne("E",0,0,"isoWeekday"),Je("d",pt),Je("e",pt),Je("E",pt),Je("dd",function(w,O){return O.weekdaysMinRegex(w)}),Je("ddd",function(w,O){return O.weekdaysShortRegex(w)}),Je("dddd",function(w,O){return O.weekdaysRegex(w)}),Cu(["dd","ddd","dddd"],function(w,O,I,z){var Z=I._locale.weekdaysParse(w,z,I._strict);Z!=null?O.d=Z:y(I).invalidWeekday=w}),Cu(["d","e","E"],function(w,O,I,z){O[z]=Rt(w)});function Tg(w,O){return typeof w!="string"?w:isNaN(w)?(w=O.weekdaysParse(w),typeof w=="number"?w:null):parseInt(w,10)}function qm(w,O){return typeof w=="string"?O.weekdaysParse(w)%7||7:isNaN(w)?null:w}function gc(w,O){return w.slice(O,7).concat(w.slice(0,O))}var co="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),uo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ru=Ua,Du=Ua,ho=Ua;function kN(w,O){var I=i(this._weekdays)?this._weekdays:this._weekdays[w&&w!==!0&&this._weekdays.isFormat.test(O)?"format":"standalone"];return w===!0?gc(I,this._week.dow):w?I[w.day()]:I}function Mg(w){return w===!0?gc(this._weekdaysShort,this._week.dow):w?this._weekdaysShort[w.day()]:this._weekdaysShort}function Iu(w){return w===!0?gc(this._weekdaysMin,this._week.dow):w?this._weekdaysMin[w.day()]:this._weekdaysMin}function EN(w,O,I){var z,Z,le,_e=w.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],z=0;z<7;++z)le=b([2e3,1]).day(z),this._minWeekdaysParse[z]=this.weekdaysMin(le,"").toLocaleLowerCase(),this._shortWeekdaysParse[z]=this.weekdaysShort(le,"").toLocaleLowerCase(),this._weekdaysParse[z]=this.weekdays(le,"").toLocaleLowerCase();return I?O==="dddd"?(Z=er.call(this._weekdaysParse,_e),Z!==-1?Z:null):O==="ddd"?(Z=er.call(this._shortWeekdaysParse,_e),Z!==-1?Z:null):(Z=er.call(this._minWeekdaysParse,_e),Z!==-1?Z:null):O==="dddd"?(Z=er.call(this._weekdaysParse,_e),Z!==-1||(Z=er.call(this._shortWeekdaysParse,_e),Z!==-1)?Z:(Z=er.call(this._minWeekdaysParse,_e),Z!==-1?Z:null)):O==="ddd"?(Z=er.call(this._shortWeekdaysParse,_e),Z!==-1||(Z=er.call(this._weekdaysParse,_e),Z!==-1)?Z:(Z=er.call(this._minWeekdaysParse,_e),Z!==-1?Z:null)):(Z=er.call(this._minWeekdaysParse,_e),Z!==-1||(Z=er.call(this._weekdaysParse,_e),Z!==-1)?Z:(Z=er.call(this._shortWeekdaysParse,_e),Z!==-1?Z:null))}function Rg(w,O,I){var z,Z,le;if(this._weekdaysParseExact)return EN.call(this,w,O,I);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),z=0;z<7;z++){if(Z=b([2e3,1]).day(z),I&&!this._fullWeekdaysParse[z]&&(this._fullWeekdaysParse[z]=new RegExp("^"+this.weekdays(Z,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[z]=new RegExp("^"+this.weekdaysShort(Z,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[z]=new RegExp("^"+this.weekdaysMin(Z,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[z]||(le="^"+this.weekdays(Z,"")+"|^"+this.weekdaysShort(Z,"")+"|^"+this.weekdaysMin(Z,""),this._weekdaysParse[z]=new RegExp(le.replace(".",""),"i")),I&&O==="dddd"&&this._fullWeekdaysParse[z].test(w))return z;if(I&&O==="ddd"&&this._shortWeekdaysParse[z].test(w))return z;if(I&&O==="dd"&&this._minWeekdaysParse[z].test(w))return z;if(!I&&this._weekdaysParse[z].test(w))return z}}function oh(w){if(!this.isValid())return w!=null?this:NaN;var O=Eu(this,"Day");return w!=null?(w=Tg(w,this.localeData()),this.add(w-O,"d")):O}function Dg(w){if(!this.isValid())return w!=null?this:NaN;var O=(this.day()+7-this.localeData()._week.dow)%7;return w==null?O:this.add(w-O,"d")}function PN(w){if(!this.isValid())return w!=null?this:NaN;if(w!=null){var O=qm(w,this.localeData());return this.day(this.day()%7?O:O-7)}else return this.day()||7}function Lu(w){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||vc.call(this),w?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ru),this._weekdaysStrictRegex&&w?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fu(w){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||vc.call(this),w?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Du),this._weekdaysShortStrictRegex&&w?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function yc(w){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||vc.call(this),w?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ho),this._weekdaysMinStrictRegex&&w?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vc(){function w(Rr,ja){return ja.length-Rr.length}var O=[],I=[],z=[],Z=[],le,_e,Ze,et,zt;for(le=0;le<7;le++)_e=b([2e3,1]).day(le),Ze=fa(this.weekdaysMin(_e,"")),et=fa(this.weekdaysShort(_e,"")),zt=fa(this.weekdays(_e,"")),O.push(Ze),I.push(et),z.push(zt),Z.push(Ze),Z.push(et),Z.push(zt);O.sort(w),I.sort(w),z.sort(w),Z.sort(w),this._weekdaysRegex=new RegExp("^("+Z.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+z.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+O.join("|")+")","i")}function Hm(){return this.hours()%12||12}function AN(){return this.hours()||24}ne("H",["HH",2],0,"hour"),ne("h",["hh",2],0,Hm),ne("k",["kk",2],0,AN),ne("hmm",0,0,function(){return""+Hm.apply(this)+F(this.minutes(),2)}),ne("hmmss",0,0,function(){return""+Hm.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),ne("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),ne("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)});function lh(w,O){ne(w,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),O)})}lh("a",!0),lh("A",!1);function zu(w,O){return O._meridiemParse}Je("a",zu),Je("A",zu),Je("H",pt,ah),Je("h",pt,ha),Je("k",pt,ha),Je("HH",pt,Ne),Je("hh",pt,Ne),Je("kk",pt,Ne),Je("hmm",Cr),Je("hmmss",$a),Je("Hmm",Cr),Je("Hmmss",$a),Qt(["H","HH"],wr),Qt(["k","kk"],function(w,O,I){var z=Rt(w);O[wr]=z===24?0:z}),Qt(["a","A"],function(w,O,I){I._isPm=I._locale.isPM(w),I._meridiem=w}),Qt(["h","hh"],function(w,O,I){O[wr]=Rt(w),y(I).bigHour=!0}),Qt("hmm",function(w,O,I){var z=w.length-2;O[wr]=Rt(w.substr(0,z)),O[pa]=Rt(w.substr(z)),y(I).bigHour=!0}),Qt("hmmss",function(w,O,I){var z=w.length-4,Z=w.length-2;O[wr]=Rt(w.substr(0,z)),O[pa]=Rt(w.substr(z,2)),O[rs]=Rt(w.substr(Z)),y(I).bigHour=!0}),Qt("Hmm",function(w,O,I){var z=w.length-2;O[wr]=Rt(w.substr(0,z)),O[pa]=Rt(w.substr(z))}),Qt("Hmmss",function(w,O,I){var z=w.length-4,Z=w.length-2;O[wr]=Rt(w.substr(0,z)),O[pa]=Rt(w.substr(z,2)),O[rs]=Rt(w.substr(Z))});function Ym(w){return(w+"").toLowerCase().charAt(0)==="p"}var Ig=/[ap]\.?m?\.?/i,fo=dl("Hours",!0);function Gm(w,O,I){return w>11?I?"pm":"PM":I?"am":"AM"}var $u={calendar:V,longDateFormat:ue,invalidDate:ge,ordinal:Ce,dayOfMonthOrdinalParse:yt,relativeTime:xt,months:wN,monthsShort:Vm,week:Eg,weekdays:co,weekdaysMin:uo,weekdaysShort:bi,meridiemParse:Ig},Mn={},mo={},po;function Lg(w,O){var I,z=Math.min(w.length,O.length);for(I=0;I<z;I+=1)if(w[I]!==O[I])return I;return z}function ms(w){return w&&w.toLowerCase().replace("_","-")}function bc(w){for(var O=0,I,z,Z,le;O<w.length;){for(le=ms(w[O]).split("-"),I=le.length,z=ms(w[O+1]),z=z?z.split("-"):null;I>0;){if(Z=xo(le.slice(0,I).join("-")),Z)return Z;if(z&&z.length>=I&&Lg(le,z)>=I-1)break;I--}O++}return po}function Km(w){return!!(w&&w.match("^[^/\\\\]*$"))}function xo(w){var O=null,I;if(Mn[w]===void 0&&e&&e.exports&&Km(w))try{O=po._abbr,I=aZ,I("./locale/"+w),go(O)}catch{Mn[w]=null}return Mn[w]}function go(w,O){var I;return w&&(u(O)?I=Os(w):I=Bu(w,O),I?po=I:typeof console<"u"&&console.warn&&console.warn("Locale "+w+" not found. Did you forget to load it?")),po._abbr}function Bu(w,O){if(O!==null){var I,z=$u;if(O.abbr=w,Mn[w]!=null)B("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),z=Mn[w]._config;else if(O.parentLocale!=null)if(Mn[O.parentLocale]!=null)z=Mn[O.parentLocale]._config;else if(I=xo(O.parentLocale),I!=null)z=I._config;else return mo[O.parentLocale]||(mo[O.parentLocale]=[]),mo[O.parentLocale].push({name:w,config:O}),null;return Mn[w]=new se(W(z,O)),mo[w]&&mo[w].forEach(function(Z){Bu(Z.name,Z.config)}),go(w),Mn[w]}else return delete Mn[w],null}function Xm(w,O){if(O!=null){var I,z,Z=$u;Mn[w]!=null&&Mn[w].parentLocale!=null?Mn[w].set(W(Mn[w]._config,O)):(z=xo(w),z!=null&&(Z=z._config),O=W(Z,O),z==null&&(O.abbr=w),I=new se(O),I.parentLocale=Mn[w],Mn[w]=I),go(w)}else Mn[w]!=null&&(Mn[w].parentLocale!=null?(Mn[w]=Mn[w].parentLocale,w===go()&&go(w)):Mn[w]!=null&&delete Mn[w]);return Mn[w]}function Os(w){var O;if(w&&w._locale&&w._locale._abbr&&(w=w._locale._abbr),!w)return po;if(!i(w)){if(O=xo(w),O)return O;w=[w]}return bc(w)}function ch(){return q(Mn)}function uh(w){var O,I=w._a;return I&&y(w).overflow===-2&&(O=I[ma]<0||I[ma]>11?ma:I[Wa]<1||I[Wa]>fc(I[br],I[ma])?Wa:I[wr]<0||I[wr]>24||I[wr]===24&&(I[pa]!==0||I[rs]!==0||I[lo]!==0)?wr:I[pa]<0||I[pa]>59?pa:I[rs]<0||I[rs]>59?rs:I[lo]<0||I[lo]>999?lo:-1,y(w)._overflowDayOfYear&&(O<br||O>Wa)&&(O=Wa),y(w)._overflowWeeks&&O===-1&&(O=_g),y(w)._overflowWeekday&&O===-1&&(O=vN),y(w).overflow=O),w}var ON=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,TN=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MN=/Z|[+-]\d\d(?::?\d\d)?/,wc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RN=/^\/?Date\((-?\d+)/i,DN=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,IN={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fg(w){var O,I,z=w._i,Z=ON.exec(z)||TN.exec(z),le,_e,Ze,et,zt=wc.length,Rr=Qm.length;if(Z){for(y(w).iso=!0,O=0,I=zt;O<I;O++)if(wc[O][1].exec(Z[1])){_e=wc[O][0],le=wc[O][2]!==!1;break}if(_e==null){w._isValid=!1;return}if(Z[3]){for(O=0,I=Rr;O<I;O++)if(Qm[O][1].exec(Z[3])){Ze=(Z[2]||" ")+Qm[O][0];break}if(Ze==null){w._isValid=!1;return}}if(!le&&Ze!=null){w._isValid=!1;return}if(Z[4])if(MN.exec(Z[4]))et="Z";else{w._isValid=!1;return}w._f=_e+(Ze||"")+(et||""),Zm(w)}else w._isValid=!1}function zg(w,O,I,z,Z,le){var _e=[LN(w),Vm.indexOf(O),parseInt(I,10),parseInt(z,10),parseInt(Z,10)];return le&&_e.push(parseInt(le,10)),_e}function LN(w){var O=parseInt(w,10);return O<=49?2e3+O:O<=999?1900+O:O}function FN(w){return w.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zN(w,O,I){if(w){var z=bi.indexOf(w),Z=new Date(O[0],O[1],O[2]).getDay();if(z!==Z)return y(I).weekdayMismatch=!0,I._isValid=!1,!1}return!0}function $N(w,O,I){if(w)return IN[w];if(O)return 0;var z=parseInt(I,10),Z=z%100,le=(z-Z)/100;return le*60+Z}function dh(w){var O=DN.exec(FN(w._i)),I;if(O){if(I=zg(O[4],O[3],O[2],O[5],O[6],O[7]),!zN(O[1],I,w))return;w._a=I,w._tzm=$N(O[8],O[9],O[10]),w._d=mc.apply(null,w._a),w._d.setUTCMinutes(w._d.getUTCMinutes()-w._tzm),y(w).rfc2822=!0}else w._isValid=!1}function BN(w){var O=RN.exec(w._i);if(O!==null){w._d=new Date(+O[1]);return}if(Fg(w),w._isValid===!1)delete w._isValid;else return;if(dh(w),w._isValid===!1)delete w._isValid;else return;w._strict?w._isValid=!1:s.createFromInputFallback(w)}s.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(w){w._d=new Date(w._i+(w._useUTC?" UTC":""))});function jc(w,O,I){return w??O??I}function VN(w){var O=new Date(s.now());return w._useUTC?[O.getUTCFullYear(),O.getUTCMonth(),O.getUTCDate()]:[O.getFullYear(),O.getMonth(),O.getDate()]}function hh(w){var O,I,z=[],Z,le,_e;if(!w._d){for(Z=VN(w),w._w&&w._a[Wa]==null&&w._a[ma]==null&&UN(w),w._dayOfYear!=null&&(_e=jc(w._a[br],Z[br]),(w._dayOfYear>hc(_e)||w._dayOfYear===0)&&(y(w)._overflowDayOfYear=!0),I=mc(_e,0,w._dayOfYear),w._a[ma]=I.getUTCMonth(),w._a[Wa]=I.getUTCDate()),O=0;O<3&&w._a[O]==null;++O)w._a[O]=z[O]=Z[O];for(;O<7;O++)w._a[O]=z[O]=w._a[O]==null?O===2?1:0:w._a[O];w._a[wr]===24&&w._a[pa]===0&&w._a[rs]===0&&w._a[lo]===0&&(w._nextDay=!0,w._a[wr]=0),w._d=(w._useUTC?mc:Um).apply(null,z),le=w._useUTC?w._d.getUTCDay():w._d.getDay(),w._tzm!=null&&w._d.setUTCMinutes(w._d.getUTCMinutes()-w._tzm),w._nextDay&&(w._a[wr]=24),w._w&&typeof w._w.d<"u"&&w._w.d!==le&&(y(w).weekdayMismatch=!0)}}function UN(w){var O,I,z,Z,le,_e,Ze,et,zt;O=w._w,O.GG!=null||O.W!=null||O.E!=null?(le=1,_e=4,I=jc(O.GG,w._a[br],Mu(Rn(),1,4).year),z=jc(O.W,1),Z=jc(O.E,1),(Z<1||Z>7)&&(et=!0)):(le=w._locale._week.dow,_e=w._locale._week.doy,zt=Mu(Rn(),le,_e),I=jc(O.gg,w._a[br],zt.year),z=jc(O.w,zt.week),O.d!=null?(Z=O.d,(Z<0||Z>6)&&(et=!0)):O.e!=null?(Z=O.e+le,(O.e<0||O.e>6)&&(et=!0)):Z=le),z<1||z>ga(I,le,_e)?y(w)._overflowWeeks=!0:et!=null?y(w)._overflowWeekday=!0:(Ze=xc(I,z,Z,le,_e),w._a[br]=Ze.year,w._dayOfYear=Ze.dayOfYear)}s.ISO_8601=function(){},s.RFC_2822=function(){};function Zm(w){if(w._f===s.ISO_8601){Fg(w);return}if(w._f===s.RFC_2822){dh(w);return}w._a=[],y(w).empty=!0;var O=""+w._i,I,z,Z,le,_e,Ze=O.length,et=0,zt,Rr;for(Z=he(w._f,w._locale).match(K)||[],Rr=Z.length,I=0;I<Rr;I++)le=Z[I],z=(O.match(jg(le,w))||[])[0],z&&(_e=O.substr(0,O.indexOf(z)),_e.length>0&&y(w).unusedInput.push(_e),O=O.slice(O.indexOf(z)+z.length),et+=z.length),xe[le]?(z?y(w).empty=!1:y(w).unusedTokens.push(le),ku(le,z,w)):w._strict&&!z&&y(w).unusedTokens.push(le);y(w).charsLeftOver=Ze-et,O.length>0&&y(w).unusedInput.push(O),w._a[wr]<=12&&y(w).bigHour===!0&&w._a[wr]>0&&(y(w).bigHour=void 0),y(w).parsedDateParts=w._a.slice(0),y(w).meridiem=w._meridiem,w._a[wr]=WN(w._locale,w._a[wr],w._meridiem),zt=y(w).era,zt!==null&&(w._a[br]=w._locale.erasConvertYear(zt,w._a[br])),hh(w),uh(w)}function WN(w,O,I){var z;return I==null?O:w.meridiemHour!=null?w.meridiemHour(O,I):(w.isPM!=null&&(z=w.isPM(I),z&&O<12&&(O+=12),!z&&O===12&&(O=0)),O)}function qN(w){var O,I,z,Z,le,_e,Ze=!1,et=w._f.length;if(et===0){y(w).invalidFormat=!0,w._d=new Date(NaN);return}for(Z=0;Z<et;Z++)le=0,_e=!1,O=k({},w),w._useUTC!=null&&(O._useUTC=w._useUTC),O._f=w._f[Z],Zm(O),_(O)&&(_e=!0),le+=y(O).charsLeftOver,le+=y(O).unusedTokens.length*10,y(O).score=le,Ze?le<z&&(z=le,I=O):(z==null||le<z||_e)&&(z=le,I=O,_e&&(Ze=!0));x(w,I||O)}function HN(w){if(!w._d){var O=mr(w._i),I=O.day===void 0?O.date:O.day;w._a=p([O.year,O.month,I,O.hour,O.minute,O.second,O.millisecond],function(z){return z&&parseInt(z,10)}),hh(w)}}function YN(w){var O=new P(uh($g(w)));return O._nextDay&&(O.add(1,"d"),O._nextDay=void 0),O}function $g(w){var O=w._i,I=w._f;return w._locale=w._locale||Os(w._l),O===null||I===void 0&&O===""?S({nullInput:!0}):(typeof O=="string"&&(w._i=O=w._locale.preparse(O)),R(O)?new P(uh(O)):(f(O)?w._d=O:i(I)?qN(w):I?Zm(w):Jm(w),_(w)||(w._d=null),w))}function Jm(w){var O=w._i;u(O)?w._d=new Date(s.now()):f(O)?w._d=new Date(O.valueOf()):typeof O=="string"?BN(w):i(O)?(w._a=p(O.slice(0),function(I){return parseInt(I,10)}),hh(w)):o(O)?HN(w):h(O)?w._d=new Date(O):s.createFromInputFallback(w)}function Nc(w,O,I,z,Z){var le={};return(O===!0||O===!1)&&(z=O,O=void 0),(I===!0||I===!1)&&(z=I,I=void 0),(o(w)&&c(w)||i(w)&&w.length===0)&&(w=void 0),le._isAMomentObject=!0,le._useUTC=le._isUTC=Z,le._l=I,le._i=w,le._f=O,le._strict=z,YN(le)}function Rn(w,O,I,z){return Nc(w,O,I,z,!1)}var Bg=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var w=Rn.apply(null,arguments);return this.isValid()&&w.isValid()?w<this?this:w:S()}),Vg=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var w=Rn.apply(null,arguments);return this.isValid()&&w.isValid()?w>this?this:w:S()});function ep(w,O){var I,z;if(O.length===1&&i(O[0])&&(O=O[0]),!O.length)return Rn();for(I=O[0],z=1;z<O.length;++z)(!O[z].isValid()||O[z][w](I))&&(I=O[z]);return I}function Ug(){var w=[].slice.call(arguments,0);return ep("isBefore",w)}function Wg(){var w=[].slice.call(arguments,0);return ep("isAfter",w)}var _c=function(){return Date.now?Date.now():+new Date},Vu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function GN(w){var O,I=!1,z,Z=Vu.length;for(O in w)if(l(w,O)&&!(er.call(Vu,O)!==-1&&(w[O]==null||!isNaN(w[O]))))return!1;for(z=0;z<Z;++z)if(w[Vu[z]]){if(I)return!1;parseFloat(w[Vu[z]])!==Rt(w[Vu[z]])&&(I=!0)}return!0}function KN(){return this._isValid}function qg(){return qs(NaN)}function Uu(w){var O=mr(w),I=O.year||0,z=O.quarter||0,Z=O.month||0,le=O.week||O.isoWeek||0,_e=O.day||0,Ze=O.hour||0,et=O.minute||0,zt=O.second||0,Rr=O.millisecond||0;this._isValid=GN(O),this._milliseconds=+Rr+zt*1e3+et*6e4+Ze*1e3*60*60,this._days=+_e+le*7,this._months=+Z+z*3+I*12,this._data={},this._locale=Os(),this._bubble()}function yo(w){return w instanceof Uu}function hl(w){return w<0?Math.round(-1*w)*-1:Math.round(w)}function XN(w,O,I){var z=Math.min(w.length,O.length),Z=Math.abs(w.length-O.length),le=0,_e;for(_e=0;_e<z;_e++)Rt(w[_e])!==Rt(O[_e])&&le++;return le+Z}function Wu(w,O){ne(w,0,0,function(){var I=this.utcOffset(),z="+";return I<0&&(I=-I,z="-"),z+F(~~(I/60),2)+O+F(~~I%60,2)})}Wu("Z",":"),Wu("ZZ",""),Je("Z",dc),Je("ZZ",dc),Qt(["Z","ZZ"],function(w,O,I){I._useUTC=!0,I._tzm=fh(dc,w)});var QN=/([\+\-]|\d\d)/gi;function fh(w,O){var I=(O||"").match(w),z,Z,le;return I===null?null:(z=I[I.length-1]||[],Z=(z+"").match(QN)||["-",0,0],le=+(Z[1]*60)+Rt(Z[2]),le===0?0:Z[0]==="+"?le:-le)}function qu(w,O){var I,z;return O._isUTC?(I=O.clone(),z=(R(w)||f(w)?w.valueOf():Rn(w).valueOf())-I.valueOf(),I._d.setTime(I._d.valueOf()+z),s.updateOffset(I,!1),I):Rn(w).local()}function Hu(w){return-Math.round(w._d.getTimezoneOffset())}s.updateOffset=function(){};function Hg(w,O,I){var z=this._offset||0,Z;if(!this.isValid())return w!=null?this:NaN;if(w!=null){if(typeof w=="string"){if(w=fh(dc,w),w===null)return this}else Math.abs(w)<16&&!I&&(w=w*60);return!this._isUTC&&O&&(Z=Hu(this)),this._offset=w,this._isUTC=!0,Z!=null&&this.add(Z,"m"),z!==w&&(!O||this._changeInProgress?mh(this,qs(w-z,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?z:Hu(this)}function Yg(w,O){return w!=null?(typeof w!="string"&&(w=-w),this.utcOffset(w,O),this):-this.utcOffset()}function Gg(w){return this.utcOffset(0,w)}function ZN(w){return this._isUTC&&(this.utcOffset(0,w),this._isUTC=!1,w&&this.subtract(Hu(this),"m")),this}function JN(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var w=fh(Ps,this._i);w!=null?this.utcOffset(w):this.utcOffset(0,!0)}return this}function e1(w){return this.isValid()?(w=w?Rn(w).utcOffset():0,(this.utcOffset()-w)%60===0):!1}function t1(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function n1(){if(!u(this._isDSTShifted))return this._isDSTShifted;var w={},O;return k(w,this),w=$g(w),w._a?(O=w._isUTC?b(w._a):Rn(w._a),this._isDSTShifted=this.isValid()&&XN(w._a,O.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ya(){return this.isValid()?!this._isUTC:!1}function Yu(){return this.isValid()?this._isUTC:!1}function tp(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Kg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Xg=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qs(w,O){var I=w,z=null,Z,le,_e;return yo(w)?I={ms:w._milliseconds,d:w._days,M:w._months}:h(w)||!isNaN(+w)?(I={},O?I[O]=+w:I.milliseconds=+w):(z=Kg.exec(w))?(Z=z[1]==="-"?-1:1,I={y:0,d:Rt(z[Wa])*Z,h:Rt(z[wr])*Z,m:Rt(z[pa])*Z,s:Rt(z[rs])*Z,ms:Rt(hl(z[lo]*1e3))*Z}):(z=Xg.exec(w))?(Z=z[1]==="-"?-1:1,I={y:wi(z[2],Z),M:wi(z[3],Z),w:wi(z[4],Z),d:wi(z[5],Z),h:wi(z[6],Z),m:wi(z[7],Z),s:wi(z[8],Z)}):I==null?I={}:typeof I=="object"&&("from"in I||"to"in I)&&(_e=r1(Rn(I.from),Rn(I.to)),I={},I.ms=_e.milliseconds,I.M=_e.months),le=new Uu(I),yo(w)&&l(w,"_locale")&&(le._locale=w._locale),yo(w)&&l(w,"_isValid")&&(le._isValid=w._isValid),le}qs.fn=Uu.prototype,qs.invalid=qg;function wi(w,O){var I=w&&parseFloat(w.replace(",","."));return(isNaN(I)?0:I)*O}function Qg(w,O){var I={};return I.months=O.month()-w.month()+(O.year()-w.year())*12,w.clone().add(I.months,"M").isAfter(O)&&--I.months,I.milliseconds=+O-+w.clone().add(I.months,"M"),I}function r1(w,O){var I;return w.isValid()&&O.isValid()?(O=qu(O,w),w.isBefore(O)?I=Qg(w,O):(I=Qg(O,w),I.milliseconds=-I.milliseconds,I.months=-I.months),I):{milliseconds:0,months:0}}function fl(w,O){return function(I,z){var Z,le;return z!==null&&!isNaN(+z)&&(B(O,"moment()."+O+"(period, number) is deprecated. Please use moment()."+O+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),le=I,I=z,z=le),Z=qs(I,z),mh(this,Z,w),this}}function mh(w,O,I,z){var Z=O._milliseconds,le=hl(O._days),_e=hl(O._months);w.isValid()&&(z=z??!0,_e&&Au(w,Eu(w,"Month")+_e*I),le&&Cg(w,"Date",Eu(w,"Date")+le*I),Z&&w._d.setTime(w._d.valueOf()+Z*I),z&&s.updateOffset(w,le||_e))}var Gu=fl(1,"add"),np=fl(-1,"subtract");function rp(w){return typeof w=="string"||w instanceof String}function ph(w){return R(w)||f(w)||rp(w)||h(w)||sp(w)||Sc(w)||w===null||w===void 0}function Sc(w){var O=o(w)&&!c(w),I=!1,z=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Z,le,_e=z.length;for(Z=0;Z<_e;Z+=1)le=z[Z],I=I||l(w,le);return O&&I}function sp(w){var O=i(w),I=!1;return O&&(I=w.filter(function(z){return!h(z)&&rp(w)}).length===0),O&&I}function Zg(w){var O=o(w)&&!c(w),I=!1,z=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Z,le;for(Z=0;Z<z.length;Z+=1)le=z[Z],I=I||l(w,le);return O&&I}function xh(w,O){var I=w.diff(O,"days",!0);return I<-6?"sameElse":I<-1?"lastWeek":I<0?"lastDay":I<1?"sameDay":I<2?"nextDay":I<7?"nextWeek":"sameElse"}function Jg(w,O){arguments.length===1&&(arguments[0]?ph(arguments[0])?(w=arguments[0],O=void 0):Zg(arguments[0])&&(O=arguments[0],w=void 0):(w=void 0,O=void 0));var I=w||Rn(),z=qu(I,this).startOf("day"),Z=s.calendarFormat(this,z)||"sameElse",le=O&&(J(O[Z])?O[Z].call(this,I):O[Z]);return this.format(le||this.localeData().calendar(Z,this,Rn(I)))}function ey(){return new P(this)}function ty(w,O){var I=R(w)?w:Rn(w);return this.isValid()&&I.isValid()?(O=Yt(O)||"millisecond",O==="millisecond"?this.valueOf()>I.valueOf():I.valueOf()<this.clone().startOf(O).valueOf()):!1}function ny(w,O){var I=R(w)?w:Rn(w);return this.isValid()&&I.isValid()?(O=Yt(O)||"millisecond",O==="millisecond"?this.valueOf()<I.valueOf():this.clone().endOf(O).valueOf()<I.valueOf()):!1}function ry(w,O,I,z){var Z=R(w)?w:Rn(w),le=R(O)?O:Rn(O);return this.isValid()&&Z.isValid()&&le.isValid()?(z=z||"()",(z[0]==="("?this.isAfter(Z,I):!this.isBefore(Z,I))&&(z[1]===")"?this.isBefore(le,I):!this.isAfter(le,I))):!1}function sy(w,O){var I=R(w)?w:Rn(w),z;return this.isValid()&&I.isValid()?(O=Yt(O)||"millisecond",O==="millisecond"?this.valueOf()===I.valueOf():(z=I.valueOf(),this.clone().startOf(O).valueOf()<=z&&z<=this.clone().endOf(O).valueOf())):!1}function vo(w,O){return this.isSame(w,O)||this.isAfter(w,O)}function ap(w,O){return this.isSame(w,O)||this.isBefore(w,O)}function ip(w,O,I){var z,Z,le;if(!this.isValid())return NaN;if(z=qu(w,this),!z.isValid())return NaN;switch(Z=(z.utcOffset()-this.utcOffset())*6e4,O=Yt(O),O){case"year":le=gh(this,z)/12;break;case"month":le=gh(this,z);break;case"quarter":le=gh(this,z)/3;break;case"second":le=(this-z)/1e3;break;case"minute":le=(this-z)/6e4;break;case"hour":le=(this-z)/36e5;break;case"day":le=(this-z-Z)/864e5;break;case"week":le=(this-z-Z)/6048e5;break;default:le=this-z}return I?le:As(le)}function gh(w,O){if(w.date()<O.date())return-gh(O,w);var I=(O.year()-w.year())*12+(O.month()-w.month()),z=w.clone().add(I,"months"),Z,le;return O-z<0?(Z=w.clone().add(I-1,"months"),le=(O-z)/(z-Z)):(Z=w.clone().add(I+1,"months"),le=(O-z)/(Z-z)),-(I+le)||0}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function s1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ku(w){if(!this.isValid())return null;var O=w!==!0,I=O?this.clone().utc():this;return I.year()<0||I.year()>9999?ce(I,O?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):J(Date.prototype.toISOString)?O?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ce(I,"Z")):ce(I,O?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function a1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var w="moment",O="",I,z,Z,le;return this.isLocal()||(w=this.utcOffset()===0?"moment.utc":"moment.parseZone",O="Z"),I="["+w+'("]',z=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Z="-MM-DD[T]HH:mm:ss.SSS",le=O+'[")]',this.format(I+z+Z+le)}function ay(w){w||(w=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var O=ce(this,w);return this.localeData().postformat(O)}function iy(w,O){return this.isValid()&&(R(w)&&w.isValid()||Rn(w).isValid())?qs({to:this,from:w}).locale(this.locale()).humanize(!O):this.localeData().invalidDate()}function Dn(w){return this.from(Rn(),w)}function op(w,O){return this.isValid()&&(R(w)&&w.isValid()||Rn(w).isValid())?qs({from:this,to:w}).locale(this.locale()).humanize(!O):this.localeData().invalidDate()}function yh(w){return this.to(Rn(),w)}function Cc(w){var O;return w===void 0?this._locale._abbr:(O=Os(w),O!=null&&(this._locale=O),this)}var lp=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(w){return w===void 0?this.localeData():this.locale(w)});function vh(){return this._locale}var bo=1e3,ji=60*bo,Ni=60*ji,cp=(365*400+97)*24*Ni;function kc(w,O){return(w%O+O)%O}function oy(w,O,I){return w<100&&w>=0?new Date(w+400,O,I)-cp:new Date(w,O,I).valueOf()}function up(w,O,I){return w<100&&w>=0?Date.UTC(w+400,O,I)-cp:Date.UTC(w,O,I)}function bh(w){var O,I;if(w=Yt(w),w===void 0||w==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?up:oy,w){case"year":O=I(this.year(),0,1);break;case"quarter":O=I(this.year(),this.month()-this.month()%3,1);break;case"month":O=I(this.year(),this.month(),1);break;case"week":O=I(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":O=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":O=I(this.year(),this.month(),this.date());break;case"hour":O=this._d.valueOf(),O-=kc(O+(this._isUTC?0:this.utcOffset()*ji),Ni);break;case"minute":O=this._d.valueOf(),O-=kc(O,ji);break;case"second":O=this._d.valueOf(),O-=kc(O,bo);break}return this._d.setTime(O),s.updateOffset(this,!0),this}function wh(w){var O,I;if(w=Yt(w),w===void 0||w==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?up:oy,w){case"year":O=I(this.year()+1,0,1)-1;break;case"quarter":O=I(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":O=I(this.year(),this.month()+1,1)-1;break;case"week":O=I(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":O=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":O=I(this.year(),this.month(),this.date()+1)-1;break;case"hour":O=this._d.valueOf(),O+=Ni-kc(O+(this._isUTC?0:this.utcOffset()*ji),Ni)-1;break;case"minute":O=this._d.valueOf(),O+=ji-kc(O,ji)-1;break;case"second":O=this._d.valueOf(),O+=bo-kc(O,bo)-1;break}return this._d.setTime(O),s.updateOffset(this,!0),this}function dp(){return this._d.valueOf()-(this._offset||0)*6e4}function hp(){return Math.floor(this.valueOf()/1e3)}function fp(){return new Date(this.valueOf())}function mp(){var w=this;return[w.year(),w.month(),w.date(),w.hour(),w.minute(),w.second(),w.millisecond()]}function i1(){var w=this;return{years:w.year(),months:w.month(),date:w.date(),hours:w.hours(),minutes:w.minutes(),seconds:w.seconds(),milliseconds:w.milliseconds()}}function ly(){return this.isValid()?this.toISOString():null}function o1(){return _(this)}function l1(){return x({},y(this))}function pp(){return y(this).overflow}function wo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ne("N",0,0,"eraAbbr"),ne("NN",0,0,"eraAbbr"),ne("NNN",0,0,"eraAbbr"),ne("NNNN",0,0,"eraName"),ne("NNNNN",0,0,"eraNarrow"),ne("y",["y",1],"yo","eraYear"),ne("y",["yy",2],0,"eraYear"),ne("y",["yyy",3],0,"eraYear"),ne("y",["yyyy",4],0,"eraYear"),Je("N",jo),Je("NN",jo),Je("NNN",jo),Je("NNNN",jh),Je("NNNNN",gp),Qt(["N","NN","NNN","NNNN","NNNNN"],function(w,O,I,z){var Z=I._locale.erasParse(w,z,I._strict);Z?y(I).era=Z:y(I).invalidEra=w}),Je("y",Jn),Je("yy",Jn),Je("yyy",Jn),Je("yyyy",Jn),Je("yo",Pc),Qt(["y","yy","yyy","yyyy"],br),Qt(["yo"],function(w,O,I,z){var Z;I._locale._eraYearOrdinalRegex&&(Z=w.match(I._locale._eraYearOrdinalRegex)),I._locale.eraYearOrdinalParse?O[br]=I._locale.eraYearOrdinalParse(w,Z):O[br]=parseInt(w,10)});function cy(w,O){var I,z,Z,le=this._eras||Os("en")._eras;for(I=0,z=le.length;I<z;++I){switch(typeof le[I].since){case"string":Z=s(le[I].since).startOf("day"),le[I].since=Z.valueOf();break}switch(typeof le[I].until){case"undefined":le[I].until=1/0;break;case"string":Z=s(le[I].until).startOf("day").valueOf(),le[I].until=Z.valueOf();break}}return le}function Ec(w,O,I){var z,Z,le=this.eras(),_e,Ze,et;for(w=w.toUpperCase(),z=0,Z=le.length;z<Z;++z)if(_e=le[z].name.toUpperCase(),Ze=le[z].abbr.toUpperCase(),et=le[z].narrow.toUpperCase(),I)switch(O){case"N":case"NN":case"NNN":if(Ze===w)return le[z];break;case"NNNN":if(_e===w)return le[z];break;case"NNNNN":if(et===w)return le[z];break}else if([_e,Ze,et].indexOf(w)>=0)return le[z]}function Ha(w,O){var I=w.since<=w.until?1:-1;return O===void 0?s(w.since).year():s(w.since).year()+(O-w.offset)*I}function Xu(){var w,O,I,z=this.localeData().eras();for(w=0,O=z.length;w<O;++w)if(I=this.clone().startOf("day").valueOf(),z[w].since<=I&&I<=z[w].until||z[w].until<=I&&I<=z[w].since)return z[w].name;return""}function _i(){var w,O,I,z=this.localeData().eras();for(w=0,O=z.length;w<O;++w)if(I=this.clone().startOf("day").valueOf(),z[w].since<=I&&I<=z[w].until||z[w].until<=I&&I<=z[w].since)return z[w].narrow;return""}function xp(){var w,O,I,z=this.localeData().eras();for(w=0,O=z.length;w<O;++w)if(I=this.clone().startOf("day").valueOf(),z[w].since<=I&&I<=z[w].until||z[w].until<=I&&I<=z[w].since)return z[w].abbr;return""}function c1(){var w,O,I,z,Z=this.localeData().eras();for(w=0,O=Z.length;w<O;++w)if(I=Z[w].since<=Z[w].until?1:-1,z=this.clone().startOf("day").valueOf(),Z[w].since<=z&&z<=Z[w].until||Z[w].until<=z&&z<=Z[w].since)return(this.year()-s(Z[w].since).year())*I+Z[w].offset;return this.year()}function u1(w){return l(this,"_erasNameRegex")||Ya.call(this),w?this._erasNameRegex:this._erasRegex}function ml(w){return l(this,"_erasAbbrRegex")||Ya.call(this),w?this._erasAbbrRegex:this._erasRegex}function Qu(w){return l(this,"_erasNarrowRegex")||Ya.call(this),w?this._erasNarrowRegex:this._erasRegex}function jo(w,O){return O.erasAbbrRegex(w)}function jh(w,O){return O.erasNameRegex(w)}function gp(w,O){return O.erasNarrowRegex(w)}function Pc(w,O){return O._eraYearOrdinalRegex||Jn}function Ya(){var w=[],O=[],I=[],z=[],Z,le,_e,Ze,et,zt=this.eras();for(Z=0,le=zt.length;Z<le;++Z)_e=fa(zt[Z].name),Ze=fa(zt[Z].abbr),et=fa(zt[Z].narrow),O.push(_e),w.push(Ze),I.push(et),z.push(_e),z.push(Ze),z.push(et);this._erasRegex=new RegExp("^("+z.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+O.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+w.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+I.join("|")+")","i")}ne(0,["gg",2],0,function(){return this.weekYear()%100}),ne(0,["GG",2],0,function(){return this.isoWeekYear()%100});function pn(w,O){ne(0,[w,w.length],0,O)}pn("gggg","weekYear"),pn("ggggg","weekYear"),pn("GGGG","isoWeekYear"),pn("GGGGG","isoWeekYear"),Je("G",Es),Je("g",Es),Je("GG",pt,Ne),Je("gg",pt,Ne),Je("GGGG",Ba,wt),Je("gggg",Ba,wt),Je("GGGGG",Va,Tt),Je("ggggg",Va,Tt),Cu(["gggg","ggggg","GGGG","GGGGG"],function(w,O,I,z){O[z.substr(0,2)]=Rt(w)}),Cu(["gg","GG"],function(w,O,I,z){O[z]=s.parseTwoDigitYear(w)});function Cn(w){return ss.call(this,w,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function No(w){return ss.call(this,w,this.isoWeek(),this.isoWeekday(),1,4)}function Gr(){return ga(this.year(),1,4)}function ps(){return ga(this.isoWeekYear(),1,4)}function pl(){var w=this.localeData()._week;return ga(this.year(),w.dow,w.doy)}function Ac(){var w=this.localeData()._week;return ga(this.weekYear(),w.dow,w.doy)}function ss(w,O,I,z,Z){var le;return w==null?Mu(this,z,Z).year:(le=ga(w,z,Z),O>le&&(O=le),Nh.call(this,w,O,I,z,Z))}function Nh(w,O,I,z,Z){var le=xc(w,O,I,z,Z),_e=mc(le.year,0,le.dayOfYear);return this.year(_e.getUTCFullYear()),this.month(_e.getUTCMonth()),this.date(_e.getUTCDate()),this}ne("Q",0,"Qo","quarter"),Je("Q",oo),Qt("Q",function(w,O){O[ma]=(Rt(w)-1)*3});function uy(w){return w==null?Math.ceil((this.month()+1)/3):this.month((w-1)*3+this.month()%3)}ne("D",["DD",2],"Do","date"),Je("D",pt,ha),Je("DD",pt,Ne),Je("Do",function(w,O){return w?O._dayOfMonthOrdinalParse||O._ordinalParse:O._dayOfMonthOrdinalParseLenient}),Qt(["D","DD"],Wa),Qt("Do",function(w,O){O[Wa]=Rt(w.match(pt)[0])});var yp=dl("Date",!0);ne("DDD",["DDDD",3],"DDDo","dayOfYear"),Je("DDD",ns),Je("DDDD",We),Qt(["DDD","DDDD"],function(w,O,I){I._dayOfYear=Rt(w)});function _h(w){var O=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return w==null?O:this.add(w-O,"d")}ne("m",["mm",2],0,"minute"),Je("m",pt,ah),Je("mm",pt,Ne),Qt(["m","mm"],pa);var dy=dl("Minutes",!1);ne("s",["ss",2],0,"second"),Je("s",pt,ah),Je("ss",pt,Ne),Qt(["s","ss"],rs);var Si=dl("Seconds",!1);ne("S",0,0,function(){return~~(this.millisecond()/100)}),ne(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ne(0,["SSS",3],0,"millisecond"),ne(0,["SSSS",4],0,function(){return this.millisecond()*10}),ne(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ne(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ne(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ne(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ne(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Je("S",ns,oo),Je("SS",ns,Ne),Je("SSS",ns,We);var va,Sh;for(va="SSSS";va.length<=9;va+="S")Je(va,Jn);function hy(w,O){O[lo]=Rt(("0."+w)*1e3)}for(va="S";va.length<=9;va+="S")Qt(va,hy);Sh=dl("Milliseconds",!1),ne("z",0,0,"zoneAbbr"),ne("zz",0,0,"zoneName");function d1(){return this._isUTC?"UTC":""}function _o(){return this._isUTC?"Coordinated Universal Time":""}var Ie=P.prototype;Ie.add=Gu,Ie.calendar=Jg,Ie.clone=ey,Ie.diff=ip,Ie.endOf=wh,Ie.format=ay,Ie.from=iy,Ie.fromNow=Dn,Ie.to=op,Ie.toNow=yh,Ie.get=ir,Ie.invalidAt=pp,Ie.isAfter=ty,Ie.isBefore=ny,Ie.isBetween=ry,Ie.isSame=sy,Ie.isSameOrAfter=vo,Ie.isSameOrBefore=ap,Ie.isValid=o1,Ie.lang=lp,Ie.locale=Cc,Ie.localeData=vh,Ie.max=Vg,Ie.min=Bg,Ie.parsingFlags=l1,Ie.set=bN,Ie.startOf=bh,Ie.subtract=np,Ie.toArray=mp,Ie.toObject=i1,Ie.toDate=fp,Ie.toISOString=Ku,Ie.inspect=a1,typeof Symbol<"u"&&Symbol.for!=null&&(Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ie.toJSON=ly,Ie.toString=s1,Ie.unix=hp,Ie.valueOf=dp,Ie.creationData=wo,Ie.eraName=Xu,Ie.eraNarrow=_i,Ie.eraAbbr=xp,Ie.eraYear=c1,Ie.year=$m,Ie.isLeapYear=Sg,Ie.weekYear=Cn,Ie.isoWeekYear=No,Ie.quarter=Ie.quarters=uy,Ie.month=Ou,Ie.daysInMonth=Tu,Ie.week=Ie.weeks=Ag,Ie.isoWeek=Ie.isoWeeks=Og,Ie.weeksInYear=pl,Ie.weeksInWeekYear=Ac,Ie.isoWeeksInYear=Gr,Ie.isoWeeksInISOWeekYear=ps,Ie.date=yp,Ie.day=Ie.days=oh,Ie.weekday=Dg,Ie.isoWeekday=PN,Ie.dayOfYear=_h,Ie.hour=Ie.hours=fo,Ie.minute=Ie.minutes=dy,Ie.second=Ie.seconds=Si,Ie.millisecond=Ie.milliseconds=Sh,Ie.utcOffset=Hg,Ie.utc=Gg,Ie.local=ZN,Ie.parseZone=JN,Ie.hasAlignedHourOffset=e1,Ie.isDST=t1,Ie.isLocal=ya,Ie.isUtcOffset=Yu,Ie.isUtc=tp,Ie.isUTC=tp,Ie.zoneAbbr=d1,Ie.zoneName=_o,Ie.dates=D("dates accessor is deprecated. Use date instead.",yp),Ie.months=D("months accessor is deprecated. Use month instead",Ou),Ie.years=D("years accessor is deprecated. Use year instead",$m),Ie.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Yg),Ie.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",n1);function Oc(w){return Rn(w*1e3)}function Ch(){return Rn.apply(null,arguments).parseZone()}function Zu(w){return w}var At=se.prototype;At.calendar=U,At.longDateFormat=Oe,At.invalidDate=qe,At.ordinal=st,At.preparse=Zu,At.postformat=Zu,At.relativeTime=Jt,At.pastFuture=qt,At.set=Y,At.eras=cy,At.erasParse=Ec,At.erasConvertYear=Ha,At.erasAbbrRegex=ml,At.erasNameRegex=u1,At.erasNarrowRegex=Qu,At.months=xa,At.monthsShort=NN,At.monthsParse=SN,At.monthsRegex=CN,At.monthsShortRegex=ih,At.week=hn,At.firstDayOfYear=Wm,At.firstDayOfWeek=Pg,At.weekdays=kN,At.weekdaysMin=Iu,At.weekdaysShort=Mg,At.weekdaysParse=Rg,At.weekdaysRegex=Lu,At.weekdaysShortRegex=Fu,At.weekdaysMinRegex=yc,At.isPM=Ym,At.meridiem=Gm;function as(w,O,I,z){var Z=Os(),le=b().set(z,O);return Z[I](le,w)}function So(w,O,I){if(h(w)&&(O=w,w=void 0),w=w||"",O!=null)return as(w,O,I,"month");var z,Z=[];for(z=0;z<12;z++)Z[z]=as(w,z,I,"month");return Z}function ba(w,O,I,z){typeof w=="boolean"?(h(O)&&(I=O,O=void 0),O=O||""):(O=w,I=O,w=!1,h(O)&&(I=O,O=void 0),O=O||"");var Z=Os(),le=w?Z._week.dow:0,_e,Ze=[];if(I!=null)return as(O,(I+le)%7,z,"day");for(_e=0;_e<7;_e++)Ze[_e]=as(O,(_e+le)%7,z,"day");return Ze}function Ci(w,O){return So(w,O,"months")}function xl(w,O){return So(w,O,"monthsShort")}function fy(w,O,I){return ba(w,O,I,"weekdays")}function vp(w,O,I){return ba(w,O,I,"weekdaysShort")}function bp(w,O,I){return ba(w,O,I,"weekdaysMin")}go("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(w){var O=w%10,I=Rt(w%100/10)===1?"th":O===1?"st":O===2?"nd":O===3?"rd":"th";return w+I}}),s.lang=D("moment.lang is deprecated. Use moment.locale instead.",go),s.langData=D("moment.langData is deprecated. Use moment.localeData instead.",Os);var or=Math.abs;function Ts(){var w=this._data;return this._milliseconds=or(this._milliseconds),this._days=or(this._days),this._months=or(this._months),w.milliseconds=or(w.milliseconds),w.seconds=or(w.seconds),w.minutes=or(w.minutes),w.hours=or(w.hours),w.months=or(w.months),w.years=or(w.years),this}function In(w,O,I,z){var Z=qs(O,I);return w._milliseconds+=z*Z._milliseconds,w._days+=z*Z._days,w._months+=z*Z._months,w._bubble()}function wa(w,O){return In(this,w,O,1)}function my(w,O){return In(this,w,O,-1)}function wp(w){return w<0?Math.floor(w):Math.ceil(w)}function jp(){var w=this._milliseconds,O=this._days,I=this._months,z=this._data,Z,le,_e,Ze,et;return w>=0&&O>=0&&I>=0||w<=0&&O<=0&&I<=0||(w+=wp(Eh(I)+O)*864e5,O=0,I=0),z.milliseconds=w%1e3,Z=As(w/1e3),z.seconds=Z%60,le=As(Z/60),z.minutes=le%60,_e=As(le/60),z.hours=_e%24,O+=As(_e/24),et=As(kh(O)),I+=et,O-=wp(Eh(et)),Ze=As(I/12),I%=12,z.days=O,z.months=I,z.years=Ze,this}function kh(w){return w*4800/146097}function Eh(w){return w*146097/4800}function Ph(w){if(!this.isValid())return NaN;var O,I,z=this._milliseconds;if(w=Yt(w),w==="month"||w==="quarter"||w==="year")switch(O=this._days+z/864e5,I=this._months+kh(O),w){case"month":return I;case"quarter":return I/3;case"year":return I/12}else switch(O=this._days+Math.round(Eh(this._months)),w){case"week":return O/7+z/6048e5;case"day":return O+z/864e5;case"hour":return O*24+z/36e5;case"minute":return O*1440+z/6e4;case"second":return O*86400+z/1e3;case"millisecond":return Math.floor(O*864e5)+z;default:throw new Error("Unknown unit "+w)}}function Ga(w){return function(){return this.as(w)}}var gl=Ga("ms"),Np=Ga("s"),h1=Ga("m"),Ju=Ga("h"),Ah=Ga("d"),py=Ga("w"),xy=Ga("M"),Tc=Ga("Q"),gy=Ga("y"),Oh=gl;function Th(){return qs(this)}function Mc(w){return w=Yt(w),this.isValid()?this[w+"s"]():NaN}function ki(w){return function(){return this.isValid()?this._data[w]:NaN}}var _p=ki("milliseconds"),Sp=ki("seconds"),Cp=ki("minutes"),Rc=ki("hours"),Hs=ki("days"),yl=ki("months"),kp=ki("years");function yy(){return As(this.days()/7)}var Mr=Math.round,Ms={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ep(w,O,I,z,Z){return Z.relativeTime(O||1,!!I,w,z)}function vy(w,O,I,z){var Z=qs(w).abs(),le=Mr(Z.as("s")),_e=Mr(Z.as("m")),Ze=Mr(Z.as("h")),et=Mr(Z.as("d")),zt=Mr(Z.as("M")),Rr=Mr(Z.as("w")),ja=Mr(Z.as("y")),Na=le<=I.ss&&["s",le]||le<I.s&&["ss",le]||_e<=1&&["m"]||_e<I.m&&["mm",_e]||Ze<=1&&["h"]||Ze<I.h&&["hh",Ze]||et<=1&&["d"]||et<I.d&&["dd",et];return I.w!=null&&(Na=Na||Rr<=1&&["w"]||Rr<I.w&&["ww",Rr]),Na=Na||zt<=1&&["M"]||zt<I.M&&["MM",zt]||ja<=1&&["y"]||["yy",ja],Na[2]=O,Na[3]=+w>0,Na[4]=z,Ep.apply(null,Na)}function Ei(w){return w===void 0?Mr:typeof w=="function"?(Mr=w,!0):!1}function Co(w,O){return Ms[w]===void 0?!1:O===void 0?Ms[w]:(Ms[w]=O,w==="s"&&(Ms.ss=O-1),!0)}function Mh(w,O){if(!this.isValid())return this.localeData().invalidDate();var I=!1,z=Ms,Z,le;return typeof w=="object"&&(O=w,w=!1),typeof w=="boolean"&&(I=w),typeof O=="object"&&(z=Object.assign({},Ms,O),O.s!=null&&O.ss==null&&(z.ss=O.s-1)),Z=this.localeData(),le=vy(this,!I,z,Z),I&&(le=Z.pastFuture(+this,le)),Z.postformat(le)}var Rh=Math.abs;function Pi(w){return(w>0)-(w<0)||+w}function ed(){if(!this.isValid())return this.localeData().invalidDate();var w=Rh(this._milliseconds)/1e3,O=Rh(this._days),I=Rh(this._months),z,Z,le,_e,Ze=this.asSeconds(),et,zt,Rr,ja;return Ze?(z=As(w/60),Z=As(z/60),w%=60,z%=60,le=As(I/12),I%=12,_e=w?w.toFixed(3).replace(/\.?0+$/,""):"",et=Ze<0?"-":"",zt=Pi(this._months)!==Pi(Ze)?"-":"",Rr=Pi(this._days)!==Pi(Ze)?"-":"",ja=Pi(this._milliseconds)!==Pi(Ze)?"-":"",et+"P"+(le?zt+le+"Y":"")+(I?zt+I+"M":"")+(O?Rr+O+"D":"")+(Z||z||w?"T":"")+(Z?ja+Z+"H":"")+(z?ja+z+"M":"")+(w?ja+_e+"S":"")):"P0D"}var Ft=Uu.prototype;Ft.isValid=KN,Ft.abs=Ts,Ft.add=wa,Ft.subtract=my,Ft.as=Ph,Ft.asMilliseconds=gl,Ft.asSeconds=Np,Ft.asMinutes=h1,Ft.asHours=Ju,Ft.asDays=Ah,Ft.asWeeks=py,Ft.asMonths=xy,Ft.asQuarters=Tc,Ft.asYears=gy,Ft.valueOf=Oh,Ft._bubble=jp,Ft.clone=Th,Ft.get=Mc,Ft.milliseconds=_p,Ft.seconds=Sp,Ft.minutes=Cp,Ft.hours=Rc,Ft.days=Hs,Ft.weeks=yy,Ft.months=yl,Ft.years=kp,Ft.humanize=Mh,Ft.toISOString=ed,Ft.toString=ed,Ft.toJSON=ed,Ft.locale=Cc,Ft.localeData=vh,Ft.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ed),Ft.lang=lp,ne("X",0,0,"unix"),ne("x",0,0,"valueOf"),Je("x",Es),Je("X",zm),Qt("X",function(w,O,I){I._d=new Date(parseFloat(w)*1e3)}),Qt("x",function(w,O,I){I._d=new Date(Rt(w))});//! moment.js
return s.version="2.30.1",a(Rn),s.fn=Ie,s.min=Ug,s.max=Wg,s.now=_c,s.utc=b,s.unix=Oc,s.months=Ci,s.isDate=f,s.locale=go,s.invalid=S,s.duration=qs,s.isMoment=R,s.weekdays=fy,s.parseZone=Ch,s.localeData=Os,s.isDuration=yo,s.monthsShort=xl,s.weekdaysMin=bp,s.defineLocale=Bu,s.updateLocale=Xm,s.locales=ch,s.weekdaysShort=vp,s.normalizeUnits=Yt,s.relativeTimeRounding=Ei,s.relativeTimeThreshold=Co,s.calendarFormat=xh,s.prototype=Ie,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s}))})(Kv)),Kv.exports}var t8e=nO.exports,bB;function n8e(){return bB||(bB=1,(function(e,t){(function(n,s){s(typeof aZ=="function"?e8e():n.moment)})(t8e,(function(n){//! moment.js locale configuration
var s="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?a[c.month()]:s[c.month()]:s},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return l}))})()),nO.exports}n8e();Qe.locale("es");const wB=[{id:"inbox",label:"Bandeja de entrada",icon:rb,color:"text-blue-500"},{id:"importantes",label:"Importantes",icon:Al,color:"text-yellow-500"},{id:"facturas",label:"Facturas",icon:Ye,color:"text-green-500"},{id:"proveedores",label:"Proveedores",icon:Yn,color:"text-purple-500"},{id:"spam",label:"Spam",icon:wn,color:"text-red-500"},{id:"archivado",label:"Archivado",icon:eb,color:"text-gray-500"},{id:"papelera",label:"Papelera",icon:qr,color:"text-gray-400"}];function iZ(){var q;const[e,t]=j.useState("inbox"),[n,s]=j.useState(null),[a,i]=j.useState(""),[o,l]=j.useState([]),[c,u]=j.useState(!1),[h,f]=j.useState(!1),p=Kt(),{data:x=[],isLoading:b,refetch:v}=Be({queryKey:["emails",e],queryFn:async()=>e==="all"?ee.entities.EmailMessage.list("-received_date",200):ee.entities.EmailMessage.filter({folder:e},"-received_date",100)}),{data:y=[],refetch:N}=Be({queryKey:["emailContacts"],queryFn:()=>ee.entities.EmailContact.list("-emails_received",100)}),{data:_=[]}=Be({queryKey:["allEmails"],queryFn:()=>ee.entities.EmailMessage.list("-received_date",500)}),S=wB.reduce((V,U)=>(V[U.id]=_.filter(F=>F.folder===U.id).length,V),{}),E=_.filter(V=>!V.is_read&&V.folder!=="spam"&&V.folder!=="papelera").length,A=async()=>{u(!0);try{const U=(await ee.functions.invoke("smartEmailProcessor")).data;U.success?(fe.success(` ${U.results.new_emails} emails procesados`),v(),p.invalidateQueries(["allEmails"]),N()):fe.error(U.error||"Error sincronizando")}catch(V){fe.error("Error: "+V.message)}finally{u(!1)}},k=async(V,U)=>{try{await ee.entities.EmailMessage.update(V,{folder:U}),fe.success(`Movido a ${U}`),v(),p.invalidateQueries(["allEmails"])}catch{fe.error("Error moviendo email")}},P=async(V,U)=>{try{await ee.entities.EmailMessage.update(V,{is_read:!U}),v()}catch{fe.error("Error actualizando")}},R=async(V,U)=>{try{await ee.entities.EmailMessage.update(V,{is_starred:!U}),v()}catch{fe.error("Error actualizando")}},$=async(V,U)=>{try{await ee.entities.EmailContact.update(V,{is_favorite:!U}),fe.success(U?"Quitado de favoritos":"Aadido a favoritos"),N()}catch{fe.error("Error actualizando")}},D=async(V,U)=>{try{await ee.entities.EmailContact.update(V,{is_blocked:!U}),fe.success(U?"Desbloqueado":"Bloqueado"),N()}catch{fe.error("Error actualizando")}},M=x.filter(V=>{var F,K,te;if(!a)return!0;const U=a.toLowerCase();return((F=V.subject)==null?void 0:F.toLowerCase().includes(U))||((K=V.sender_name)==null?void 0:K.toLowerCase().includes(U))||((te=V.sender_email)==null?void 0:te.toLowerCase().includes(U))}),B=y.filter(V=>V.is_favorite&&!V.is_blocked),J=y.filter(V=>V.is_blocked),Y=y.filter(V=>!V.is_favorite&&!V.is_blocked&&(V.emails_received||0)>=3),W=V=>{switch(V){case"alta":return"bg-red-500";case"media":return"bg-yellow-500";case"baja":return"bg-green-500";default:return"bg-gray-500"}},se=V=>{const U={factura:"bg-green-100 text-green-800",proveedor:"bg-purple-100 text-purple-800",cliente:"bg-blue-100 text-blue-800",rrhh:"bg-orange-100 text-orange-800",gestoria:"bg-cyan-100 text-cyan-800",spam:"bg-red-100 text-red-800",publicidad:"bg-pink-100 text-pink-800",personal:"bg-indigo-100 text-indigo-800",notificacion:"bg-gray-100 text-gray-800",otros:"bg-slate-100 text-slate-800"};return U[V]||U.otros};return r.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:[r.jsx("div",{className:"p-4 border-b border-cyan-500/20 bg-black/50 backdrop-blur",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.4)"},children:r.jsx(Ma,{className:"w-6 h-6 text-cyan-400",style:{filter:"drop-shadow(0 0 6px rgba(6, 182, 212, 0.8))"}})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Buzn Inteligente"}),r.jsxs("p",{className:"text-sm text-zinc-400",children:[E>0?`${E} sin leer`:"Todo al da","  ",_.length," emails"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ae,{variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:border-cyan-500/50",onClick:()=>f(!0),children:[r.jsx(ln,{className:"w-4 h-4 mr-2"}),"Contactos (",y.length,")"]}),r.jsxs(ae,{onClick:A,disabled:c,className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[c?r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Sincronizar"]})]})]})}),r.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r.jsxs("div",{className:"w-64 bg-black/50 border-r border-cyan-500/20 p-4",children:[r.jsx("div",{className:"space-y-1",children:wB.map(V=>r.jsxs("button",{onClick:()=>t(V.id),className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg transition-all ${e===V.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-zinc-400 hover:bg-zinc-800/50 border border-transparent"}`,style:e===V.id?{boxShadow:"0 0 10px rgba(6, 182, 212, 0.2)"}:{},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(V.icon,{className:`w-5 h-5 ${e===V.id?"text-cyan-400":V.color}`}),r.jsx("span",{className:"font-medium",children:V.label})]}),S[V.id]>0&&r.jsx(be,{className:`${e===V.id?"bg-cyan-500/30 text-cyan-300":"bg-zinc-800 text-zinc-400"} text-xs`,children:S[V.id]})]},V.id))}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-cyan-500/20",children:[r.jsxs("h3",{className:"text-xs font-semibold text-cyan-400 uppercase mb-3 flex items-center gap-2",children:[r.jsx(Al,{className:"w-3 h-3 text-cyan-400"}),"Favoritos"]}),r.jsx("div",{className:"space-y-2",children:B.slice(0,5).map(V=>{var U;return r.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-zinc-800 cursor-pointer text-sm text-zinc-400",onClick:()=>i(V.email),children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xs font-bold",children:((U=V.name)==null?void 0:U.charAt(0).toUpperCase())||"?"}),r.jsx("span",{className:"truncate",children:V.name||V.email})]},V.id)})})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-zinc-800 bg-zinc-900/30",children:r.jsxs("div",{className:"relative",children:[r.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),r.jsx(He,{placeholder:"Buscar emails...",value:a,onChange:V=>i(V.target.value),className:"pl-10 bg-zinc-800 border-zinc-700 text-white"})]})}),r.jsx(Cl,{className:"flex-1",children:b?r.jsx("div",{className:"flex items-center justify-center h-40",children:r.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-500"})}):M.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-zinc-500",children:[r.jsx(rb,{className:"w-12 h-12 mb-3 opacity-50"}),r.jsx("p",{children:"No hay emails en esta carpeta"})]}):r.jsx("div",{className:"divide-y divide-zinc-800/50",children:M.map(V=>r.jsxs("div",{onClick:()=>{s(V),V.is_read||P(V.id,!1)},className:`flex items-start gap-4 p-4 cursor-pointer transition-all hover:bg-zinc-800/50 ${V.is_read?"":"bg-zinc-800/30"} ${(n==null?void 0:n.id)===V.id?"bg-blue-900/30 border-l-2 border-blue-500":""}`,children:[r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("button",{onClick:U=>{U.stopPropagation(),R(V.id,V.is_starred)},className:"hover:scale-110 transition-transform",children:r.jsx(Al,{className:`w-5 h-5 ${V.is_starred?"fill-yellow-500 text-yellow-500":"text-gray-500"}`})}),r.jsx("div",{className:`w-2 h-2 rounded-full ${W(V.priority)}`})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`font-medium truncate ${V.is_read?"text-zinc-400":"text-white"}`,children:V.sender_name||V.sender_email}),V.has_attachments&&r.jsx(tD,{className:"w-4 h-4 text-zinc-500 flex-shrink-0"}),r.jsx(be,{className:`${se(V.category)} text-xs flex-shrink-0`,children:V.category})]}),r.jsx("p",{className:`text-sm truncate ${V.is_read?"text-zinc-500":"text-zinc-300"}`,children:V.subject}),V.ai_summary&&r.jsxs("p",{className:"text-xs text-zinc-600 mt-1 truncate flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3 text-purple-400"}),V.ai_summary]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[r.jsx("span",{className:"text-xs text-zinc-500",children:Qe(V.received_date).fromNow()}),r.jsxs(db,{children:[r.jsx(hb,{asChild:!0,onClick:U=>U.stopPropagation(),children:r.jsx(ae,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:r.jsx(eV,{className:"w-4 h-4 text-zinc-500"})})}),r.jsxs(Bx,{align:"end",className:"bg-zinc-900 border-zinc-800",children:[r.jsxs(na,{onClick:()=>k(V.id,"importantes"),children:[r.jsx(Al,{className:"w-4 h-4 mr-2"})," Marcar importante"]}),r.jsxs(na,{onClick:()=>k(V.id,"archivado"),children:[r.jsx(eb,{className:"w-4 h-4 mr-2"})," Archivar"]}),r.jsxs(na,{onClick:()=>k(V.id,"spam"),children:[r.jsx(wn,{className:"w-4 h-4 mr-2"})," Marcar spam"]}),r.jsxs(na,{onClick:()=>k(V.id,"papelera"),className:"text-red-400",children:[r.jsx(qr,{className:"w-4 h-4 mr-2"})," Eliminar"]})]})]})]})]},V.id))})})]}),n&&r.jsxs("div",{className:"w-96 border-l border-zinc-800 bg-zinc-900/30 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(be,{className:se(n.category),children:n.category}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>R(n.id,n.is_starred),children:r.jsx(Al,{className:`w-4 h-4 ${n.is_starred?"fill-yellow-500 text-yellow-500":""}`})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>k(n.id,"archivado"),children:r.jsx(eb,{className:"w-4 h-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>k(n.id,"papelera"),children:r.jsx(qr,{className:"w-4 h-4 text-red-400"})})]})]}),r.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:n.subject}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:((q=n.sender_name)==null?void 0:q.charAt(0).toUpperCase())||"?"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-300",children:n.sender_name}),r.jsx("p",{className:"text-xs",children:n.sender_email})]})]})]}),r.jsx(Cl,{className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4",children:[n.ai_summary&&r.jsxs("div",{className:"bg-purple-900/30 border border-purple-700/50 rounded-lg p-3",children:[r.jsxs("p",{className:"text-xs text-purple-400 font-semibold mb-1 flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3"})," Resumen IA"]}),r.jsx("p",{className:"text-sm text-zinc-300",children:n.ai_summary})]}),n.ai_action&&r.jsxs("div",{className:"bg-blue-900/30 border border-blue-700/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-blue-400 font-semibold mb-1",children:" Accin sugerida"}),r.jsx("p",{className:"text-sm text-zinc-300",children:n.ai_action})]}),r.jsx("div",{className:"bg-zinc-800/50 rounded-lg overflow-hidden min-h-[300px]",children:n.html_body?r.jsx("div",{className:"w-full h-full bg-white p-4",children:r.jsx("iframe",{srcDoc:n.html_body,className:"w-full h-[600px] border-none",title:"Email Content",sandbox:"allow-same-origin"})}):r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-sm text-zinc-300 whitespace-pre-wrap",children:n.body_preview||"Sin contenido disponible"})})}),n.has_attachments&&r.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[r.jsxs("p",{className:"text-xs text-zinc-500 font-semibold mb-2 flex items-center gap-1",children:[r.jsx(tD,{className:"w-3 h-3"})," Adjuntos"]}),r.jsx("div",{className:"space-y-2",children:(n.attachments||[]).map((V,U)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[r.jsx(Ye,{className:"w-4 h-4 text-blue-400"}),V.filename]},U))})]}),r.jsxs("div",{className:"text-xs text-zinc-500",children:[r.jsxs("p",{children:["Recibido: ",Qe(n.received_date).format("DD MMM YYYY, HH:mm")]}),r.jsxs("p",{children:["Prioridad: ",n.priority]})]})]})})]})]}),r.jsx(Fn,{open:h,onOpenChange:f,children:r.jsxs(Pn,{className:"max-w-2xl bg-zinc-900 border-zinc-800 text-white",children:[r.jsx(An,{children:r.jsxs(On,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5"}),"Gestin de Contactos"]})}),r.jsxs(rl,{defaultValue:"favorites",className:"mt-4",children:[r.jsxs(ro,{className:"bg-zinc-800",children:[r.jsxs(tn,{value:"favorites",children:[r.jsx(Al,{className:"w-4 h-4 mr-1"})," Favoritos (",B.length,")"]}),r.jsxs(tn,{value:"frequent",children:[r.jsx(nb,{className:"w-4 h-4 mr-1"})," Frecuentes (",Y.length,")"]}),r.jsxs(tn,{value:"blocked",children:[r.jsx(ZB,{className:"w-4 h-4 mr-1"})," Bloqueados (",J.length,")"]}),r.jsxs(tn,{value:"all",children:["Todos (",y.length,")"]})]}),r.jsx(nn,{value:"favorites",className:"mt-4",children:r.jsx(Cl,{className:"h-80",children:B.map(V=>r.jsx(Pv,{contact:V,onToggleFavorite:$,onBlock:D},V.id))})}),r.jsx(nn,{value:"frequent",className:"mt-4",children:r.jsx(Cl,{className:"h-80",children:Y.map(V=>r.jsx(Pv,{contact:V,onToggleFavorite:$,onBlock:D},V.id))})}),r.jsx(nn,{value:"blocked",className:"mt-4",children:r.jsx(Cl,{className:"h-80",children:J.map(V=>r.jsx(Pv,{contact:V,onToggleFavorite:$,onBlock:D},V.id))})}),r.jsx(nn,{value:"all",className:"mt-4",children:r.jsx(Cl,{className:"h-80",children:y.map(V=>r.jsx(Pv,{contact:V,onToggleFavorite:$,onBlock:D},V.id))})})]})]})})]})}function Pv({contact:e,onToggleFavorite:t,onBlock:n}){var s;return r.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-zinc-800 rounded-lg mb-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:((s=e.name)==null?void 0:s.charAt(0).toUpperCase())||"?"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:e.name||e.email}),r.jsx("p",{className:"text-xs text-zinc-400",children:e.email}),r.jsxs("p",{className:"text-xs text-zinc-500",children:[e.emails_received||0," emails recibidos"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(be,{className:`text-xs ${e.type==="proveedor"?"bg-purple-600":e.type==="cliente"?"bg-blue-600":e.type==="spam"?"bg-red-600":"bg-gray-600"}`,children:e.type}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>t(e.id,e.is_favorite),children:r.jsx(Al,{className:`w-4 h-4 ${e.is_favorite?"fill-yellow-500 text-yellow-500":""}`})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(e.id,e.is_blocked),children:r.jsx(ZB,{className:`w-4 h-4 ${e.is_blocked?"text-red-500":""}`})})]})]})}function r8e({employee:e,onBack:t}){var h,f,p,x,b,v,y;const[n,s]=j.useState(!1),a=Kt(),i=async(N,_)=>{const S=N.target.files[0];if(S){s(!0);try{const{file_url:E}=await ee.integrations.Core.UploadFile({file:S}),A={file_url:E,upload_date:new Date().toISOString().split("T")[0],title:S.name};let k={...e};if(_==="payroll"){const P=prompt("Introduce el periodo (YYYY-MM):",Ge(new Date,"yyyy-MM"));if(!P)return;A.period=P,A.status="pagada",k.payrolls=[...e.payrolls||[],A]}await ee.entities.Employee.update(e.id,k),a.invalidateQueries({queryKey:["employees"]}),fe.success("Documento subido correctamente"),t()}catch(E){fe.error("Error subiendo archivo: "+E.message)}finally{s(!1)}}},o={activo:"bg-green-600 text-white",baja:"bg-red-600 text-white",vacaciones:"bg-blue-600 text-white",baja_medica:"bg-orange-600 text-white",excedencia:"bg-purple-600 text-white"},l={pagada:"bg-green-600 text-white",pendiente:"bg-yellow-600 text-white"},c=[...e.payrolls||[]].sort((N,_)=>(_.period||"").localeCompare(N.period||"")),u=[...e.timesheets||[]].sort((N,_)=>(_.date||"").localeCompare(N.date||""));return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(ae,{variant:"ghost",onClick:t,className:"text-zinc-400 hover:text-white mb-6",children:[r.jsx(Jee,{className:"w-5 h-5 mr-2"}),"Volver"]}),r.jsxs(X,{className:"border-none bg-gradient-to-br from-violet-950 via-zinc-900 to-zinc-900 border border-violet-500/30 mb-6 overflow-hidden relative",style:{boxShadow:"0 10px 40px rgba(124, 58, 237, 0.3)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 via-transparent to-purple-500/5"}),r.jsx(Q,{className:"p-8 relative",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-3xl blur-xl opacity-60 animate-pulse"}),e.photo_url?r.jsx("img",{src:e.photo_url,alt:e.full_name,className:"relative w-32 h-32 rounded-3xl object-cover ring-4 ring-violet-500/50"}):r.jsx("div",{className:"relative w-32 h-32 bg-gradient-to-br from-violet-500 to-purple-600 rounded-3xl flex items-center justify-center ring-4 ring-violet-500/50",children:r.jsx(ca,{className:"w-16 h-16 text-white"})}),r.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-zinc-900 ${e.status==="activo"?"bg-green-500 shadow-lg shadow-green-500/50":"bg-zinc-500"}`})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-4xl font-black text-white mb-2",children:e.full_name}),e.position&&r.jsx("p",{className:"text-xl text-violet-300 mb-3",children:e.position}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(db,{children:[r.jsx(hb,{asChild:!0,children:r.jsxs("button",{className:`${o[e.status]} text-base px-4 py-1 rounded-md flex items-center gap-2 hover:opacity-80 transition-opacity`,children:[e.status,r.jsx(V0,{className:"w-4 h-4"})]})}),r.jsxs(Bx,{className:"bg-zinc-900 border-zinc-800",children:[r.jsx(na,{onClick:async()=>{await ee.entities.Employee.update(e.id,{status:"activo"}),fe.success("Estado actualizado"),a.invalidateQueries({queryKey:["employees"]}),t()},className:"text-green-400 hover:bg-green-950 cursor-pointer",children:" Activo"}),r.jsx(na,{onClick:async()=>{await ee.entities.Employee.update(e.id,{status:"baja"}),fe.success("Estado actualizado"),a.invalidateQueries({queryKey:["employees"]}),t()},className:"text-red-400 hover:bg-red-950 cursor-pointer",children:" Baja"}),r.jsx(na,{onClick:async()=>{await ee.entities.Employee.update(e.id,{status:"vacaciones"}),fe.success("Estado actualizado"),a.invalidateQueries({queryKey:["employees"]}),t()},className:"text-blue-400 hover:bg-blue-950 cursor-pointer",children:" Vacaciones"}),r.jsx(na,{onClick:async()=>{await ee.entities.Employee.update(e.id,{status:"baja_medica"}),fe.success("Estado actualizado"),a.invalidateQueries({queryKey:["employees"]}),t()},className:"text-orange-400 hover:bg-orange-950 cursor-pointer",children:" Baja Mdica"}),r.jsx(na,{onClick:async()=>{await ee.entities.Employee.update(e.id,{status:"excedencia"}),fe.success("Estado actualizado"),a.invalidateQueries({queryKey:["employees"]}),t()},className:"text-purple-400 hover:bg-purple-950 cursor-pointer",children:" Excedencia"})]})]}),e.department&&r.jsx(be,{variant:"outline",className:"border-violet-500/50 text-violet-300 text-base px-4 py-1",children:e.department})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"bg-violet-950/50 rounded-2xl p-4 text-center border border-violet-500/30 min-w-24",children:[r.jsx(Ye,{className:"w-6 h-6 text-violet-400 mx-auto mb-1"}),r.jsx("p",{className:"text-3xl font-black text-white",children:((h=e.payrolls)==null?void 0:h.length)||0}),r.jsx("p",{className:"text-xs text-zinc-400",children:"Nminas"})]}),r.jsxs("div",{className:"bg-blue-950/50 rounded-2xl p-4 text-center border border-blue-500/30 min-w-24",children:[r.jsx($t,{className:"w-6 h-6 text-blue-400 mx-auto mb-1"}),r.jsx("p",{className:"text-3xl font-black text-white",children:((f=e.timesheets)==null?void 0:f.length)||0}),r.jsx("p",{className:"text-xs text-zinc-400",children:"Fichajes"})]}),r.jsxs("div",{className:"bg-green-950/50 rounded-2xl p-4 text-center border border-green-500/30 min-w-24",children:[r.jsx(rn,{className:"w-6 h-6 text-green-400 mx-auto mb-1"}),r.jsxs("p",{className:"text-3xl font-black text-white",children:[((p=e.salary_net)==null?void 0:p.toFixed(0))||0,""]}),r.jsx("p",{className:"text-xs text-zinc-400",children:"Salario"})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[r.jsxs(X,{className:"border-none bg-zinc-900/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(ca,{className:"w-5 h-5 text-violet-400"}),"Datos Personales"]})}),r.jsxs(Q,{className:"space-y-4",children:[e.dni&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"DNI/NIE"}),r.jsx("p",{className:"text-white font-medium",children:e.dni})]}),e.email&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Email"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ma,{className:"w-4 h-4 text-zinc-500"}),r.jsx("p",{className:"text-white font-medium",children:e.email})]})]}),e.phone&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Telfono"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Of,{className:"w-4 h-4 text-zinc-500"}),r.jsx("p",{className:"text-white font-medium",children:e.phone})]})]}),e.address&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Direccin"}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(rV,{className:"w-4 h-4 text-zinc-500 mt-0.5"}),r.jsx("p",{className:"text-white font-medium",children:e.address})]})]}),e.ss_number&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Seguridad Social"}),r.jsx("p",{className:"text-white font-medium",children:e.ss_number})]}),e.birth_date&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Fecha Nacimiento"}),r.jsx("p",{className:"text-white font-medium",children:e.birth_date})]}),e.hire_date&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Fecha Alta"}),r.jsx("p",{className:"text-white font-medium",children:e.hire_date})]}),e.bank_account&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wide mb-1",children:"Cuenta Bancaria"}),r.jsx("p",{className:"text-white font-medium font-mono text-sm",children:e.bank_account})]})]})]}),(e.emergency_contact||e.emergency_phone)&&r.jsxs(X,{className:"border-none bg-red-950/20 border border-red-500/30",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2 text-base",children:[r.jsx(bn,{className:"w-5 h-5 text-red-400"}),"Emergencia"]})}),r.jsxs(Q,{className:"space-y-2",children:[e.emergency_contact&&r.jsx("p",{className:"text-white font-medium",children:e.emergency_contact}),e.emergency_phone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Of,{className:"w-4 h-4 text-red-400"}),r.jsx("p",{className:"text-white",children:e.emergency_phone})]})]})]})]}),r.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[r.jsxs(X,{className:"border-none bg-zinc-900/50 border border-zinc-800",children:[r.jsxs(ke,{className:"flex flex-row items-center justify-between",children:[r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(rn,{className:"w-5 h-5 text-green-400"}),"Historial de Nminas"]}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.png",onChange:N=>i(N,"payroll"),disabled:n}),r.jsxs(ae,{className:"bg-green-600 hover:bg-green-700",disabled:n,children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),n?"Subiendo...":"Agregar"]})]})]}),r.jsx(Q,{children:c.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.map((N,_)=>{var S,E;return r.jsxs("div",{className:"bg-zinc-950/50 rounded-xl p-4 border border-zinc-800 hover:border-green-500/50 transition-all group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-bold text-white",children:N.period||"Sin periodo"}),r.jsx(be,{className:`mt-1 ${l[N.status]||"bg-zinc-600"}`,children:N.status||"pendiente"})]}),N.file_url&&r.jsx("a",{href:N.file_url,target:"_blank",rel:"noopener noreferrer",children:r.jsx(ae,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-green-400",children:r.jsx(Xn,{className:"w-4 h-4"})})})]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[N.gross_salary&&r.jsxs("div",{className:"flex justify-between text-zinc-400",children:[r.jsx("span",{children:"Bruto:"}),r.jsxs("span",{className:"text-white",children:[N.gross_salary.toFixed(2),""]})]}),N.social_security&&r.jsxs("div",{className:"flex justify-between text-zinc-400",children:[r.jsx("span",{children:"SS:"}),r.jsxs("span",{className:"text-white",children:["-",N.social_security.toFixed(2),""]})]}),N.irpf&&r.jsxs("div",{className:"flex justify-between text-zinc-400",children:[r.jsx("span",{children:"IRPF:"}),r.jsxs("span",{className:"text-white",children:["-",N.irpf.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-zinc-800 font-bold",children:[r.jsx("span",{className:"text-green-400",children:"Neto:"}),r.jsxs("span",{className:"text-green-400 text-lg",children:[((S=N.net_salary)==null?void 0:S.toFixed(2))||((E=N.amount)==null?void 0:E.toFixed(2))||"0.00",""]})]})]}),!N.file_url&&r.jsxs("p",{className:"text-xs text-orange-400 mt-2 flex items-center gap-1",children:[r.jsx(bn,{className:"w-3 h-3"}),"Sin archivo adjunto"]})]},_)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(rn,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-500 mb-2",children:"No hay nminas registradas para este empleado"}),r.jsx("p",{className:"text-xs text-zinc-600",children:"Las nminas se agregan automticamente al procesar PDFs en el Archivo Global"})]})})]}),r.jsxs(X,{className:"border-none bg-zinc-900/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx($t,{className:"w-5 h-5 text-blue-400"}),"Control Horario"]})}),r.jsx(Q,{children:u.length>0?r.jsx("div",{className:"space-y-2",children:u.slice(0,10).map((N,_)=>{var S;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-950/50 rounded-lg border border-zinc-800 hover:border-blue-500/50 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-950/50 rounded-lg flex items-center justify-center border border-blue-500/30",children:r.jsx($t,{className:"w-5 h-5 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-white",children:N.date}),r.jsxs("p",{className:"text-sm text-zinc-400",children:[N.check_in,"  ",N.check_out||"En curso"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xl font-bold text-blue-400",children:[((S=N.total_hours)==null?void 0:S.toFixed(1))||"0.0","h"]}),r.jsx(be,{className:N.status==="completo"?"bg-green-600":"bg-yellow-600",children:N.status})]})]},_)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx($t,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-500",children:"No hay fichajes registrados"})]})})]}),(((x=e.contracts)==null?void 0:x.length)>0||((b=e.documents)==null?void 0:b.length)>0)&&r.jsxs(X,{className:"border-none bg-zinc-900/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-orange-400"}),"Documentos"]})}),r.jsxs(Q,{className:"space-y-3",children:[(v=e.contracts)==null?void 0:v.map((N,_)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-950/50 rounded-lg border border-zinc-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:N.type||"Contrato"}),r.jsx("p",{className:"text-xs text-zinc-500",children:N.start_date})]})]}),N.file_url&&r.jsx("a",{href:N.file_url,target:"_blank",rel:"noopener noreferrer",children:r.jsx(ae,{variant:"ghost",size:"sm",children:r.jsx(Xn,{className:"w-4 h-4"})})})]},_)),(y=e.documents)==null?void 0:y.map((N,_)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-950/50 rounded-lg border border-zinc-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ye,{className:"w-5 h-5 text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:N.title||N.type}),r.jsx("p",{className:"text-xs text-zinc-500",children:N.type})]})]}),N.file_url&&r.jsx("a",{href:N.file_url,target:"_blank",rel:"noopener noreferrer",children:r.jsx(ae,{variant:"ghost",size:"sm",children:r.jsx(Xn,{className:"w-4 h-4"})})})]},_))]})]})]})]})]})})}function oZ(){const[e,t]=j.useState(""),[n,s]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(!1),c=Kt(),u=E=>E!=null&&E.magic_token?`${window.location.origin}/PortalLogin?token=${E.magic_token}`:"",{data:h=[],isLoading:f}=Be({queryKey:["employees"],queryFn:()=>ee.entities.Employee.list("-created_date",500),staleTime:3e4}),[p,x]=j.useState("todos"),b=h.filter(E=>{var A,k,P;return!e||((A=E.full_name)==null?void 0:A.toLowerCase().includes(e.toLowerCase()))||((k=E.dni)==null?void 0:k.toLowerCase().includes(e.toLowerCase()))||((P=E.position)==null?void 0:P.toLowerCase().includes(e.toLowerCase()))}).filter(E=>p==="todos"||E.status===p);h.filter(E=>E.status==="activo").length;const v=h.reduce((E,A)=>E+(A.salary_net||0),0),y=async E=>{const A=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return await ee.entities.Employee.update(E.id,{magic_token:A}),c.invalidateQueries({queryKey:["employees"]}),A},N=async E=>{if(E.magic_token)i(E);else{const A=await y(E);i({...E,magic_token:A})}},_={activo:"bg-green-600 text-white",baja:"bg-red-600 text-white",vacaciones:"bg-blue-600 text-white",baja_medica:"bg-orange-600 text-white",excedencia:"bg-purple-600 text-white"},S={cocina:" Cocina",sala:" Sala",barra:" Barra",delivery:" Delivery",administracion:" Administracin",gerencia:" Gerencia",limpieza:" Limpieza",otros:" Otros"};return n?r.jsx(r8e,{employee:n,onBack:()=>{s(null),c.invalidateQueries({queryKey:["employees"]})}}):r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Gestin de Personal"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(ln,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"PERSONAL"})]}),r.jsx("p",{className:"text-lg text-zinc-400",children:"Fichas completas de cada trabajador"})]}),r.jsxs("div",{className:"flex gap-3 items-center",children:[r.jsxs(ae,{onClick:async()=>{if(!confirm(" Esto sincronizar todas las nminas del Archivo Global con cada ficha de empleado. Continuar?"))return;const E=fe.loading(" Sincronizando nminas...");try{const A=await ee.functions.invoke("syncPayrollsToEmployees");A.data.success?(fe.success(A.data.message,{id:E}),c.invalidateQueries({queryKey:["employees"]})):fe.error("Error: "+A.data.error,{id:E})}catch(A){fe.error("Error: "+A.message,{id:E})}},className:"bg-green-600 hover:bg-green-700 text-white font-bold",children:[r.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Sincronizar Nminas"]}),r.jsxs(ae,{onClick:async()=>{if(!confirm(" Esto unificar todos los empleados duplicados en fichas nicas. Continuar?"))return;const E=fe.loading(" Unificando empleados duplicados...");try{const A=await ee.functions.invoke("mergeEmployeeDuplicates");A.data.success?(fe.success(A.data.message,{id:E}),c.invalidateQueries({queryKey:["employees"]})):fe.error("Error: "+A.data.error,{id:E})}catch(A){fe.error("Error: "+A.message,{id:E})}},className:"bg-red-600 hover:bg-red-700 text-white font-bold",children:[r.jsx(qr,{className:"w-5 h-5 mr-2"}),"Limpiar Duplicados"]}),r.jsxs(ae,{onClick:()=>l(!0),className:"bg-zinc-800 border border-cyan-500/30 text-cyan-400 hover:bg-zinc-700 hover:text-cyan-300",children:[r.jsx(u_,{className:"w-5 h-5 mr-2"}),"Portal Acceso"]})]})]})]}),r.jsx(Fn,{open:!!a,onOpenChange:()=>i(null),children:r.jsxs(Pn,{className:"bg-zinc-900 border-zinc-800 text-white sm:max-w-md",children:[r.jsx(An,{children:r.jsxs(On,{className:"text-center text-xl font-bold flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500/10 rounded-xl flex items-center justify-center border border-cyan-500/50 mb-2",children:r.jsx(u_,{className:"w-6 h-6 text-cyan-400"})}),r.jsx("span",{children:"Acceso Personal"}),r.jsx("span",{className:"text-cyan-400 text-base font-normal",children:a==null?void 0:a.full_name})]})}),r.jsxs("div",{className:"flex flex-col items-center justify-center py-4 space-y-6",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-xl opacity-50 blur group-hover:opacity-75 transition duration-200"}),r.jsx("div",{className:"relative bg-white p-4 rounded-xl",children:a&&r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(u(a))}&bgcolor=ffffff`,alt:"QR Portal Empleado",className:"w-56 h-56"})})]}),r.jsx("div",{className:"text-center space-y-2 max-w-xs",children:r.jsxs("p",{className:"text-zinc-400 text-sm",children:["Este QR contiene la llave de acceso nica.",r.jsx("br",{}),r.jsx("span",{className:"text-cyan-400 font-bold",children:"No compartir con nadie ms!"})]})}),r.jsxs("div",{className:"w-full bg-zinc-950 p-3 rounded-lg border border-zinc-800 flex items-center gap-2",children:[r.jsx("code",{className:"flex-1 text-xs text-zinc-400 truncate font-mono px-2",children:u(a)}),r.jsx(ae,{size:"sm",variant:"ghost",className:"text-zinc-400 hover:text-white",onClick:()=>{navigator.clipboard.writeText(u(a)),fe.success("Enlace mgico copiado")},children:r.jsx(zo,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[r.jsxs(ae,{variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",onClick:()=>{navigator.share?navigator.share({title:`Acceso Portal: ${a==null?void 0:a.full_name}`,text:"Aqu tienes tu enlace de acceso directo al Portal del Empleado.",url:u(a)}):fe.error("Tu navegador no soporta compartir nativo")},children:[r.jsx(Bne,{className:"w-4 h-4 mr-2"}),"Enviar"]}),r.jsx(ae,{onClick:()=>i(null),className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:"Cerrar"})]})]})]})}),r.jsx(Fn,{open:o,onOpenChange:l,children:r.jsxs(Pn,{className:"bg-zinc-900 border-zinc-800 text-white sm:max-w-md",children:[r.jsx(An,{children:r.jsxs(On,{className:"text-center text-xl font-bold flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-12 h-12 bg-violet-500/10 rounded-xl flex items-center justify-center border border-violet-500/50 mb-2",children:r.jsx(Yn,{className:"w-6 h-6 text-violet-400"})}),r.jsx("span",{children:"Portal del Empleado"}),r.jsx("span",{className:"text-zinc-400 text-sm font-normal",children:"Acceso General"})]})}),r.jsxs("div",{className:"flex flex-col items-center justify-center py-4 space-y-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl",children:r.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(`${window.location.origin}/PortalLogin`)}&bgcolor=ffffff`,alt:"QR Portal General",className:"w-56 h-56"})}),r.jsx("p",{className:"text-center text-zinc-400 text-sm max-w-xs",children:"Escanea este cdigo para acceder a la pgina de inicio del portal. Cada empleado necesitar su propio PIN o enlace mgico para entrar."}),r.jsxs("div",{className:"w-full bg-zinc-950 p-3 rounded-lg border border-zinc-800 flex items-center gap-2",children:[r.jsx("code",{className:"flex-1 text-xs text-zinc-400 truncate font-mono px-2",children:`${window.location.origin}/PortalLogin`}),r.jsx(ae,{size:"sm",variant:"ghost",className:"text-zinc-400 hover:text-white",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/PortalLogin`),fe.success("Enlace copiado")},children:r.jsx(zo,{className:"w-4 h-4"})})]}),r.jsx(ae,{onClick:()=>l(!1),className:"w-full bg-violet-600 hover:bg-violet-700 text-white",children:"Entendido"})]})]})}),r.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[r.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[r.jsx(ln,{className:"w-6 h-6 text-violet-400 mb-2"}),r.jsx("p",{className:"text-2xl font-black text-white",children:h.length}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Trabajadores"})]}),r.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[r.jsx(Ye,{className:"w-6 h-6 text-blue-400 mb-2"}),r.jsx("p",{className:"text-2xl font-black text-white",children:h.reduce((E,A)=>{var k;return E+(((k=A.payrolls)==null?void 0:k.length)||0)},0)}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Nminas"})]}),r.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[r.jsx($t,{className:"w-6 h-6 text-orange-400 mb-2"}),r.jsx("p",{className:"text-2xl font-black text-white",children:h.reduce((E,A)=>{var k;return E+(((k=A.timesheets)==null?void 0:k.length)||0)},0)}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Fichajes"})]}),r.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[r.jsx(rn,{className:"w-6 h-6 text-green-400 mb-2"}),r.jsxs("p",{className:"text-2xl font-black text-white",children:[v.toFixed(0),""]}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Coste Total"})]})]}),r.jsxs("div",{className:"flex gap-3 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(mi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-zinc-500 w-5 h-5"}),r.jsx(He,{placeholder:" Buscar trabajador...",value:e,onChange:E=>t(E.target.value),className:"pl-12 bg-zinc-900 border-zinc-800 text-white h-12 text-base"})]}),r.jsxs("select",{value:p,onChange:E=>x(E.target.value),className:"h-12 px-4 rounded-lg bg-zinc-900 border border-zinc-800 text-white text-base focus:outline-none focus:border-violet-500 min-w-40",children:[r.jsx("option",{value:"todos",children:" Todos"}),r.jsx("option",{value:"activo",children:" Activos"}),r.jsx("option",{value:"baja",children:" Bajas"}),r.jsx("option",{value:"vacaciones",children:" Vacaciones"}),r.jsx("option",{value:"baja_medica",children:" Baja Mdica"}),r.jsx("option",{value:"excedencia",children:" Excedencia"})]})]}),f?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400",children:"Cargando personal..."})]}):b.length===0?r.jsx(X,{className:"border-none shadow-xl bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(ln,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No hay empleados"}),r.jsx("p",{className:"text-zinc-400",children:"Sube documentos con el Escner IA para crear fichas automticamente"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(E=>{var k,P,R,$,D;const A=(k=E.payrolls)==null?void 0:k.sort((M,B)=>(B.period||"").localeCompare(M.period||""))[0];return r.jsxs(X,{className:"relative border-none bg-gradient-to-br from-zinc-900 via-zinc-900 to-zinc-800 hover:from-violet-950 hover:via-zinc-900 hover:to-zinc-900 border border-zinc-800 hover:border-violet-500/50 transition-all duration-300 cursor-pointer group overflow-hidden",onClick:()=>s(E),style:{boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/0 via-violet-500/5 to-purple-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs(Q,{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"relative",children:[E.photo_url?r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl blur opacity-50 group-hover:opacity-75 transition-opacity"}),r.jsx("img",{src:E.photo_url,alt:E.full_name,className:"relative w-20 h-20 rounded-2xl object-cover ring-2 ring-violet-500/50 group-hover:ring-violet-400 transition-all"})]}):r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl blur opacity-30 group-hover:opacity-50 transition-opacity"}),r.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center ring-2 ring-violet-500/50 group-hover:ring-violet-400 transition-all",children:r.jsx(ca,{className:"w-10 h-10 text-white"})})]}),r.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-zinc-900 ${E.status==="activo"?"bg-green-500 shadow-lg shadow-green-500/50":"bg-zinc-500"}`})]}),r.jsxs(ae,{size:"sm",variant:"ghost",className:"bg-cyan-900/20 text-cyan-400 hover:bg-cyan-900/40 border border-cyan-500/20 h-9 px-3 backdrop-blur-sm",onClick:M=>{M.stopPropagation(),N(E)},children:[r.jsx(u_,{className:"w-4 h-4 mr-1"}),"QR"]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-violet-300 transition-colors line-clamp-1",children:E.full_name}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400 mb-2",children:[E.position&&r.jsx("span",{className:"truncate",children:E.position}),E.department&&E.position&&r.jsx("span",{children:""}),E.department&&r.jsx("span",{children:S[E.department]||E.department})]}),r.jsx(be,{className:`${_[E.status]} text-xs`,children:E.status})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-violet-950/30 rounded-xl p-3 border border-violet-500/20 text-center group-hover:bg-violet-950/50 transition-all",children:[r.jsx(Ye,{className:"w-5 h-5 text-violet-400 mx-auto mb-1"}),r.jsx("p",{className:"text-2xl font-black text-white",children:((P=E.payrolls)==null?void 0:P.length)||0}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Nminas"})]}),r.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-3 border border-blue-500/20 text-center group-hover:bg-blue-950/50 transition-all",children:[r.jsx($t,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),r.jsx("p",{className:"text-2xl font-black text-white",children:((R=E.timesheets)==null?void 0:R.length)||0}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Fichajes"})]}),r.jsxs("div",{className:"bg-green-950/30 rounded-xl p-3 border border-green-500/20 text-center group-hover:bg-green-950/50 transition-all",children:[r.jsx(rn,{className:"w-5 h-5 text-green-400 mx-auto mb-1"}),r.jsxs("p",{className:"text-2xl font-black text-white",children:[(($=E.salary_net)==null?void 0:$.toFixed(0))||"0",""]}),r.jsx("p",{className:"text-xs text-zinc-500",children:"Salario"})]})]}),A&&r.jsxs("div",{className:"bg-zinc-950/50 rounded-lg p-3 border border-zinc-800 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sn,{className:"w-4 h-4 text-zinc-500"}),r.jsxs("span",{className:"text-xs text-zinc-400",children:["ltima: ",r.jsx("span",{className:"text-white font-medium",children:A.period})]})]}),r.jsxs("span",{className:"text-sm font-bold text-green-400",children:[(D=A.net_salary)==null?void 0:D.toFixed(0),""]})]})]})]},E.id)})})]})})}function lZ(){var _,S,E,A;const e=mm(),[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,o]=j.useState(null),{data:l=[]}=Be({queryKey:["revoEmployees"],queryFn:()=>ee.entities.RevoEmployee.list()}),{data:c=[]}=Be({queryKey:["menuItems"],queryFn:()=>ee.entities.MenuItem.list()}),{data:u=[]}=Be({queryKey:["sales"],queryFn:()=>ee.entities.Sale.list("-sale_date",100)}),{data:h=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list("-invoice_date",100)}),{data:f=[]}=Be({queryKey:["providers"],queryFn:()=>ee.entities.Provider.list()}),{data:p=[]}=Be({queryKey:["webSyncs"],queryFn:()=>ee.entities.WebSync.list("-sync_date",10)}),x=async()=>{var k;n(!0),fe.info(" Escaneando todos los sistemas...");try{const P=await ee.functions.invoke("systemFullScan");a(P.data),o(new Date),(k=P.data)!=null&&k.success?fe.success(" Escaneo completado"):fe.warning(" Algunos sistemas tienen problemas")}catch(P){fe.error(" Error en escaneo: "+P.message)}finally{n(!1)}},b={employees:{total:l.length,active:l.filter(k=>k.active).length,roles:[...new Set(l.map(k=>k.role))].length},menu:{total:c.length,categories:[...new Set(c.map(k=>k.category))].length,available:c.filter(k=>k.available).length},sales:{total:u.length,today:u.filter(k=>{var P;return(P=k.sale_date)==null?void 0:P.startsWith(new Date().toISOString().split("T")[0])}).length,revenue:u.reduce((k,P)=>k+(P.total||0),0)},invoices:{total:h.length,pending:h.filter(k=>k.status==="pendiente").length,totalAmount:h.reduce((k,P)=>k+(P.total||0),0)},providers:{total:f.length,active:f.filter(k=>k.status==="activo").length}},v=c.reduce((k,P)=>{const R=P.category||"otros";return k[R]||(k[R]=[]),k[R].push(P),k},{}),y=p[0],N=({connected:k,label:P})=>r.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${k?"bg-green-900/30 border border-green-700":"bg-red-900/30 border border-red-700"}`,children:[k?r.jsx(Ix,{className:"w-4 h-4 text-green-400"}):r.jsx(wre,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:`text-sm font-medium ${k?"text-green-400":"text-red-400"}`,children:P})]});return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse",style:{boxShadow:"0 0 10px rgba(6, 182, 212, 0.8)"}}),r.jsx("span",{className:"text-sm font-medium text-cyan-400",style:{textShadow:"0 0 10px rgba(6, 182, 212, 0.6)"},children:"Vista Unificada  Sistemas Completos"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-4xl font-black text-white mb-2 flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-black rounded-2xl flex items-center justify-center border border-cyan-500/50",style:{boxShadow:"0 0 25px rgba(6, 182, 212, 0.4), inset 0 0 15px rgba(6, 182, 212, 0.1)"},children:r.jsx(Xn,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}})}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"SISTEMA"})]}),r.jsx("p",{className:"text-lg text-zinc-400",children:"Todo tu negocio en un vistazo  Revo + Biloop + Email + Web"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[i&&r.jsxs("span",{className:"text-sm text-zinc-500",children:["ltimo escaneo: ",i.toLocaleTimeString()]}),r.jsx(ae,{onClick:x,disabled:t,className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:t?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Escaneando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Escanear Todo"]})})]})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-black/50 border border-cyan-500/30 mb-6 cursor-pointer hover:bg-black/70 hover:border-cyan-500/50 transition-all",style:{boxShadow:"0 0 30px rgba(6, 182, 212, 0.2)"},onClick:()=>e(ft("ApiDiagnostics")),children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2 text-cyan-400",children:[r.jsx(Ix,{className:"w-5 h-5"}),"Estado de Conexiones"]})}),r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(N,{connected:((_=s==null?void 0:s.revo)==null?void 0:_.connected)??!0,label:"REVO XEF"}),r.jsx(N,{connected:((S=s==null?void 0:s.biloop)==null?void 0:S.connected)??!0,label:"BILOOP"}),r.jsx(N,{connected:((E=s==null?void 0:s.email)==null?void 0:E.connected)??!0,label:"EMAIL"}),r.jsx(N,{connected:((A=s==null?void 0:s.web)==null?void 0:A.connected)??(y==null?void 0:y.status)==="completado",label:"WEB SYNC"})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-blue-600 to-blue-700 text-white cursor-pointer hover:from-blue-500 hover:to-blue-600 transition-all",onClick:()=>e(ft("Staff")),children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ln,{className:"w-8 h-8 opacity-80"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-black",children:b.employees.total}),r.jsxs("p",{className:"text-xs opacity-80",children:["Empleados (",b.employees.active," activos)"]})]})]})})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-green-600 to-green-700 text-white cursor-pointer hover:from-green-500 hover:to-green-600 transition-all",onClick:()=>e(ft("RevoPortal")),children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Mf,{className:"w-8 h-8 opacity-80"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-black",children:b.menu.total}),r.jsxs("p",{className:"text-xs opacity-80",children:["Productos (",b.menu.categories," familias)"]})]})]})})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-purple-600 to-purple-700 text-white cursor-pointer hover:from-purple-500 hover:to-purple-600 transition-all",onClick:()=>e(ft("RevoDashboard")),children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(qi,{className:"w-8 h-8 opacity-80"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-black",children:b.sales.total}),r.jsxs("p",{className:"text-xs opacity-80",children:["Ventas (",b.sales.today," hoy)"]})]})]})})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-orange-600 to-orange-700 text-white cursor-pointer hover:from-orange-500 hover:to-orange-600 transition-all",onClick:()=>e(ft("BiloopImport")),children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Pf,{className:"w-8 h-8 opacity-80"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-black",children:b.invoices.total}),r.jsxs("p",{className:"text-xs opacity-80",children:["Facturas (",b.invoices.pending," pend.)"]})]})]})})}),r.jsx(X,{className:"border-none shadow-xl bg-gradient-to-br from-cyan-600 to-cyan-700 text-white cursor-pointer hover:from-cyan-500 hover:to-cyan-600 transition-all",onClick:()=>e(ft("Providers")),children:r.jsx(Q,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Mx,{className:"w-8 h-8 opacity-80"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-3xl font-black",children:b.providers.total}),r.jsx("p",{className:"text-xs opacity-80",children:"Proveedores"})]})]})})})]}),r.jsxs(rl,{defaultValue:"employees",className:"space-y-6",children:[r.jsxs(ro,{className:"bg-zinc-800 border border-zinc-700",children:[r.jsx(tn,{value:"employees",className:"data-[state=active]:bg-blue-600",children:" Empleados"}),r.jsx(tn,{value:"products",className:"data-[state=active]:bg-green-600",children:" Productos/Familias"}),r.jsx(tn,{value:"finances",className:"data-[state=active]:bg-orange-600",children:" Finanzas"}),r.jsx(tn,{value:"web",className:"data-[state=active]:bg-purple-600",children:" Web Sync"})]}),r.jsx(nn,{value:"employees",children:r.jsxs(X,{className:"border-none bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5 text-blue-400"}),"Empleados Registrados en Revo"]})}),r.jsx(Q,{children:l.length===0?r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No hay empleados sincronizados. Ejecuta un escaneo para importar desde Revo."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(k=>{var P,R;return r.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-lg",children:((P=k.name)==null?void 0:P.charAt(0))||"?"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:k.name}),r.jsx("p",{className:"text-sm text-gray-400 capitalize",children:k.role})]})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[r.jsx(be,{className:k.active?"bg-green-600":"bg-gray-600",children:k.active?"Activo":"Inactivo"}),k.total_sales>0&&r.jsxs("span",{className:"text-sm text-green-400",children:[(R=k.total_sales)==null?void 0:R.toFixed(2)," ventas"]})]})]},k.id)})})})]})}),r.jsx(nn,{value:"products",children:r.jsxs(X,{className:"border-none bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Mf,{className:"w-5 h-5 text-green-400"}),"Productos por Familia/Categora"]})}),r.jsx(Q,{children:Object.keys(v).length===0?r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No hay productos sincronizados. Ejecuta un escaneo para importar desde Revo."}):r.jsx("div",{className:"space-y-6",children:Object.entries(v).map(([k,P])=>r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 capitalize",children:[r.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),k,r.jsxs(be,{className:"bg-slate-700 ml-2",children:[P.length," productos"]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:P.slice(0,12).map(R=>{var $;return r.jsxs("div",{className:"bg-zinc-900 rounded-lg p-3 border border-zinc-700",children:[r.jsx("p",{className:"text-white text-sm font-medium truncate",children:R.name}),r.jsxs("p",{className:"text-green-400 font-bold",children:[($=R.price)==null?void 0:$.toFixed(2),""]}),r.jsx(be,{className:R.available?"bg-green-600 mt-1":"bg-red-600 mt-1",style:{fontSize:"10px"},children:R.available?"Disponible":"Agotado"})]},R.id)})}),P.length>12&&r.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["+",P.length-12," productos ms..."]})]},k))})})]})}),r.jsx(nn,{value:"finances",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"border-none bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(En,{className:"w-5 h-5 text-green-400"}),"Resumen de Ventas (Revo)"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-900 rounded-lg",children:[r.jsx("span",{className:"text-gray-400",children:"Total Ventas"}),r.jsxs("span",{className:"text-2xl font-bold text-green-400",children:[b.sales.revenue.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900 rounded-lg",children:[r.jsx("span",{className:"text-gray-400",children:"Ventas Hoy"}),r.jsx("span",{className:"text-xl font-bold text-white",children:b.sales.today})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900 rounded-lg",children:[r.jsx("span",{className:"text-gray-400",children:"Total Transacciones"}),r.jsx("span",{className:"text-xl font-bold text-white",children:b.sales.total})]})]})})]}),r.jsxs(X,{className:"border-none bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Pf,{className:"w-5 h-5 text-orange-400"}),"Resumen Facturas (Biloop)"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900 rounded-lg",children:[r.jsx("span",{className:"text-gray-400",children:"Total Facturas"}),r.jsxs("span",{className:"text-2xl font-bold text-orange-400",children:[b.invoices.totalAmount.toFixed(2),""]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900 rounded-lg",children:[r.jsx("span",{className:"text-gray-400",children:"Pendientes de Pago"}),r.jsx("span",{className:"text-xl font-bold text-red-400",children:b.invoices.pending})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-zinc-900 rounded-lg",children:[r.jsx("span",{className:"text-gray-400",children:"Proveedores Activos"}),r.jsx("span",{className:"text-xl font-bold text-white",children:b.providers.active})]})]})})]})]})}),r.jsx(nn,{value:"web",children:r.jsxs(X,{className:"border-none bg-zinc-800/50 border border-zinc-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Mx,{className:"w-5 h-5 text-purple-400"}),"Sincronizacin con Web"]})}),r.jsx(Q,{children:y?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-white font-semibold",children:"ltima Sincronizacin"}),r.jsx(be,{className:y.status==="completado"?"bg-green-600":"bg-yellow-600",children:y.status})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Tipo"}),r.jsx("p",{className:"text-white",children:y.sync_type})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Plataforma"}),r.jsx("p",{className:"text-white",children:y.platform})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Items Sincronizados"}),r.jsx("p",{className:"text-white",children:y.total_items||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Fecha"}),r.jsx("p",{className:"text-white",children:y.sync_date?new Date(y.sync_date).toLocaleString():"-"})]})]})]})}):r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No hay sincronizaciones web registradas."})})]})})]}),s&&r.jsxs(X,{className:"border-none bg-zinc-800/50 border border-zinc-800 mt-6",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Dx,{className:"w-5 h-5 text-yellow-400"}),"Resultado del ltimo Escaneo"]})}),r.jsx(Q,{children:r.jsx("pre",{className:"bg-zinc-900 p-4 rounded-lg text-xs text-gray-300 overflow-auto max-h-64",children:JSON.stringify(s,null,2)})})]})]})})}function cZ(){const[e,t]=j.useState(Ge(new Date,"yyyy-MM-dd")),[n,s]=j.useState(null);oe.useEffect(()=>{(async()=>{try{const v=await ee.auth.me();s(v)}catch(v){console.error("Error loading user:",v)}})()},[]);const a=Kt(),{data:i=[]}=Be({queryKey:["timesheets",e],queryFn:async()=>(await ee.entities.Timesheet.list("-date")).filter(v=>v.date===e),initialData:[]}),{data:o=[]}=Be({queryKey:["timesheets-all"],queryFn:()=>ee.entities.Timesheet.list("-date",100),initialData:[]}),l=Bt({mutationFn:async()=>{const v=Ge(new Date,"HH:mm");return ee.entities.Timesheet.create({user_id:n.id,user_name:n.full_name,date:e,check_in:v,status:"incompleto"})},onSuccess:()=>{a.invalidateQueries({queryKey:["timesheets"]}),fe.success("Fichaje de entrada registrado")}}),c=Bt({mutationFn:async b=>{const v=i.find(P=>P.id===b),N=Ge(new Date,"HH:mm"),[_,S]=v.check_in.split(":").map(Number),[E,A]=N.split(":").map(Number),k=(E*60+A-(_*60+S))/60;return ee.entities.Timesheet.update(b,{check_out:N,total_hours:Math.round(k*100)/100,status:"completo"})},onSuccess:()=>{a.invalidateQueries({queryKey:["timesheets"]}),fe.success("Fichaje de salida registrado")}}),u=i.find(b=>b.user_id===(n==null?void 0:n.id)),h=u&&u.check_in,f=u&&u.check_out,p=o.filter(b=>{const v=new Date(b.date),y=new Date,N=new Date(y.setDate(y.getDate()-y.getDay()));return v>=N&&b.total_hours}).reduce((b,v)=>b+(v.total_hours||0),0),x=o.length>0?o.reduce((b,v)=>b+(v.total_hours||0),0)/o.filter(b=>b.total_hours).length:0;return r.jsx("div",{className:"p-4 md:p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx($t,{className:"w-8 h-8 text-blue-600"}),"Control de Fichajes"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Registro de entradas y salidas del personal"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx($t,{className:"w-5 h-5 text-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Horas esta semana"})]}),r.jsxs("p",{className:"text-3xl font-bold",children:[p.toFixed(1),"h"]})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(En,{className:"w-5 h-5 text-green-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Promedio diario"})]}),r.jsxs("p",{className:"text-3xl font-bold",children:[x.toFixed(1),"h"]})]})}),r.jsx(X,{className:"border-none shadow-lg",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Sn,{className:"w-5 h-5 text-purple-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Registros totales"})]}),r.jsx("p",{className:"text-3xl font-bold",children:o.length})]})})]}),r.jsx(X,{className:"border-none shadow-lg mb-8 bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:r.jsx(Q,{className:"p-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:Ge(new Date,"EEEE, d MMMM yyyy")}),r.jsxs("p",{className:"text-blue-100",children:[h&&!f&&`Entrada: ${u.check_in}`,f&&`Jornada completada: ${u.total_hours}h`,!h&&"No has fichado hoy"]})]}),r.jsxs("div",{className:"flex gap-4",children:[!h&&r.jsxs(ae,{size:"lg",onClick:()=>l.mutate(),className:"bg-white text-blue-700 hover:bg-blue-50",disabled:!n,children:[r.jsx($t,{className:"w-5 h-5 mr-2"}),"Fichar Entrada"]}),h&&!f&&r.jsxs(ae,{size:"lg",onClick:()=>c.mutate(u.id),className:"bg-white text-blue-700 hover:bg-blue-50",children:[r.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Fichar Salida"]}),f&&r.jsxs("div",{className:"flex items-center gap-2 bg-green-500 px-6 py-3 rounded-lg",children:[r.jsx(Ke,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"Jornada completada"})]})]})]})})}),r.jsxs("div",{className:"mb-6",children:[r.jsx(s8e,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Ver fichajes del da:"}),r.jsx("input",{type:"date",value:e,onChange:b=>t(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs(X,{className:"border-none shadow-lg",children:[r.jsx(ke,{children:r.jsxs(Pe,{children:["Fichajes de ",Ge(new Date(e),"dd/MM/yyyy")]})}),r.jsx(Q,{children:i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx($t,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No hay fichajes para este da"})]}):r.jsx("div",{className:"space-y-3",children:i.map(b=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx($t,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:b.user_name}),r.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Entrada: ",b.check_in||"-"]}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Salida: ",b.check_out||"-"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[b.total_hours&&r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[b.total_hours,"h"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"trabajadas"})]}),r.jsxs(be,{className:b.status==="completo"?"bg-green-100 text-green-800":b.status==="incompleto"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:[b.status==="completo"&&r.jsx(Ke,{className:"w-3 h-3 mr-1"}),b.status==="incompleto"&&r.jsx(bn,{className:"w-3 h-3 mr-1"}),b.status]})]})]},b.id))})})]})]})})}function s8e({children:e,className:t=""}){return r.jsx("label",{className:`block text-sm font-medium ${t}`,children:e})}function uZ(){const[e,t]=j.useState(null),[n,s]=j.useState(!1),[a,i]=j.useState({employee_name:"",request_type:"vacaciones",start_date:"",end_date:"",total_days:0,reason:"",status:"pendiente"});j.useEffect(()=>{(async()=>{try{const A=await ee.auth.me();t(A),i(k=>({...k,employee_name:A.full_name,employee_id:A.id}))}catch(A){console.error("Error loading user:",A)}})()},[]);const o=Kt(),{data:l=[],isLoading:c}=Be({queryKey:["vacation-requests"],queryFn:async()=>{const E=await ee.entities.VacationRequest.list("-created_date");return e&&e.permission_level!=="super_admin"&&e.permission_level!=="admin"&&!e.can_approve_vacations?E.filter(A=>A.employee_id===e.id||A.employee_name===e.full_name):E},initialData:[],enabled:!!e}),u=Bt({mutationFn:E=>ee.entities.VacationRequest.create(E),onSuccess:()=>{o.invalidateQueries({queryKey:["vacation-requests"]}),fe.success("Solicitud creada correctamente"),s(!1),f()}}),h=Bt({mutationFn:({id:E,approved:A})=>ee.entities.VacationRequest.update(E,{status:A?"aprobada":"rechazada",approved_by:e==null?void 0:e.id,approval_date:new Date().toISOString().split("T")[0]}),onSuccess:()=>{o.invalidateQueries({queryKey:["vacation-requests"]}),fe.success("Solicitud actualizada")}}),f=()=>{i({employee_name:(e==null?void 0:e.full_name)||"",employee_id:(e==null?void 0:e.id)||"",request_type:"vacaciones",start_date:"",end_date:"",total_days:0,reason:"",status:"pendiente"})},p=()=>{if(a.start_date&&a.end_date){const E=new Date(a.start_date),A=new Date(a.end_date),k=Math.ceil((A-E)/(1e3*60*60*24))+1;i({...a,total_days:k})}};j.useEffect(()=>{p()},[a.start_date,a.end_date]);const x=E=>{E.preventDefault(),u.mutate(a)},b={pendiente:"bg-yellow-100 text-yellow-800",aprobada:"bg-green-100 text-green-800",rechazada:"bg-red-100 text-red-800",cancelada:"bg-gray-100 text-gray-800"},v={vacaciones:"bg-blue-100 text-blue-800",permiso:"bg-purple-100 text-purple-800",baja:"bg-red-100 text-red-800",asuntos_propios:"bg-orange-100 text-orange-800"},y=l.filter(E=>E.employee_id===(e==null?void 0:e.id)||E.employee_name===(e==null?void 0:e.full_name)),N=l.filter(E=>E.status==="pendiente").length,_=y.filter(E=>E.status==="aprobada").reduce((E,A)=>E+(A.total_days||0),0),S=((e==null?void 0:e.vacation_days_available)||22)-_;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Sn,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Vacaciones y Permisos"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Gestiona tus solicitudes de ausencias"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-lg bg-black border border-cyan-500/50",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(xE,{className:"w-6 h-6 text-cyan-400"}),r.jsx("p",{className:"text-sm text-cyan-400/80",children:"Das Disponibles"})]}),r.jsx("p",{className:"text-4xl font-bold text-cyan-400",children:S})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Das Usados"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:_})]})}),r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx($t,{className:"w-5 h-5 text-yellow-400"}),r.jsx("p",{className:"text-sm text-zinc-400",children:"Solicitudes Pendientes"})]}),r.jsx("p",{className:"text-3xl font-bold text-white",children:N})]})})]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs(ae,{onClick:()=>s(!0),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nueva Solicitud"]})}),c?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsx(Q,{className:"p-12 text-center",children:r.jsx("p",{className:"text-zinc-400",children:"Cargando solicitudes..."})})}):l.length===0?r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800",children:r.jsxs(Q,{className:"p-12 text-center",children:[r.jsx(Sn,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),r.jsx("p",{className:"text-zinc-400 mb-4",children:"No hay solicitudes registradas"}),r.jsx(ae,{onClick:()=>s(!0),className:"bg-black border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",children:"Crear primera solicitud"})]})}):r.jsx("div",{className:"space-y-4",children:l.map(E=>r.jsx(X,{className:"border-none shadow-lg bg-zinc-800/50 border border-zinc-800 hover:bg-zinc-800 transition-all",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-12 h-12 bg-black border border-cyan-500/50 rounded-xl flex items-center justify-center flex-shrink-0",style:{boxShadow:"0 0 15px rgba(6, 182, 212, 0.3)"},children:r.jsx(Sn,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:E.employee_name}),r.jsx(be,{className:v[E.request_type],children:E.request_type.replace("_"," ")}),r.jsx(be,{className:b[E.status],children:E.status})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"Desde"}),r.jsx("p",{className:"font-semibold text-white",children:E.start_date?Ge(new Date(E.start_date),"dd/MM/yyyy"):"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"Hasta"}),r.jsx("p",{className:"font-semibold text-white",children:E.end_date?Ge(new Date(E.end_date),"dd/MM/yyyy"):"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-zinc-500",children:"Total"}),r.jsxs("p",{className:"font-semibold text-cyan-400",children:[E.total_days," das"]})]})]}),E.reason&&r.jsxs("p",{className:"text-sm text-zinc-400",children:[r.jsx("strong",{className:"text-white",children:"Motivo:"})," ",E.reason]}),E.approval_date&&r.jsxs("p",{className:"text-xs text-zinc-500 mt-2",children:[E.status==="aprobada"?"Aprobada":"Rechazada"," el ",Ge(new Date(E.approval_date),"dd/MM/yyyy")]})]})]}),E.status==="pendiente"&&e&&(e.can_approve_vacations||e.permission_level==="super_admin"||e.permission_level==="admin")&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ae,{variant:"outline",onClick:()=>h.mutate({id:E.id,approved:!0}),className:"border-green-500 text-green-600 hover:bg-green-50",children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),r.jsxs(ae,{variant:"outline",onClick:()=>h.mutate({id:E.id,approved:!1}),className:"border-red-500 text-red-600 hover:bg-red-50",children:[r.jsx(ai,{className:"w-4 h-4 mr-2"}),"Rechazar"]})]})]})})},E.id))}),r.jsx(Fn,{open:n,onOpenChange:s,children:r.jsxs(Pn,{children:[r.jsx(An,{children:r.jsx(On,{children:"Nueva Solicitud"})}),r.jsxs("form",{onSubmit:x,children:[r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"request_type",children:"Tipo de Solicitud *"}),r.jsxs(dr,{value:a.request_type,onValueChange:E=>i({...a,request_type:E}),children:[r.jsx(rr,{children:r.jsx(hr,{})}),r.jsxs(sr,{children:[r.jsx(De,{value:"vacaciones",children:"Vacaciones"}),r.jsx(De,{value:"permiso",children:"Permiso"}),r.jsx(De,{value:"baja",children:"Baja"}),r.jsx(De,{value:"asuntos_propios",children:"Asuntos Propios"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"start_date",children:"Fecha Inicio *"}),r.jsx(He,{id:"start_date",type:"date",value:a.start_date,onChange:E=>i({...a,start_date:E.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"end_date",children:"Fecha Fin *"}),r.jsx(He,{id:"end_date",type:"date",value:a.end_date,onChange:E=>i({...a,end_date:E.target.value}),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(Te,{children:"Das solicitados"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[a.total_days," das"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Te quedarn ",S-a.total_days," das disponibles"]})]}),r.jsxs("div",{children:[r.jsx(Te,{htmlFor:"reason",children:"Motivo (opcional)"}),r.jsx(di,{id:"reason",value:a.reason,onChange:E=>i({...a,reason:E.target.value}),rows:3})]})]}),r.jsxs(Fa,{children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),r.jsx(ae,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Solicitar"})]})]})]})})]})})}function dZ(){const[e,t]=j.useState(!1),[n,s]=j.useState(null),[a,i]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(!1),h=j.useRef(null),f=Kt(),{data:p=[]}=Be({queryKey:["verifactu-config"],queryFn:()=>ee.entities.VeriFactu.list(),initialData:[]}),{data:x=[]}=Be({queryKey:["invoices"],queryFn:()=>ee.entities.Invoice.list("-created_date",100),initialData:[]}),b=p[0]||{enabled:!1,certificate_uploaded:!1,compliance_score:0,total_invoices_sent:0,aeat_api_status:"no_configurado",test_mode:!0},v=Bt({mutationFn:D=>b.id?ee.entities.VeriFactu.update(b.id,D):ee.entities.VeriFactu.create(D),onSuccess:()=>{f.invalidateQueries({queryKey:["verifactu-config"]})}}),y=async()=>{if(!n||!a||!o){fe.error("Completa todos los campos obligatorios");return}u(!0);try{const{file_url:D}=await ee.integrations.Core.UploadPrivateFile({file:n}),M=await _("INITIAL-HASH-"+Date.now());await v.mutateAsync({enabled:!0,certificate_uploaded:!0,certificate_file_url:D,certificate_expiry:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],company_nif:a,company_name:o,last_invoice_hash:M,last_invoice_number:"0",total_invoices_sent:0,aeat_api_status:"pendiente",compliance_score:100,test_mode:!0,activation_date:new Date().toISOString().split("T")[0],errors_log:[],aeat_responses:[]}),fe.success(" Veri*Factu activado correctamente"),t(!1),await N()}catch(D){console.error("Error activating:",D),fe.error("Error al activar Veri*Factu")}finally{u(!1)}},N=async()=>{u(!0);try{let D=b.last_invoice_hash,M=parseInt(b.last_invoice_number||"0");const B=[...x].sort((J,Y)=>new Date(J.invoice_date||J.created_date)-new Date(Y.invoice_date||Y.created_date));for(const J of B){if(J.verifactu_validated)continue;M++;const Y=JSON.stringify({invoice_number:J.invoice_number,date:J.invoice_date,total:J.total,provider:J.provider_name,previous_hash:D,sequence:M}),W=await _(Y),se=`VF:${J.invoice_number}:${W.substring(0,16)}`;await ee.entities.Invoice.update(J.id,{verifactu_hash:W,verifactu_previous_hash:D,verifactu_sequence_number:M,verifactu_qr:se,verifactu_signature:`SIG-${W.substring(0,32)}`,verifactu_validated:!0,verifactu_sent_to_aeat:!1}),D=W}await v.mutateAsync({...b,last_invoice_hash:D,last_invoice_number:M.toString(),total_invoices_sent:M,compliance_score:100,last_aeat_sync:new Date().toISOString()}),f.invalidateQueries({queryKey:["invoices"]}),fe.success(` ${M} facturas procesadas con Veri*Factu`)}catch(D){console.error("Error processing invoices:",D),fe.error("Error al procesar facturas")}finally{u(!1)}},_=async D=>{const B=new TextEncoder().encode(D),J=await crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(J)).map(W=>W.toString(16).padStart(2,"0")).join("")},S=async D=>{D&&!b.certificate_uploaded?t(!0):(await v.mutateAsync({...b,enabled:D}),fe.success(D?"Veri*Factu activado":"Veri*Factu desactivado"))},E=async()=>{fe.info(" Probando conexin con AEAT..."),setTimeout(()=>{v.mutate({...b,aeat_api_status:"conectado",last_aeat_sync:new Date().toISOString()}),fe.success(" Conexin con AEAT OK")},2e3)},A=x.filter(D=>D.verifactu_validated).length,k=x.filter(D=>!D.verifactu_validated).length,P=x.filter(D=>D.verifactu_sent_to_aeat).length,R=A>0?100:0,$={no_configurado:"bg-gray-100 text-gray-800",pendiente:"bg-yellow-100 text-yellow-800",conectado:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800"};return r.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(vr,{className:"w-8 h-8 text-cyan-400",style:{filter:"drop-shadow(0 0 8px rgba(6, 182, 212, 0.8))"}}),r.jsx("span",{className:"text-cyan-400",style:{textShadow:"0 0 15px rgba(6, 182, 212, 0.6)"},children:"Veri*Factu"})]}),r.jsx("p",{className:"text-zinc-400 mt-1",children:"Sistema de verificacin de facturas  Listo para normativa AEAT"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(Te,{className:"text-white",children:["Sistema ",b.enabled?"Activo":"Inactivo"]}),r.jsx(zf,{checked:b.enabled,onCheckedChange:S})]})]})}),r.jsx(X,{className:`border-none shadow-2xl mb-8 ${b.enabled?"bg-gradient-to-r from-green-600 to-emerald-700":"bg-gradient-to-r from-orange-600 to-red-700"} text-white`,children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:b.enabled?r.jsx(Ke,{className:"w-6 h-6"}):r.jsx(wn,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex-1",children:b.enabled?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:" Sistema Veri*Factu Activo"}),r.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Todas las facturas se estn generando con hash SHA-256, firma digital y encadenamiento completo."}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Hash encadenado activo"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Numeracin sin huecos"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[r.jsx(Ke,{className:"w-4 h-4 mb-1"}),r.jsx("p",{children:"Firma digital OK"})]})]}),b.test_mode&&r.jsx(be,{className:"bg-yellow-500 text-white mt-3",children:" MODO PRUEBAS - No enva realmente a AEAT"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:" Sistema Veri*Factu No Configurado"}),r.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Cuando la normativa sea obligatoria, activa el sistema aqu. Todo est preparado para funcionar con un click."}),r.jsxs(ae,{onClick:()=>t(!0),className:"bg-white text-orange-700 hover:bg-gray-100",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Activar Ahora"]})]})})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-cyan-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Ke,{className:"w-5 h-5 text-cyan-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Facturas Validadas"})]}),r.jsx("p",{className:"text-4xl font-bold text-cyan-400",children:A}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Con hash + firma"})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-orange-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx($t,{className:"w-5 h-5 text-orange-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Pendientes"})]}),r.jsx("p",{className:"text-4xl font-bold text-orange-400",children:k}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sin procesar"})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-green-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(En,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Enviadas AEAT"})]}),r.jsx("p",{className:"text-4xl font-bold text-green-400",children:P}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.test_mode?"Simulado":"Real"})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-purple-500/20",children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(vr,{className:"w-5 h-5 text-purple-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Integridad Cadena"})]}),r.jsxs("p",{className:"text-4xl font-bold text-purple-400",children:[R,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Encadenamiento OK"})]})})]}),b.enabled&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(iu,{className:"w-5 h-5 text-cyan-400"}),"Certificado Digital"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-cyan-500/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Estado"}),r.jsxs(be,{className:"bg-green-600 text-white",children:[r.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Cargado"]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Empresa:"}),r.jsx("span",{className:"text-white font-medium",children:b.company_name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"NIF:"}),r.jsx("span",{className:"text-white font-medium",children:b.company_nif})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Caduca:"}),r.jsx("span",{className:"text-white font-medium",children:b.certificate_expiry?Ge(new Date(b.certificate_expiry),"dd/MM/yyyy"):"N/A"})]})]})]}),r.jsxs(ae,{variant:"outline",className:"w-full border-cyan-500/30 text-cyan-400",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Descargar Certificado"]})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(rne,{className:"w-5 h-5 text-green-400"}),"Conexin AEAT"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-green-500/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Estado API"}),r.jsx(be,{className:$[b.aeat_api_status],children:b.aeat_api_status})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"ltima sincronizacin:"}),r.jsx("span",{className:"text-white",children:b.last_aeat_sync?Ge(new Date(b.last_aeat_sync),"dd/MM HH:mm"):"Nunca"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Facturas enviadas:"}),r.jsx("span",{className:"text-white font-bold",children:b.total_invoices_sent||0})]})]})]}),r.jsxs(ae,{onClick:E,className:"w-full bg-green-600 hover:bg-green-700",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Probar Conexin"]})]})]})]}),b.enabled&&r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Acciones Rpidas"})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{onClick:N,disabled:c,className:"bg-cyan-600 hover:bg-cyan-700",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"w-4 h-4 mr-2 animate-spin"}),"Procesando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Procesar Facturas Pendientes"]})}),r.jsxs(ae,{variant:"outline",className:"border-slate-600 text-gray-300",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Exportar Log de Auditora"]}),r.jsxs(ae,{variant:"outline",className:"border-slate-600 text-gray-300",children:[r.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Ver Documentacin"]})]})})]}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 mt-8",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(wn,{className:"w-6 h-6 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white text-lg mb-3",children:" Qu es Veri*Factu?"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Veri*Factu"})," es el nuevo sistema de la AEAT para verificar la integridad de las facturas electrnicas."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Requisitos obligatorios:"})}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Hash SHA-256 encadenado entre facturas"}),r.jsx("li",{children:"Numeracin secuencial sin huecos"}),r.jsx("li",{children:"Firma digital de cada factura"}),r.jsx("li",{children:"QR de verificacin en PDF"}),r.jsx("li",{children:"Envo remoto a AEAT en tiempo real"})]}),r.jsxs("p",{className:"mt-3 text-cyan-400",children:[r.jsx("strong",{children:" SYNK-IA ya tiene TODO implementado."})," Cuando sea obligatorio, solo activas el toggle y listo."]})]})]})]})})})]}),r.jsx(Fn,{open:e,onOpenChange:t,children:r.jsxs(Pn,{className:"max-w-2xl bg-slate-900 text-white",children:[r.jsx(An,{children:r.jsx(On,{className:"text-2xl",children:" Activar Sistema Veri*Factu"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-300",children:[r.jsx("strong",{children:" Informacin:"})," Necesitas un certificado digital vlido de tu empresa para activar el sistema. Una vez activado, todas las facturas nuevas se generarn automticamente con Veri*Factu."]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-white",children:"NIF de la Empresa *"}),r.jsx(He,{value:a,onChange:D=>i(D.target.value),placeholder:"B12345678",className:"bg-slate-800 border-slate-700 text-white mt-2"})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-white",children:"Razn Social *"}),r.jsx(He,{value:o,onChange:D=>l(D.target.value),placeholder:"Mi Empresa S.L.",className:"bg-slate-800 border-slate-700 text-white mt-2"})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-white",children:"Certificado Digital (.pfx o .p12) *"}),r.jsxs("div",{className:"mt-2",children:[r.jsx("input",{ref:h,type:"file",accept:".pfx,.p12",onChange:D=>s(D.target.files[0]),className:"hidden"}),r.jsxs(ae,{onClick:()=>{var D;return(D=h.current)==null?void 0:D.click()},variant:"outline",className:"w-full border-cyan-500/30 text-cyan-400",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),n?n.name:"Seleccionar Certificado"]}),n&&r.jsxs("p",{className:"text-xs text-green-400 mt-2",children:[" Certificado cargado: ",n.name]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(ae,{variant:"outline",onClick:()=>t(!1),className:"border-slate-600 text-gray-300",children:"Cancelar"}),r.jsx(ae,{onClick:y,disabled:c||!n||!a||!o,className:"bg-green-600 hover:bg-green-700",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"w-4 h-4 mr-2 animate-spin"}),"Activando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Activar Sistema"]})})]})]})]})})]})}function hZ(){const[e,t]=j.useState(null);j.useEffect(()=>{(async()=>{try{const i=await ee.auth.me();t(i)}catch(i){console.error("Error loading user:",i)}})()},[]);const n=[{name:"Crear Documentos",icon:Ye,color:"from-blue-500 to-blue-700",commands:[{text:"Crear factura de Makro con 20 kilos de pollo a 8 euros",result:" Factura creada: Makro, 20kg pollo, 160 + IVA"},{text:"Nuevo albarn para cliente Garca con 5 mesas modelo Roma",result:" Albarn ALB-20250115-001 creado para Garca"},{text:"Factura de Ibersol con 10 sacos de patatas a 12 euros",result:" Factura Ibersol: 10 sacos, 120"}]},{name:"Navegacin",icon:ur,color:"from-purple-500 to-purple-700",commands:[{text:"Ir al dashboard",result:" Abriendo Dashboard"},{text:"Ver facturas",result:" Mdulo de facturas abierto"},{text:"Mostrar proveedores",result:" Lista de proveedores"},{text:"Abrir albaranes",result:" Gestin de albaranes"}]},{name:"Consultas",icon:la,color:"from-green-500 to-green-700",commands:[{text:"Cunto gasto este mes",result:" Este mes: 12,450 en 23 facturas"},{text:"ltimas facturas",result:" Mostrando ltimas 10 facturas"},{text:"Proveedores activos",result:" 15 proveedores activos"},{text:"Ahorros detectados",result:" Ahorro potencial: 2,340"}]},{name:"Gestin",icon:_n,color:"from-orange-500 to-orange-700",commands:[{text:"Crear proveedor nuevo llamado Distribuciones Lpez",result:" Proveedor Lpez registrado"},{text:"Ver nminas",result:" Mdulo de nminas"},{text:"Solicitar vacaciones",result:" Formulario de vacaciones"}]}],s=ee.agents.getWhatsAppConnectURL("voice_assistant");return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 mb-6",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-white text-sm font-medium",children:"Sistema de Voz Activo"})]}),r.jsxs("h1",{className:"text-5xl font-bold text-white mb-4 flex items-center justify-center gap-4",children:[r.jsx(Af,{className:"w-12 h-12 text-cyan-400 animate-pulse"}),"Control por Voz"]}),r.jsx("p",{className:"text-cyan-300 text-xl",children:"Controla SYNK-IA con tu voz  Crea facturas y albaranes hablando"})]}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-gradient-to-r from-cyan-600 via-blue-600 to-purple-600 text-white",children:r.jsx(Q,{className:"p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center flex-shrink-0",children:r.jsx(aV,{className:"w-10 h-10 animate-pulse"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-2xl mb-3",children:" Cmo funciona?"}),r.jsxs("div",{className:"space-y-2 text-sm text-cyan-100",children:[r.jsxs("p",{children:["1. ",r.jsx("strong",{children:"Haz click en el botn flotante"})," (abajo a la derecha)"]}),r.jsxs("p",{children:["2. ",r.jsx("strong",{children:"Di tu comando"})," en espaol"]}),r.jsxs("p",{children:["3. ",r.jsx("strong",{children:"La IA procesa"})," y ejecuta la accin"]}),r.jsxs("p",{children:["4. ",r.jsx("strong",{children:"Confirmas"})," o corriges si es necesario"]})]}),r.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[r.jsxs(be,{className:"bg-yellow-400 text-yellow-900 flex items-center gap-2",children:[r.jsx(ur,{className:"w-4 h-4"}),"Con IA + Normativa SS"]}),r.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg transition-colors",children:[r.jsx(Wi,{className:"w-4 h-4"}),"Tambin en WhatsApp"]})]})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map((a,i)=>{const o=a.icon;return r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-slate-700",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-3 text-white",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center bg-gradient-to-br ${a.color}`,children:r.jsx(o,{className:"w-6 h-6 text-white"})}),a.name]})}),r.jsx(Q,{className:"space-y-3",children:a.commands.map((l,c)=>r.jsx("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700 hover:border-cyan-500/50 transition-all",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Af,{className:"w-5 h-5 text-cyan-400 mt-1 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-white text-sm font-medium mb-2",children:['"',l.text,'"']}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ke,{className:"w-4 h-4 text-green-400"}),r.jsx("p",{className:"text-green-400 text-xs",children:l.result})]})]})]})},c))})]},i)})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx(Ye,{className:"w-10 h-10 mb-3"}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Facturas Instantneas"}),r.jsx("p",{className:"text-sm text-cyan-100",children:"Crea facturas completas solo diciendo el proveedor y productos"})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-purple-500 to-pink-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx(_n,{className:"w-10 h-10 mb-3"}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Albaranes SS"}),r.jsx("p",{className:"text-sm text-purple-100",children:"Genera albaranes con TODA la normativa de Seguridad Social automticamente"})]})}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:r.jsxs(Q,{className:"p-6",children:[r.jsx(Hr,{className:"w-10 h-10 mb-3"}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"IA que Entiende"}),r.jsx("p",{className:"text-sm text-green-100",children:"Habla natural - la IA interpreta contexto, cantidades y precios"})]})})]}),r.jsx(X,{className:"border-none shadow-2xl bg-slate-800 border border-cyan-500/20 mt-8",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(ur,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white text-lg mb-3",children:" Tecnologa"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-300",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-cyan-400 mb-1",children:"Reconocimiento de Voz:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Web Speech API (navegador)"}),r.jsx("li",{children:"Espaol nativo"}),r.jsx("li",{children:"Sin internet para captura"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-cyan-400 mb-1",children:"Procesamiento IA:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"InvokeLLM avanzado"}),r.jsx("li",{children:"Extraccin automtica de datos"}),r.jsx("li",{children:"Validacin normativa SS"})]})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:r.jsxs("p",{className:"text-yellow-400 text-sm",children:[r.jsx("strong",{children:" Tip:"})," Habla claro y pausado. Di nombres de proveedores completos y cantidades exactas para mejores resultados."]})})]})]})})})]})})}function fZ(){const[e,t]=j.useState(!1),[n,s]=j.useState(!1),a=Kt(),{data:i=[]}=Be({queryKey:["menu-items"],queryFn:()=>ee.entities.MenuItem.list(),initialData:[]}),{data:o=[]}=Be({queryKey:["web-sync-history"],queryFn:()=>ee.entities.WebSync.list("-sync_date",20),initialData:[]}),l=i.filter(p=>p.category==="bebidas"||p.category==="principales"||p.category==="entrantes"),c=async(p="web")=>{t(!0);try{const x=l.map(N=>({id:N.revo_id||N.id,name:N.name,category:N.category,price:N.price,description:N.description||"",image:N.image_url||"",available:N.available,allergens:N.allergens||[]})),b={menu:x,last_update:new Date().toISOString(),source:"revo_xef",platform:p},v=JSON.stringify(b,null,2),y=await ee.entities.WebSync.create({sync_type:"precios",source:"revo",platform:p,items_synced:x.map(N=>({product_id:N.id,product_name:N.name,new_price:N.price,glovo_family:!0})),total_items:x.length,glovo_items:x.length,status:"completado",sync_date:new Date().toISOString(),web_url:`https://chickenpalaceibiza.es/menu?updated=${Date.now()}`,json_export:v});a.invalidateQueries({queryKey:["web-sync-history"]}),fe.success(` ${x.length} productos sincronizados con ${p==="web"?"la web":"Glovo"}`),u(v,`menu_${p}_${Ge(new Date,"yyyyMMdd_HHmmss")}.json`)}catch(x){console.error("Sync error:",x),fe.error("Error en la sincronizacin"),await ee.entities.WebSync.create({sync_type:"precios",source:"revo",platform:p,status:"error",sync_date:new Date().toISOString(),error_message:x.message})}finally{t(!1)}},u=(p,x)=>{const b=new Blob([p],{type:"application/json"}),v=document.createElement("a"),y=URL.createObjectURL(b);v.setAttribute("href",y),v.setAttribute("download",x),document.body.appendChild(v),v.click(),document.body.removeChild(v)},h=o[0],f=o.length>0?o.filter(p=>p.status==="completado").length/o.length*100:0;return r.jsx("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx(Mx,{className:"w-8 h-8 text-cyan-400"}),"Sincronizacin Web"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"chickenpalaceibiza.es  Revo  Web automtico"})]}),r.jsx(X,{className:"border-none shadow-2xl mb-8 bg-gradient-to-r from-cyan-600 to-blue-700 text-white",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Hr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:" Cmo funciona?"}),r.jsxs("p",{className:"text-sm text-cyan-100 mb-3",children:["Cuando cambias precios en la ",r.jsx("strong",{children:"familia Glovo"})," en Revo Xef, este sistema detecta los cambios y actualiza automticamente tu web."]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 rounded-lg px-4 py-2 inline-block",children:[r.jsx(zl,{className:"w-4 h-4"}),r.jsx("span",{children:"Revo (Glovo)  SYNK-IA  chickenpalaceibiza.es"})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-cyan-500/20",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Ns,{className:"w-5 h-5 text-cyan-400"}),"Sincronizacin Manual"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-cyan-500/20",children:[r.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:[r.jsx(_n,{className:"w-4 h-4 inline mr-2 text-cyan-400"}),r.jsx("strong",{className:"text-cyan-400",children:l.length})," productos detectados en familia Glovo"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Entrantes"}),r.jsx("span",{children:l.filter(p=>p.category==="entrantes").length})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Principales"}),r.jsx("span",{children:l.filter(p=>p.category==="principales").length})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Bebidas"}),r.jsx("span",{children:l.filter(p=>p.category==="bebidas").length})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ae,{onClick:()=>c("web"),disabled:e,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-6",children:e?r.jsxs(r.Fragment,{children:[r.jsx(Ns,{className:"w-5 h-5 mr-2 animate-spin"}),"Sincronizando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Mx,{className:"w-5 h-5 mr-2"}),"Sincronizar con Web"]})}),r.jsxs(ae,{onClick:()=>c("glovo"),disabled:e,variant:"outline",className:"w-full border-green-500/30 text-green-400 hover:bg-green-500/10",children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Sincronizar con Glovo"]})]}),h&&r.jsxs("div",{className:"bg-slate-900 rounded-lg p-3 border border-green-500/20",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"ltima sincronizacin:"}),r.jsx("p",{className:"text-sm text-green-400 font-medium",children:Ge(new Date(h.sync_date),"dd/MM/yyyy HH:mm")})]})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-purple-500/20",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[r.jsx(Hr,{className:"w-5 h-5 text-purple-400"}),"Sincronizacin Automtica"]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-white font-medium",children:"Auto-Sync Activado"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Sincroniza cada hora automticamente"})]}),r.jsx(zf,{checked:n,onCheckedChange:s})]}),n&&r.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-purple-300 mb-2",children:" Auto-sync configurado"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Los cambios en Revo se sincronizarn automticamente cada hora. Tambin puedes sincronizar manualmente cuando quieras."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Tasa de xito"}),r.jsxs("span",{className:"text-lg font-bold text-green-400",children:[f.toFixed(0),"%"]})]}),r.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${f}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-slate-900 rounded-lg p-3 border border-slate-700",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total sync"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:o.length})]}),r.jsxs("div",{className:"bg-slate-900 rounded-lg p-3 border border-slate-700",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Completados"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:o.filter(p=>p.status==="completado").length})]})]})]})]})]})]}),r.jsxs(X,{className:"border-none shadow-2xl bg-slate-800 border border-gray-700",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-white",children:" Historial de Sincronizaciones"})}),r.jsx(Q,{children:o.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ns,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No hay sincronizaciones registradas"})]}):r.jsx("div",{className:"space-y-3",children:o.map(p=>r.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700 hover:border-cyan-500/30 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${p.status==="completado"?"bg-green-500/20":p.status==="error"?"bg-red-500/20":"bg-yellow-500/20"}`,children:p.status==="completado"?r.jsx(Ke,{className:"w-6 h-6 text-green-400"}):p.status==="error"?r.jsx(bn,{className:"w-6 h-6 text-red-400"}):r.jsx(Ns,{className:"w-6 h-6 text-yellow-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsxs("p",{className:"font-medium text-white",children:["Sync ",p.platform==="web"?"Web":"Glovo"]}),r.jsx(be,{className:p.status==="completado"?"bg-green-500/20 text-green-400":p.status==="error"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400",children:p.status})]}),r.jsxs("p",{className:"text-sm text-gray-400",children:[p.total_items||0," productos  ",Ge(new Date(p.sync_date),"dd/MM/yyyy HH:mm")]})]})]}),p.json_export&&r.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>u(p.json_export,`menu_${p.platform}_${p.id}.json`),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10",children:[r.jsx(La,{className:"w-4 h-4 mr-1"}),"JSON"]})]}),p.error_message&&r.jsx("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:r.jsx("p",{className:"text-xs text-red-400",children:p.error_message})})]},p.id))})})]}),r.jsx(X,{className:"border-none shadow-2xl bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 mt-8",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(bn,{className:"w-6 h-6 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white text-lg mb-3",children:" Integracin con tu Web"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsx("p",{children:"Para completar la integracin con chickenpalaceibiza.es:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[r.jsx("li",{children:'Descarga el JSON generado (botn "JSON" en el historial)'}),r.jsx("li",{children:"Sube el archivo a tu servidor web via FTP/SFTP"}),r.jsx("li",{children:"O configura un webhook en tu CMS para recibir actualizaciones"}),r.jsx("li",{children:"O usa la API de tu web (si la tienes configurada)"})]}),r.jsx("p",{className:"mt-3 text-cyan-400",children:" Para automatizacin completa (sin descargar), necesitaras habilitar Backend Functions y configurar las credenciales FTP/API de tu web."})]})]})]})})})]})})}function a8e({onClose:e,user:t}){const{data:n}=Be({queryKey:["my-contract"],queryFn:async()=>(await ee.entities.Contract.list()).find(i=>i.employee_id===(t==null?void 0:t.id)||i.employee_name===(t==null?void 0:t.full_name)),enabled:!!t}),{data:s=[]}=Be({queryKey:["my-payrolls"],queryFn:async()=>(await ee.entities.Payroll.list("-period")).filter(i=>i.employee_id===(t==null?void 0:t.id)||i.employee_name===(t==null?void 0:t.full_name)),enabled:!!t});return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-8 max-w-4xl w-full max-h-[80vh] overflow-y-auto border-2 border-blue-500/30 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl flex items-center justify-center",children:r.jsx(Ye,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Mis Documentos"}),r.jsx("p",{className:"text-slate-400",children:"Contratos, nminas y documentos"})]})]}),r.jsx(ae,{onClick:e,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-700 rounded-full",children:r.jsx(el,{className:"w-6 h-6"})})]}),n&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx(Ye,{className:"w-5 h-5 text-blue-400"}),"Mi Contrato"]}),r.jsxs("div",{className:"bg-slate-700/50 rounded-2xl p-6 border border-slate-600",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-sm",children:"Tipo"}),r.jsx("p",{className:"text-white font-medium capitalize",children:n.contract_type})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-sm",children:"Puesto"}),r.jsx("p",{className:"text-white font-medium",children:n.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-sm",children:"Fecha Inicio"}),r.jsx("p",{className:"text-white font-medium",children:n.start_date?Ge(new Date(n.start_date),"dd/MM/yyyy"):"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-400 text-sm",children:"Estado"}),r.jsx("p",{className:"text-green-400 font-medium capitalize",children:n.status})]})]}),n.file_url&&r.jsxs(ae,{onClick:()=>window.open(n.file_url,"_blank"),className:"w-full bg-blue-600 hover:bg-blue-700",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Ver Contrato Completo"]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx(rn,{className:"w-5 h-5 text-green-400"}),"Mis Nminas"]}),s.length===0?r.jsxs("div",{className:"bg-slate-700/50 rounded-2xl p-12 border border-slate-600 text-center",children:[r.jsx(rn,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"No hay nminas disponibles"})]}):r.jsx("div",{className:"space-y-3",children:s.map(a=>r.jsxs("div",{className:"bg-slate-700/50 rounded-2xl p-6 border border-slate-600 hover:border-green-500/50 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-white font-bold text-lg",children:["Periodo: ",a.period]}),r.jsxs("p",{className:"text-slate-400 text-sm",children:["Pagado: ",a.payment_date?Ge(new Date(a.payment_date),"dd/MM/yyyy"):"Pendiente"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-green-400 font-bold text-2xl",children:[a.net_salary,""]}),r.jsx("p",{className:"text-slate-400 text-sm",children:"Neto"})]})]}),a.file_url&&r.jsxs(ae,{onClick:()=>window.open(a.file_url,"_blank"),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]})]},a.id))})]})]})})}function i8e({onClose:e,user:t}){const[n,s]=j.useState(!1),[a,i]=j.useState({start_date:"",end_date:"",reason:""}),o=Kt(),{data:l=[]}=Be({queryKey:["my-vacation-requests"],queryFn:async()=>(await ee.entities.VacationRequest.list("-created_date")).filter(b=>b.employee_id===(t==null?void 0:t.id)||b.employee_name===(t==null?void 0:t.full_name)),enabled:!!t}),c=Bt({mutationFn:x=>ee.entities.VacationRequest.create(x),onSuccess:()=>{o.invalidateQueries({queryKey:["my-vacation-requests"]}),fe.success(" Solicitud enviada"),s(!1),i({start_date:"",end_date:"",reason:""})}}),u=x=>{x.preventDefault();const b=new Date(a.start_date),v=new Date(a.end_date),y=Math.ceil((v-b)/(1e3*60*60*24))+1;c.mutate({employee_id:t.id,employee_name:t.full_name,request_type:"vacaciones",start_date:a.start_date,end_date:a.end_date,total_days:y,reason:a.reason,status:"pendiente"})},h=l.filter(x=>x.status==="aprobada").reduce((x,b)=>x+(b.total_days||0),0),f=((t==null?void 0:t.vacation_days_available)||22)-h,p={pendiente:r.jsx($t,{className:"w-5 h-5 text-yellow-400"}),aprobada:r.jsx(Ke,{className:"w-5 h-5 text-green-400"}),rechazada:r.jsx(ai,{className:"w-5 h-5 text-red-400"})};return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-8 max-w-4xl w-full max-h-[80vh] overflow-y-auto border-2 border-purple-500/30 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center",children:r.jsx(Sn,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Vacaciones"}),r.jsx("p",{className:"text-slate-400",children:"Gestiona tus das libres"})]})]}),r.jsx(ae,{onClick:e,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-700 rounded-full",children:r.jsx(el,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-purple-500/20 rounded-2xl p-6 border-2 border-purple-500/30",children:[r.jsx("p",{className:"text-purple-400 text-sm mb-1",children:"Das Disponibles"}),r.jsx("p",{className:"text-white text-4xl font-bold",children:f})]}),r.jsxs("div",{className:"bg-slate-700/50 rounded-2xl p-6 border border-slate-600",children:[r.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Das Usados"}),r.jsx("p",{className:"text-white text-4xl font-bold",children:h})]})]}),!n&&r.jsxs(ae,{onClick:()=>s(!0),className:"w-full mb-6 bg-purple-600 hover:bg-purple-700 h-14 text-lg",children:[r.jsx(Vr,{className:"w-5 h-5 mr-2"}),"Nueva Solicitud"]}),n&&r.jsxs("form",{onSubmit:u,className:"bg-slate-700/50 rounded-2xl p-6 border border-slate-600 mb-6",children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"Nueva Solicitud de Vacaciones"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-slate-300 mb-2 block",children:"Fecha Inicio"}),r.jsx(He,{type:"date",value:a.start_date,onChange:x=>i({...a,start_date:x.target.value}),required:!0,className:"bg-slate-800 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-slate-300 mb-2 block",children:"Fecha Fin"}),r.jsx(He,{type:"date",value:a.end_date,onChange:x=>i({...a,end_date:x.target.value}),required:!0,className:"bg-slate-800 border-slate-600 text-white"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx(Te,{className:"text-slate-300 mb-2 block",children:"Motivo (opcional)"}),r.jsx(He,{value:a.reason,onChange:x=>i({...a,reason:x.target.value}),placeholder:"Ej: Vacaciones familiares...",className:"bg-slate-800 border-slate-600 text-white"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ae,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Enviar Solicitud"}),r.jsx(ae,{type:"button",variant:"outline",onClick:()=>s(!1),className:"border-slate-600",children:"Cancelar"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"Mis Solicitudes"}),l.length===0?r.jsxs("div",{className:"bg-slate-700/50 rounded-2xl p-12 border border-slate-600 text-center",children:[r.jsx(Sn,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"No tienes solicitudes"})]}):r.jsx("div",{className:"space-y-3",children:l.map(x=>r.jsx("div",{className:"bg-slate-700/50 rounded-2xl p-6 border border-slate-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p[x.status],r.jsx("p",{className:"text-white font-bold capitalize",children:x.status})]}),r.jsxs("p",{className:"text-slate-400 text-sm",children:[Ge(new Date(x.start_date),"dd/MM/yyyy")," - ",Ge(new Date(x.end_date),"dd/MM/yyyy")]}),x.reason&&r.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Motivo: ",x.reason]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white text-2xl font-bold",children:x.total_days}),r.jsx("p",{className:"text-slate-400 text-sm",children:"das"})]})]})},x.id))})]})]})})}function o8e({onClose:e,user:t}){const[n,s]=j.useState([{id:1,from:"admin",text:"Hola! En qu puedo ayudarte?",time:"10:30"}]),[a,i]=j.useState(""),o=()=>{a.trim()&&(s([...n,{id:n.length+1,from:"me",text:a,time:new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}]),i(""))};return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl w-full max-w-2xl h-[80vh] flex flex-col border-2 border-green-500/30 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-700 rounded-2xl flex items-center justify-center",children:r.jsx(Wi,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Chat con Admin"}),r.jsx("p",{className:"text-green-400 text-sm",children:" En lnea"})]})]}),r.jsx(ae,{onClick:e,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-700 rounded-full",children:r.jsx(el,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:n.map(l=>r.jsx("div",{className:`flex ${l.from==="me"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] ${l.from==="me"?"bg-green-600 text-white":"bg-slate-700 text-white"} rounded-2xl px-4 py-3`,children:[r.jsx("p",{className:"text-sm",children:l.text}),r.jsx("p",{className:"text-xs opacity-70 mt-1",children:l.time})]})},l.id))}),r.jsx("div",{className:"p-6 border-t border-slate-700",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(He,{value:a,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&o(),placeholder:"Escribe un mensaje...",className:"flex-1 bg-slate-800 border-slate-600 text-white"}),r.jsx(ae,{onClick:o,className:"bg-green-600 hover:bg-green-700",children:r.jsx(Wo,{className:"w-5 h-5"})})]})})]})})}function l8e({onClose:e,user:t}){const[n,s]=j.useState([{id:1,from:"Juan",text:"Quin cubre el turno de tarde?",time:"09:15"},{id:2,from:"Mara",text:"Yo puedo cubrirlo",time:"09:17"},{id:3,from:"Admin",text:" Confirmado. Gracias Mara",time:"09:18"}]),[a,i]=j.useState(""),o=()=>{a.trim()&&(s([...n,{id:n.length+1,from:(t==null?void 0:t.full_name)||"Yo",text:a,time:new Date().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}]),i(""))};return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl w-full max-w-2xl h-[80vh] flex flex-col border-2 border-orange-500/30 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-700 rounded-2xl flex items-center justify-center",children:r.jsx(ln,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Chat del Equipo"}),r.jsx("p",{className:"text-orange-400 text-sm",children:"12 miembros  3 en lnea"})]})]}),r.jsx(ae,{onClick:e,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-700 rounded-full",children:r.jsx(el,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:n.map(l=>{const c=l.from===(t==null?void 0:t.full_name)||l.from==="Yo";return r.jsx("div",{className:`flex ${c?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] ${c?"bg-orange-600 text-white":"bg-slate-700 text-white"} rounded-2xl px-4 py-3`,children:[!c&&r.jsx("p",{className:"text-xs text-orange-300 font-semibold mb-1",children:l.from}),r.jsx("p",{className:"text-sm",children:l.text}),r.jsx("p",{className:"text-xs opacity-70 mt-1",children:l.time})]})},l.id)})}),r.jsx("div",{className:"p-6 border-t border-slate-700",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(He,{value:a,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&o(),placeholder:"Escribe al equipo...",className:"flex-1 bg-slate-800 border-slate-600 text-white"}),r.jsx(ae,{onClick:o,className:"bg-orange-600 hover:bg-orange-700",children:r.jsx(Wo,{className:"w-5 h-5"})})]})})]})})}function c8e({onClose:e}){const[t,n]=j.useState("ios");return r.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-slate-900 border-2 border-cyan-500/30 rounded-3xl max-w-md w-full overflow-hidden shadow-[0_0_50px_rgba(6,182,212,0.2)]",children:[r.jsxs("div",{className:"bg-slate-950 p-6 flex items-center justify-between border-b border-cyan-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-500/10 rounded-xl flex items-center justify-center border border-cyan-500/50",children:r.jsx(Tf,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Instalar App"}),r.jsx("p",{className:"text-cyan-400 text-xs font-mono",children:"TUTORIAL RPIDO"})]})]}),r.jsx(ae,{onClick:e,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-800 rounded-full",children:r.jsx(el,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6",children:r.jsxs(rl,{defaultValue:"ios",value:t,onValueChange:n,className:"w-full",children:[r.jsxs(ro,{className:"grid w-full grid-cols-2 mb-6 bg-slate-950 border border-slate-800",children:[r.jsx(tn,{value:"ios",className:"data-[state=active]:bg-cyan-900/30 data-[state=active]:text-cyan-400 font-bold",children:"iPhone (iOS)"}),r.jsx(tn,{value:"android",className:"data-[state=active]:bg-green-900/30 data-[state=active]:text-green-400 font-bold",children:"Android"})]}),r.jsxs(nn,{value:"ios",className:"space-y-4",children:[r.jsx(qc,{number:"1",text:"Abre esta pgina en SAFARI",icon:r.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Safari_browser_logo.svg/1024px-Safari_browser_logo.svg.png",className:"w-6 h-6",alt:"Safari"})}),r.jsx(qc,{number:"2",text:"Toca el botn 'Compartir' abajo",icon:r.jsx(Une,{className:"w-5 h-5 text-blue-400"})}),r.jsx(qc,{number:"3",text:"Baja y busca 'Aadir a inicio'",icon:r.jsx(Zne,{className:"w-5 h-5 text-white"})}),r.jsx(qc,{number:"4",text:"Toca 'Aadir' arriba a la derecha",icon:r.jsx("span",{className:"text-cyan-400 font-bold text-xs",children:"Aadir"})})]}),r.jsxs(nn,{value:"android",className:"space-y-4",children:[r.jsx(qc,{number:"1",text:"Abre esta pgina en CHROME",icon:r.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Google_Chrome_icon_%28February_2022%29.svg/1024px-Google_Chrome_icon_%28February_2022%29.svg.png",className:"w-6 h-6",alt:"Chrome"})}),r.jsx(qc,{number:"2",text:"Toca los 3 puntos arriba derecha",icon:r.jsx(eV,{className:"w-5 h-5 text-white"})}),r.jsx(qc,{number:"3",text:"Toca 'Instalar aplicacin' o 'Aadir a pantalla de inicio'",icon:r.jsx(Tf,{className:"w-5 h-5 text-green-400"})}),r.jsx(qc,{number:"4",text:"Confirma tocando 'Instalar'",icon:r.jsx(Iw,{className:"w-5 h-5 text-green-400"})})]})]})}),r.jsx("div",{className:"p-6 bg-slate-950/50 border-t border-slate-800 text-center",children:r.jsx("p",{className:"text-slate-400 text-sm",children:"Esto crear un icono en tu mvil como una App normal."})})]})})}function qc({number:e,text:t,icon:n}){return r.jsxs("div",{className:"flex items-center gap-4 bg-slate-800/50 p-4 rounded-xl border border-slate-700",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-900 rounded-full flex items-center justify-center border border-slate-600 font-bold text-white flex-shrink-0",children:e}),r.jsx("p",{className:"text-slate-200 text-sm flex-1 font-medium",children:t}),r.jsx("div",{className:"w-10 h-10 bg-slate-900 rounded-lg flex items-center justify-center border border-slate-700 flex-shrink-0",children:n})]})}function mZ(){const[e,t]=j.useState(new Date),[n,s]=j.useState(null),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[h,f]=j.useState(!1),[p,x]=j.useState(!1),[b,v]=j.useState(null),y=Kt(),N=mm();j.useEffect(()=>{(async()=>{try{const B=localStorage.getItem("portal_employee");if(B)s(JSON.parse(B));else{const J=await ee.auth.me();J?s(J):N(ft("PortalLogin"))}}catch(B){console.error("Error loading user:",B),N(ft("PortalLogin"))}})();const M=setInterval(()=>t(new Date),1e3);return()=>clearInterval(M)},[]),j.useEffect(()=>{if(!(n!=null&&n.shift_start)||!(n!=null&&n.shift_end))return;const D=new Date,M=D.getHours()+D.getMinutes()/60,[B,J]=n.shift_start.split(":").map(Number),Y=B+J/60,[W,se]=n.shift_end.split(":").map(Number),q=W+se/60;M<Y?v({type:"ENTRADA",time:n.shift_start,diff:Y-M}):M<q?v({type:"SALIDA",time:n.shift_end,diff:q-M}):v(null)},[e,n]);const _=()=>{localStorage.removeItem("portal_employee"),N(ft("PortalLogin"))},{data:S}=Be({queryKey:["today-timesheet"],queryFn:async()=>{const D=Ge(new Date,"yyyy-MM-dd");return(await ee.entities.Timesheet.list("-created_date",10)).find(B=>B.date===D&&(B.user_id===(n==null?void 0:n.id)||B.user_name===(n==null?void 0:n.full_name)))},enabled:!!n,refetchInterval:5e3}),E=()=>new Promise((D,M)=>{if(!navigator.geolocation){M(new Error("Geolocalizacin no soportada"));return}navigator.geolocation.getCurrentPosition(B=>D(B.coords),B=>M(B),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}),A=Bt({mutationFn:async()=>{let D={};try{const B=await E();D={latitude:B.latitude,longitude:B.longitude,accuracy:B.accuracy}}catch(B){console.warn("No se pudo obtener ubicacin:",B),fe.warning(" No se pudo detectar ubicacin. Se registrar sin GPS.")}const M=await ee.functions.invoke("clockIn",D);if(M.data.error)throw new Error(M.data.error);return M.data},onSuccess:()=>{y.invalidateQueries({queryKey:["today-timesheet"]}),fe.success(" ENTRADA REGISTRADA")},onError:D=>{fe.error(D.message||"Error al fichar entrada")}}),k=Bt({mutationFn:async()=>{let D={};try{const B=await E();D={latitude:B.latitude,longitude:B.longitude,accuracy:B.accuracy}}catch(B){console.warn("No se pudo obtener ubicacin:",B)}const M=await ee.functions.invoke("clockOut",{...D,timesheet_id:S.id});if(M.data.error)throw new Error(M.data.error);return M.data},onSuccess:()=>{y.invalidateQueries({queryKey:["today-timesheet"]}),fe.success(" SALIDA REGISTRADA")},onError:D=>{fe.error(D.message||"Error al fichar salida")}}),P=S&&S.check_in,R=S&&S.check_out,$=()=>{P?R||k.mutate():A.mutate()};return r.jsxs("div",{className:"h-screen bg-black relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
            linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px)
          `,backgroundSize:"50px 50px",animation:"gridScroll 20s linear infinite"}})}),r.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 255, 0.1) 2px, rgba(0, 255, 255, 0.1) 4px)",animation:"scanlines 8s linear infinite"}})}),r.jsxs("div",{className:"absolute inset-0 opacity-20",children:[r.jsx("div",{className:"absolute top-10 left-20 w-2 h-2 bg-cyan-400 rounded-full animate-ping",style:{animationDelay:"0s"}}),r.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-blue-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"2s"}}),r.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-cyan-400 rounded-full animate-ping",style:{animationDelay:"3s"}})]}),r.jsx("style",{children:`
        @keyframes gridScroll {
          0% { transform: translateY(0); }
          100% { transform: translateY(50px); }
        }
        @keyframes scanlines {
          0% { transform: translateY(0); }
          100% { transform: translateY(100%); }
        }
        @keyframes hexPulse {
          0%, 100% { opacity: 0.5; }
          50% { opacity: 1; }
        }
      `}),r.jsxs("div",{className:"absolute top-6 left-6 z-20",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("svg",{width:"320",height:"120",viewBox:"0 0 320 120",className:"absolute -left-2 -top-2",children:[r.jsx("path",{d:"M10,0 L310,0 L320,10 L320,110 L310,120 L10,120 L0,110 L0,10 Z",fill:"rgba(0, 0, 0, 0.8)",stroke:"url(#gradient1)",strokeWidth:"2"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"rgb(6, 182, 212)",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"rgb(59, 130, 246)",stopOpacity:"0.8"})]})})]}),r.jsxs("div",{className:"relative p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),r.jsx("p",{className:"text-cyan-400 text-xs font-mono tracking-wider",children:"OPERATOR"})]}),r.jsx("p",{className:"text-white text-2xl font-bold tracking-wide",children:n==null?void 0:n.full_name}),r.jsx("p",{className:"text-cyan-300 text-sm font-mono mt-1",children:(n==null?void 0:n.position)||"CREW MEMBER"}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx(QB,{className:"w-4 h-4 text-green-400 animate-pulse"}),r.jsx("span",{className:"text-green-400 text-xs font-mono",children:"SYSTEMS ONLINE"})]}),b&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-cyan-500/20",children:[r.jsx("p",{className:"text-xs text-cyan-400 font-mono mb-1",children:"PRXIMO EVENTO:"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white font-bold",children:b.type}),r.jsx("span",{className:"text-yellow-400 font-mono text-lg",children:b.time})]}),b.diff<1&&b.diff>0&&r.jsx("p",{className:"text-xs text-red-400 mt-1 animate-pulse",children:"EN MENOS DE 1H!"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-2 mt-4",children:[r.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-cyan-900/30 border border-cyan-500/30 rounded-lg text-cyan-400 hover:bg-cyan-900/50 transition-all group w-fit",children:[r.jsx(Tf,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-xs font-mono font-bold",children:"INSTALL APP"})]}),r.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-1.5 bg-red-900/30 border border-red-500/30 rounded-lg text-red-400 hover:bg-red-900/50 transition-all group w-fit",children:[r.jsx(Rx,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-xs font-mono font-bold",children:"LOGOUT"})]})]})]}),r.jsx("div",{className:"absolute top-6 right-6 z-20",children:r.jsxs("div",{className:"relative",children:[r.jsxs("svg",{width:"280",height:"120",viewBox:"0 0 280 120",className:"absolute -left-2 -top-2",children:[r.jsx("path",{d:"M0,10 L10,0 L270,0 L280,10 L280,110 L270,120 L10,120 L0,110 Z",fill:"rgba(0, 0, 0, 0.8)",stroke:"url(#gradient2)",strokeWidth:"2"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"gradient2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"rgb(147, 51, 234)",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"rgb(59, 130, 246)",stopOpacity:"0.8"})]})})]}),r.jsxs("div",{className:"relative p-6 text-right",children:[r.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[r.jsx("p",{className:"text-purple-400 text-xs font-mono tracking-wider",children:"STATUS"}),r.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:R?"#4ade80":P?"#fbbf24":"#94a3b8"}})]}),r.jsx("p",{className:"text-white text-xl font-bold tracking-wide",children:R?"JORNADA COMPLETA":P?"EN SERVICIO":"STANDBY"}),P&&!R&&r.jsxs("p",{className:"text-yellow-400 text-sm font-mono mt-2",children:["ENTRADA: ",S.check_in]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3",children:[r.jsx("span",{className:"text-purple-400 text-xs font-mono",children:"MISSION"}),r.jsx(Hr,{className:"w-4 h-4 text-purple-400 animate-pulse"})]})]})]})}),r.jsx("div",{className:"absolute top-40 left-8 z-10",style:{perspective:"1000px"},children:r.jsxs(ae,{onClick:()=>i(!0),className:"relative w-36 h-36 bg-transparent border-0 group",children:[r.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",children:r.jsx("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:"rgba(59, 130, 246, 0.1)",stroke:"rgb(59, 130, 246)",strokeWidth:"2",className:"group-hover:fill-[rgba(59,130,246,0.3)] transition-all duration-300"})}),r.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[r.jsx(Ye,{className:"w-10 h-10 text-blue-400 mb-2 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-blue-400 text-xs font-mono tracking-wider",children:"DOCS"})]})]})}),r.jsx("div",{className:"absolute top-40 right-8 z-10",children:r.jsxs(ae,{onClick:()=>l(!0),className:"relative w-36 h-36 bg-transparent border-0 group",children:[r.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",children:r.jsx("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:"rgba(168, 85, 247, 0.1)",stroke:"rgb(168, 85, 247)",strokeWidth:"2",className:"group-hover:fill-[rgba(168,85,247,0.3)] transition-all duration-300"})}),r.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[r.jsx(Sn,{className:"w-10 h-10 text-purple-400 mb-2 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-purple-400 text-xs font-mono tracking-wider",children:"LEAVE"})]})]})}),r.jsx("div",{className:"absolute bottom-8 left-8 z-10",children:r.jsxs(ae,{onClick:()=>u(!0),className:"relative w-36 h-36 bg-transparent border-0 group",children:[r.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",children:r.jsx("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:"rgba(34, 197, 94, 0.1)",stroke:"rgb(34, 197, 94)",strokeWidth:"2",className:"group-hover:fill-[rgba(34,197,94,0.3)] transition-all duration-300"})}),r.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[r.jsx(Wi,{className:"w-10 h-10 text-green-400 mb-2 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-green-400 text-xs font-mono tracking-wider",children:"ADMIN"})]})]})}),r.jsx("div",{className:"absolute bottom-8 right-8 z-10",children:r.jsxs(ae,{onClick:()=>f(!0),className:"relative w-36 h-36 bg-transparent border-0 group",children:[r.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",children:r.jsx("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:"rgba(251, 146, 60, 0.1)",stroke:"rgb(251, 146, 60)",strokeWidth:"2",className:"group-hover:fill-[rgba(251,146,60,0.3)] transition-all duration-300"})}),r.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[r.jsx(ln,{className:"w-10 h-10 text-orange-400 mb-2 group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-orange-400 text-xs font-mono tracking-wider",children:"CREW"})]})]})}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30",children:r.jsxs("div",{className:"relative",children:[r.jsxs("svg",{width:"480",height:"480",viewBox:"0 0 480 480",className:"absolute -left-10 -top-10",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"mainGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:R?"#4ade80":P?"#ef4444":"#06b6d4",stopOpacity:"1",children:r.jsx("animate",{attributeName:"stop-color",values:R?"#4ade80;#22c55e;#4ade80":P?"#ef4444;#dc2626;#ef4444":"#06b6d4;#0891b2;#06b6d4",dur:"3s",repeatCount:"indefinite"})}),r.jsx("stop",{offset:"100%",stopColor:R?"#22c55e":P?"#dc2626":"#0891b2",stopOpacity:"1"})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx("polygon",{points:"240,20 420,120 420,360 240,460 60,360 60,120",fill:"none",stroke:"url(#mainGradient)",strokeWidth:"3",filter:"url(#glow)",opacity:"0.6",children:r.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 240 240",to:"360 240 240",dur:"20s",repeatCount:"indefinite"})}),r.jsx("polygon",{points:"240,60 380,140 380,340 240,420 100,340 100,140",fill:"rgba(0, 0, 0, 0.8)",stroke:"url(#mainGradient)",strokeWidth:"2",filter:"url(#glow)"})]}),r.jsxs("button",{onClick:$,disabled:R,className:`
              relative w-96 h-96 rounded-full
              flex flex-col items-center justify-center
              transition-all duration-500
              ${R?"cursor-not-allowed opacity-60":"cursor-pointer hover:scale-105"}
            `,style:{background:`radial-gradient(circle, 
                ${R?"rgba(74, 222, 128, 0.2)":P?"rgba(239, 68, 68, 0.2)":"rgba(6, 182, 212, 0.2)"} 0%, 
                rgba(0, 0, 0, 0.9) 70%)`},children:[r.jsx("div",{className:"text-center mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`text-8xl font-bold font-mono tracking-wider ${R?"text-green-400":P?"text-red-400":"text-cyan-400"}`,style:{textShadow:`0 0 20px ${R?"#4ade80":P?"#ef4444":"#06b6d4"}`},children:Ge(e,"HH:mm")}),r.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-full",children:r.jsx("div",{className:`text-xl font-mono tracking-[0.5em] ${R?"text-green-400":P?"text-red-400":"text-cyan-400"}`,children:Ge(e,"ss")})})]})}),r.jsx("div",{className:"mt-12",children:R?r.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[r.jsx(Ke,{className:"w-24 h-24 text-green-400 mb-4",style:{filter:"drop-shadow(0 0 10px #4ade80)"}}),r.jsx("span",{className:"text-green-400 font-bold text-2xl tracking-widest font-mono",children:"MISSION COMPLETE"})]}):P?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Rx,{className:"w-24 h-24 text-red-400 mb-4 animate-pulse",style:{filter:"drop-shadow(0 0 10px #ef4444)"}}),r.jsx("span",{className:"text-red-400 font-bold text-2xl tracking-widest font-mono",children:"END SHIFT"}),r.jsx("span",{className:"text-red-300 text-sm font-mono mt-3 opacity-75",children:"PRESS TO LOGOUT"})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(one,{className:"w-24 h-24 text-cyan-400 mb-4 animate-pulse",style:{filter:"drop-shadow(0 0 10px #06b6d4)"}}),r.jsx("span",{className:"text-cyan-400 font-bold text-2xl tracking-widest font-mono",children:"START SHIFT"}),r.jsx("span",{className:"text-cyan-300 text-sm font-mono mt-3 opacity-75",children:"PRESS TO LOGIN"})]})}),!R&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 border-2 rounded-full animate-ping",style:{borderColor:P?"#ef4444":"#06b6d4",animationDuration:"2s"}}),r.jsx("div",{className:"absolute inset-8 border rounded-full animate-ping",style:{borderColor:P?"#ef4444":"#06b6d4",animationDuration:"2.5s",animationDelay:"0.5s"}})]})]})]})}),r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:r.jsxs("div",{className:"relative",children:[r.jsxs("svg",{width:"500",height:"80",viewBox:"0 0 500 80",className:"absolute -left-2 -top-2",children:[r.jsx("path",{d:"M10,0 L490,0 L500,10 L500,70 L490,80 L10,80 L0,70 L0,10 Z",fill:"rgba(0, 0, 0, 0.8)",stroke:"url(#gradient3)",strokeWidth:"2"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"gradient3",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"rgb(6, 182, 212)",stopOpacity:"0.8"}),r.jsx("stop",{offset:"50%",stopColor:"rgb(168, 85, 247)",stopOpacity:"0.8"}),r.jsx("stop",{offset:"100%",stopColor:"rgb(6, 182, 212)",stopOpacity:"0.8"})]})})]}),r.jsxs("div",{className:"relative px-8 py-5 text-center",children:[r.jsx("p",{className:"text-cyan-400 text-xl font-mono tracking-[0.3em] font-bold uppercase",children:Ge(e,"EEEE, d MMMM yyyy")}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[r.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-cyan-300 text-xs font-mono tracking-widest",children:["STARDATE ",Ge(e,"yyyyMMdd")]}),r.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full animate-pulse"})]})]})]})}),a&&r.jsx(a8e,{onClose:()=>i(!1),user:n}),o&&r.jsx(i8e,{onClose:()=>l(!1),user:n}),c&&r.jsx(o8e,{onClose:()=>u(!1),user:n}),h&&r.jsx(l8e,{onClose:()=>f(!1),user:n}),p&&r.jsx(c8e,{onClose:()=>x(!1)})]})}function u8e({user:e}){const[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,o]=j.useState(!1),l=j.useRef(null),c=j.useRef(null),u=j.useRef(null),h=Kt(),f=Bt({mutationFn:async N=>{const _=new Date().toISOString().split("T")[0],S=await ee.entities.Timesheet.filter({user_id:e.id,date:_});return S.length>0&&!S[0].check_out?ee.entities.Timesheet.update(S[0].id,{check_out:new Date().toTimeString().split(" ")[0],total_hours:p(S[0].check_in,new Date().toTimeString().split(" ")[0]),status:"completo",...N}):ee.entities.Timesheet.create({user_id:e.id,user_name:e.full_name,date:_,check_in:new Date().toTimeString().split(" ")[0],status:"incompleto",...N})},onSuccess:N=>{h.invalidateQueries({queryKey:["timesheets"]});const _=N.check_out&&N.check_in;fe.success(_?" Fichaje de salida registrado":" Fichaje de entrada registrado"),b(),a(null)}}),p=(N,_)=>{const[S,E]=N.split(":").map(Number),[A,k]=_.split(":").map(Number);return(A*60+k-(S*60+E))/60},x=async()=>{try{const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});u.current=N,l.current&&(l.current.srcObject=N),n(!0)}catch(N){fe.error("No se pudo acceder a la cmara"),console.error(N)}},b=()=>{u.current&&(u.current.getTracks().forEach(N=>N.stop()),u.current=null),n(!1)},v=()=>{const N=l.current,_=c.current;if(N&&_){const S=_.getContext("2d");_.width=N.videoWidth,_.height=N.videoHeight,S.drawImage(N,0,0);const E=_.toDataURL("image/jpeg",.8);a(E),b(),y(E)}},y=async N=>{o(!0);try{const _=await fetch(N).then(k=>k.blob()),S=new File([_],"facial_capture.jpg",{type:"image/jpeg"}),{file_url:E}=await ee.integrations.Core.UploadFile({file:S}),A=await ee.integrations.Core.InvokeLLM({prompt:"Analiza esta foto de fichaje de empleado. Hay una cara visible? Parece una foto legtima (no una pantalla o impresin)? Responde con anlisis bsico.",file_urls:[E],response_json_schema:{type:"object",properties:{face_detected:{type:"boolean"},is_live:{type:"boolean"},quality:{type:"string",enum:["buena","media","baja"]},confidence:{type:"number"}}}});A.face_detected&&A.is_live&&A.confidence>.7?f.mutate({notes:`Fichaje facial verificado (${A.quality} calidad, ${(A.confidence*100).toFixed(0)}% confianza)`,facial_photo_url:E}):(fe.error("No se pudo verificar tu identidad. Intenta de nuevo con mejor iluminacin."),a(null))}catch(_){console.error("Face verification error:",_),f.mutate({notes:"Fichaje manual (verificacin facial no disponible)",facial_photo_url:s})}finally{o(!1)}};return j.useEffect(()=>()=>{b()},[]),r.jsxs(X,{className:"border-none shadow-xl bg-gradient-to-br from-blue-600 to-purple-600 text-white",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"flex items-center gap-2",children:[r.jsx(Io,{className:"w-6 h-6"}),"Fichaje Facial"]})}),r.jsxs(Q,{className:"space-y-4",children:[!t&&!s&&r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-32 h-32 mx-auto bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:r.jsx(ca,{className:"w-16 h-16"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-lg font-medium mb-1",children:["Hola, ",e.full_name,"!"]}),r.jsx("p",{className:"text-sm text-blue-100",children:"Usa reconocimiento facial para fichar"})]}),r.jsxs(ae,{onClick:x,size:"lg",className:"w-full bg-white text-blue-600 hover:bg-blue-50",children:[r.jsx(Io,{className:"w-5 h-5 mr-2"}),"Iniciar Cmara"]})]}),t&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-black",children:[r.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,className:"w-full h-auto"}),r.jsx("div",{className:"absolute inset-0 border-4 border-white/50 rounded-xl pointer-events-none",children:r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-64 border-4 border-yellow-400 rounded-full"})})]}),r.jsx("canvas",{ref:c,className:"hidden"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ae,{onClick:b,variant:"outline",className:"border-white text-white hover:bg-white/10",children:"Cancelar"}),r.jsxs(ae,{onClick:v,className:"bg-white text-blue-600 hover:bg-blue-50",children:[r.jsx(Io,{className:"w-4 h-4 mr-2"}),"Capturar"]})]})]}),s&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[r.jsx("img",{src:s,alt:"Captured",className:"w-full h-auto"}),i&&r.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center backdrop-blur-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bt,{className:"w-12 h-12 mx-auto mb-3 animate-spin"}),r.jsx("p",{className:"font-medium",children:"Verificando identidad..."})]})})]}),!i&&r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ae,{onClick:()=>{a(null),x()},variant:"outline",className:"border-white text-white hover:bg-white/10",children:"Repetir"}),r.jsx(ae,{onClick:()=>y(s),className:"bg-white text-blue-600 hover:bg-blue-50",disabled:f.isPending,children:f.isPending?r.jsxs(r.Fragment,{children:[r.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Fichando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Confirmar"]})})]})]})]})]})}function pZ(){var c;const[e,t]=j.useState(null),[n,s]=j.useState("home");j.useEffect(()=>{ee.auth.me().then(t).catch(()=>{})},[]);const{data:a}=Be({queryKey:["today-timesheet",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const u=new Date().toISOString().split("T")[0];return(await ee.entities.Timesheet.filter({user_id:e.id,date:u}))[0]||null},enabled:!!e,refetchInterval:3e4}),{data:i=[]}=Be({queryKey:["my-documents",e==null?void 0:e.id],queryFn:()=>ee.entities.Document.filter({tags:e==null?void 0:e.email}),enabled:!!e,initialData:[]}),{data:o=[]}=Be({queryKey:["my-vacations",e==null?void 0:e.id],queryFn:()=>ee.entities.VacationRequest.filter({employee_id:e==null?void 0:e.id}),enabled:!!e,initialData:[]}),{data:l=[]}=Be({queryKey:["my-notifications",e==null?void 0:e.id],queryFn:()=>ee.entities.Notification.filter({user_id:e==null?void 0:e.id,read:!1}),enabled:!!e,initialData:[]});return e?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 pb-8 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:r.jsx(ca,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:e.full_name}),r.jsx("p",{className:"text-sm text-blue-100",children:e.role==="admin"?"Administrador":"Empleado"})]})]}),r.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>ee.auth.logout(),className:"text-white hover:bg-white/10",children:r.jsx(Rx,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:r.jsxs(Q,{className:"p-3 text-center",children:[r.jsx($t,{className:"w-5 h-5 text-white mx-auto mb-1"}),r.jsx("p",{className:"text-xs text-blue-100",children:"Hoy"}),r.jsx("p",{className:"text-sm font-bold text-white",children:a!=null&&a.check_in?a.check_in.substring(0,5):"--:--"})]})}),r.jsx(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:r.jsxs(Q,{className:"p-3 text-center",children:[r.jsx(Tx,{className:"w-5 h-5 text-white mx-auto mb-1"}),r.jsx("p",{className:"text-xs text-blue-100",children:"Notif."}),r.jsx("p",{className:"text-sm font-bold text-white",children:l.length})]})}),r.jsx(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:r.jsxs(Q,{className:"p-3 text-center",children:[r.jsx(Sn,{className:"w-5 h-5 text-white mx-auto mb-1"}),r.jsx("p",{className:"text-xs text-blue-100",children:"Vacac."}),r.jsx("p",{className:"text-sm font-bold text-white",children:o.filter(u=>u.status==="aprobada").length})]})})]})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[n==="home"&&r.jsxs(r.Fragment,{children:[r.jsx(u8e,{user:e}),r.jsxs(X,{className:"border-none shadow-xl",children:[r.jsx(ke,{children:r.jsxs(Pe,{className:"text-lg flex items-center gap-2",children:[r.jsx($t,{className:"w-5 h-5"}),"Estado de Hoy"]})}),r.jsx(Q,{children:a?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Entrada:"}),r.jsx("span",{className:"font-bold text-lg",children:a.check_in})]}),a.check_out?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Salida:"}),r.jsx("span",{className:"font-bold text-lg",children:a.check_out})]}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("span",{className:"text-gray-600",children:"Total:"}),r.jsxs("span",{className:"font-bold text-xl text-green-600",children:[(c=a.total_hours)==null?void 0:c.toFixed(2),"h"]})]})]}):r.jsx("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:r.jsx("p",{className:"text-sm text-blue-600 font-medium",children:" Fichado - Esperando salida"})})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx($t,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No has fichado hoy"})]})})]}),r.jsxs(X,{className:"border-none shadow-xl",children:[r.jsx(ke,{children:r.jsx(Pe,{className:"text-lg",children:"Accesos Rpidos"})}),r.jsxs(Q,{className:"grid grid-cols-2 gap-3",children:[r.jsxs(ae,{onClick:()=>s("documents"),variant:"outline",className:"h-20 flex-col gap-2",children:[r.jsx(Ye,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Documentos"})]}),r.jsxs(ae,{onClick:()=>s("vacations"),variant:"outline",className:"h-20 flex-col gap-2",children:[r.jsx(Sn,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Vacaciones"})]}),r.jsxs(ae,{onClick:()=>s("orders"),variant:"outline",className:"h-20 flex-col gap-2",children:[r.jsx(_n,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Pedidos"})]}),r.jsxs(ae,{onClick:()=>s("chat"),variant:"outline",className:"h-20 flex-col gap-2",children:[r.jsx(pne,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Chat Equipo"})]})]})]})]}),n==="documents"&&r.jsxs(X,{className:"border-none shadow-xl",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Mis Documentos"})}),r.jsx(Q,{children:i.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ye,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No hay documentos"})]}):r.jsx("div",{className:"space-y-2",children:i.map(u=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:u.title}),r.jsx("p",{className:"text-sm text-gray-600",children:u.category})]},u.id))})})]}),n==="vacations"&&r.jsxs(X,{className:"border-none shadow-xl",children:[r.jsx(ke,{children:r.jsx(Pe,{children:"Mis Vacaciones"})}),r.jsx(Q,{children:o.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Sn,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No hay solicitudes"})]}):r.jsx("div",{className:"space-y-3",children:o.map(u=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("p",{className:"font-medium",children:u.request_type}),r.jsx(be,{className:u.status==="aprobada"?"bg-green-100 text-green-800":u.status==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:u.status})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[u.start_date,"  ",u.end_date]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[u.total_days," das"]})]},u.id))})})]})]}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",children:r.jsxs("div",{className:"grid grid-cols-4 gap-0",children:[r.jsxs(ae,{variant:n==="home"?"default":"ghost",className:"h-16 rounded-none flex-col gap-1",onClick:()=>s("home"),children:[r.jsx(Kte,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Inicio"})]}),r.jsxs(ae,{variant:n==="documents"?"default":"ghost",className:"h-16 rounded-none flex-col gap-1",onClick:()=>s("documents"),children:[r.jsx(Ye,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Docs"})]}),r.jsxs(ae,{variant:n==="vacations"?"default":"ghost",className:"h-16 rounded-none flex-col gap-1",onClick:()=>s("vacations"),children:[r.jsx(Sn,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Vacac."})]}),r.jsxs(ae,{variant:n==="orders"?"default":"ghost",className:"h-16 rounded-none flex-col gap-1",onClick:()=>s("orders"),children:[r.jsx(_n,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:"Pedidos"})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4",children:r.jsx(X,{className:"w-full max-w-md",children:r.jsxs(Q,{className:"p-8 text-center",children:[r.jsx(ca,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})})})}function xZ(){var D,M,B,J;const[e,t]=j.useState([]),[n,s]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(!1),[h,f]=j.useState(null),[p,x]=j.useState(!0),b=j.useRef(null),v=j.useRef(null),y=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{const Y=ta.loadChatHistory();Y.length>0?t(Y):t([{role:"assistant",content:" **Bienvenido a SYNK-IA BRAIN!**\n\nSoy tu asistente de inteligencia empresarial unificado. Tengo acceso completo a todos los datos de tu negocio:\n\n **Anlisis estratgico** - KPIs, mtricas y tendencias\n **Recursos Humanos** - Empleados, nminas, vacaciones\n **Documentos** - Facturas, contratos, archivos\n **Proveedores** - Gestin y comparativas\n\n**Comandos rpidos disponibles:** `/facturas`, `/empleados`, `/ventas`, `/proveedores`, `/gastos`, `/ayuda`\n\nEn qu puedo ayudarte hoy?",timestamp:new Date().toISOString(),type:"welcome"}]),_()},[]);const _=async()=>{x(!0);try{const Y=await ta.generateSystemOverview();f(Y)}catch(Y){console.error("Error loading stats:",Y)}finally{x(!1)}};j.useEffect(()=>{var Y;(Y=b.current)==null||Y.scrollIntoView({behavior:"smooth"})},[e]),j.useEffect(()=>{var Y;(Y=v.current)==null||Y.focus()},[]),j.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Y=window.SpeechRecognition||window.webkitSpeechRecognition;y.current=new Y,y.current.continuous=!1,y.current.interimResults=!1,y.current.lang="es-ES",y.current.onresult=W=>{const se=W.results[0][0].transcript;s(se),l(!1)},y.current.onerror=()=>l(!1),y.current.onend=()=>l(!1)}"speechSynthesis"in window&&(N.current=window.speechSynthesis)},[]);const S=Y=>{if(!c||!N.current)return;const W=Y.replace(/\*\*/g,"").replace(/`/g,"").replace(//g,"").replace(/||||||||||||||||/g,"").substring(0,500);N.current.cancel();const se=new SpeechSynthesisUtterance(W);se.lang="es-ES",se.rate=1,N.current.speak(se)},E=()=>{if(!y.current){alert("Tu navegador no soporta reconocimiento de voz");return}o?(y.current.stop(),l(!1)):(y.current.start(),l(!0))},A=async()=>{var se,q,V,U,F;const Y=n.trim();if(!Y||a)return;s(""),i(!0);const W={role:"user",content:Y,timestamp:new Date().toISOString()};t(K=>[...K,W]);try{const K=await ta.processMessage(Y);let te="";if(K.type==="system"||K.type==="help"||K.type==="data"||K.type==="error")te=K.content;else if(K.type==="chat")try{const xe=await ee.integrations.AI.GetChatResponse({system_prompt:ta.systemPrompt,messages:e.map(ne=>({role:ne.role,content:ne.content})).concat([{role:"user",content:Y}]),context:(se=K.enrichedContext)!=null&&se.context?JSON.stringify(K.enrichedContext.context):void 0});te=xe.response||xe.message||"Entendido. En qu ms puedo ayudarte?"}catch(xe){if(console.error("AI Error:",xe),(q=K.enrichedContext)!=null&&q.enriched){const ne=K.enrichedContext.context;te=` He analizado tu consulta. Aqu tienes informacin relevante:

`,ne.invoices&&(te+=`**Facturas:** ${((V=ne.invoices.invoices)==null?void 0:V.total)||0} total, ${((U=ne.invoices.invoices)==null?void 0:U.pending)||0} pendientes
`),ne.sales&&(te+=`**Ventas:** ${((F=ne.sales.monthTotal)==null?void 0:F.toFixed(2))||"0.00"} en los ltimos 30 das
`),te+=`
Necesitas ms detalles?`}else te="Entendido. Puedo ayudarte con informacin sobre facturas, ventas, empleados, proveedores y gastos. Qu te gustara saber?"}const H={role:"assistant",content:te,timestamp:new Date().toISOString()};t(xe=>[...xe,H]),ta.saveChatMessage(H),S(te)}catch(K){console.error("Error sending message:",K),t(te=>[...te,{role:"assistant",content:" Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date().toISOString(),type:"error"}])}finally{i(!1)}},k=()=>{window.confirm("Ests seguro de que quieres limpiar el historial?")&&(ta.clearChatHistory(),t([{role:"assistant",content:" Historial limpiado. En qu puedo ayudarte?",timestamp:new Date().toISOString()}]))},P=Y=>{s(Y),setTimeout(()=>{var W;(W=v.current)==null||W.focus(),A()},100)},R=Y=>{let W=Y.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/`(.+?)`/g,'<code class="bg-zinc-800 px-1.5 py-0.5 rounded text-cyan-400 text-sm">$1</code>').replace(/\n/g,"<br/>");return r.jsx("div",{dangerouslySetInnerHTML:{__html:W}})},$=[{label:"Facturas",command:"/facturas",icon:Ye,color:"text-blue-400"},{label:"Ventas",command:"/ventas",icon:En,color:"text-green-400"},{label:"Empleados",command:"/empleados",icon:ln,color:"text-purple-400"},{label:"Proveedores",command:"/proveedores",icon:fte,color:"text-orange-400"},{label:"Gastos",command:"/gastos",icon:rn,color:"text-red-400"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-950 via-neutral-900 to-zinc-950 p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl flex items-center justify-center",style:{boxShadow:"0 0 30px rgba(6, 182, 212, 0.4)"},children:r.jsx(Gn,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["SYNK-IA Brain",r.jsx("span",{className:"text-xs bg-cyan-500/20 text-cyan-400 px-2 py-0.5 rounded-full",children:"v2.0"})]}),r.jsx("p",{className:"text-zinc-400 text-sm",children:"Inteligencia empresarial unificada"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[r.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-800 rounded-2xl p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-zinc-400 mb-4 flex items-center gap-2",children:[r.jsx(Hr,{className:"w-4 h-4 text-cyan-400"}),"Resumen Rpido"]}),p?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(bt,{className:"w-6 h-6 text-cyan-400 animate-spin"})}):h?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-sm text-zinc-300",children:"Facturas"})]}),r.jsx("span",{className:"text-white font-semibold",children:((D=h.invoices)==null?void 0:D.total)||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-sm text-zinc-300",children:"Pendientes"})]}),r.jsx("span",{className:"text-yellow-400 font-semibold",children:((M=h.invoices)==null?void 0:M.pending)||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"text-sm text-zinc-300",children:"Clientes"})]}),r.jsx("span",{className:"text-white font-semibold",children:((B=h.clients)==null?void 0:B.total)||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-sm text-zinc-300",children:"Total facturado"})]}),r.jsxs("span",{className:"text-green-400 font-semibold",children:["",(((J=h.invoices)==null?void 0:J.totalAmount)||0).toFixed(0)]})]})]}):r.jsx("p",{className:"text-zinc-500 text-sm",children:"No hay datos disponibles"})]}),r.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-800 rounded-2xl p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-zinc-400 mb-4 flex items-center gap-2",children:[r.jsx(ur,{className:"w-4 h-4 text-cyan-400"}),"Acciones Rpidas"]}),r.jsx("div",{className:"space-y-2",children:$.map(Y=>r.jsxs("button",{onClick:()=>P(Y.command),className:"w-full flex items-center gap-3 p-3 bg-zinc-800/50 hover:bg-zinc-800 rounded-xl transition-colors group",children:[r.jsx(Y.icon,{className:`w-4 h-4 ${Y.color}`}),r.jsx("span",{className:"text-sm text-zinc-300 group-hover:text-white",children:Y.label}),r.jsx(Ld,{className:"w-4 h-4 text-zinc-600 ml-auto group-hover:text-zinc-400"})]},Y.command))})]}),r.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-800 rounded-2xl p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-4",children:"Configuracin"}),r.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:"text-sm text-zinc-300",children:"Respuestas por voz"}),r.jsx("button",{onClick:()=>u(!c),className:`w-12 h-6 rounded-full transition-colors ${c?"bg-cyan-500":"bg-zinc-700"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${c?"translate-x-6":"translate-x-0.5"}`})})]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-800 rounded-2xl overflow-hidden h-[calc(100vh-200px)] flex flex-col",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((Y,W)=>r.jsx(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] rounded-2xl px-5 py-4 ${Y.role==="user"?"bg-gradient-to-br from-cyan-600/30 to-blue-600/30 text-cyan-50 border border-cyan-500/30":"bg-zinc-800/80 text-zinc-200 border border-zinc-700/50"}`,children:[Y.role==="assistant"&&r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Gn,{className:"w-4 h-4 text-cyan-400"}),r.jsx("span",{className:"text-xs text-cyan-400 font-medium",children:"SYNK-IA Brain"})]}),r.jsx("div",{className:"text-sm leading-relaxed",children:R(Y.content)}),r.jsx("div",{className:"text-[10px] text-zinc-500 mt-3 text-right",children:new Date(Y.timestamp).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})},W)),a&&r.jsx(Md.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:r.jsx("div",{className:"bg-zinc-800/80 rounded-2xl px-5 py-4 border border-zinc-700/50",children:r.jsxs("div",{className:"flex items-center gap-3 text-cyan-400",children:[r.jsx(bt,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{className:"text-sm",children:"Analizando..."})]})})}),r.jsx("div",{ref:b})]}),r.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:E,className:`p-3 rounded-xl transition-all ${o?"bg-red-500 text-white animate-pulse":"bg-zinc-800 text-zinc-400 hover:text-cyan-400 hover:bg-zinc-700"}`,children:o?r.jsx(fO,{className:"w-5 h-5"}):r.jsx(Af,{className:"w-5 h-5"})}),r.jsx("input",{ref:v,type:"text",value:n,onChange:Y=>s(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&!Y.shiftKey&&A(),placeholder:"Escribe un mensaje o usa /comando...",className:"flex-1 bg-zinc-800/50 border border-zinc-700/50 rounded-xl px-5 py-3 text-white placeholder-zinc-500 focus:outline-none focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20",disabled:a}),r.jsx("button",{onClick:A,disabled:!n.trim()||a,className:"p-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",style:{boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:r.jsx(Wo,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 px-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:k,className:"text-xs text-zinc-500 hover:text-red-400 transition-colors flex items-center gap-1",children:[r.jsx(qr,{className:"w-3.5 h-3.5"}),"Limpiar historial"]}),r.jsxs("button",{onClick:()=>ta.exportChatHistory(),className:"text-xs text-zinc-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:[r.jsx(La,{className:"w-3.5 h-3.5"}),"Exportar"]})]}),r.jsxs("span",{className:"text-xs text-zinc-600",children:[e.length," mensajes  Ctrl+K para acceso rpido"]})]})]})]})})]})]})})}const jB={Albaranes:uP,ApiDiagnostics:JW,AttendanceControl:Fq,AutomationHub:qq,Billing:aH,BiloopAgent:BH,BiloopDocuments:VH,BiloopImport:UH,BusinessAnalysis:uX,CEOBrain:SX,CentralAgent:CX,CompanyDocs:kX,Comparator:EX,ConnectionDiagnostics:PX,Contracts:AX,CronSetup:OX,Dashboard:TX,DocumentArchive:MX,EmailProcessor:RX,EmailSetup:DX,EmailTriage:IX,EmployeeHome:LX,ExecutiveReports:FX,FinanceDashboard:zX,GestorFacturas:$X,HRAgent:BX,HRDocuments:VX,Home:UX,Invoices:WX,KitchenDisplay:qX,LegalVault:HX,MutuaManager:YX,MyProfile:GX,Notifications:KX,OrdersDashboard:fx,Payrolls:XX,PortalGestoria:QX,PortalLogin:GA,ProductInventory:ZX,ProductionControl:JX,Providers:eQ,RGPDManager:tQ,RevoDashboard:nQ,RevoManual:rQ,RevoSync:sQ,SecurityCameras:aQ,Showcase:iQ,SmartMailbox:iZ,Staff:oZ,SystemOverview:lZ,Timesheets:cZ,VacationRequests:uZ,VeriFactu:dZ,VoiceCommands:hZ,WebSync:fZ,WorkerInterface:mZ,WorkerMobile:pZ,SynkiaBrainPage:xZ},d8e=["/pedir","/OrdersDashboard","/PortalLogin"];function h8e(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(jB).find(s=>s.toLowerCase()===t.toLowerCase())||Object.keys(jB)[0]}function gZ(e){return d8e.some(t=>e===t||e.toLowerCase()===t.toLowerCase())}function gt({path:e,element:t}){const n=gZ(e);return r.jsx(P0e,{isPublic:n,children:t})}function f8e(){const e=eo(),t=h8e(e.pathname);return gZ(e.pathname)?r.jsxs(XR,{children:[r.jsx(lt,{path:"/pedir",element:r.jsx(fx,{})}),r.jsx(lt,{path:"/OrdersDashboard",element:r.jsx(fx,{})}),r.jsx(lt,{path:"/PortalLogin",element:r.jsx(GA,{})})]}):r.jsx(N0e,{currentPageName:t,children:r.jsxs(XR,{children:[r.jsx(lt,{path:"/",element:r.jsx(gt,{path:"/",element:r.jsx(uP,{})})}),r.jsx(lt,{path:"/Albaranes",element:r.jsx(gt,{path:"/Albaranes",element:r.jsx(uP,{})})}),r.jsx(lt,{path:"/ApiDiagnostics",element:r.jsx(gt,{path:"/ApiDiagnostics",element:r.jsx(JW,{})})}),r.jsx(lt,{path:"/AttendanceControl",element:r.jsx(gt,{path:"/AttendanceControl",element:r.jsx(Fq,{})})}),r.jsx(lt,{path:"/AutomationHub",element:r.jsx(gt,{path:"/AutomationHub",element:r.jsx(qq,{})})}),r.jsx(lt,{path:"/Billing",element:r.jsx(gt,{path:"/Billing",element:r.jsx(aH,{})})}),r.jsx(lt,{path:"/BiloopAgent",element:r.jsx(gt,{path:"/BiloopAgent",element:r.jsx(BH,{})})}),r.jsx(lt,{path:"/BiloopDocuments",element:r.jsx(gt,{path:"/BiloopDocuments",element:r.jsx(VH,{})})}),r.jsx(lt,{path:"/BiloopImport",element:r.jsx(gt,{path:"/BiloopImport",element:r.jsx(UH,{})})}),r.jsx(lt,{path:"/BusinessAnalysis",element:r.jsx(gt,{path:"/BusinessAnalysis",element:r.jsx(uX,{})})}),r.jsx(lt,{path:"/CEOBrain",element:r.jsx(gt,{path:"/CEOBrain",element:r.jsx(SX,{})})}),r.jsx(lt,{path:"/CentralAgent",element:r.jsx(gt,{path:"/CentralAgent",element:r.jsx(CX,{})})}),r.jsx(lt,{path:"/CompanyDocs",element:r.jsx(gt,{path:"/CompanyDocs",element:r.jsx(kX,{})})}),r.jsx(lt,{path:"/Comparator",element:r.jsx(gt,{path:"/Comparator",element:r.jsx(EX,{})})}),r.jsx(lt,{path:"/ConnectionDiagnostics",element:r.jsx(gt,{path:"/ConnectionDiagnostics",element:r.jsx(PX,{})})}),r.jsx(lt,{path:"/Contracts",element:r.jsx(gt,{path:"/Contracts",element:r.jsx(AX,{})})}),r.jsx(lt,{path:"/CronSetup",element:r.jsx(gt,{path:"/CronSetup",element:r.jsx(OX,{})})}),r.jsx(lt,{path:"/Dashboard",element:r.jsx(gt,{path:"/Dashboard",element:r.jsx(TX,{})})}),r.jsx(lt,{path:"/DocumentArchive",element:r.jsx(gt,{path:"/DocumentArchive",element:r.jsx(MX,{})})}),r.jsx(lt,{path:"/EmailProcessor",element:r.jsx(gt,{path:"/EmailProcessor",element:r.jsx(RX,{})})}),r.jsx(lt,{path:"/EmailSetup",element:r.jsx(gt,{path:"/EmailSetup",element:r.jsx(DX,{})})}),r.jsx(lt,{path:"/EmailTriage",element:r.jsx(gt,{path:"/EmailTriage",element:r.jsx(IX,{})})}),r.jsx(lt,{path:"/EmployeeHome",element:r.jsx(gt,{path:"/EmployeeHome",element:r.jsx(LX,{})})}),r.jsx(lt,{path:"/ExecutiveReports",element:r.jsx(gt,{path:"/ExecutiveReports",element:r.jsx(FX,{})})}),r.jsx(lt,{path:"/FinanceDashboard",element:r.jsx(gt,{path:"/FinanceDashboard",element:r.jsx(zX,{})})}),r.jsx(lt,{path:"/GestorFacturas",element:r.jsx(gt,{path:"/GestorFacturas",element:r.jsx($X,{})})}),r.jsx(lt,{path:"/HRAgent",element:r.jsx(gt,{path:"/HRAgent",element:r.jsx(BX,{})})}),r.jsx(lt,{path:"/HRDocuments",element:r.jsx(gt,{path:"/HRDocuments",element:r.jsx(VX,{})})}),r.jsx(lt,{path:"/Home",element:r.jsx(gt,{path:"/Home",element:r.jsx(UX,{})})}),r.jsx(lt,{path:"/Invoices",element:r.jsx(gt,{path:"/Invoices",element:r.jsx(WX,{})})}),r.jsx(lt,{path:"/KitchenDisplay",element:r.jsx(gt,{path:"/KitchenDisplay",element:r.jsx(qX,{})})}),r.jsx(lt,{path:"/LegalVault",element:r.jsx(gt,{path:"/LegalVault",element:r.jsx(HX,{})})}),r.jsx(lt,{path:"/MutuaManager",element:r.jsx(gt,{path:"/MutuaManager",element:r.jsx(YX,{})})}),r.jsx(lt,{path:"/MyProfile",element:r.jsx(gt,{path:"/MyProfile",element:r.jsx(GX,{})})}),r.jsx(lt,{path:"/Notifications",element:r.jsx(gt,{path:"/Notifications",element:r.jsx(KX,{})})}),r.jsx(lt,{path:"/OrdersDashboard",element:r.jsx(gt,{path:"/OrdersDashboard",element:r.jsx(fx,{})})}),r.jsx(lt,{path:"/Payrolls",element:r.jsx(gt,{path:"/Payrolls",element:r.jsx(XX,{})})}),r.jsx(lt,{path:"/PortalGestoria",element:r.jsx(gt,{path:"/PortalGestoria",element:r.jsx(QX,{})})}),r.jsx(lt,{path:"/PortalLogin",element:r.jsx(GA,{})}),r.jsx(lt,{path:"/ProductInventory",element:r.jsx(gt,{path:"/ProductInventory",element:r.jsx(ZX,{})})}),r.jsx(lt,{path:"/ProductionControl",element:r.jsx(gt,{path:"/ProductionControl",element:r.jsx(JX,{})})}),r.jsx(lt,{path:"/Providers",element:r.jsx(gt,{path:"/Providers",element:r.jsx(eQ,{})})}),r.jsx(lt,{path:"/RGPDManager",element:r.jsx(gt,{path:"/RGPDManager",element:r.jsx(tQ,{})})}),r.jsx(lt,{path:"/RevoDashboard",element:r.jsx(gt,{path:"/RevoDashboard",element:r.jsx(nQ,{})})}),r.jsx(lt,{path:"/RevoManual",element:r.jsx(gt,{path:"/RevoManual",element:r.jsx(rQ,{})})}),r.jsx(lt,{path:"/RevoSync",element:r.jsx(gt,{path:"/RevoSync",element:r.jsx(sQ,{})})}),r.jsx(lt,{path:"/SecurityCameras",element:r.jsx(gt,{path:"/SecurityCameras",element:r.jsx(aQ,{})})}),r.jsx(lt,{path:"/Showcase",element:r.jsx(gt,{path:"/Showcase",element:r.jsx(iQ,{})})}),r.jsx(lt,{path:"/SmartMailbox",element:r.jsx(gt,{path:"/SmartMailbox",element:r.jsx(iZ,{})})}),r.jsx(lt,{path:"/Staff",element:r.jsx(gt,{path:"/Staff",element:r.jsx(oZ,{})})}),r.jsx(lt,{path:"/SystemOverview",element:r.jsx(gt,{path:"/SystemOverview",element:r.jsx(lZ,{})})}),r.jsx(lt,{path:"/Timesheets",element:r.jsx(gt,{path:"/Timesheets",element:r.jsx(cZ,{})})}),r.jsx(lt,{path:"/VacationRequests",element:r.jsx(gt,{path:"/VacationRequests",element:r.jsx(uZ,{})})}),r.jsx(lt,{path:"/VeriFactu",element:r.jsx(gt,{path:"/VeriFactu",element:r.jsx(dZ,{})})}),r.jsx(lt,{path:"/VoiceCommands",element:r.jsx(gt,{path:"/VoiceCommands",element:r.jsx(hZ,{})})}),r.jsx(lt,{path:"/WebSync",element:r.jsx(gt,{path:"/WebSync",element:r.jsx(fZ,{})})}),r.jsx(lt,{path:"/WorkerInterface",element:r.jsx(gt,{path:"/WorkerInterface",element:r.jsx(mZ,{})})}),r.jsx(lt,{path:"/WorkerMobile",element:r.jsx(gt,{path:"/WorkerMobile",element:r.jsx(pZ,{})})}),r.jsx(lt,{path:"/SynkiaBrainPage",element:r.jsx(gt,{path:"/SynkiaBrainPage",element:r.jsx(xZ,{})})}),r.jsx(lt,{path:"/pedir",element:r.jsx(fx,{})})]})})}function m8e(){return r.jsx(Mee,{children:r.jsx(E0e,{children:r.jsx(f8e,{})})})}const p8e=20,x8e=1e6,Ll={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let uE=0;function g8e(){return uE=(uE+1)%Number.MAX_VALUE,uE.toString()}const dE=new Map,NB=e=>{if(dE.has(e))return;const t=setTimeout(()=>{dE.delete(e),Ax({type:Ll.REMOVE_TOAST,toastId:e})},x8e);dE.set(e,t)},y8e=(e,t)=>{switch(t.type){case Ll.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,p8e)};case Ll.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case Ll.DISMISS_TOAST:{const{toastId:n}=t;return n?NB(n):e.toasts.forEach(s=>{NB(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case Ll.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Xv=[];let Qv={toasts:[]};function Ax(e){Qv=y8e(Qv,e),Xv.forEach(t=>{t(Qv)})}function v8e({...e}){const t=g8e(),n=a=>Ax({type:Ll.UPDATE_TOAST,toast:{...a,id:t}}),s=()=>Ax({type:Ll.DISMISS_TOAST,toastId:t});return Ax({type:Ll.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function b8e(){const[e,t]=j.useState(Qv);return j.useEffect(()=>(Xv.push(t),()=>{const n=Xv.indexOf(t);n>-1&&Xv.splice(n,1)}),[e]),{...e,toast:v8e,dismiss:n=>Ax({type:Ll.DISMISS_TOAST,toastId:n})}}const yZ=j.forwardRef(({...e},t)=>r.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));yZ.displayName="ToastProvider";const vZ=j.forwardRef(({...e},t)=>r.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));vZ.displayName="ToastViewport";const w8e=Kw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bZ=j.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,className:dt(w8e({variant:t}),e),...n}));bZ.displayName="Toast";const j8e=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));j8e.displayName="ToastAction";const wZ=j.forwardRef(({className:e,...t},n)=>r.jsx("button",{ref:n,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(el,{className:"h-4 w-4"})}));wZ.displayName="ToastClose";const jZ=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("text-sm font-semibold",e),...t}));jZ.displayName="ToastTitle";const NZ=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:dt("text-sm opacity-90",e),...t}));NZ.displayName="ToastDescription";function N8e(){const{toasts:e}=b8e();return r.jsxs(yZ,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(bZ,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(jZ,{children:n}),s&&r.jsx(NZ,{children:s})]}),a,r.jsx(wZ,{})]},t)}),r.jsx(vZ,{})]})}function _8e(){return r.jsxs(r.Fragment,{children:[r.jsx(m8e,{}),r.jsx(N8e,{})]})}fJ.createRoot(document.getElementById("root")).render(r.jsx(_8e,{}))});export default S8e();
