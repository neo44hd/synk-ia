# ğŸ¤– GuÃ­a de Agentes de IA - SYNK-IA

## Ãndice
1. [IntroducciÃ³n](#introducciÃ³n)
2. [CEO Brain Agent](#1-ceo-brain-agent)
3. [HR Agent](#2-hr-agent)
4. [Central Agent](#3-central-agent)
5. [Biloop Agent](#4-biloop-agent)
6. [Arquitectura TÃ©cnica](#arquitectura-tÃ©cnica)
7. [ConfiguraciÃ³n y PersonalizaciÃ³n](#configuraciÃ³n-y-personalizaciÃ³n)

---

## IntroducciÃ³n

SYNK-IA cuenta con **4 agentes de inteligencia artificial especializados** que trabajan de forma coordinada para automatizar y optimizar diferentes Ã¡reas de tu negocio.

Cada agente tiene:
- âœ… **EspecializaciÃ³n especÃ­fica** en su Ã¡rea
- âœ… **Acceso a datos relevantes** del sistema
- âœ… **Capacidad de anÃ¡lisis** y generaciÃ³n de insights
- âœ… **Interfaz conversacional** natural
- âœ… **IntegraciÃ³n con Base44 SDK** para acciones en tiempo real

---

## 1. CEO BRAIN AGENT

### ğŸ¯ PropÃ³sito
Cerebro ejecutivo con control total del sistema. DiseÃ±ado para anÃ¡lisis estratÃ©gico, mÃ©tricas empresariales y toma de decisiones de alto nivel.

### ğŸ” Acceso Restringido
Solo accesible para usuarios con email:
- `ruben@loffresco.com`
- `ruben@lofrfresco.com`
- O rol de administrador

### ğŸ“Š Capacidades

#### 1. AnÃ¡lisis de MÃ©tricas Empresariales
- **Facturas**: Total, pendientes, pagadas, importe total
- **Ventas**: FacturaciÃ³n mensual, nÃºmero de facturas, ticket medio
- **Clientes**: Total de clientes, clientes activos
- **Gastos**: Total de gastos y anÃ¡lisis de costes

#### 2. VisualizaciÃ³n de Dashboard
El agente muestra automÃ¡ticamente:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Facturas    â”‚ FacturaciÃ³n  â”‚ Clientes     â”‚ Ticket Medioâ”‚
â”‚ Total: 150  â”‚ â‚¬45,230      â”‚ Total: 89    â”‚ â‚¬301        â”‚
â”‚ Pend.: 23   â”‚ Este mes     â”‚ Activos: 67  â”‚ Promedio    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. AnÃ¡lisis de Tendencias
- Detecta facturas pendientes vs pagadas
- Identifica variaciones en facturaciÃ³n
- Genera alertas automÃ¡ticas de situaciones crÃ­ticas

#### 4. Insights EstratÃ©gicos
Genera recomendaciones basadas en:
- AnÃ¡lisis de flujo de caja
- Tendencias de ventas
- ComparaciÃ³n de periodos
- Predicciones basadas en histÃ³rico

### ğŸ’¬ Ejemplos de Consultas

```
"Dame un resumen ejecutivo del negocio"
"Â¿CuÃ¡l es el estado de las facturas pendientes?"
"Analiza la facturaciÃ³n del Ãºltimo mes"
"Â¿QuÃ© tendencias financieras detectas?"
"Hazme una factura para el cliente X"
"Crea un presupuesto para el proyecto Y"
```

### ğŸ¤ CaracterÃ­sticas Especiales

#### Reconocimiento de Voz
- Activar con botÃ³n de micrÃ³fono
- Habla en espaÃ±ol natural
- TranscripciÃ³n en tiempo real

#### Acceso Total
- Control completo de datos
- Capacidad de crear/modificar registros
- Acceso a todos los mÃ³dulos del sistema

#### NavegaciÃ³n Inteligente
Botones de acceso rÃ¡pido a:
- Control Total de Datos (Biloop Import)
- Acciones Directas (Automation Hub)
- DiagnÃ³stico Sistema (API Diagnostics)
- BÃºsqueda Web (System Overview)

### ğŸ“ˆ Panel de MÃ©tricas
Visible en la pantalla de bienvenida con actualizaciÃ³n automÃ¡tica:
- Facturas totales y pendientes
- FacturaciÃ³n mensual
- Clientes totales y activos
- Ticket medio de ventas

---

## 2. HR AGENT

### ğŸ¯ PropÃ³sito
Asistente especializado en Recursos Humanos y gestiÃ³n de nÃ³minas. Ayuda a empleados con consultas laborales, nÃ³minas, vacaciones y mÃ¡s.

### ğŸ‘¥ Acceso
Disponible para todos los empleados. Cada usuario solo ve su propia informaciÃ³n.

### ğŸ“Š Capacidades

#### 1. AnÃ¡lisis de NÃ³minas
- VisualizaciÃ³n de Ãºltima nÃ³mina
- Desglose de conceptos salariales
- ExplicaciÃ³n de deducciones
- HistÃ³rico de nÃ³minas

```
Ãšltima NÃ³mina Visualizada:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Salario Bruto    â”‚ Salario Neto     â”‚ Deducciones    â”‚
â”‚ â‚¬2,500.00        â”‚ â‚¬1,875.50        â”‚ â‚¬624.50        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Periodo: Diciembre 2024
```

#### 2. DetecciÃ³n de AnomalÃ­as
Analiza automÃ¡ticamente:
- Variaciones significativas (>20% respecto al promedio)
- Cambios inesperados en conceptos
- Alertas de irregularidades

#### 3. GestiÃ³n de Vacaciones
- DÃ­as totales disponibles
- DÃ­as usados
- DÃ­as restantes
- Estado de solicitudes pendientes

#### 4. ExplicaciÃ³n de Conceptos
Proporciona explicaciones claras de:
- **Salario Base**: Tu sueldo fijo mensual
- **IRPF**: RetenciÃ³n de impuestos (Hacienda)
- **Seguridad Social**: Cotizaciones (~6.35%)
- **Plus Transporte**: Complemento de desplazamiento
- **Plus Comida**: Complemento de alimentaciÃ³n
- **Horas Extra**: Pago adicional por horas extras

### ğŸ’¬ Ejemplos de Consultas

```
"MuÃ©strame mi Ãºltima nÃ³mina"
"Â¿QuÃ© es el IRPF?"
"Â¿CuÃ¡ntos dÃ­as de vacaciones me quedan?"
"ExplÃ­came las deducciones de mi nÃ³mina"
"Necesito informaciÃ³n sobre mi contrato"
"Â¿Por quÃ© ha variado mi nÃ³mina este mes?"
```

### ğŸ”’ Seguridad y Privacidad
- Cada empleado solo accede a sus datos
- InformaciÃ³n confidencial protegida
- Cumplimiento con normativa laboral (LOPD)

### ğŸ¨ Interfaz Amigable
- DiseÃ±o en tonos rosa/morado
- Emojis para facilitar comprensiÃ³n
- Tarjetas visuales con informaciÃ³n clave
- Respuestas empÃ¡ticas y cercanas

---

## 3. CENTRAL AGENT

### ğŸ¯ PropÃ³sito
Coordinador central del sistema. Gestiona procesos automÃ¡ticos, bÃºsquedas inteligentes y coordina a otros agentes especializados.

### ğŸŒ Acceso
Disponible para todos los usuarios autorizados.

### ğŸ“Š Capacidades

#### 1. BÃºsqueda Inteligente
Busca en TODO el sistema:
- Facturas
- Clientes
- Proveedores
- Emails
- Documentos

```javascript
Resultados de bÃºsqueda "Acme Corp":
â”œâ”€â”€ Facturas: 12 encontradas
â”œâ”€â”€ Clientes: 1 coincidencia
â”œâ”€â”€ Proveedores: 0 coincidencias
â””â”€â”€ Emails: 45 conversaciones
```

#### 2. AnÃ¡lisis de Oportunidades de Ahorro
Detecta automÃ¡ticamente:
- Variaciones de precio entre proveedores
- Facturas duplicadas
- Oportunidades de optimizaciÃ³n
- Comparaciones de precios

```
ğŸ’° Oportunidades de Ahorro Detectadas:
- Proveedor A: VariaciÃ³n del 25% en precios (ahorro potencial: â‚¬450)
- Proveedor B: Facturas similares con diferente importe
- Sugerencia: Negociar con Proveedor A por volumen
```

#### 3. Resumen del Sistema
Genera vista general completa:
- Total de facturas y estado
- Clientes activos
- Proveedores registrados
- Oportunidades de mejora

#### 4. Procesamiento de Emails
- AnÃ¡lisis automÃ¡tico de emails
- ExtracciÃ³n de datos relevantes
- CreaciÃ³n de facturas desde emails
- Registro de proveedores

#### 5. CoordinaciÃ³n de Automatizaciones
- Ejecuta procesos automÃ¡ticos
- Coordina flujos de trabajo
- Integra diferentes mÃ³dulos
- Genera reportes ejecutivos

### ğŸ’¬ Ejemplos de Consultas

```
"Analiza todo el sistema"
"Busca facturas de 'Proveedor X'"
"Â¿QuÃ© oportunidades de ahorro hay?"
"Dame un resumen del negocio"
"Automatiza el procesamiento de facturas"
"Compara precios entre proveedores"
"Busca todos los emails de este cliente"
```

### ğŸš€ Acciones RÃ¡pidas Sugeridas
- ğŸ” Analizar todo el sistema
- ğŸ’° Buscar ahorros ahora
- âš¡ Automatizar procesos

### ğŸ¨ DiseÃ±o
- Tonos morado/Ã­ndigo
- Icono de cerebro (Brain)
- Ã‰nfasis en la coordinaciÃ³n
- Vista panorÃ¡mica del negocio

---

## 4. BILOOP AGENT

### ğŸ¯ PropÃ³sito
Especialista en procesamiento inteligente de documentos contables y gestiÃ³n de Biloop.

### ğŸ“„ Formatos Soportados
- âœ… **CSV** - Archivos de texto separados por comas
- âœ… **Excel** (XLSX, XLS) - Hojas de cÃ¡lculo
- âœ… **PDF** - Facturas escaneadas
- âœ… **ImÃ¡genes** (JPG, PNG) - Fotos de documentos
- âœ… **ZIP** - MÃºltiples archivos comprimidos

### ğŸ“Š Capacidades

#### 1. ExtracciÃ³n Inteligente de Datos
AutomÃ¡ticamente extrae:
- Nombre del proveedor
- Fecha de la factura
- NÃºmero de factura
- Importe total
- IVA y retenciones
- Conceptos y lÃ­neas de factura

#### 2. IdentificaciÃ³n de Proveedores
- Detecta proveedores automÃ¡ticamente
- Registra nuevos proveedores
- Asocia facturas a proveedores existentes
- Actualiza informaciÃ³n de proveedores

#### 3. Validaciones AutomÃ¡ticas
- Verifica formato de datos
- Valida importes y cÃ¡lculos
- Detecta inconsistencias
- Alerta sobre posibles errores

#### 4. ClasificaciÃ³n AutomÃ¡tica
- Categoriza gastos
- Asigna centros de coste
- Clasifica por tipo de gasto
- Genera informes por categorÃ­a

#### 5. AnÃ¡lisis de Gastos
```
ğŸ“Š AnÃ¡lisis de Ãšltimos 30 DÃ­as:
â”œâ”€â”€ Total Facturas: 45
â”œâ”€â”€ Importe Total: â‚¬12,456.78
â””â”€â”€ Por CategorÃ­a:
    â”œâ”€â”€ Suministros: â‚¬3,200
    â”œâ”€â”€ Servicios: â‚¬5,100
    â”œâ”€â”€ Material: â‚¬2,850
    â””â”€â”€ Otros: â‚¬1,306.78
```

#### 6. ComparaciÃ³n de Precios
Compara precios entre proveedores:
```
ğŸ” ComparaciÃ³n para "Material de oficina":
â”œâ”€â”€ Proveedor A: â‚¬245/mes (Promedio)
â”œâ”€â”€ Proveedor B: â‚¬310/mes (27% mÃ¡s caro)
â””â”€â”€ Ahorro potencial: â‚¬780/aÃ±o cambiando a Proveedor A
```

### ğŸ’¬ Ejemplos de Consultas

```
"Analiza las Ãºltimas facturas"
"Â¿CuÃ¡nto hemos gastado este mes?"
"Compara precios de suministros"
"Busca oportunidades de ahorro"
"Dame un resumen de gastos"
"Â¿QuÃ© facturas estÃ¡n pendientes?"
```

### ğŸ“¤ Proceso de Upload

#### 1. Seleccionar Archivo
BotÃ³n de upload en la interfaz

#### 2. ValidaciÃ³n AutomÃ¡tica
- TamaÃ±o mÃ¡ximo: 20MB
- Tipos permitidos: CSV, Excel, PDF, imÃ¡genes, ZIP

#### 3. Procesamiento
```
â³ Procesando archivo...
âœ“ Archivo leÃ­do correctamente
âœ“ Datos extraÃ­dos: 12 facturas
âœ“ Proveedores detectados: 5
âœ“ ValidaciÃ³n completada
âœ“ Facturas creadas en el sistema
```

#### 4. ConfirmaciÃ³n
El agente informa del resultado:
- NÃºmero de facturas procesadas
- Proveedores nuevos registrados
- Errores o advertencias
- Acciones realizadas

### ğŸ¨ DiseÃ±o
- Tonos azul/Ã­ndigo
- Icono de bot
- Foco en procesamiento de documentos
- Interfaz limpia para upload

### âš™ï¸ ConfiguraciÃ³n de Validaciones

#### Validaciones de Archivo
```javascript
// Tipos vÃ¡lidos
const validTypes = ['.csv', '.xlsx', '.xls', '.pdf', '.zip', '.jpg', '.jpeg', '.png'];

// TamaÃ±o mÃ¡ximo
const maxSize = 20 * 1024 * 1024; // 20MB
```

#### Validaciones de Datos
- Formato de fechas
- Formato de importes
- CIF/NIF vÃ¡lidos
- Campos obligatorios

---

## Arquitectura TÃ©cnica

### ğŸ—ï¸ Estructura de Servicios

Cada agente tiene un servicio asociado en `/src/services/agents/`:

```
src/services/agents/
â”œâ”€â”€ ceoBrainService.js      # Servicios del CEO Brain
â”œâ”€â”€ hrAgentService.js        # Servicios de RRHH
â”œâ”€â”€ centralAgentService.js   # Servicios Central
â””â”€â”€ biloopAgentService.js    # Servicios de Biloop
```

### ğŸ”§ Funcionalidades Comunes

#### 1. Enriquecimiento de Contexto
Todos los agentes enriquecen los mensajes con contexto relevante:

```javascript
const enriched = await AgentService.enrichMessageWithContext(userMessage);

if (enriched.enriched && enriched.context) {
  messageContent = `${userMessage}\n\n[Contexto]\n${JSON.stringify(enriched.context, null, 2)}`;
}
```

#### 2. GestiÃ³n de Conversaciones
Usando Base44 SDK:

```javascript
// Crear conversaciÃ³n
const conversation = await base44.agents.createConversation({
  agent_name: "agent_name",
  metadata: { name: "Session Name" }
});

// Suscribirse a actualizaciones
base44.agents.subscribeToConversation(conversation.id, (data) => {
  setMessages(data.messages || []);
});

// Enviar mensaje
await base44.agents.addMessage(conversation, {
  role: "user",
  content: messageContent
});
```

#### 3. Prompts del Sistema
Cada agente tiene un prompt optimizado que define:
- Su personalidad y tono
- Capacidades especÃ­ficas
- CÃ³mo debe responder
- Datos a los que tiene acceso
- Restricciones y seguridad

### ğŸ”— IntegraciÃ³n con Base44

#### Entidades Disponibles
```javascript
base44.entities.Invoice     // Facturas
base44.entities.Client      // Clientes
base44.entities.Provider    // Proveedores
base44.entities.Payroll     // NÃ³minas
base44.entities.Employee    // Empleados
```

#### Servicios de IntegraciÃ³n
```javascript
base44.integrations.Core.UploadFile()     // Subir archivos
base44.integrations.Core.ExtractData()    // Extraer datos
```

#### AutenticaciÃ³n
```javascript
base44.auth.me()  // Obtener usuario actual
```

### ğŸ“Š Flujo de Datos

```
Usuario
  â†“
Interfaz (React)
  â†“
Servicio del Agente
  â†“
Base44 SDK
  â†“
API Backend
  â†“
Base de Datos
```

---

## ConfiguraciÃ³n y PersonalizaciÃ³n

### ğŸ¨ Personalizar Prompts

Editar los archivos de servicio en `/src/services/agents/`:

```javascript
export const AgentService = {
  systemPrompt: `
    Personaliza aquÃ­ el comportamiento del agente
    - Define su personalidad
    - Especifica capacidades
    - Establece restricciones
  `
};
```

### ğŸ” Configurar Accesos

#### CEO Brain Agent
Editar array de emails autorizados en `/src/pages/CEOBrain.jsx`:

```javascript
const CEO_EMAILS = [
  "ruben@loffresco.com",
  "ruben@lofrfresco.com",
  "nuevo@email.com"  // AÃ±adir aquÃ­
];
```

### ğŸ¯ AÃ±adir Nuevas Capacidades

#### 1. Crear funciÃ³n en el servicio
```javascript
// En el archivo de servicio correspondiente
async nuevaCapacidad(parametros) {
  try {
    // Implementar lÃ³gica
    const resultado = await base44.entities.Entity.list();
    return resultado;
  } catch (error) {
    console.error("Error:", error);
    return null;
  }
}
```

#### 2. Integrar en el agente
```javascript
// En el componente del agente
const handleAction = async () => {
  const resultado = await AgentService.nuevaCapacidad(params);
  // Usar resultado
};
```

### ğŸ“ˆ AÃ±adir MÃ©tricas Personalizadas

En el servicio correspondiente:

```javascript
async getCustomMetric() {
  try {
    const data = await base44.entities.Entity.list();
    const metric = {
      total: data.length,
      // CÃ¡lculos personalizados
    };
    return metric;
  } catch (error) {
    return { total: 0 };
  }
}
```

### ğŸ¨ Personalizar UI

#### Colores de Agentes
Cada agente tiene su paleta de colores:

- **CEO Brain**: Cyan (`#06B6D4`)
- **HR Agent**: Rosa/Morado (`#EC4899`, `#9333EA`)
- **Central Agent**: Morado/Ãndigo (`#9333EA`, `#6366F1`)
- **Biloop Agent**: Azul (`#3B82F6`)

Modificar en el componente correspondiente.

---

## ğŸ“ Notas Importantes

### Seguridad
- âœ… AutenticaciÃ³n requerida para todos los agentes
- âœ… Control de acceso por usuario/rol
- âœ… Datos sensibles protegidos
- âœ… ValidaciÃ³n de inputs

### Performance
- âœ… CachÃ© de mÃ©tricas
- âœ… Lazy loading de datos
- âœ… PaginaciÃ³n en listados grandes
- âœ… OptimizaciÃ³n de consultas

### Mantenimiento
- âœ… Logs de errores
- âœ… Manejo de excepciones
- âœ… Feedback al usuario
- âœ… DocumentaciÃ³n actualizada

---

## ğŸš€ PrÃ³ximas Mejoras

### Planificadas
- [ ] AnÃ¡lisis predictivo con ML
- [ ] IntegraciÃ³n con mÃ¡s fuentes de datos
- [ ] ExportaciÃ³n de reportes
- [ ] Notificaciones push
- [ ] Modo offline
- [ ] AnÃ¡lisis de sentimiento
- [ ] Sugerencias proactivas

### En ConsideraciÃ³n
- [ ] IntegraciÃ³n con WhatsApp Business
- [ ] API pÃºblica para terceros
- [ ] Dashboard personalizable
- [ ] Alertas configurables
- [ ] IntegraciÃ³n con calendarios

---

## ğŸ“ Soporte

Para dudas o problemas:
- ğŸ“§ Email: soporte@synk-ia.com
- ğŸ“± WhatsApp: Disponible en cada agente
- ğŸ“– DocumentaciÃ³n: Este archivo

---

**VersiÃ³n**: 1.0.0  
**Ãšltima actualizaciÃ³n**: Enero 2025  
**Autores**: Equipo de Desarrollo SYNK-IA
